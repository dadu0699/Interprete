var hB=Object.defineProperty,cB=Object.defineProperties,pB=Object.getOwnPropertyDescriptors,$2=Object.getOwnPropertySymbols,dB=Object.prototype.hasOwnProperty,fB=Object.prototype.propertyIsEnumerable,Q2=(he,pt,G)=>pt in he?hB(he,pt,{enumerable:!0,configurable:!0,writable:!0,value:G}):he[pt]=G,Ge=(he,pt)=>{for(var G in pt||(pt={}))dB.call(pt,G)&&Q2(he,G,pt[G]);if($2)for(var G of $2(pt))fB.call(pt,G)&&Q2(he,G,pt[G]);return he},vd=(he,pt)=>cB(he,pB(pt));(function(he,pt){"object"==typeof exports&&"undefined"!=typeof module?module.exports=pt(require("@popperjs/core")):"function"==typeof define&&define.amd?define(["@popperjs/core"],pt):(he="undefined"!=typeof globalThis?globalThis:he||self).bootstrap=pt(he.Popper)})(this,function(he){"use strict";const G=function(H){if(H&&H.__esModule)return H;const I=Object.create(null);if(H)for(const O in H)if("default"!==O){const F=Object.getOwnPropertyDescriptor(H,O);Object.defineProperty(I,O,F.get?F:{enumerable:!0,get:()=>H[O]})}return I.default=H,Object.freeze(I)}(he),wa="transitionend",mh=H=>{let I=H.getAttribute("data-bs-target");if(!I||"#"===I){let O=H.getAttribute("href");if(!O||!O.includes("#")&&!O.startsWith("."))return null;O.includes("#")&&!O.startsWith("#")&&(O=`#${O.split("#")[1]}`),I=O&&"#"!==O?O.trim():null}return I},Qs=H=>{const I=mh(H);return I&&document.querySelector(I)?I:null},ge=H=>{const I=mh(H);return I?document.querySelector(I):null},Js=H=>{H.dispatchEvent(new Event(wa))},wi=H=>!(!H||"object"!=typeof H)&&(void 0!==H.jquery&&(H=H[0]),void 0!==H.nodeType),on=H=>wi(H)?H.jquery?H[0]:H:"string"==typeof H&&H.length>0?document.querySelector(H):null,an=(H,I,O)=>{Object.keys(O).forEach(F=>{const X=O[F],$=I[F],le=$&&wi($)?"element":null==(ke=$)?`${ke}`:{}.toString.call(ke).match(/\s([a-z]+)/i)[1].toLowerCase();var ke;if(!new RegExp(X).test(le))throw new TypeError(`${H.toUpperCase()}: Option "${F}" provided type "${le}" but expected type "${X}".`)})},fo=H=>!(!wi(H)||0===H.getClientRects().length)&&"visible"===getComputedStyle(H).getPropertyValue("visibility"),Xi=H=>!H||H.nodeType!==Node.ELEMENT_NODE||!!H.classList.contains("disabled")||(void 0!==H.disabled?H.disabled:H.hasAttribute("disabled")&&"false"!==H.getAttribute("disabled")),Sa=H=>{if(!document.documentElement.attachShadow)return null;if("function"==typeof H.getRootNode){const I=H.getRootNode();return I instanceof ShadowRoot?I:null}return H instanceof ShadowRoot?H:H.parentNode?Sa(H.parentNode):null},Ma=()=>{},go=()=>{const{jQuery:H}=window;return H&&!document.body.hasAttribute("data-bs-no-jquery")?H:null},mo=[],Gt=()=>"rtl"===document.documentElement.dir,sn=H=>{var I;I=()=>{const O=go();if(O){const F=H.NAME,X=O.fn[F];O.fn[F]=H.jQueryInterface,O.fn[F].Constructor=H,O.fn[F].noConflict=()=>(O.fn[F]=X,H.jQueryInterface)}},"loading"===document.readyState?(mo.length||document.addEventListener("DOMContentLoaded",()=>{mo.forEach(O=>O())}),mo.push(I)):I()},Zi=H=>{"function"==typeof H&&H()},Ia=(H,I,O=!0)=>{if(!O)return void Zi(H);const F=(le=>{if(!le)return 0;let{transitionDuration:ke,transitionDelay:Ue}=window.getComputedStyle(le);const St=Number.parseFloat(ke),gt=Number.parseFloat(Ue);return St||gt?(ke=ke.split(",")[0],Ue=Ue.split(",")[0],1e3*(Number.parseFloat(ke)+Number.parseFloat(Ue))):0})(I)+5;let X=!1;const $=({target:le})=>{le===I&&(X=!0,I.removeEventListener(wa,$),Zi(H))};I.addEventListener(wa,$),setTimeout(()=>{X||Js(I)},F)},Cn=(H,I,O,F)=>{let X=H.indexOf(I);if(-1===X)return H[!O&&F?H.length-1:0];const $=H.length;return X+=O?1:-1,F&&(X=(X+$)%$),H[Math.max(0,Math.min(X,$-1))]},de=/[^.]*(?=\..*)\.|.*/,we=/\..*/,Ta=/::\d+$/,K={};let ce=1;const ji={mouseenter:"mouseover",mouseleave:"mouseout"},Ie=/^(mouseenter|mouseleave)/i,Ca=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function ht(H,I){return I&&`${I}::${ce++}`||H.uidEvent||ce++}function Ft(H){const I=ht(H);return H.uidEvent=I,K[I]=K[I]||{},K[I]}function k(H,I,O=null){const F=Object.keys(H);for(let X=0,$=F.length;X<$;X++){const le=H[F[X]];if(le.originalHandler===I&&le.delegationSelector===O)return le}return null}function J(H,I,O){const F="string"==typeof I,X=F?O:I;let $=el(H);return Ca.has($)||($=H),[F,X,$]}function ii(H,I,O,F,X){if("string"!=typeof I||!H)return;if(O||(O=F,F=null),Ie.test(I)){const Lt=un=>function(Xt){if(!Xt.relatedTarget||Xt.relatedTarget!==Xt.delegateTarget&&!Xt.delegateTarget.contains(Xt.relatedTarget))return un.call(this,Xt)};F?F=Lt(F):O=Lt(O)}const[$,le,ke]=J(I,O,F),Ue=Ft(H),St=Ue[ke]||(Ue[ke]={}),gt=k(St,le,$?O:null);if(gt)return void(gt.oneOff=gt.oneOff&&X);const Ye=ht(le,I.replace(de,"")),Ht=$?(Lt=H,un=O,Xt=F,function Hn(Di){const Io=Lt.querySelectorAll(un);for(let{target:zt}=Di;zt&&zt!==this;zt=zt.parentNode)for(let Xa=Io.length;Xa--;)if(Io[Xa]===zt)return Di.delegateTarget=zt,Hn.oneOff&&q.off(Lt,Di.type,un,Xt),Xt.apply(zt,[Di]);return null}):function(Lt,un){return function Xt(Hn){return Hn.delegateTarget=Lt,Xt.oneOff&&q.off(Lt,Hn.type,un),un.apply(Lt,[Hn])}}(H,O);var Lt,un,Xt;Ht.delegationSelector=$?O:null,Ht.originalHandler=le,Ht.oneOff=X,Ht.uidEvent=Ye,St[Ye]=Ht,H.addEventListener(ke,Ht,$)}function Ke(H,I,O,F,X){const $=k(I[O],F,X);$&&(H.removeEventListener(O,$,Boolean(X)),delete I[O][$.uidEvent])}function el(H){return H=H.replace(we,""),ji[H]||H}const q={on(H,I,O,F){ii(H,I,O,F,!1)},one(H,I,O,F){ii(H,I,O,F,!0)},off(H,I,O,F){if("string"!=typeof I||!H)return;const[X,$,le]=J(I,O,F),ke=le!==I,Ue=Ft(H),St=I.startsWith(".");if(void 0!==$)return Ue&&Ue[le]?void Ke(H,Ue,le,$,X?O:null):void 0;St&&Object.keys(Ue).forEach(Ye=>{!function(Ht,Lt,un,Xt){const Hn=Lt[un]||{};Object.keys(Hn).forEach(Di=>{if(Di.includes(Xt)){const Io=Hn[Di];Ke(Ht,Lt,un,Io.originalHandler,Io.delegationSelector)}})}(H,Ue,Ye,I.slice(1))});const gt=Ue[le]||{};Object.keys(gt).forEach(Ye=>{const Ht=Ye.replace(Ta,"");if(!ke||I.includes(Ht)){const Lt=gt[Ye];Ke(H,Ue,le,Lt.originalHandler,Lt.delegationSelector)}})},trigger(H,I,O){if("string"!=typeof I||!H)return null;const F=go(),X=el(I),$=I!==X,le=Ca.has(X);let ke,Ue=!0,St=!0,gt=!1,Ye=null;return $&&F&&(ke=F.Event(I,O),F(H).trigger(ke),Ue=!ke.isPropagationStopped(),St=!ke.isImmediatePropagationStopped(),gt=ke.isDefaultPrevented()),le?(Ye=document.createEvent("HTMLEvents"),Ye.initEvent(X,Ue,!0)):Ye=new CustomEvent(I,{bubbles:Ue,cancelable:!0}),void 0!==O&&Object.keys(O).forEach(Ht=>{Object.defineProperty(Ye,Ht,{get:()=>O[Ht]})}),gt&&Ye.preventDefault(),St&&H.dispatchEvent(Ye),Ye.defaultPrevented&&void 0!==ke&&ke.preventDefault(),Ye}},re=new Map,ye={set(H,I,O){re.has(H)||re.set(H,new Map);const F=re.get(H);F.has(I)||0===F.size?F.set(I,O):console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(F.keys())[0]}.`)},get:(H,I)=>re.has(H)&&re.get(H).get(I)||null,remove(H,I){if(!re.has(H))return;const O=re.get(H);O.delete(I),0===O.size&&re.delete(H)}};class Z{constructor(I){(I=on(I))&&(this._element=I,ye.set(this._element,this.constructor.DATA_KEY,this))}dispose(){ye.remove(this._element,this.constructor.DATA_KEY),q.off(this._element,this.constructor.EVENT_KEY),Object.getOwnPropertyNames(this).forEach(I=>{this[I]=null})}_queueCallback(I,O,F=!0){Ia(I,O,F)}static getInstance(I){return ye.get(on(I),this.DATA_KEY)}static getOrCreateInstance(I,O={}){return this.getInstance(I)||new this(I,"object"==typeof O?O:null)}static get VERSION(){return"5.1.3"}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}}const Be=(H,I="hide")=>{const F=H.NAME;q.on(document,`click.dismiss${H.EVENT_KEY}`,`[data-bs-dismiss="${F}"]`,function(X){if(["A","AREA"].includes(this.tagName)&&X.preventDefault(),Xi(this))return;const $=ge(this)||this.closest(`.${F}`);H.getOrCreateInstance($)[I]()})};class Ce extends Z{static get NAME(){return"alert"}close(){if(q.trigger(this._element,"close.bs.alert").defaultPrevented)return;this._element.classList.remove("show");const I=this._element.classList.contains("fade");this._queueCallback(()=>this._destroyElement(),this._element,I)}_destroyElement(){this._element.remove(),q.trigger(this._element,"closed.bs.alert"),this.dispose()}static jQueryInterface(I){return this.each(function(){const O=Ce.getOrCreateInstance(this);if("string"==typeof I){if(void 0===O[I]||I.startsWith("_")||"constructor"===I)throw new TypeError(`No method named "${I}"`);O[I](this)}})}}Be(Ce,"close"),sn(Ce);const yo='[data-bs-toggle="button"]';class Si extends Z{static get NAME(){return"button"}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle("active"))}static jQueryInterface(I){return this.each(function(){const O=Si.getOrCreateInstance(this);"toggle"===I&&O[I]()})}}function pe(H){return"true"===H||"false"!==H&&(H===Number(H).toString()?Number(H):""===H||"null"===H?null:H)}function vo(H){return H.replace(/[A-Z]/g,I=>`-${I.toLowerCase()}`)}q.on(document,"click.bs.button.data-api",yo,H=>{H.preventDefault();const I=H.target.closest(yo);Si.getOrCreateInstance(I).toggle()}),sn(Si);const Qe={setDataAttribute(H,I,O){H.setAttribute(`data-bs-${vo(I)}`,O)},removeDataAttribute(H,I){H.removeAttribute(`data-bs-${vo(I)}`)},getDataAttributes(H){if(!H)return{};const I={};return Object.keys(H.dataset).filter(O=>O.startsWith("bs")).forEach(O=>{let F=O.replace(/^bs/,"");F=F.charAt(0).toLowerCase()+F.slice(1,F.length),I[F]=pe(H.dataset[O])}),I},getDataAttribute:(H,I)=>pe(H.getAttribute(`data-bs-${vo(I)}`)),offset(H){const I=H.getBoundingClientRect();return{top:I.top+window.pageYOffset,left:I.left+window.pageXOffset}},position:H=>({top:H.offsetTop,left:H.offsetLeft})},Me={find:(H,I=document.documentElement)=>[].concat(...Element.prototype.querySelectorAll.call(I,H)),findOne:(H,I=document.documentElement)=>Element.prototype.querySelector.call(I,H),children:(H,I)=>[].concat(...H.children).filter(O=>O.matches(I)),parents(H,I){const O=[];let F=H.parentNode;for(;F&&F.nodeType===Node.ELEMENT_NODE&&3!==F.nodeType;)F.matches(I)&&O.push(F),F=F.parentNode;return O},prev(H,I){let O=H.previousElementSibling;for(;O;){if(O.matches(I))return[O];O=O.previousElementSibling}return[]},next(H,I){let O=H.nextElementSibling;for(;O;){if(O.matches(I))return[O];O=O.nextElementSibling}return[]},focusableChildren(H){const I=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(O=>`${O}:not([tabindex^="-"])`).join(", ");return this.find(I,H).filter(O=>!Xi(O)&&fo(O))}},tl="carousel",nl={interval:5e3,keyboard:!0,slide:!1,pause:"hover",wrap:!0,touch:!0},yh={interval:"(number|boolean)",keyboard:"boolean",slide:"(boolean|string)",pause:"(string|boolean)",wrap:"boolean",touch:"boolean"},An="next",st="prev",Te="left",qt="right",Aa={ArrowLeft:qt,ArrowRight:Te},_o="slid.bs.carousel",vt="active",Dn=".active.carousel-item";class kn extends Z{constructor(I,O){super(I),this._items=null,this._interval=null,this._activeElement=null,this._isPaused=!1,this._isSliding=!1,this.touchTimeout=null,this.touchStartX=0,this.touchDeltaX=0,this._config=this._getConfig(O),this._indicatorsElement=Me.findOne(".carousel-indicators",this._element),this._touchSupported="ontouchstart"in document.documentElement||navigator.maxTouchPoints>0,this._pointerEvent=Boolean(window.PointerEvent),this._addEventListeners()}static get Default(){return nl}static get NAME(){return tl}next(){this._slide(An)}nextWhenVisible(){!document.hidden&&fo(this._element)&&this.next()}prev(){this._slide(st)}pause(I){I||(this._isPaused=!0),Me.findOne(".carousel-item-next, .carousel-item-prev",this._element)&&(Js(this._element),this.cycle(!0)),clearInterval(this._interval),this._interval=null}cycle(I){I||(this._isPaused=!1),this._interval&&(clearInterval(this._interval),this._interval=null),this._config&&this._config.interval&&!this._isPaused&&(this._updateInterval(),this._interval=setInterval((document.visibilityState?this.nextWhenVisible:this.next).bind(this),this._config.interval))}to(I){this._activeElement=Me.findOne(Dn,this._element);const O=this._getItemIndex(this._activeElement);if(!(I>this._items.length-1||I<0)){if(!this._isSliding)return O===I?(this.pause(),void this.cycle()):void this._slide(I>O?An:st,this._items[I]);q.one(this._element,_o,()=>this.to(I))}}_getConfig(I){return I=Ge(Ge(Ge({},nl),Qe.getDataAttributes(this._element)),"object"==typeof I?I:{}),an(tl,I,yh),I}_handleSwipe(){const I=Math.abs(this.touchDeltaX);if(I<=40)return;const O=I/this.touchDeltaX;this.touchDeltaX=0,O&&this._slide(O>0?qt:Te)}_addEventListeners(){this._config.keyboard&&q.on(this._element,"keydown.bs.carousel",I=>this._keydown(I)),"hover"===this._config.pause&&(q.on(this._element,"mouseenter.bs.carousel",I=>this.pause(I)),q.on(this._element,"mouseleave.bs.carousel",I=>this.cycle(I))),this._config.touch&&this._touchSupported&&this._addTouchEventListeners()}_addTouchEventListeners(){const I=$=>this._pointerEvent&&("pen"===$.pointerType||"touch"===$.pointerType),O=$=>{I($)?this.touchStartX=$.clientX:this._pointerEvent||(this.touchStartX=$.touches[0].clientX)},F=$=>{this.touchDeltaX=$.touches&&$.touches.length>1?0:$.touches[0].clientX-this.touchStartX},X=$=>{I($)&&(this.touchDeltaX=$.clientX-this.touchStartX),this._handleSwipe(),"hover"===this._config.pause&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(le=>this.cycle(le),500+this._config.interval))};Me.find(".carousel-item img",this._element).forEach($=>{q.on($,"dragstart.bs.carousel",le=>le.preventDefault())}),this._pointerEvent?(q.on(this._element,"pointerdown.bs.carousel",$=>O($)),q.on(this._element,"pointerup.bs.carousel",$=>X($)),this._element.classList.add("pointer-event")):(q.on(this._element,"touchstart.bs.carousel",$=>O($)),q.on(this._element,"touchmove.bs.carousel",$=>F($)),q.on(this._element,"touchend.bs.carousel",$=>X($)))}_keydown(I){if(/input|textarea/i.test(I.target.tagName))return;const O=Aa[I.key];O&&(I.preventDefault(),this._slide(O))}_getItemIndex(I){return this._items=I&&I.parentNode?Me.find(".carousel-item",I.parentNode):[],this._items.indexOf(I)}_getItemByOrder(I,O){return Cn(this._items,O,I===An,this._config.wrap)}_triggerSlideEvent(I,O){const F=this._getItemIndex(I),X=this._getItemIndex(Me.findOne(Dn,this._element));return q.trigger(this._element,"slide.bs.carousel",{relatedTarget:I,direction:O,from:X,to:F})}_setActiveIndicatorElement(I){if(this._indicatorsElement){const O=Me.findOne(".active",this._indicatorsElement);O.classList.remove(vt),O.removeAttribute("aria-current");const F=Me.find("[data-bs-target]",this._indicatorsElement);for(let X=0;X<F.length;X++)if(Number.parseInt(F[X].getAttribute("data-bs-slide-to"),10)===this._getItemIndex(I)){F[X].classList.add(vt),F[X].setAttribute("aria-current","true");break}}}_updateInterval(){const I=this._activeElement||Me.findOne(Dn,this._element);if(!I)return;const O=Number.parseInt(I.getAttribute("data-bs-interval"),10);O?(this._config.defaultInterval=this._config.defaultInterval||this._config.interval,this._config.interval=O):this._config.interval=this._config.defaultInterval||this._config.interval}_slide(I,O){const F=this._directionToOrder(I),X=Me.findOne(Dn,this._element),$=this._getItemIndex(X),le=O||this._getItemByOrder(F,X),ke=this._getItemIndex(le),Ue=Boolean(this._interval),St=F===An,gt=St?"carousel-item-start":"carousel-item-end",Ye=St?"carousel-item-next":"carousel-item-prev",Ht=this._orderToDirection(F);if(le&&le.classList.contains(vt))return void(this._isSliding=!1);if(this._isSliding||this._triggerSlideEvent(le,Ht).defaultPrevented||!X||!le)return;this._isSliding=!0,Ue&&this.pause(),this._setActiveIndicatorElement(le),this._activeElement=le;const Lt=()=>{q.trigger(this._element,_o,{relatedTarget:le,direction:Ht,from:$,to:ke})};this._element.classList.contains("slide")?(le.classList.add(Ye),X.classList.add(gt),le.classList.add(gt),this._queueCallback(()=>{le.classList.remove(gt,Ye),le.classList.add(vt),X.classList.remove(vt,Ye,gt),this._isSliding=!1,setTimeout(Lt,0)},X,!0)):(X.classList.remove(vt),le.classList.add(vt),this._isSliding=!1,Lt()),Ue&&this.cycle()}_directionToOrder(I){return[qt,Te].includes(I)?Gt()?I===Te?st:An:I===Te?An:st:I}_orderToDirection(I){return[An,st].includes(I)?Gt()?I===st?Te:qt:I===st?qt:Te:I}static carouselInterface(I,O){const F=kn.getOrCreateInstance(I,O);let{_config:X}=F;"object"==typeof O&&(X=Ge(Ge({},X),O));const $="string"==typeof O?O:X.slide;if("number"==typeof O)F.to(O);else if("string"==typeof $){if(void 0===F[$])throw new TypeError(`No method named "${$}"`);F[$]()}else X.interval&&X.ride&&(F.pause(),F.cycle())}static jQueryInterface(I){return this.each(function(){kn.carouselInterface(this,I)})}static dataApiClickHandler(I){const O=ge(this);if(!O||!O.classList.contains("carousel"))return;const F=Ge(Ge({},Qe.getDataAttributes(O)),Qe.getDataAttributes(this)),X=this.getAttribute("data-bs-slide-to");X&&(F.interval=!1),kn.carouselInterface(O,F),X&&kn.getInstance(O).to(X),I.preventDefault()}}q.on(document,"click.bs.carousel.data-api","[data-bs-slide], [data-bs-slide-to]",kn.dataApiClickHandler),q.on(window,"load.bs.carousel.data-api",()=>{const H=Me.find('[data-bs-ride="carousel"]');for(let I=0,O=H.length;I<O;I++)kn.carouselInterface(H[I],kn.getInstance(H[I]))}),sn(kn);const xr="collapse",qi={toggle:!0,parent:null},vh={toggle:"boolean",parent:"(null|element)"},ue="show",Ki="collapse",ri="collapsing",se="collapsed",yn=":scope .collapse .collapse",il='[data-bs-toggle="collapse"]';class Kt extends Z{constructor(I,O){super(I),this._isTransitioning=!1,this._config=this._getConfig(O),this._triggerArray=[];const F=Me.find(il);for(let X=0,$=F.length;X<$;X++){const le=F[X],ke=Qs(le),Ue=Me.find(ke).filter(St=>St===this._element);null!==ke&&Ue.length&&(this._selector=ke,this._triggerArray.push(le))}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return qi}static get NAME(){return xr}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let I,O=[];if(this._config.parent){const le=Me.find(yn,this._config.parent);O=Me.find(".collapse.show, .collapse.collapsing",this._config.parent).filter(ke=>!le.includes(ke))}const F=Me.findOne(this._selector);if(O.length){const le=O.find(ke=>F!==ke);if(I=le?Kt.getInstance(le):null,I&&I._isTransitioning)return}if(q.trigger(this._element,"show.bs.collapse").defaultPrevented)return;O.forEach(le=>{F!==le&&Kt.getOrCreateInstance(le,{toggle:!1}).hide(),I||ye.set(le,"bs.collapse",null)});const X=this._getDimension();this._element.classList.remove(Ki),this._element.classList.add(ri),this._element.style[X]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const $=`scroll${X[0].toUpperCase()+X.slice(1)}`;this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(ri),this._element.classList.add(Ki,ue),this._element.style[X]="",q.trigger(this._element,"shown.bs.collapse")},this._element,!0),this._element.style[X]=`${this._element[$]}px`}hide(){if(this._isTransitioning||!this._isShown()||q.trigger(this._element,"hide.bs.collapse").defaultPrevented)return;const I=this._getDimension();this._element.style[I]=`${this._element.getBoundingClientRect()[I]}px`,this._element.classList.add(ri),this._element.classList.remove(Ki,ue);const O=this._triggerArray.length;for(let F=0;F<O;F++){const X=this._triggerArray[F],$=ge(X);$&&!this._isShown($)&&this._addAriaAndCollapsedClass([X],!1)}this._isTransitioning=!0,this._element.style[I]="",this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(ri),this._element.classList.add(Ki),q.trigger(this._element,"hidden.bs.collapse")},this._element,!0)}_isShown(I=this._element){return I.classList.contains(ue)}_getConfig(I){return(I=Ge(Ge(Ge({},qi),Qe.getDataAttributes(this._element)),I)).toggle=Boolean(I.toggle),I.parent=on(I.parent),an(xr,I,vh),I}_getDimension(){return this._element.classList.contains("collapse-horizontal")?"width":"height"}_initializeChildren(){if(!this._config.parent)return;const I=Me.find(yn,this._config.parent);Me.find(il,this._config.parent).filter(O=>!I.includes(O)).forEach(O=>{const F=ge(O);F&&this._addAriaAndCollapsedClass([O],this._isShown(F))})}_addAriaAndCollapsedClass(I,O){I.length&&I.forEach(F=>{O?F.classList.remove(se):F.classList.add(se),F.setAttribute("aria-expanded",O)})}static jQueryInterface(I){return this.each(function(){const O={};"string"==typeof I&&/show|hide/.test(I)&&(O.toggle=!1);const F=Kt.getOrCreateInstance(this,O);if("string"==typeof I){if(void 0===F[I])throw new TypeError(`No method named "${I}"`);F[I]()}})}}q.on(document,"click.bs.collapse.data-api",il,function(H){("A"===H.target.tagName||H.delegateTarget&&"A"===H.delegateTarget.tagName)&&H.preventDefault();const I=Qs(this);Me.find(I).forEach(O=>{Kt.getOrCreateInstance(O,{toggle:!1}).toggle()})}),sn(Kt);const Dt="dropdown",vn="Escape",Da="ArrowUp",br="ArrowDown",Mi=new RegExp("ArrowUp|ArrowDown|Escape"),wr="click.bs.dropdown.data-api",_h="keydown.bs.dropdown.data-api",Ii="show",xo='[data-bs-toggle="dropdown"]',Sr=".dropdown-menu",Mr=Gt()?"top-end":"top-start",bo=Gt()?"top-start":"top-end",oi=Gt()?"bottom-end":"bottom-start",xh=Gt()?"bottom-start":"bottom-end",Ti=Gt()?"left-start":"right-start",wo=Gt()?"right-start":"left-start",wt={offset:[0,2],boundary:"clippingParents",reference:"toggle",display:"dynamic",popperConfig:null,autoClose:!0},Ci={offset:"(array|string|function)",boundary:"(string|element)",reference:"(string|element|object)",display:"string",popperConfig:"(null|object|function)",autoClose:"(boolean|string)"};class _t extends Z{constructor(I,O){super(I),this._popper=null,this._config=this._getConfig(O),this._menu=this._getMenuElement(),this._inNavbar=this._detectNavbar()}static get Default(){return wt}static get DefaultType(){return Ci}static get NAME(){return Dt}toggle(){return this._isShown()?this.hide():this.show()}show(){if(Xi(this._element)||this._isShown(this._menu))return;const I={relatedTarget:this._element};if(q.trigger(this._element,"show.bs.dropdown",I).defaultPrevented)return;const O=_t.getParentFromElement(this._element);this._inNavbar?Qe.setDataAttribute(this._menu,"popper","none"):this._createPopper(O),"ontouchstart"in document.documentElement&&!O.closest(".navbar-nav")&&[].concat(...document.body.children).forEach(F=>q.on(F,"mouseover",Ma)),this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(Ii),this._element.classList.add(Ii),q.trigger(this._element,"shown.bs.dropdown",I)}hide(){!Xi(this._element)&&this._isShown(this._menu)&&this._completeHide({relatedTarget:this._element})}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(I){q.trigger(this._element,"hide.bs.dropdown",I).defaultPrevented||("ontouchstart"in document.documentElement&&[].concat(...document.body.children).forEach(O=>q.off(O,"mouseover",Ma)),this._popper&&this._popper.destroy(),this._menu.classList.remove(Ii),this._element.classList.remove(Ii),this._element.setAttribute("aria-expanded","false"),Qe.removeDataAttribute(this._menu,"popper"),q.trigger(this._element,"hidden.bs.dropdown",I))}_getConfig(I){if(I=Ge(Ge(Ge({},this.constructor.Default),Qe.getDataAttributes(this._element)),I),an(Dt,I,this.constructor.DefaultType),"object"==typeof I.reference&&!wi(I.reference)&&"function"!=typeof I.reference.getBoundingClientRect)throw new TypeError(`${Dt.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return I}_createPopper(I){if(void 0===G)throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org)");let O=this._element;"parent"===this._config.reference?O=I:wi(this._config.reference)?O=on(this._config.reference):"object"==typeof this._config.reference&&(O=this._config.reference);const F=this._getPopperConfig(),X=F.modifiers.find($=>"applyStyles"===$.name&&!1===$.enabled);this._popper=G.createPopper(O,this._menu,F),X&&Qe.setDataAttribute(this._menu,"popper","static")}_isShown(I=this._element){return I.classList.contains(Ii)}_getMenuElement(){return Me.next(this._element,Sr)[0]}_getPlacement(){const I=this._element.parentNode;if(I.classList.contains("dropend"))return Ti;if(I.classList.contains("dropstart"))return wo;const O="end"===getComputedStyle(this._menu).getPropertyValue("--bs-position").trim();return I.classList.contains("dropup")?O?bo:Mr:O?xh:oi}_detectNavbar(){return null!==this._element.closest(".navbar")}_getOffset(){const{offset:I}=this._config;return"string"==typeof I?I.split(",").map(O=>Number.parseInt(O,10)):"function"==typeof I?O=>I(O,this._element):I}_getPopperConfig(){const I={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return"static"===this._config.display&&(I.modifiers=[{name:"applyStyles",enabled:!1}]),Ge(Ge({},I),"function"==typeof this._config.popperConfig?this._config.popperConfig(I):this._config.popperConfig)}_selectMenuItem({key:I,target:O}){const F=Me.find(".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",this._menu).filter(fo);F.length&&Cn(F,O,I===br,!F.includes(O)).focus()}static jQueryInterface(I){return this.each(function(){const O=_t.getOrCreateInstance(this,I);if("string"==typeof I){if(void 0===O[I])throw new TypeError(`No method named "${I}"`);O[I]()}})}static clearMenus(I){if(I&&(2===I.button||"keyup"===I.type&&"Tab"!==I.key))return;const O=Me.find(xo);for(let F=0,X=O.length;F<X;F++){const $=_t.getInstance(O[F]);if(!$||!1===$._config.autoClose||!$._isShown())continue;const le={relatedTarget:$._element};if(I){const ke=I.composedPath(),Ue=ke.includes($._menu);if(ke.includes($._element)||"inside"===$._config.autoClose&&!Ue||"outside"===$._config.autoClose&&Ue||$._menu.contains(I.target)&&("keyup"===I.type&&"Tab"===I.key||/input|select|option|textarea|form/i.test(I.target.tagName)))continue;"click"===I.type&&(le.clickEvent=I)}$._completeHide(le)}}static getParentFromElement(I){return ge(I)||I.parentNode}static dataApiKeydownHandler(I){if(/input|textarea/i.test(I.target.tagName)?"Space"===I.key||I.key!==vn&&(I.key!==br&&I.key!==Da||I.target.closest(Sr)):!Mi.test(I.key))return;const O=this.classList.contains(Ii);if(!O&&I.key===vn||(I.preventDefault(),I.stopPropagation(),Xi(this)))return;const F=this.matches(xo)?this:Me.prev(this,xo)[0],X=_t.getOrCreateInstance(F);if(I.key!==vn)return I.key===Da||I.key===br?(O||X.show(),void X._selectMenuItem(I)):void(O&&"Space"!==I.key||_t.clearMenus());X.hide()}}q.on(document,_h,xo,_t.dataApiKeydownHandler),q.on(document,_h,Sr,_t.dataApiKeydownHandler),q.on(document,wr,_t.clearMenus),q.on(document,"keyup.bs.dropdown.data-api",_t.clearMenus),q.on(document,wr,xo,function(H){H.preventDefault(),_t.getOrCreateInstance(this).toggle()}),sn(_t);const bh=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",$i=".sticky-top";class ol{constructor(){this._element=document.body}getWidth(){const I=document.documentElement.clientWidth;return Math.abs(window.innerWidth-I)}hide(){const I=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,"paddingRight",O=>O+I),this._setElementAttributes(bh,"paddingRight",O=>O+I),this._setElementAttributes($i,"marginRight",O=>O-I)}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(I,O,F){const X=this.getWidth();this._applyManipulationCallback(I,$=>{if($!==this._element&&window.innerWidth>$.clientWidth+X)return;this._saveInitialAttribute($,O);const le=window.getComputedStyle($)[O];$.style[O]=`${F(Number.parseFloat(le))}px`})}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,"paddingRight"),this._resetElementAttributes(bh,"paddingRight"),this._resetElementAttributes($i,"marginRight")}_saveInitialAttribute(I,O){const F=I.style[O];F&&Qe.setDataAttribute(I,O,F)}_resetElementAttributes(I,O){this._applyManipulationCallback(I,F=>{const X=Qe.getDataAttribute(F,O);void 0===X?F.style.removeProperty(O):(Qe.removeDataAttribute(F,O),F.style[O]=X)})}_applyManipulationCallback(I,O){wi(I)?O(I):Me.find(I,this._element).forEach(O)}isOverflowing(){return this.getWidth()>0}}const _n={className:"modal-backdrop",isVisible:!0,isAnimated:!1,rootElement:"body",clickCallback:null},_d={className:"string",isVisible:"boolean",isAnimated:"boolean",rootElement:"(element|string)",clickCallback:"(function|null)"},al="mousedown.bs.backdrop";class La{constructor(I){this._config=this._getConfig(I),this._isAppended=!1,this._element=null}show(I){this._config.isVisible?(this._append(),this._config.isAnimated&&this._getElement(),this._getElement().classList.add("show"),this._emulateAnimation(()=>{Zi(I)})):Zi(I)}hide(I){this._config.isVisible?(this._getElement().classList.remove("show"),this._emulateAnimation(()=>{this.dispose(),Zi(I)})):Zi(I)}_getElement(){if(!this._element){const I=document.createElement("div");I.className=this._config.className,this._config.isAnimated&&I.classList.add("fade"),this._element=I}return this._element}_getConfig(I){return(I=Ge(Ge({},_n),"object"==typeof I?I:{})).rootElement=on(I.rootElement),an("backdrop",I,_d),I}_append(){this._isAppended||(this._config.rootElement.append(this._getElement()),q.on(this._getElement(),al,()=>{Zi(this._config.clickCallback)}),this._isAppended=!0)}dispose(){this._isAppended&&(q.off(this._element,al),this._element.remove(),this._isAppended=!1)}_emulateAnimation(I){Ia(I,this._getElement(),this._config.isAnimated)}}const sl={trapElement:null,autofocus:!0},wh={trapElement:"element",autofocus:"boolean"},Pa=".bs.focustrap",Sh="backward";class Oa{constructor(I){this._config=this._getConfig(I),this._isActive=!1,this._lastTabNavDirection=null}activate(){const{trapElement:I,autofocus:O}=this._config;this._isActive||(O&&I.focus(),q.off(document,Pa),q.on(document,"focusin.bs.focustrap",F=>this._handleFocusin(F)),q.on(document,"keydown.tab.bs.focustrap",F=>this._handleKeydown(F)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,q.off(document,Pa))}_handleFocusin(I){const{target:O}=I,{trapElement:F}=this._config;if(O===document||O===F||F.contains(O))return;const X=Me.focusableChildren(F);0===X.length?F.focus():this._lastTabNavDirection===Sh?X[X.length-1].focus():X[0].focus()}_handleKeydown(I){"Tab"===I.key&&(this._lastTabNavDirection=I.shiftKey?Sh:"forward")}_getConfig(I){return I=Ge(Ge({},sl),"object"==typeof I?I:{}),an("focustrap",I,wh),I}}const Na={backdrop:!0,keyboard:!0,focus:!0},xn={backdrop:"(boolean|string)",keyboard:"boolean",focus:"boolean"},Ra="hidden.bs.modal",Gn="show.bs.modal",ul="resize.bs.modal",Mh="click.dismiss.bs.modal",hl="keydown.dismiss.bs.modal",za="mousedown.dismiss.bs.modal",cl="modal-open",pl="modal-static";class Ln extends Z{constructor(I,O){super(I),this._config=this._getConfig(O),this._dialog=Me.findOne(".modal-dialog",this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._ignoreBackdropClick=!1,this._isTransitioning=!1,this._scrollBar=new ol}static get Default(){return Na}static get NAME(){return"modal"}toggle(I){return this._isShown?this.hide():this.show(I)}show(I){this._isShown||this._isTransitioning||q.trigger(this._element,Gn,{relatedTarget:I}).defaultPrevented||(this._isShown=!0,this._isAnimated()&&(this._isTransitioning=!0),this._scrollBar.hide(),document.body.classList.add(cl),this._adjustDialog(),this._setEscapeEvent(),this._setResizeEvent(),q.on(this._dialog,za,()=>{q.one(this._element,"mouseup.dismiss.bs.modal",O=>{O.target===this._element&&(this._ignoreBackdropClick=!0)})}),this._showBackdrop(()=>this._showElement(I)))}hide(){if(!this._isShown||this._isTransitioning||q.trigger(this._element,"hide.bs.modal").defaultPrevented)return;this._isShown=!1;const I=this._isAnimated();I&&(this._isTransitioning=!0),this._setEscapeEvent(),this._setResizeEvent(),this._focustrap.deactivate(),this._element.classList.remove("show"),q.off(this._element,Mh),q.off(this._dialog,za),this._queueCallback(()=>this._hideModal(),this._element,I)}dispose(){[window,this._dialog].forEach(I=>q.off(I,".bs.modal")),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new La({isVisible:Boolean(this._config.backdrop),isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new Oa({trapElement:this._element})}_getConfig(I){return I=Ge(Ge(Ge({},Na),Qe.getDataAttributes(this._element)),"object"==typeof I?I:{}),an("modal",I,xn),I}_showElement(I){const O=this._isAnimated(),F=Me.findOne(".modal-body",this._dialog);this._element.parentNode&&this._element.parentNode.nodeType===Node.ELEMENT_NODE||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0,F&&(F.scrollTop=0),this._element.classList.add("show"),this._queueCallback(()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,q.trigger(this._element,"shown.bs.modal",{relatedTarget:I})},this._dialog,O)}_setEscapeEvent(){this._isShown?q.on(this._element,hl,I=>{this._config.keyboard&&"Escape"===I.key?(I.preventDefault(),this.hide()):this._config.keyboard||"Escape"!==I.key||this._triggerBackdropTransition()}):q.off(this._element,hl)}_setResizeEvent(){this._isShown?q.on(window,ul,()=>this._adjustDialog()):q.off(window,ul)}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(cl),this._resetAdjustments(),this._scrollBar.reset(),q.trigger(this._element,Ra)})}_showBackdrop(I){q.on(this._element,Mh,O=>{this._ignoreBackdropClick?this._ignoreBackdropClick=!1:O.target===O.currentTarget&&(!0===this._config.backdrop?this.hide():"static"===this._config.backdrop&&this._triggerBackdropTransition())}),this._backdrop.show(I)}_isAnimated(){return this._element.classList.contains("fade")}_triggerBackdropTransition(){if(q.trigger(this._element,"hidePrevented.bs.modal").defaultPrevented)return;const{classList:I,scrollHeight:O,style:F}=this._element,X=O>document.documentElement.clientHeight;!X&&"hidden"===F.overflowY||I.contains(pl)||(X||(F.overflowY="hidden"),I.add(pl),this._queueCallback(()=>{I.remove(pl),X||this._queueCallback(()=>{F.overflowY=""},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){const I=this._element.scrollHeight>document.documentElement.clientHeight,O=this._scrollBar.getWidth(),F=O>0;(!F&&I&&!Gt()||F&&!I&&Gt())&&(this._element.style.paddingLeft=`${O}px`),(F&&!I&&!Gt()||!F&&I&&Gt())&&(this._element.style.paddingRight=`${O}px`)}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(I,O){return this.each(function(){const F=Ln.getOrCreateInstance(this,I);if("string"==typeof I){if(void 0===F[I])throw new TypeError(`No method named "${I}"`);F[I](O)}})}}q.on(document,"click.bs.modal.data-api",'[data-bs-toggle="modal"]',function(H){const I=ge(this);["A","AREA"].includes(this.tagName)&&H.preventDefault(),q.one(I,Gn,F=>{F.defaultPrevented||q.one(I,Ra,()=>{fo(this)&&this.focus()})});const O=Me.findOne(".modal.show");O&&Ln.getInstance(O).hide(),Ln.getOrCreateInstance(I).toggle(this)}),Be(Ln),sn(Ln);const Th="offcanvas",dl={backdrop:!0,keyboard:!0,scroll:!1},xd={backdrop:"boolean",keyboard:"boolean",scroll:"boolean"},gl=".offcanvas.show",ml="hidden.bs.offcanvas";class Fn extends Z{constructor(I,O){super(I),this._config=this._getConfig(O),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get NAME(){return Th}static get Default(){return dl}toggle(I){return this._isShown?this.hide():this.show(I)}show(I){this._isShown||q.trigger(this._element,"show.bs.offcanvas",{relatedTarget:I}).defaultPrevented||(this._isShown=!0,this._element.style.visibility="visible",this._backdrop.show(),this._config.scroll||(new ol).hide(),this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add("show"),this._queueCallback(()=>{this._config.scroll||this._focustrap.activate(),q.trigger(this._element,"shown.bs.offcanvas",{relatedTarget:I})},this._element,!0))}hide(){this._isShown&&(q.trigger(this._element,"hide.bs.offcanvas").defaultPrevented||(this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.remove("show"),this._backdrop.hide(),this._queueCallback(()=>{this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._element.style.visibility="hidden",this._config.scroll||(new ol).reset(),q.trigger(this._element,ml)},this._element,!0)))}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_getConfig(I){return I=Ge(Ge(Ge({},dl),Qe.getDataAttributes(this._element)),"object"==typeof I?I:{}),an(Th,I,xd),I}_initializeBackDrop(){return new La({className:"offcanvas-backdrop",isVisible:this._config.backdrop,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:()=>this.hide()})}_initializeFocusTrap(){return new Oa({trapElement:this._element})}_addEventListeners(){q.on(this._element,"keydown.dismiss.bs.offcanvas",I=>{this._config.keyboard&&"Escape"===I.key&&this.hide()})}static jQueryInterface(I){return this.each(function(){const O=Fn.getOrCreateInstance(this,I);if("string"==typeof I){if(void 0===O[I]||I.startsWith("_")||"constructor"===I)throw new TypeError(`No method named "${I}"`);O[I](this)}})}}q.on(document,"click.bs.offcanvas.data-api",'[data-bs-toggle="offcanvas"]',function(H){const I=ge(this);if(["A","AREA"].includes(this.tagName)&&H.preventDefault(),Xi(this))return;q.one(I,ml,()=>{fo(this)&&this.focus()});const O=Me.findOne(gl);O&&O!==I&&Fn.getInstance(O).hide(),Fn.getOrCreateInstance(I).toggle(this)}),q.on(window,"load.bs.offcanvas.data-api",()=>Me.find(gl).forEach(H=>Fn.getOrCreateInstance(H).show())),Be(Fn),sn(Fn);const yl=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),bd=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^#&/:?]*(?:[#/?]|$))/i,vl=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[\d+/a-z]+=*$/i,Ch=(H,I)=>{const O=H.nodeName.toLowerCase();if(I.includes(O))return!yl.has(O)||Boolean(bd.test(H.nodeValue)||vl.test(H.nodeValue));const F=I.filter(X=>X instanceof RegExp);for(let X=0,$=F.length;X<$;X++)if(F[X].test(O))return!0;return!1};function Ba(H,I,O){if(!H.length)return H;if(O&&"function"==typeof O)return O(H);const F=(new window.DOMParser).parseFromString(H,"text/html"),X=[].concat(...F.body.querySelectorAll("*"));for(let $=0,le=X.length;$<le;$++){const ke=X[$],Ue=ke.nodeName.toLowerCase();if(!Object.keys(I).includes(Ue)){ke.remove();continue}const St=[].concat(...ke.attributes),gt=[].concat(I["*"]||[],I[Ue]||[]);St.forEach(Ye=>{Ch(Ye,gt)||ke.removeAttribute(Ye.nodeName)})}return F.body.innerHTML}const _l="tooltip",wd=new Set(["sanitize","allowList","sanitizeFn"]),xl={animation:"boolean",template:"string",title:"(string|element|function)",trigger:"string",delay:"(number|object)",html:"boolean",selector:"(string|boolean)",placement:"(string|function)",offset:"(array|string|function)",container:"(string|element|boolean)",fallbackPlacements:"array",boundary:"(string|element)",customClass:"(string|function)",sanitize:"boolean",sanitizeFn:"(null|function)",allowList:"object",popperConfig:"(null|object|function)"},Va={AUTO:"auto",TOP:"top",RIGHT:Gt()?"left":"right",BOTTOM:"bottom",LEFT:Gt()?"right":"left"},Sd={animation:!0,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,selector:!1,placement:"top",offset:[0,0],container:!1,fallbackPlacements:["top","right","bottom","left"],boundary:"clippingParents",customClass:"",sanitize:!0,sanitizeFn:null,allowList:{"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],div:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},popperConfig:null},Ah={HIDE:"hide.bs.tooltip",HIDDEN:"hidden.bs.tooltip",SHOW:"show.bs.tooltip",SHOWN:"shown.bs.tooltip",INSERTED:"inserted.bs.tooltip",CLICK:"click.bs.tooltip",FOCUSIN:"focusin.bs.tooltip",FOCUSOUT:"focusout.bs.tooltip",MOUSEENTER:"mouseenter.bs.tooltip",MOUSELEAVE:"mouseleave.bs.tooltip"},Ga="fade",ai="show",Ir="show",Tr=".tooltip-inner",Qi="hide.bs.modal",Cr="hover";class kt extends Z{constructor(I,O){if(void 0===G)throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org)");super(I),this._isEnabled=!0,this._timeout=0,this._hoverState="",this._activeTrigger={},this._popper=null,this._config=this._getConfig(O),this.tip=null,this._setListeners()}static get Default(){return Sd}static get NAME(){return _l}static get Event(){return Ah}static get DefaultType(){return xl}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(I){if(this._isEnabled)if(I){const O=this._initializeOnDelegatedTarget(I);O._activeTrigger.click=!O._activeTrigger.click,O._isWithActiveTrigger()?O._enter(null,O):O._leave(null,O)}else{if(this.getTipElement().classList.contains(ai))return void this._leave(null,this);this._enter(null,this)}}dispose(){clearTimeout(this._timeout),q.off(this._element.closest(".modal"),Qi,this._hideModalHandler),this.tip&&this.tip.remove(),this._disposePopper(),super.dispose()}show(){if("none"===this._element.style.display)throw new Error("Please use show on visible elements");if(!this.isWithContent()||!this._isEnabled)return;const I=q.trigger(this._element,this.constructor.Event.SHOW),O=Sa(this._element),F=null===O?this._element.ownerDocument.documentElement.contains(this._element):O.contains(this._element);if(I.defaultPrevented||!F)return;"tooltip"===this.constructor.NAME&&this.tip&&this.getTitle()!==this.tip.querySelector(Tr).innerHTML&&(this._disposePopper(),this.tip.remove(),this.tip=null);const X=this.getTipElement(),$=(Ye=>{do{Ye+=Math.floor(1e6*Math.random())}while(document.getElementById(Ye));return Ye})(this.constructor.NAME);X.setAttribute("id",$),this._element.setAttribute("aria-describedby",$),this._config.animation&&X.classList.add(Ga);const le="function"==typeof this._config.placement?this._config.placement.call(this,X,this._element):this._config.placement,ke=this._getAttachment(le);this._addAttachmentClass(ke);const{container:Ue}=this._config;ye.set(X,this.constructor.DATA_KEY,this),this._element.ownerDocument.documentElement.contains(this.tip)||(Ue.append(X),q.trigger(this._element,this.constructor.Event.INSERTED)),this._popper?this._popper.update():this._popper=G.createPopper(this._element,X,this._getPopperConfig(ke)),X.classList.add(ai);const St=this._resolvePossibleFunction(this._config.customClass);St&&X.classList.add(...St.split(" ")),"ontouchstart"in document.documentElement&&[].concat(...document.body.children).forEach(Ye=>{q.on(Ye,"mouseover",Ma)});const gt=this.tip.classList.contains(Ga);this._queueCallback(()=>{const Ye=this._hoverState;this._hoverState=null,q.trigger(this._element,this.constructor.Event.SHOWN),"out"===Ye&&this._leave(null,this)},this.tip,gt)}hide(){if(!this._popper)return;const I=this.getTipElement();if(q.trigger(this._element,this.constructor.Event.HIDE).defaultPrevented)return;I.classList.remove(ai),"ontouchstart"in document.documentElement&&[].concat(...document.body.children).forEach(F=>q.off(F,"mouseover",Ma)),this._activeTrigger.click=!1,this._activeTrigger.focus=!1,this._activeTrigger.hover=!1;const O=this.tip.classList.contains(Ga);this._queueCallback(()=>{this._isWithActiveTrigger()||(this._hoverState!==Ir&&I.remove(),this._cleanTipClass(),this._element.removeAttribute("aria-describedby"),q.trigger(this._element,this.constructor.Event.HIDDEN),this._disposePopper())},this.tip,O),this._hoverState=""}update(){null!==this._popper&&this._popper.update()}isWithContent(){return Boolean(this.getTitle())}getTipElement(){if(this.tip)return this.tip;const I=document.createElement("div");I.innerHTML=this._config.template;const O=I.children[0];return this.setContent(O),O.classList.remove(Ga,ai),this.tip=O,this.tip}setContent(I){this._sanitizeAndSetContent(I,this.getTitle(),Tr)}_sanitizeAndSetContent(I,O,F){const X=Me.findOne(F,I);O||!X?this.setElementContent(X,O):X.remove()}setElementContent(I,O){if(null!==I)return wi(O)?(O=on(O),void(this._config.html?O.parentNode!==I&&(I.innerHTML="",I.append(O)):I.textContent=O.textContent)):void(this._config.html?(this._config.sanitize&&(O=Ba(O,this._config.allowList,this._config.sanitizeFn)),I.innerHTML=O):I.textContent=O)}getTitle(){const I=this._element.getAttribute("data-bs-original-title")||this._config.title;return this._resolvePossibleFunction(I)}updateAttachment(I){return"right"===I?"end":"left"===I?"start":I}_initializeOnDelegatedTarget(I,O){return O||this.constructor.getOrCreateInstance(I.delegateTarget,this._getDelegateConfig())}_getOffset(){const{offset:I}=this._config;return"string"==typeof I?I.split(",").map(O=>Number.parseInt(O,10)):"function"==typeof I?O=>I(O,this._element):I}_resolvePossibleFunction(I){return"function"==typeof I?I.call(this._element):I}_getPopperConfig(I){const O={placement:I,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"onChange",enabled:!0,phase:"afterWrite",fn:F=>this._handlePopperPlacementChange(F)}],onFirstUpdate:F=>{F.options.placement!==F.placement&&this._handlePopperPlacementChange(F)}};return Ge(Ge({},O),"function"==typeof this._config.popperConfig?this._config.popperConfig(O):this._config.popperConfig)}_addAttachmentClass(I){this.getTipElement().classList.add(`${this._getBasicClassPrefix()}-${this.updateAttachment(I)}`)}_getAttachment(I){return Va[I.toUpperCase()]}_setListeners(){this._config.trigger.split(" ").forEach(I=>{if("click"===I)q.on(this._element,this.constructor.Event.CLICK,this._config.selector,O=>this.toggle(O));else if("manual"!==I){const F=I===Cr?this.constructor.Event.MOUSELEAVE:this.constructor.Event.FOCUSOUT;q.on(this._element,I===Cr?this.constructor.Event.MOUSEENTER:this.constructor.Event.FOCUSIN,this._config.selector,X=>this._enter(X)),q.on(this._element,F,this._config.selector,X=>this._leave(X))}}),this._hideModalHandler=()=>{this._element&&this.hide()},q.on(this._element.closest(".modal"),Qi,this._hideModalHandler),this._config.selector?this._config=vd(Ge({},this._config),{trigger:"manual",selector:""}):this._fixTitle()}_fixTitle(){const I=this._element.getAttribute("title"),O=typeof this._element.getAttribute("data-bs-original-title");(I||"string"!==O)&&(this._element.setAttribute("data-bs-original-title",I||""),!I||this._element.getAttribute("aria-label")||this._element.textContent||this._element.setAttribute("aria-label",I),this._element.setAttribute("title",""))}_enter(I,O){O=this._initializeOnDelegatedTarget(I,O),I&&(O._activeTrigger["focusin"===I.type?"focus":Cr]=!0),O.getTipElement().classList.contains(ai)||O._hoverState===Ir?O._hoverState=Ir:(clearTimeout(O._timeout),O._hoverState=Ir,O._config.delay&&O._config.delay.show?O._timeout=setTimeout(()=>{O._hoverState===Ir&&O.show()},O._config.delay.show):O.show())}_leave(I,O){O=this._initializeOnDelegatedTarget(I,O),I&&(O._activeTrigger["focusout"===I.type?"focus":Cr]=O._element.contains(I.relatedTarget)),O._isWithActiveTrigger()||(clearTimeout(O._timeout),O._hoverState="out",O._config.delay&&O._config.delay.hide?O._timeout=setTimeout(()=>{"out"===O._hoverState&&O.hide()},O._config.delay.hide):O.hide())}_isWithActiveTrigger(){for(const I in this._activeTrigger)if(this._activeTrigger[I])return!0;return!1}_getConfig(I){const O=Qe.getDataAttributes(this._element);return Object.keys(O).forEach(F=>{wd.has(F)&&delete O[F]}),(I=Ge(Ge(Ge({},this.constructor.Default),O),"object"==typeof I&&I?I:{})).container=!1===I.container?document.body:on(I.container),"number"==typeof I.delay&&(I.delay={show:I.delay,hide:I.delay}),"number"==typeof I.title&&(I.title=I.title.toString()),"number"==typeof I.content&&(I.content=I.content.toString()),an(_l,I,this.constructor.DefaultType),I.sanitize&&(I.template=Ba(I.template,I.allowList,I.sanitizeFn)),I}_getDelegateConfig(){const I={};for(const O in this._config)this.constructor.Default[O]!==this._config[O]&&(I[O]=this._config[O]);return I}_cleanTipClass(){const I=this.getTipElement(),O=new RegExp(`(^|\\s)${this._getBasicClassPrefix()}\\S+`,"g"),F=I.getAttribute("class").match(O);null!==F&&F.length>0&&F.map(X=>X.trim()).forEach(X=>I.classList.remove(X))}_getBasicClassPrefix(){return"bs-tooltip"}_handlePopperPlacementChange(I){const{state:O}=I;O&&(this.tip=O.elements.popper,this._cleanTipClass(),this._addAttachmentClass(this._getAttachment(O.placement)))}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null)}static jQueryInterface(I){return this.each(function(){const O=kt.getOrCreateInstance(this,I);if("string"==typeof I){if(void 0===O[I])throw new TypeError(`No method named "${I}"`);O[I]()}})}}sn(kt);const bl=vd(Ge({},kt.Default),{placement:"right",offset:[0,8],trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>'}),Dh=vd(Ge({},kt.DefaultType),{content:"(string|element|function)"}),Ha={HIDE:"hide.bs.popover",HIDDEN:"hidden.bs.popover",SHOW:"show.bs.popover",SHOWN:"shown.bs.popover",INSERTED:"inserted.bs.popover",CLICK:"click.bs.popover",FOCUSIN:"focusin.bs.popover",FOCUSOUT:"focusout.bs.popover",MOUSEENTER:"mouseenter.bs.popover",MOUSELEAVE:"mouseleave.bs.popover"};class li extends kt{static get Default(){return bl}static get NAME(){return"popover"}static get Event(){return Ha}static get DefaultType(){return Dh}isWithContent(){return this.getTitle()||this._getContent()}setContent(I){this._sanitizeAndSetContent(I,this.getTitle(),".popover-header"),this._sanitizeAndSetContent(I,this._getContent(),".popover-body")}_getContent(){return this._resolvePossibleFunction(this._config.content)}_getBasicClassPrefix(){return"bs-popover"}static jQueryInterface(I){return this.each(function(){const O=li.getOrCreateInstance(this,I);if("string"==typeof I){if(void 0===O[I])throw new TypeError(`No method named "${I}"`);O[I]()}})}}sn(li);const Rt="scrollspy",Wa={offset:10,method:"auto",target:""},wl={offset:"number",method:"string",target:"(string|element)"},Ai="active",Ji=".nav-link, .list-group-item, .dropdown-item",kh="position";class er extends Z{constructor(I,O){super(I),this._scrollElement="BODY"===this._element.tagName?window:this._element,this._config=this._getConfig(O),this._offsets=[],this._targets=[],this._activeTarget=null,this._scrollHeight=0,q.on(this._scrollElement,"scroll.bs.scrollspy",()=>this._process()),this.refresh(),this._process()}static get Default(){return Wa}static get NAME(){return Rt}refresh(){const O="auto"===this._config.method?this._scrollElement===this._scrollElement.window?"offset":kh:this._config.method,F=O===kh?this._getScrollTop():0;this._offsets=[],this._targets=[],this._scrollHeight=this._getScrollHeight(),Me.find(Ji,this._config.target).map(X=>{const $=Qs(X),le=$?Me.findOne($):null;if(le){const ke=le.getBoundingClientRect();if(ke.width||ke.height)return[Qe[O](le).top+F,$]}return null}).filter(X=>X).sort((X,$)=>X[0]-$[0]).forEach(X=>{this._offsets.push(X[0]),this._targets.push(X[1])})}dispose(){q.off(this._scrollElement,".bs.scrollspy"),super.dispose()}_getConfig(I){return(I=Ge(Ge(Ge({},Wa),Qe.getDataAttributes(this._element)),"object"==typeof I&&I?I:{})).target=on(I.target)||document.documentElement,an(Rt,I,wl),I}_getScrollTop(){return this._scrollElement===window?this._scrollElement.pageYOffset:this._scrollElement.scrollTop}_getScrollHeight(){return this._scrollElement.scrollHeight||Math.max(document.body.scrollHeight,document.documentElement.scrollHeight)}_getOffsetHeight(){return this._scrollElement===window?window.innerHeight:this._scrollElement.getBoundingClientRect().height}_process(){const I=this._getScrollTop()+this._config.offset,O=this._getScrollHeight(),F=this._config.offset+O-this._getOffsetHeight();if(this._scrollHeight!==O&&this.refresh(),I>=F){const X=this._targets[this._targets.length-1];this._activeTarget!==X&&this._activate(X)}else{if(this._activeTarget&&I<this._offsets[0]&&this._offsets[0]>0)return this._activeTarget=null,void this._clear();for(let X=this._offsets.length;X--;)this._activeTarget!==this._targets[X]&&I>=this._offsets[X]&&(void 0===this._offsets[X+1]||I<this._offsets[X+1])&&this._activate(this._targets[X])}}_activate(I){this._activeTarget=I,this._clear();const O=Ji.split(",").map(X=>`${X}[data-bs-target="${I}"],${X}[href="${I}"]`),F=Me.findOne(O.join(","),this._config.target);F.classList.add(Ai),F.classList.contains("dropdown-item")?Me.findOne(".dropdown-toggle",F.closest(".dropdown")).classList.add(Ai):Me.parents(F,".nav, .list-group").forEach(X=>{Me.prev(X,".nav-link, .list-group-item").forEach($=>$.classList.add(Ai)),Me.prev(X,".nav-item").forEach($=>{Me.children($,".nav-link").forEach(le=>le.classList.add(Ai))})}),q.trigger(this._scrollElement,"activate.bs.scrollspy",{relatedTarget:I})}_clear(){Me.find(Ji,this._config.target).filter(I=>I.classList.contains(Ai)).forEach(I=>I.classList.remove(Ai))}static jQueryInterface(I){return this.each(function(){const O=er.getOrCreateInstance(this,I);if("string"==typeof I){if(void 0===O[I])throw new TypeError(`No method named "${I}"`);O[I]()}})}}q.on(window,"load.bs.scrollspy.data-api",()=>{Me.find('[data-bs-spy="scroll"]').forEach(H=>new er(H))}),sn(er);const So="active",bn=".active",Dr=":scope > li > .active";class Mo extends Z{static get NAME(){return"tab"}show(){if(this._element.parentNode&&this._element.parentNode.nodeType===Node.ELEMENT_NODE&&this._element.classList.contains(So))return;let I;const O=ge(this._element),F=this._element.closest(".nav, .list-group");F&&(I=Me.find("UL"===F.nodeName||"OL"===F.nodeName?Dr:bn,F),I=I[I.length-1]);const X=I?q.trigger(I,"hide.bs.tab",{relatedTarget:this._element}):null;if(q.trigger(this._element,"show.bs.tab",{relatedTarget:I}).defaultPrevented||null!==X&&X.defaultPrevented)return;this._activate(this._element,F);const $=()=>{q.trigger(I,"hidden.bs.tab",{relatedTarget:this._element}),q.trigger(this._element,"shown.bs.tab",{relatedTarget:I})};O?this._activate(O,O.parentNode,$):$()}_activate(I,O,F){const X=(!O||"UL"!==O.nodeName&&"OL"!==O.nodeName?Me.children(O,bn):Me.find(Dr,O))[0],$=F&&X&&X.classList.contains("fade"),le=()=>this._transitionComplete(I,X,F);X&&$?(X.classList.remove("show"),this._queueCallback(le,I,!0)):le()}_transitionComplete(I,O,F){if(O){O.classList.remove(So);const $=Me.findOne(":scope > .dropdown-menu .active",O.parentNode);$&&$.classList.remove(So),"tab"===O.getAttribute("role")&&O.setAttribute("aria-selected",!1)}I.classList.add(So),"tab"===I.getAttribute("role")&&I.setAttribute("aria-selected",!0),I.classList.contains("fade")&&I.classList.add("show");let X=I.parentNode;if(X&&"LI"===X.nodeName&&(X=X.parentNode),X&&X.classList.contains("dropdown-menu")){const $=I.closest(".dropdown");$&&Me.find(".dropdown-toggle",$).forEach(le=>le.classList.add(So)),I.setAttribute("aria-expanded",!0)}F&&F()}static jQueryInterface(I){return this.each(function(){const O=Mo.getOrCreateInstance(this);if("string"==typeof I){if(void 0===O[I])throw new TypeError(`No method named "${I}"`);O[I]()}})}}q.on(document,"click.bs.tab.data-api",'[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',function(H){["A","AREA"].includes(this.tagName)&&H.preventDefault(),Xi(this)||Mo.getOrCreateInstance(this).show()}),sn(Mo);const Lr="show",nr="showing",Lh={animation:"boolean",autohide:"boolean",delay:"number"},Ph={animation:!0,autohide:!0,delay:5e3};class Pr extends Z{constructor(I,O){super(I),this._config=this._getConfig(O),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get DefaultType(){return Lh}static get Default(){return Ph}static get NAME(){return"toast"}show(){q.trigger(this._element,"show.bs.toast").defaultPrevented||(this._clearTimeout(),this._config.animation&&this._element.classList.add("fade"),this._element.classList.remove("hide"),this._element.classList.add(Lr),this._element.classList.add(nr),this._queueCallback(()=>{this._element.classList.remove(nr),q.trigger(this._element,"shown.bs.toast"),this._maybeScheduleHide()},this._element,this._config.animation))}hide(){this._element.classList.contains(Lr)&&(q.trigger(this._element,"hide.bs.toast").defaultPrevented||(this._element.classList.add(nr),this._queueCallback(()=>{this._element.classList.add("hide"),this._element.classList.remove(nr),this._element.classList.remove(Lr),q.trigger(this._element,"hidden.bs.toast")},this._element,this._config.animation)))}dispose(){this._clearTimeout(),this._element.classList.contains(Lr)&&this._element.classList.remove(Lr),super.dispose()}_getConfig(I){return I=Ge(Ge(Ge({},Ph),Qe.getDataAttributes(this._element)),"object"==typeof I&&I?I:{}),an("toast",I,this.constructor.DefaultType),I}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay)))}_onInteraction(I,O){switch(I.type){case"mouseover":case"mouseout":this._hasMouseInteraction=O;break;case"focusin":case"focusout":this._hasKeyboardInteraction=O}if(O)return void this._clearTimeout();const F=I.relatedTarget;this._element===F||this._element.contains(F)||this._maybeScheduleHide()}_setListeners(){q.on(this._element,"mouseover.bs.toast",I=>this._onInteraction(I,!0)),q.on(this._element,"mouseout.bs.toast",I=>this._onInteraction(I,!1)),q.on(this._element,"focusin.bs.toast",I=>this._onInteraction(I,!0)),q.on(this._element,"focusout.bs.toast",I=>this._onInteraction(I,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(I){return this.each(function(){const O=Pr.getOrCreateInstance(this,I);if("string"==typeof I){if(void 0===O[I])throw new TypeError(`No method named "${I}"`);O[I](this)}})}}return Be(Pr),sn(Pr),{Alert:Ce,Button:Si,Carousel:kn,Collapse:Kt,Dropdown:_t,Modal:Ln,Offcanvas:Fn,Popover:li,ScrollSpy:er,Tab:Mo,Toast:Pr,Tooltip:kt}}),function(he,pt){"object"==typeof exports&&"undefined"!=typeof module?pt(exports):"function"==typeof define&&define.amd?define(["exports"],pt):pt((he="undefined"!=typeof globalThis?globalThis:he||self).echarts={})}(this,function(he){"use strict";var pt=function(n,t){return(pt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])})(n,t)};function G(n,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=n}pt(n,t),n.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}var wa=function(){return(wa=Object.assign||function(n){for(var t,e=1,i=arguments.length;e<i;e++)for(var r in t=arguments[e])Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}).apply(this,arguments)};function mh(n,t,e){if(e||2===arguments.length)for(var i,r=0,o=t.length;r<o;r++)!i&&r in t||(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return n.concat(i||t)}var Qs=function(){this.firefox=!1,this.ie=!1,this.edge=!1,this.newEdge=!1,this.weChat=!1},ge=new function(){this.browser=new Qs,this.node=!1,this.wxa=!1,this.worker=!1,this.canvasSupported=!1,this.svgSupported=!1,this.touchEventsSupported=!1,this.pointerEventsSupported=!1,this.domSupported=!1,this.transformSupported=!1,this.transform3dSupported=!1};"object"==typeof wx&&"function"==typeof wx.getSystemInfoSync?(ge.wxa=!0,ge.canvasSupported=!0,ge.touchEventsSupported=!0):"undefined"==typeof document&&"undefined"!=typeof self?(ge.worker=!0,ge.canvasSupported=!0):"undefined"==typeof navigator?(ge.node=!0,ge.canvasSupported=!0,ge.svgSupported=!0):function(n,t){var e=t.browser,i=n.match(/Firefox\/([\d.]+)/),r=n.match(/MSIE\s([\d.]+)/)||n.match(/Trident\/.+?rv:(([\d.]+))/),o=n.match(/Edge?\/([\d.]+)/),a=/micromessenger/i.test(n);i&&(e.firefox=!0,e.version=i[1]),r&&(e.ie=!0,e.version=r[1]),o&&(e.edge=!0,e.version=o[1],e.newEdge=+o[1].split(".")[0]>18),a&&(e.weChat=!0),t.canvasSupported=!!document.createElement("canvas").getContext,t.svgSupported="undefined"!=typeof SVGRect,t.touchEventsSupported="ontouchstart"in window&&!e.ie&&!e.edge,t.pointerEventsSupported="onpointerdown"in window&&(e.edge||e.ie&&+e.version>=11),t.domSupported="undefined"!=typeof document;var s=document.documentElement.style;t.transform3dSupported=(e.ie&&"transition"in s||e.edge||"WebKitCSSMatrix"in window&&"m11"in new WebKitCSSMatrix||"MozPerspective"in s)&&!("OTransition"in s),t.transformSupported=t.transform3dSupported||e.ie&&+e.version>=9}(navigator.userAgent,ge);var Js={"[object Function]":!0,"[object RegExp]":!0,"[object Date]":!0,"[object Error]":!0,"[object CanvasGradient]":!0,"[object CanvasPattern]":!0,"[object Image]":!0,"[object Canvas]":!0},wi={"[object Int8Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Int16Array]":!0,"[object Uint16Array]":!0,"[object Int32Array]":!0,"[object Uint32Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0},on=Object.prototype.toString,an=Array.prototype,fo=an.forEach,Xi=an.filter,Sa=an.slice,Ma=an.map,Yi=function(){}.constructor,go=Yi?Yi.prototype:null,mo="__proto__",Gt={};function sn(n,t){Gt[n]=t}var Zi=2311;function Ia(){return Zi++}function Cn(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];"undefined"!=typeof console&&console.error.apply(console,n)}function de(n){if(null==n||"object"!=typeof n)return n;var t=n,e=on.call(n);if("[object Array]"===e){if(!qi(n)){t=[];for(var i=0,r=n.length;i<r;i++)t[i]=de(n[i])}}else if(wi[e]){if(!qi(n)){var o=n.constructor;if(o.from)t=o.from(n);else for(t=new o(n.length),i=0,r=n.length;i<r;i++)t[i]=de(n[i])}}else if(!Js[e]&&!qi(n)&&!Me(n))for(var a in t={},n)n.hasOwnProperty(a)&&a!==mo&&(t[a]=de(n[a]));return t}function we(n,t,e){if(!pe(t)||!pe(n))return e?de(t):n;for(var i in t)if(t.hasOwnProperty(i)&&i!==mo){var r=n[i],o=t[i];!pe(o)||!pe(r)||Z(o)||Z(r)||Me(o)||Me(r)||vo(o)||vo(r)||qi(o)||qi(r)?!e&&i in n||(n[i]=de(t[i])):we(r,o,e)}return n}function Ta(n,t){for(var e=n[0],i=1,r=n.length;i<r;i++)e=we(e,n[i],t);return e}function K(n,t){if(Object.assign)Object.assign(n,t);else for(var e in t)t.hasOwnProperty(e)&&e!==mo&&(n[e]=t[e]);return n}function ce(n,t,e){for(var i=q(t),r=0;r<i.length;r++){var o=i[r];(e?null!=t[o]:null==n[o])&&(n[o]=t[o])}return n}var ji=function(){return Gt.createCanvas()};function Ie(n,t){if(n){if(n.indexOf)return n.indexOf(t);for(var e=0,i=n.length;e<i;e++)if(n[e]===t)return e}return-1}function Ca(n,t){var e=n.prototype;function i(){}for(var r in i.prototype=t.prototype,n.prototype=new i,e)e.hasOwnProperty(r)&&(n.prototype[r]=e[r]);n.prototype.constructor=n,n.superClass=t}function ht(n,t,e){if(n="prototype"in n?n.prototype:n,t="prototype"in t?t.prototype:t,Object.getOwnPropertyNames)for(var i=Object.getOwnPropertyNames(t),r=0;r<i.length;r++){var o=i[r];"constructor"!==o&&(e?null!=t[o]:null==n[o])&&(n[o]=t[o])}else ce(n,t,e)}function Ft(n){return!!n&&"string"!=typeof n&&"number"==typeof n.length}function k(n,t,e){if(n&&t)if(n.forEach&&n.forEach===fo)n.forEach(t,e);else if(n.length===+n.length)for(var i=0,r=n.length;i<r;i++)t.call(e,n[i],i,n);else for(var o in n)n.hasOwnProperty(o)&&t.call(e,n[o],o,n)}function J(n,t,e){if(!n)return[];if(!t)return Aa(n);if(n.map&&n.map===Ma)return n.map(t,e);for(var i=[],r=0,o=n.length;r<o;r++)i.push(t.call(e,n[r],r,n));return i}function ii(n,t,e,i){if(n&&t){for(var r=0,o=n.length;r<o;r++)e=t.call(i,e,n[r],r,n);return e}}function Ke(n,t,e){if(!n)return[];if(!t)return Aa(n);if(n.filter&&n.filter===Xi)return n.filter(t,e);for(var i=[],r=0,o=n.length;r<o;r++)t.call(e,n[r],r,n)&&i.push(n[r]);return i}function el(n,t,e){if(n&&t)for(var i=0,r=n.length;i<r;i++)if(t.call(e,n[i],i,n))return n[i]}function q(n){if(!n)return[];if(Object.keys)return Object.keys(n);var t=[];for(var e in n)n.hasOwnProperty(e)&&t.push(e);return t}Gt.createCanvas=function(){return document.createElement("canvas")};var re=go&&Be(go.bind)?go.call.bind(go.bind):function(n,t){for(var e=[],i=2;i<arguments.length;i++)e[i-2]=arguments[i];return function(){return n.apply(t,e.concat(Sa.call(arguments)))}};function ye(n){for(var t=[],e=1;e<arguments.length;e++)t[e-1]=arguments[e];return function(){return n.apply(this,t.concat(Sa.call(arguments)))}}function Z(n){return Array.isArray?Array.isArray(n):"[object Array]"===on.call(n)}function Be(n){return"function"==typeof n}function Ce(n){return"string"==typeof n}function yo(n){return"[object String]"===on.call(n)}function Si(n){return"number"==typeof n}function pe(n){var t=typeof n;return"function"===t||!!n&&"object"===t}function vo(n){return!!Js[on.call(n)]}function Qe(n){return!!wi[on.call(n)]}function Me(n){return"object"==typeof n&&"number"==typeof n.nodeType&&"object"==typeof n.ownerDocument}function tl(n){return null!=n.colorStops}function nl(n){return null!=n.image}function yh(n){return"[object RegExp]"===on.call(n)}function An(n){return n!=n}function st(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];for(var e=0,i=n.length;e<i;e++)if(null!=n[e])return n[e]}function Te(n,t){return null!=n?n:t}function qt(n,t,e){return null!=n?n:null!=t?t:e}function Aa(n){for(var t=[],e=1;e<arguments.length;e++)t[e-1]=arguments[e];return Sa.apply(n,t)}function _o(n){if("number"==typeof n)return[n,n,n,n];var t=n.length;return 2===t?[n[0],n[1],n[0],n[1]]:3===t?[n[0],n[1],n[2],n[1]]:n}function vt(n,t){if(!n)throw new Error(t)}function Dn(n){return null==n?null:"function"==typeof n.trim?n.trim():n.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}var kn="__ec_primitive__";function xr(n){n[kn]=!0}function qi(n){return n[kn]}var vh=function(){function n(t){this.data={};var e=Z(t);this.data={};var i=this;function r(o,a){e?i.set(o,a):i.set(a,o)}t instanceof n?t.each(r):t&&k(t,r)}return n.prototype.get=function(t){return this.data.hasOwnProperty(t)?this.data[t]:null},n.prototype.set=function(t,e){return this.data[t]=e},n.prototype.each=function(t,e){for(var i in this.data)this.data.hasOwnProperty(i)&&t.call(e,this.data[i],i)},n.prototype.keys=function(){return q(this.data)},n.prototype.removeKey=function(t){delete this.data[t]},n}();function ue(n){return new vh(n)}function Ki(n,t){for(var e=new n.constructor(n.length+t.length),i=0;i<n.length;i++)e[i]=n[i];var r=n.length;for(i=0;i<t.length;i++)e[i+r]=t[i];return e}function ri(n,t){var e;if(Object.create)e=Object.create(n);else{var i=function(){};i.prototype=n,e=new i}return t&&K(e,t),e}function se(n,t){return n.hasOwnProperty(t)}function yn(){}var il=Object.freeze({__proto__:null,$override:sn,guid:Ia,logError:Cn,clone:de,merge:we,mergeAll:Ta,extend:K,defaults:ce,createCanvas:ji,indexOf:Ie,inherits:Ca,mixin:ht,isArrayLike:Ft,each:k,map:J,reduce:ii,filter:Ke,find:el,keys:q,bind:re,curry:ye,isArray:Z,isFunction:Be,isString:Ce,isStringSafe:yo,isNumber:Si,isObject:pe,isBuiltInObject:vo,isTypedArray:Qe,isDom:Me,isGradientObject:tl,isImagePatternObject:nl,isRegExp:yh,eqNaN:An,retrieve:st,retrieve2:Te,retrieve3:qt,slice:Aa,normalizeCssArray:_o,assert:vt,trim:Dn,setAsPrimitive:xr,isPrimitive:qi,HashMap:vh,createHashMap:ue,concatArray:Ki,createObject:ri,hasOwn:se,noop:yn});function Kt(n,t){return null==n&&(n=0),null==t&&(t=0),[n,t]}function Dt(n,t){return n[0]=t[0],n[1]=t[1],n}function vn(n){return[n[0],n[1]]}function rl(n,t,e){return n[0]=t,n[1]=e,n}function Da(n,t,e){return n[0]=t[0]+e[0],n[1]=t[1]+e[1],n}function br(n,t,e,i){return n[0]=t[0]+e[0]*i,n[1]=t[1]+e[1]*i,n}function Mi(n,t,e){return n[0]=t[0]-e[0],n[1]=t[1]-e[1],n}function wr(n){return Math.sqrt(Ii(n))}function Ii(n){return n[0]*n[0]+n[1]*n[1]}function Sr(n,t,e){return n[0]=t[0]*e,n[1]=t[1]*e,n}function Mr(n,t){var e=wr(t);return 0===e?(n[0]=0,n[1]=0):(n[0]=t[0]/e,n[1]=t[1]/e),n}function bo(n,t){return Math.sqrt((n[0]-t[0])*(n[0]-t[0])+(n[1]-t[1])*(n[1]-t[1]))}var oi=bo;function xh(n,t){return(n[0]-t[0])*(n[0]-t[0])+(n[1]-t[1])*(n[1]-t[1])}var Ti=xh;function wo(n,t,e,i){return n[0]=t[0]+i*(e[0]-t[0]),n[1]=t[1]+i*(e[1]-t[1]),n}function wt(n,t,e){var i=t[0],r=t[1];return n[0]=e[0]*i+e[2]*r+e[4],n[1]=e[1]*i+e[3]*r+e[5],n}function Ci(n,t,e){return n[0]=Math.min(t[0],e[0]),n[1]=Math.min(t[1],e[1]),n}function _t(n,t,e){return n[0]=Math.max(t[0],e[0]),n[1]=Math.max(t[1],e[1]),n}var bh=Object.freeze({__proto__:null,create:Kt,copy:Dt,clone:vn,set:rl,add:Da,scaleAndAdd:br,sub:Mi,len:wr,length:wr,lenSquare:Ii,lengthSquare:Ii,mul:function(n,t,e){return n[0]=t[0]*e[0],n[1]=t[1]*e[1],n},div:function(n,t,e){return n[0]=t[0]/e[0],n[1]=t[1]/e[1],n},dot:function(n,t){return n[0]*t[0]+n[1]*t[1]},scale:Sr,normalize:Mr,distance:bo,dist:oi,distanceSquare:xh,distSquare:Ti,negate:function(n,t){return n[0]=-t[0],n[1]=-t[1],n},lerp:wo,applyTransform:wt,min:Ci,max:_t}),$i=function(n,t){this.target=n,this.topTarget=t&&t.topTarget},ol=function(){function n(t){this.handler=t,t.on("mousedown",this._dragStart,this),t.on("mousemove",this._drag,this),t.on("mouseup",this._dragEnd,this)}return n.prototype._dragStart=function(t){for(var e=t.target;e&&!e.draggable;)e=e.parent;e&&(this._draggingTarget=e,e.dragging=!0,this._x=t.offsetX,this._y=t.offsetY,this.handler.dispatchToElement(new $i(e,t),"dragstart",t.event))},n.prototype._drag=function(t){var e=this._draggingTarget;if(e){var i=t.offsetX,r=t.offsetY,o=i-this._x,a=r-this._y;this._x=i,this._y=r,e.drift(o,a,t),this.handler.dispatchToElement(new $i(e,t),"drag",t.event);var s=this.handler.findHover(i,r,e).target,l=this._dropTarget;this._dropTarget=s,e!==s&&(l&&s!==l&&this.handler.dispatchToElement(new $i(l,t),"dragleave",t.event),s&&s!==l&&this.handler.dispatchToElement(new $i(s,t),"dragenter",t.event))}},n.prototype._dragEnd=function(t){var e=this._draggingTarget;e&&(e.dragging=!1),this.handler.dispatchToElement(new $i(e,t),"dragend",t.event),this._dropTarget&&this.handler.dispatchToElement(new $i(this._dropTarget,t),"drop",t.event),this._draggingTarget=null,this._dropTarget=null},n}(),_n=function(){function n(t){t&&(this._$eventProcessor=t)}return n.prototype.on=function(t,e,i,r){this._$handlers||(this._$handlers={});var o=this._$handlers;if("function"==typeof e&&(r=i,i=e,e=null),!i||!t)return this;var a=this._$eventProcessor;null!=e&&a&&a.normalizeQuery&&(e=a.normalizeQuery(e)),o[t]||(o[t]=[]);for(var s=0;s<o[t].length;s++)if(o[t][s].h===i)return this;var l={h:i,query:e,ctx:r||this,callAtLast:i.zrEventfulCallAtLast},u=o[t].length-1,h=o[t][u];return h&&h.callAtLast?o[t].splice(u,0,l):o[t].push(l),this},n.prototype.isSilent=function(t){var e=this._$handlers;return!e||!e[t]||!e[t].length},n.prototype.off=function(t,e){var i=this._$handlers;if(!i)return this;if(!t)return this._$handlers={},this;if(e){if(i[t]){for(var r=[],o=0,a=i[t].length;o<a;o++)i[t][o].h!==e&&r.push(i[t][o]);i[t]=r}i[t]&&0===i[t].length&&delete i[t]}else delete i[t];return this},n.prototype.trigger=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];if(!this._$handlers)return this;var r=this._$handlers[t],o=this._$eventProcessor;if(r)for(var a=e.length,s=r.length,l=0;l<s;l++){var u=r[l];if(!o||!o.filter||null==u.query||o.filter(t,u.query))switch(a){case 0:u.h.call(u.ctx);break;case 1:u.h.call(u.ctx,e[0]);break;case 2:u.h.call(u.ctx,e[0],e[1]);break;default:u.h.apply(u.ctx,e)}}return o&&o.afterTrigger&&o.afterTrigger(t),this},n.prototype.triggerWithContext=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];if(!this._$handlers)return this;var r=this._$handlers[t],o=this._$eventProcessor;if(r)for(var a=e.length,s=e[a-1],l=r.length,u=0;u<l;u++){var h=r[u];if(!o||!o.filter||null==h.query||o.filter(t,h.query))switch(a){case 0:h.h.call(s);break;case 1:h.h.call(s,e[0]);break;case 2:h.h.call(s,e[0],e[1]);break;default:h.h.apply(s,e.slice(1,a-1))}}return o&&o.afterTrigger&&o.afterTrigger(t),this},n}(),_d=Math.log(2);function ka(n,t,e,i,r,o){var a=i+"-"+r,s=n.length;if(o.hasOwnProperty(a))return o[a];if(1===t){var l=Math.round(Math.log((1<<s)-1&~r)/_d);return n[e][l]}for(var u=i|1<<e,h=e+1;i&1<<h;)h++;for(var c=0,p=0,d=0;p<s;p++){var f=1<<p;f&r||(c+=(d%2?-1:1)*n[e][p]*ka(n,t-1,h,u,r|f,o),d++)}return o[a]=c,c}function al(n,t){var e=[[n[0],n[1],1,0,0,0,-t[0]*n[0],-t[0]*n[1]],[0,0,0,n[0],n[1],1,-t[1]*n[0],-t[1]*n[1]],[n[2],n[3],1,0,0,0,-t[2]*n[2],-t[2]*n[3]],[0,0,0,n[2],n[3],1,-t[3]*n[2],-t[3]*n[3]],[n[4],n[5],1,0,0,0,-t[4]*n[4],-t[4]*n[5]],[0,0,0,n[4],n[5],1,-t[5]*n[4],-t[5]*n[5]],[n[6],n[7],1,0,0,0,-t[6]*n[6],-t[6]*n[7]],[0,0,0,n[6],n[7],1,-t[7]*n[6],-t[7]*n[7]]],i={},r=ka(e,8,0,0,0,i);if(0!==r){for(var o=[],a=0;a<8;a++)for(var s=0;s<8;s++)null==o[s]&&(o[s]=0),o[s]+=((a+s)%2?-1:1)*ka(e,7,0===a?1:0,1<<a,1<<s,i)/r*t[a];return function(l,u,h){var c=u*o[6]+h*o[7]+1;l[0]=(u*o[0]+h*o[1]+o[2])/c,l[1]=(u*o[3]+h*o[4]+o[5])/c}}}var La=[];function sl(n,t,e,i,r){if(t.getBoundingClientRect&&ge.domSupported&&!wh(t)){var o=t.___zrEVENTSAVED||(t.___zrEVENTSAVED={}),a=function(s,l,u){for(var h=u?"invTrans":"trans",c=l[h],p=l.srcCoords,d=[],f=[],g=!0,m=0;m<4;m++){var y=s[m].getBoundingClientRect(),v=2*m,_=y.left,x=y.top;d.push(_,x),g=g&&p&&_===p[v]&&x===p[v+1],f.push(s[m].offsetLeft,s[m].offsetTop)}return g&&c?c:(l.srcCoords=d,l[h]=u?al(f,d):al(d,f))}(function(s,l){var u=l.markers;if(u)return u;u=l.markers=[];for(var h=["left","right"],c=["top","bottom"],p=0;p<4;p++){var d=document.createElement("div"),f=p%2,g=(p>>1)%2;d.style.cssText=["position: absolute","visibility: hidden","padding: 0","margin: 0","border-width: 0","user-select: none","width:0","height:0",h[f]+":0",c[g]+":0",h[1-f]+":auto",c[1-g]+":auto",""].join("!important;"),s.appendChild(d),u.push(d)}return u}(t,o),o,r);if(a)return a(n,e,i),!0}return!1}function wh(n){return"CANVAS"===n.nodeName.toUpperCase()}var Pa="undefined"!=typeof window&&!!window.addEventListener,Sh=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,Oa=[];function Ea(n,t,e,i){return e=e||{},i||!ge.canvasSupported?ll(n,t,e):ge.browser.firefox&&ge.browser.version<"39"&&null!=t.layerX&&t.layerX!==t.offsetX?(e.zrX=t.layerX,e.zrY=t.layerY):null!=t.offsetX?(e.zrX=t.offsetX,e.zrY=t.offsetY):ll(n,t,e),e}function ll(n,t,e){if(ge.domSupported&&n.getBoundingClientRect){var i=t.clientX,r=t.clientY;if(wh(n)){var o=n.getBoundingClientRect();return e.zrX=i-o.left,void(e.zrY=r-o.top)}if(sl(Oa,n,i,r))return e.zrX=Oa[0],void(e.zrY=Oa[1])}e.zrX=e.zrY=0}function Na(n){return n||window.event}function xn(n,t,e){if(null!=(t=Na(t)).zrX)return t;var i=t.type;if(i&&i.indexOf("touch")>=0){var r="touchend"!==i?t.targetTouches[0]:t.changedTouches[0];r&&Ea(n,r,t,e)}else{Ea(n,t,t,e);var o=function(s){var l=s.wheelDelta;if(l)return l;var u=s.deltaX,h=s.deltaY;return null==u||null==h?l:3*Math.abs(0!==h?h:u)*(h>0?-1:h<0?1:u>0?-1:1)}(t);t.zrDelta=o?o/120:-(t.detail||0)/3}var a=t.button;return null==t.which&&void 0!==a&&Sh.test(t.type)&&(t.which=1&a?1:2&a?3:4&a?2:0),t}function Ra(n,t,e,i){Pa?n.addEventListener(t,e,i):n.attachEvent("on"+t,e)}var Gn=Pa?function(n){n.preventDefault(),n.stopPropagation(),n.cancelBubble=!0}:function(n){n.returnValue=!1,n.cancelBubble=!0};function ul(n){return 2===n.which||3===n.which}var Mh=function(){function n(){this._track=[]}return n.prototype.recognize=function(t,e,i){return this._doTrack(t,e,i),this._recognize(t)},n.prototype.clear=function(){return this._track.length=0,this},n.prototype._doTrack=function(t,e,i){var r=t.touches;if(r){for(var o={points:[],touches:[],target:e,event:t},a=0,s=r.length;a<s;a++){var l=r[a],u=Ea(i,l,{});o.points.push([u.zrX,u.zrY]),o.touches.push(l)}this._track.push(o)}},n.prototype._recognize=function(t){for(var e in za)if(za.hasOwnProperty(e)){var i=za[e](this._track,t);if(i)return i}},n}();function hl(n){var t=n[1][0]-n[0][0],e=n[1][1]-n[0][1];return Math.sqrt(t*t+e*e)}var za={pinch:function(n,t){var e=n.length;if(e){var i,r=(n[e-1]||{}).points,o=(n[e-2]||{}).points||r;if(o&&o.length>1&&r&&r.length>1){var a=hl(r)/hl(o);!isFinite(a)&&(a=1),t.pinchScale=a;var s=[((i=r)[0][0]+i[1][0])/2,(i[0][1]+i[1][1])/2];return t.pinchX=s[0],t.pinchY=s[1],{type:"pinch",target:n[0].target,event:t}}}}};function Ih(){Gn(this.event)}var pl=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.handler=null,e}return G(t,n),t.prototype.dispose=function(){},t.prototype.setCursor=function(){},t}(_n),Ln=function(n,t){this.x=n,this.y=t},Th=["click","dblclick","mousewheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],dl=function(n){function t(e,i,r,o){var a=n.call(this)||this;return a._hovered=new Ln(0,0),a.storage=e,a.painter=i,a.painterRoot=o,r=r||new pl,a.proxy=null,a.setHandlerProxy(r),a._draggingMgr=new ol(a),a}return G(t,n),t.prototype.setHandlerProxy=function(e){this.proxy&&this.proxy.dispose(),e&&(k(Th,function(i){e.on&&e.on(i,this[i],this)},this),e.handler=this),this.proxy=e},t.prototype.mousemove=function(e){var i=e.zrX,r=e.zrY,o=fl(this,i,r),a=this._hovered,s=a.target;s&&!s.__zr&&(s=(a=this.findHover(a.x,a.y)).target);var l=this._hovered=o?new Ln(i,r):this.findHover(i,r),u=l.target,h=this.proxy;h.setCursor&&h.setCursor(u?u.cursor:"default"),s&&u!==s&&this.dispatchToElement(a,"mouseout",e),this.dispatchToElement(l,"mousemove",e),u&&u!==s&&this.dispatchToElement(l,"mouseover",e)},t.prototype.mouseout=function(e){var i=e.zrEventControl;"only_globalout"!==i&&this.dispatchToElement(this._hovered,"mouseout",e),"no_globalout"!==i&&this.trigger("globalout",{type:"globalout",event:e})},t.prototype.resize=function(){this._hovered=new Ln(0,0)},t.prototype.dispatch=function(e,i){var r=this[e];r&&r.call(this,i)},t.prototype.dispose=function(){this.proxy.dispose(),this.storage=null,this.proxy=null,this.painter=null},t.prototype.setCursorStyle=function(e){var i=this.proxy;i.setCursor&&i.setCursor(e)},t.prototype.dispatchToElement=function(e,i,r){var u,h,o=(e=e||{}).target;if(!o||!o.silent){for(var a="on"+i,s={type:i,event:h=r,target:(u=e).target,topTarget:u.topTarget,cancelBubble:!1,offsetX:h.zrX,offsetY:h.zrY,gestureEvent:h.gestureEvent,pinchX:h.pinchX,pinchY:h.pinchY,pinchScale:h.pinchScale,wheelDelta:h.zrDelta,zrByTouch:h.zrByTouch,which:h.which,stop:Ih};o&&(o[a]&&(s.cancelBubble=!!o[a].call(o,s)),o.trigger(i,s),o=o.__hostTarget?o.__hostTarget:o.parent,!s.cancelBubble););s.cancelBubble||(this.trigger(i,s),this.painter&&this.painter.eachOtherLayer&&this.painter.eachOtherLayer(function(l){"function"==typeof l[a]&&l[a].call(l,s),l.trigger&&l.trigger(i,s)}))}},t.prototype.findHover=function(e,i,r){for(var o=this.storage.getDisplayList(),a=new Ln(e,i),s=o.length-1;s>=0;s--){var l=void 0;if(o[s]!==r&&!o[s].ignore&&(l=xd(o[s],e,i))&&(!a.topTarget&&(a.topTarget=o[s]),"silent"!==l)){a.target=o[s];break}}return a},t.prototype.processGesture=function(e,i){this._gestureMgr||(this._gestureMgr=new Mh);var r=this._gestureMgr;"start"===i&&r.clear();var o=r.recognize(e,this.findHover(e.zrX,e.zrY,null).target,this.proxy.dom);if("end"===i&&r.clear(),o){var a=o.type;e.gestureEvent=a;var s=new Ln;s.target=o.target,this.dispatchToElement(s,a,o.event)}},t}(_n);function xd(n,t,e){if(n[n.rectHover?"rectContain":"contain"](t,e)){for(var i=n,r=void 0,o=!1;i;){if(i.ignoreClip&&(o=!0),!o){var a=i.getClipPath();if(a&&!a.contain(t,e))return!1;i.silent&&(r=!0)}i=i.__hostTarget||i.parent}return!r||"silent"}return!1}function fl(n,t,e){var i=n.painter;return t<0||t>i.getWidth()||e<0||e>i.getHeight()}function gl(n,t,e,i){var r=t+1;if(r===e)return 1;if(i(n[r++],n[t])<0){for(;r<e&&i(n[r],n[r-1])<0;)r++;!function(o,a,s){for(s--;a<s;){var l=o[a];o[a++]=o[s],o[s--]=l}}(n,t,r)}else for(;r<e&&i(n[r],n[r-1])>=0;)r++;return r-t}function ml(n,t,e,i,r){for(i===t&&i++;i<e;i++){for(var o,a=n[i],s=t,l=i;s<l;)r(a,n[o=s+l>>>1])<0?l=o:s=o+1;var u=i-s;switch(u){case 3:n[s+3]=n[s+2];case 2:n[s+2]=n[s+1];case 1:n[s+1]=n[s];break;default:for(;u>0;)n[s+u]=n[s+u-1],u--}n[s]=a}}function Fn(n,t,e,i,r,o){var a=0,s=0,l=1;if(o(n,t[e+r])>0){for(s=i-r;l<s&&o(n,t[e+r+l])>0;)a=l,(l=1+(l<<1))<=0&&(l=s);l>s&&(l=s),a+=r,l+=r}else{for(s=r+1;l<s&&o(n,t[e+r-l])<=0;)a=l,(l=1+(l<<1))<=0&&(l=s);l>s&&(l=s);var u=a;a=r-l,l=r-u}for(a++;a<l;){var h=a+(l-a>>>1);o(n,t[e+h])>0?a=h+1:l=h}return l}function yl(n,t,e,i,r,o){var a=0,s=0,l=1;if(o(n,t[e+r])<0){for(s=r+1;l<s&&o(n,t[e+r-l])<0;)a=l,(l=1+(l<<1))<=0&&(l=s);l>s&&(l=s);var u=a;a=r-l,l=r-u}else{for(s=i-r;l<s&&o(n,t[e+r+l])>=0;)a=l,(l=1+(l<<1))<=0&&(l=s);l>s&&(l=s),a+=r,l+=r}for(a++;a<l;){var h=a+(l-a>>>1);o(n,t[e+h])<0?l=h:a=h+1}return l}function vl(n,t,e,i){e||(e=0),i||(i=n.length);var r=i-e;if(!(r<2)){var o=0;if(r<32)ml(n,e,i,e+(o=gl(n,e,i,t)),t);else{var a=function(n,t){var e,i,r=7,o=0,a=[];function s(l){var u=e[l],h=i[l],c=e[l+1],p=i[l+1];i[l]=h+p,l===o-3&&(e[l+1]=e[l+2],i[l+1]=i[l+2]),o--;var d=yl(n[c],n,u,h,0,t);u+=d,0!=(h-=d)&&0!==(p=Fn(n[u+h-1],n,c,p,p-1,t))&&(h<=p?function(f,g,m,y){var v=0;for(v=0;v<g;v++)a[v]=n[f+v];var _=0,x=m,b=f;if(n[b++]=n[x++],0!=--y)if(1!==g){for(var w,S,M,T=r;;){w=0,S=0,M=!1;do{if(t(n[x],a[_])<0){if(n[b++]=n[x++],S++,w=0,0==--y){M=!0;break}}else if(n[b++]=a[_++],w++,S=0,1==--g){M=!0;break}}while((w|S)<T);if(M)break;do{if(0!==(w=yl(n[x],a,_,g,0,t))){for(v=0;v<w;v++)n[b+v]=a[_+v];if(b+=w,_+=w,(g-=w)<=1){M=!0;break}}if(n[b++]=n[x++],0==--y){M=!0;break}if(0!==(S=Fn(a[_],n,x,y,0,t))){for(v=0;v<S;v++)n[b+v]=n[x+v];if(b+=S,x+=S,0==(y-=S)){M=!0;break}}if(n[b++]=a[_++],1==--g){M=!0;break}T--}while(w>=7||S>=7);if(M)break;T<0&&(T=0),T+=2}if((r=T)<1&&(r=1),1===g){for(v=0;v<y;v++)n[b+v]=n[x+v];n[b+y]=a[_]}else{if(0===g)throw new Error;for(v=0;v<g;v++)n[b+v]=a[_+v]}}else{for(v=0;v<y;v++)n[b+v]=n[x+v];n[b+y]=a[_]}else for(v=0;v<g;v++)n[b+v]=a[_+v]}(u,h,c,p):function(f,g,m,y){var v=0;for(v=0;v<y;v++)a[v]=n[m+v];var _=f+g-1,x=y-1,b=m+y-1,w=0,S=0;if(n[b--]=n[_--],0!=--g)if(1!==y){for(var M=r;;){var T=0,C=0,A=!1;do{if(t(a[x],n[_])<0){if(n[b--]=n[_--],T++,C=0,0==--g){A=!0;break}}else if(n[b--]=a[x--],C++,T=0,1==--y){A=!0;break}}while((T|C)<M);if(A)break;do{if(0!=(T=g-yl(a[x],n,f,g,g-1,t))){for(g-=T,S=1+(b-=T),w=1+(_-=T),v=T-1;v>=0;v--)n[S+v]=n[w+v];if(0===g){A=!0;break}}if(n[b--]=a[x--],1==--y){A=!0;break}if(0!=(C=y-Fn(n[_],a,0,y,y-1,t))){for(y-=C,S=1+(b-=C),w=1+(x-=C),v=0;v<C;v++)n[S+v]=a[w+v];if(y<=1){A=!0;break}}if(n[b--]=n[_--],0==--g){A=!0;break}M--}while(T>=7||C>=7);if(A)break;M<0&&(M=0),M+=2}if((r=M)<1&&(r=1),1===y){for(S=1+(b-=g),w=1+(_-=g),v=g-1;v>=0;v--)n[S+v]=n[w+v];n[b]=a[x]}else{if(0===y)throw new Error;for(w=b-(y-1),v=0;v<y;v++)n[w+v]=a[v]}}else{for(S=1+(b-=g),w=1+(_-=g),v=g-1;v>=0;v--)n[S+v]=n[w+v];n[b]=a[x]}else for(w=b-(y-1),v=0;v<y;v++)n[w+v]=a[v]}(u,h,c,p))}return e=[],i=[],{mergeRuns:function(){for(;o>1;){var l=o-2;if(l>=1&&i[l-1]<=i[l]+i[l+1]||l>=2&&i[l-2]<=i[l]+i[l-1])i[l-1]<i[l+1]&&l--;else if(i[l]>i[l+1])break;s(l)}},forceMergeRuns:function(){for(;o>1;){var l=o-2;l>0&&i[l-1]<i[l+1]&&l--,s(l)}},pushRun:function(l,u){e[o]=l,i[o]=u,o+=1}}}(n,t),s=function(u){for(var h=0;u>=32;)h|=1&u,u>>=1;return u+h}(r);do{if((o=gl(n,e,i,t))<s){var l=r;l>s&&(l=s),ml(n,e,e+l,e+o,t),o=l}a.pushRun(e,o),a.mergeRuns(),r-=o,e+=o}while(0!==r);a.forceMergeRuns()}}}k(["click","mousedown","mouseup","mousewheel","dblclick","contextmenu"],function(n){dl.prototype[n]=function(t){var e,i,r=t.zrX,o=t.zrY,a=fl(this,r,o);if("mouseup"===n&&a||(i=(e=this.findHover(r,o)).target),"mousedown"===n)this._downEl=i,this._downPoint=[t.zrX,t.zrY],this._upEl=i;else if("mouseup"===n)this._upEl=i;else if("click"===n){if(this._downEl!==this._upEl||!this._downPoint||oi(this._downPoint,[t.zrX,t.zrY])>4)return;this._downPoint=null}this.dispatchToElement(e,n,t)}});var Ch=!1;function Ba(){Ch||(Ch=!0,console.warn("z / z2 / zlevel of displayable is invalid, which may cause unexpected errors"))}function _l(n,t){return n.zlevel===t.zlevel?n.z===t.z?n.z2-t.z2:n.z-t.z:n.zlevel-t.zlevel}var wd=function(){function n(){this._roots=[],this._displayList=[],this._displayListLen=0,this.displayableSortFunc=_l}return n.prototype.traverse=function(t,e){for(var i=0;i<this._roots.length;i++)this._roots[i].traverse(t,e)},n.prototype.getDisplayList=function(t,e){e=e||!1;var i=this._displayList;return!t&&i.length||this.updateDisplayList(e),i},n.prototype.updateDisplayList=function(t){this._displayListLen=0;for(var e=this._roots,i=this._displayList,r=0,o=e.length;r<o;r++)this._updateAndAddDisplayable(e[r],null,t);i.length=this._displayListLen,ge.canvasSupported&&vl(i,_l)},n.prototype._updateAndAddDisplayable=function(t,e,i){if(!t.ignore||i){t.beforeUpdate(),t.update(),t.afterUpdate();var r=t.getClipPath();if(t.ignoreClip)e=null;else if(r){e=e?e.slice():[];for(var o=r,a=t;o;)o.parent=a,o.updateTransform(),e.push(o),a=o,o=o.getClipPath()}if(t.childrenRef){for(var s=t.childrenRef(),l=0;l<s.length;l++){var u=s[l];t.__dirty&&(u.__dirty|=1),this._updateAndAddDisplayable(u,e,i)}t.__dirty=0}else{var h=t;e&&e.length?h.__clipPaths=e:h.__clipPaths&&h.__clipPaths.length>0&&(h.__clipPaths=[]),isNaN(h.z)&&(Ba(),h.z=0),isNaN(h.z2)&&(Ba(),h.z2=0),isNaN(h.zlevel)&&(Ba(),h.zlevel=0),this._displayList[this._displayListLen++]=h}var c=t.getDecalElement&&t.getDecalElement();c&&this._updateAndAddDisplayable(c,e,i);var p=t.getTextGuideLine();p&&this._updateAndAddDisplayable(p,e,i);var d=t.getTextContent();d&&this._updateAndAddDisplayable(d,e,i)}},n.prototype.addRoot=function(t){t.__zr&&t.__zr.storage===this||this._roots.push(t)},n.prototype.delRoot=function(t){if(t instanceof Array)for(var e=0,i=t.length;e<i;e++)this.delRoot(t[e]);else{var r=Ie(this._roots,t);r>=0&&this._roots.splice(r,1)}},n.prototype.delAllRoots=function(){this._roots=[],this._displayList=[],this._displayListLen=0},n.prototype.getRoots=function(){return this._roots},n.prototype.dispose=function(){this._displayList=null,this._roots=null},n}(),xl="undefined"!=typeof window&&(window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.msRequestAnimationFrame&&window.msRequestAnimationFrame.bind(window)||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame)||function(n){return setTimeout(n,16)},Va={linear:function(n){return n},quadraticIn:function(n){return n*n},quadraticOut:function(n){return n*(2-n)},quadraticInOut:function(n){return(n*=2)<1?.5*n*n:-.5*(--n*(n-2)-1)},cubicIn:function(n){return n*n*n},cubicOut:function(n){return--n*n*n+1},cubicInOut:function(n){return(n*=2)<1?.5*n*n*n:.5*((n-=2)*n*n+2)},quarticIn:function(n){return n*n*n*n},quarticOut:function(n){return 1- --n*n*n*n},quarticInOut:function(n){return(n*=2)<1?.5*n*n*n*n:-.5*((n-=2)*n*n*n-2)},quinticIn:function(n){return n*n*n*n*n},quinticOut:function(n){return--n*n*n*n*n+1},quinticInOut:function(n){return(n*=2)<1?.5*n*n*n*n*n:.5*((n-=2)*n*n*n*n+2)},sinusoidalIn:function(n){return 1-Math.cos(n*Math.PI/2)},sinusoidalOut:function(n){return Math.sin(n*Math.PI/2)},sinusoidalInOut:function(n){return.5*(1-Math.cos(Math.PI*n))},exponentialIn:function(n){return 0===n?0:Math.pow(1024,n-1)},exponentialOut:function(n){return 1===n?1:1-Math.pow(2,-10*n)},exponentialInOut:function(n){return 0===n?0:1===n?1:(n*=2)<1?.5*Math.pow(1024,n-1):.5*(2-Math.pow(2,-10*(n-1)))},circularIn:function(n){return 1-Math.sqrt(1-n*n)},circularOut:function(n){return Math.sqrt(1- --n*n)},circularInOut:function(n){return(n*=2)<1?-.5*(Math.sqrt(1-n*n)-1):.5*(Math.sqrt(1-(n-=2)*n)+1)},elasticIn:function(n){var t,e=.1;return 0===n?0:1===n?1:(!e||e<1?(e=1,t=.1):t=.4*Math.asin(1/e)/(2*Math.PI),-e*Math.pow(2,10*(n-=1))*Math.sin((n-t)*(2*Math.PI)/.4))},elasticOut:function(n){var t,e=.1;return 0===n?0:1===n?1:(!e||e<1?(e=1,t=.1):t=.4*Math.asin(1/e)/(2*Math.PI),e*Math.pow(2,-10*n)*Math.sin((n-t)*(2*Math.PI)/.4)+1)},elasticInOut:function(n){var t,e=.1;return 0===n?0:1===n?1:(!e||e<1?(e=1,t=.1):t=.4*Math.asin(1/e)/(2*Math.PI),(n*=2)<1?e*Math.pow(2,10*(n-=1))*Math.sin((n-t)*(2*Math.PI)/.4)*-.5:e*Math.pow(2,-10*(n-=1))*Math.sin((n-t)*(2*Math.PI)/.4)*.5+1)},backIn:function(n){var t=1.70158;return n*n*((t+1)*n-t)},backOut:function(n){var t=1.70158;return--n*n*((t+1)*n+t)+1},backInOut:function(n){var t=2.5949095;return(n*=2)<1?n*n*((t+1)*n-t)*.5:.5*((n-=2)*n*((t+1)*n+t)+2)},bounceIn:function(n){return 1-Va.bounceOut(1-n)},bounceOut:function(n){return n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375},bounceInOut:function(n){return n<.5?.5*Va.bounceIn(2*n):.5*Va.bounceOut(2*n-1)+.5}},Sd=function(){function n(t){this._initialized=!1,this._startTime=0,this._pausedTime=0,this._paused=!1,this._life=t.life||1e3,this._delay=t.delay||0,this.loop=null!=t.loop&&t.loop,this.gap=t.gap||0,this.easing=t.easing||"linear",this.onframe=t.onframe,this.ondestroy=t.ondestroy,this.onrestart=t.onrestart}return n.prototype.step=function(t,e){if(this._initialized||(this._startTime=t+this._delay,this._initialized=!0),!this._paused){var i=(t-this._startTime-this._pausedTime)/this._life;i<0&&(i=0),i=Math.min(i,1);var r=this.easing,o="string"==typeof r?Va[r]:r,a="function"==typeof o?o(i):i;if(this.onframe&&this.onframe(a),1===i){if(!this.loop)return!0;this._restart(t),this.onrestart&&this.onrestart()}return!1}this._pausedTime+=e},n.prototype._restart=function(t){this._startTime=t-(t-this._startTime-this._pausedTime)%this._life+this.gap,this._pausedTime=0},n.prototype.pause=function(){this._paused=!0},n.prototype.resume=function(){this._paused=!1},n}(),Ah=function(n){this.value=n},Ga=function(){function n(){this._len=0}return n.prototype.insert=function(t){var e=new Ah(t);return this.insertEntry(e),e},n.prototype.insertEntry=function(t){this.head?(this.tail.next=t,t.prev=this.tail,t.next=null,this.tail=t):this.head=this.tail=t,this._len++},n.prototype.remove=function(t){var e=t.prev,i=t.next;e?e.next=i:this.head=i,i?i.prev=e:this.tail=e,t.next=t.prev=null,this._len--},n.prototype.len=function(){return this._len},n.prototype.clear=function(){this.head=this.tail=null,this._len=0},n}(),ai=function(){function n(t){this._list=new Ga,this._maxSize=10,this._map={},this._maxSize=t}return n.prototype.put=function(t,e){var i=this._list,r=this._map,o=null;if(null==r[t]){var a=i.len(),s=this._lastRemovedEntry;if(a>=this._maxSize&&a>0){var l=i.head;i.remove(l),delete r[l.key],o=l.value,this._lastRemovedEntry=l}s?s.value=e:s=new Ah(e),s.key=t,i.insertEntry(s),r[t]=s}return o},n.prototype.get=function(t){var e=this._map[t],i=this._list;if(null!=e)return e!==i.tail&&(i.remove(e),i.insertEntry(e)),e.value},n.prototype.clear=function(){this._list.clear(),this._map={}},n.prototype.len=function(){return this._list.len()},n}(),Ir={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function ln(n){return(n=Math.round(n))<0?0:n>255?255:n}function Tr(n){return n<0?0:n>1?1:n}function Fa(n){var t=n;return t.length&&"%"===t.charAt(t.length-1)?ln(parseFloat(t)/100*255):ln(parseInt(t,10))}function Qi(n){var t=n;return t.length&&"%"===t.charAt(t.length-1)?Tr(parseFloat(t)/100):Tr(parseFloat(t))}function Cr(n,t,e){return e<0?e+=1:e>1&&(e-=1),6*e<1?n+(t-n)*e*6:2*e<1?t:3*e<2?n+(t-n)*(2/3-e)*6:n}function si(n,t,e){return n+(t-n)*e}function kt(n,t,e,i,r){return n[0]=t,n[1]=e,n[2]=i,n[3]=r,n}function bl(n,t){return n[0]=t[0],n[1]=t[1],n[2]=t[2],n[3]=t[3],n}var Dh=new ai(20),Ha=null;function li(n,t){Ha&&bl(Ha,t),Ha=Dh.put(n,Ha||t.slice())}function Rt(n,t){if(n){t=t||[];var e=Dh.get(n);if(e)return bl(t,e);var i=(n+="").replace(/ /g,"").toLowerCase();if(i in Ir)return bl(t,Ir[i]),li(n,t),t;var r,o=i.length;if("#"===i.charAt(0))return 4===o||5===o?(r=parseInt(i.slice(1,4),16))>=0&&r<=4095?(kt(t,(3840&r)>>4|(3840&r)>>8,240&r|(240&r)>>4,15&r|(15&r)<<4,5===o?parseInt(i.slice(4),16)/15:1),li(n,t),t):void kt(t,0,0,0,1):7===o||9===o?(r=parseInt(i.slice(1,7),16))>=0&&r<=16777215?(kt(t,(16711680&r)>>16,(65280&r)>>8,255&r,9===o?parseInt(i.slice(7),16)/255:1),li(n,t),t):void kt(t,0,0,0,1):void 0;var a=i.indexOf("("),s=i.indexOf(")");if(-1!==a&&s+1===o){var l=i.substr(0,a),u=i.substr(a+1,s-(a+1)).split(","),h=1;switch(l){case"rgba":if(4!==u.length)return 3===u.length?kt(t,+u[0],+u[1],+u[2],1):kt(t,0,0,0,1);h=Qi(u.pop());case"rgb":return 3!==u.length?void kt(t,0,0,0,1):(kt(t,Fa(u[0]),Fa(u[1]),Fa(u[2]),h),li(n,t),t);case"hsla":return 4!==u.length?void kt(t,0,0,0,1):(u[3]=Qi(u[3]),Wa(u,t),li(n,t),t);case"hsl":return 3!==u.length?void kt(t,0,0,0,1):(Wa(u,t),li(n,t),t);default:return}}kt(t,0,0,0,1)}}function Wa(n,t){var e=(parseFloat(n[0])%360+360)%360/360,i=Qi(n[1]),r=Qi(n[2]),o=r<=.5?r*(i+1):r+i-r*i,a=2*r-o;return kt(t=t||[],ln(255*Cr(a,o,e+1/3)),ln(255*Cr(a,o,e)),ln(255*Cr(a,o,e-1/3)),1),4===n.length&&(t[3]=n[3]),t}function wl(n,t){var e=Rt(n);if(e){for(var i=0;i<3;i++)e[i]=t<0?e[i]*(1-t)|0:(255-e[i])*t+e[i]|0,e[i]>255?e[i]=255:e[i]<0&&(e[i]=0);return bn(e,4===e.length?"rgba":"rgb")}}function Ai(n){var t=Rt(n);if(t)return((1<<24)+(t[0]<<16)+(t[1]<<8)+ +t[2]).toString(16).slice(1)}function Ji(n,t,e){if(t&&t.length&&n>=0&&n<=1){e=e||[];var i=n*(t.length-1),r=Math.floor(i),o=Math.ceil(i),a=t[r],s=t[o],l=i-r;return e[0]=ln(si(a[0],s[0],l)),e[1]=ln(si(a[1],s[1],l)),e[2]=ln(si(a[2],s[2],l)),e[3]=Tr(si(a[3],s[3],l)),e}}function er(n,t,e){if(t&&t.length&&n>=0&&n<=1){var i=n*(t.length-1),r=Math.floor(i),o=Math.ceil(i),a=Rt(t[r]),s=Rt(t[o]),l=i-r,u=bn([ln(si(a[0],s[0],l)),ln(si(a[1],s[1],l)),ln(si(a[2],s[2],l)),Tr(si(a[3],s[3],l))],"rgba");return e?{color:u,leftIndex:r,rightIndex:o,value:i}:u}}function tr(n,t,e,i){var o,r=Rt(n);if(n)return r=function(o){if(o){var a,s,l=o[0]/255,u=o[1]/255,h=o[2]/255,c=Math.min(l,u,h),p=Math.max(l,u,h),d=p-c,f=(p+c)/2;if(0===d)a=0,s=0;else{s=f<.5?d/(p+c):d/(2-p-c);var g=((p-l)/6+d/2)/d,m=((p-u)/6+d/2)/d,y=((p-h)/6+d/2)/d;l===p?a=y-m:u===p?a=1/3+g-y:h===p&&(a=2/3+m-g),a<0&&(a+=1),a>1&&(a-=1)}var v=[360*a,s,f];return null!=o[3]&&v.push(o[3]),v}}(r),null!=t&&(r[0]=(o=t,(o=Math.round(o))<0?0:o>360?360:o)),null!=e&&(r[1]=Qi(e)),null!=i&&(r[2]=Qi(i)),bn(Wa(r),"rgba")}function Ar(n,t){var e=Rt(n);if(e&&null!=t)return e[3]=Tr(t),bn(e,"rgba")}function bn(n,t){if(n&&n.length){var e=n[0]+","+n[1]+","+n[2];return"rgba"!==t&&"hsva"!==t&&"hsla"!==t||(e+=","+n[3]),t+"("+e+")"}}function Dr(n,t){var e=Rt(n);return e?(.299*e[0]+.587*e[1]+.114*e[2])*e[3]/255+(1-e[3])*t:0}var Mo=Object.freeze({__proto__:null,parse:Rt,lift:wl,toHex:Ai,fastLerp:Ji,fastMapToColor:Ji,lerp:er,mapToColor:er,modifyHSL:tr,modifyAlpha:Ar,stringify:bn,lum:Dr,random:function(){return"rgb("+Math.round(255*Math.random())+","+Math.round(255*Math.random())+","+Math.round(255*Math.random())+")"}}),Ua=Array.prototype.slice;function kr(n,t,e){return(t-n)*e+n}function Lr(n,t,e,i){for(var r=t.length,o=0;o<r;o++)n[o]=kr(t[o],e[o],i)}function nr(n,t,e,i){for(var r=t.length,o=0;o<r;o++)n[o]=t[o]+e[o]*i;return n}function Lh(n,t,e,i){for(var r=t.length,o=r&&t[0].length,a=0;a<r;a++){n[a]||(n[a]=[]);for(var s=0;s<o;s++)n[a][s]=t[a][s]+e[a][s]*i}return n}function Ph(n,t,e){var i=n,r=t;if(i.push&&r.push){var o=i.length,a=r.length;if(o!==a)if(o>a)i.length=a;else for(var s=o;s<a;s++)i.push(1===e?r[s]:Ua.call(r[s]));var l=i[0]&&i[0].length;for(s=0;s<i.length;s++)if(1===e)isNaN(i[s])&&(i[s]=r[s]);else for(var u=0;u<l;u++)isNaN(i[s][u])&&(i[s][u]=r[s][u])}}function Pr(n,t){var e=n.length;if(e!==t.length)return!1;for(var i=0;i<e;i++)if(n[i]!==t[i])return!1;return!0}function H(n,t,e,i,r,o,a){var s=.5*(e-n),l=.5*(i-t);return(2*(t-e)+s+l)*a+(-3*(t-e)-2*s-l)*o+s*r+t}function I(n,t,e,i,r,o,a,s){for(var l=t.length,u=0;u<l;u++)n[u]=H(t[u],e[u],i[u],r[u],o,a,s)}function O(n){if(Ft(n)){var t=n.length;if(Ft(n[0])){for(var e=[],i=0;i<t;i++)e.push(Ua.call(n[i]));return e}return Ua.call(n)}return n}function F(n){return n[0]=Math.floor(n[0]),n[1]=Math.floor(n[1]),n[2]=Math.floor(n[2]),"rgba("+n.join(",")+")"}var X,$,le=[0,0,0,0],ke=function(){function n(t){this.keyframes=[],this.maxTime=0,this.arrDim=0,this.interpolable=!0,this._needsSort=!1,this._isAllValueEqual=!0,this._lastFrame=0,this._lastFramePercent=0,this.propName=t}return n.prototype.isFinished=function(){return this._finished},n.prototype.setFinished=function(){this._finished=!0,this._additiveTrack&&this._additiveTrack.setFinished()},n.prototype.needsAnimate=function(){return!this._isAllValueEqual&&this.keyframes.length>=2&&this.interpolable&&this.maxTime>0},n.prototype.getAdditiveTrack=function(){return this._additiveTrack},n.prototype.addKeyframe=function(t,e){t>=this.maxTime?this.maxTime=t:this._needsSort=!0;var u,i=this.keyframes,r=i.length;if(this.interpolable)if(Ft(e)){var o=Ft((u=e)&&u[0])?2:1;if(r>0&&this.arrDim!==o)return void(this.interpolable=!1);if(1===o&&"number"!=typeof e[0]||2===o&&"number"!=typeof e[0][0])return void(this.interpolable=!1);if(r>0){var a=i[r-1];this._isAllValueEqual&&(1===o&&Pr(e,a.value)||(this._isAllValueEqual=!1))}this.arrDim=o}else{if(this.arrDim>0)return void(this.interpolable=!1);if("string"==typeof e){var s=Rt(e);s?(e=s,this.isValueColor=!0):this.interpolable=!1}else if("number"!=typeof e||isNaN(e))return void(this.interpolable=!1);this._isAllValueEqual&&r>0&&(a=i[r-1],(this.isValueColor&&!Pr(a.value,e)||a.value!==e)&&(this._isAllValueEqual=!1))}var l={time:t,value:e,percent:0};return this.keyframes.push(l),l},n.prototype.prepare=function(t){var e=this.keyframes;this._needsSort&&e.sort(function(l,u){return l.time-u.time});for(var i=this.arrDim,r=e.length,o=e[r-1],a=0;a<r;a++)e[a].percent=e[a].time/this.maxTime,i>0&&a!==r-1&&Ph(e[a].value,o.value,i);if(t&&this.needsAnimate()&&t.needsAnimate()&&i===t.arrDim&&this.isValueColor===t.isValueColor&&!t._finished){this._additiveTrack=t;var s=e[0].value;for(a=0;a<r;a++)0===i?e[a].additiveValue=this.isValueColor?nr([],e[a].value,s,-1):e[a].value-s:1===i?e[a].additiveValue=nr([],e[a].value,s,-1):2===i&&(e[a].additiveValue=Lh([],e[a].value,s,-1))}},n.prototype.step=function(t,e){if(!this._finished){this._additiveTrack&&this._additiveTrack._finished&&(this._additiveTrack=null);var i,r=null!=this._additiveTrack,o=r?"additiveValue":"value",a=this.keyframes,s=this.keyframes.length,l=this.propName,u=this.arrDim,h=this.isValueColor;if(e<0)i=0;else if(e<this._lastFramePercent){for(i=Math.min(this._lastFrame+1,s-1);i>=0&&!(a[i].percent<=e);i--);i=Math.min(i,s-2)}else{for(i=this._lastFrame;i<s&&!(a[i].percent>e);i++);i=Math.min(i-1,s-2)}var c=a[i+1],p=a[i];if(p&&c){this._lastFrame=i,this._lastFramePercent=e;var d=c.percent-p.percent;if(0!==d){var f=(e-p.percent)/d,g=r?this._additiveValue:h?le:t[l];if((u>0||h)&&!g&&(g=this._additiveValue=[]),this.useSpline){var m=a[i][o],y=a[0===i?i:i-1][o],v=a[i>s-2?s-1:i+1][o],_=a[i>s-3?s-1:i+2][o];if(u>0)1===u?I(g,y,m,v,_,f,f*f,f*f*f):function(b,w,S,M,T,C,A,D){for(var L=w.length,P=w[0].length,E=0;E<L;E++){b[E]||(b[1]=[]);for(var N=0;N<P;N++)b[E][N]=H(w[E][N],S[E][N],M[E][N],T[E][N],C,A,D)}}(g,y,m,v,_,f,f*f,f*f*f);else if(h)I(g,y,m,v,_,f,f*f,f*f*f),r||(t[l]=F(g));else{var x=void 0;x=this.interpolable?H(y,m,v,_,f,f*f,f*f*f):v,r?this._additiveValue=x:t[l]=x}}else u>0?1===u?Lr(g,p[o],c[o],f):function(b,w,S,M){for(var T=w.length,C=T&&w[0].length,A=0;A<T;A++){b[A]||(b[A]=[]);for(var D=0;D<C;D++)b[A][D]=kr(w[A][D],S[A][D],M)}}(g,p[o],c[o],f):h?(Lr(g,p[o],c[o],f),r||(t[l]=F(g))):(x=void 0,x=this.interpolable?kr(p[o],c[o],f):f>.5?c[o]:p[o],r?this._additiveValue=x:t[l]=x);r&&this._addToTarget(t)}}}},n.prototype._addToTarget=function(t){var e=this.arrDim,i=this.propName,r=this._additiveValue;0===e?this.isValueColor?(Rt(t[i],le),nr(le,le,r,1),t[i]=F(le)):t[i]=t[i]+r:1===e?nr(t[i],t[i],r,1):2===e&&Lh(t[i],t[i],r,1)},n}(),Ue=function(){function n(t,e,i){this._tracks={},this._trackKeys=[],this._delay=0,this._maxTime=0,this._paused=!1,this._started=0,this._clip=null,this._target=t,this._loop=e,e&&i?Cn("Can' use additive animation on looped animation."):this._additiveAnimators=i}return n.prototype.getTarget=function(){return this._target},n.prototype.changeTarget=function(t){this._target=t},n.prototype.when=function(t,e){return this.whenWithKeys(t,e,q(e))},n.prototype.whenWithKeys=function(t,e,i){for(var r=this._tracks,o=0;o<i.length;o++){var a=i[o],s=r[a];if(!s){s=r[a]=new ke(a);var l=void 0,u=this._getAdditiveTrack(a);if(u){var h=u.keyframes[u.keyframes.length-1];l=h&&h.value,u.isValueColor&&l&&(l=F(l))}else l=this._target[a];if(null==l)continue;0!==t&&s.addKeyframe(0,O(l)),this._trackKeys.push(a)}s.addKeyframe(t,O(e[a]))}return this._maxTime=Math.max(this._maxTime,t),this},n.prototype.pause=function(){this._clip.pause(),this._paused=!0},n.prototype.resume=function(){this._clip.resume(),this._paused=!1},n.prototype.isPaused=function(){return!!this._paused},n.prototype._doneCallback=function(){this._setTracksFinished(),this._clip=null;var t=this._doneCbs;if(t)for(var e=t.length,i=0;i<e;i++)t[i].call(this)},n.prototype._abortedCallback=function(){this._setTracksFinished();var t=this.animation,e=this._abortedCbs;if(t&&t.removeClip(this._clip),this._clip=null,e)for(var i=0;i<e.length;i++)e[i].call(this)},n.prototype._setTracksFinished=function(){for(var t=this._tracks,e=this._trackKeys,i=0;i<e.length;i++)t[e[i]].setFinished()},n.prototype._getAdditiveTrack=function(t){var e,i=this._additiveAnimators;if(i)for(var r=0;r<i.length;r++){var o=i[r].getTrack(t);o&&(e=o)}return e},n.prototype.start=function(t,e){if(!(this._started>0)){this._started=1;for(var i=this,r=[],o=0;o<this._trackKeys.length;o++){var a=this._trackKeys[o],s=this._tracks[a],l=this._getAdditiveTrack(a),u=s.keyframes;if(s.prepare(l),s.needsAnimate())r.push(s);else if(!s.interpolable){var h=u[u.length-1];h&&(i._target[s.propName]=h.value)}}if(r.length||e){var c=new Sd({life:this._maxTime,loop:this._loop,delay:this._delay,onframe:function(p){i._started=2;var d=i._additiveAnimators;if(d){for(var f=!1,g=0;g<d.length;g++)if(d[g]._clip){f=!0;break}f||(i._additiveAnimators=null)}for(g=0;g<r.length;g++)r[g].step(i._target,p);var m=i._onframeCbs;if(m)for(g=0;g<m.length;g++)m[g](i._target,p)},ondestroy:function(){i._doneCallback()}});this._clip=c,this.animation&&this.animation.addClip(c),t&&"spline"!==t&&(c.easing=t)}else this._doneCallback();return this}},n.prototype.stop=function(t){this._clip&&(t&&this._clip.onframe(1),this._abortedCallback())},n.prototype.delay=function(t){return this._delay=t,this},n.prototype.during=function(t){return t&&(this._onframeCbs||(this._onframeCbs=[]),this._onframeCbs.push(t)),this},n.prototype.done=function(t){return t&&(this._doneCbs||(this._doneCbs=[]),this._doneCbs.push(t)),this},n.prototype.aborted=function(t){return t&&(this._abortedCbs||(this._abortedCbs=[]),this._abortedCbs.push(t)),this},n.prototype.getClip=function(){return this._clip},n.prototype.getTrack=function(t){return this._tracks[t]},n.prototype.stopTracks=function(t,e){if(!t.length||!this._clip)return!0;for(var i=this._tracks,r=this._trackKeys,o=0;o<t.length;o++){var a=i[t[o]];a&&(e?a.step(this._target,1):1===this._started&&a.step(this._target,0),a.setFinished())}var s=!0;for(o=0;o<r.length;o++)if(!i[r[o]].isFinished()){s=!1;break}return s&&this._abortedCallback(),s},n.prototype.saveFinalToTarget=function(t,e){if(t){e=e||this._trackKeys;for(var i=0;i<e.length;i++){var r=e[i],o=this._tracks[r];if(o&&!o.isFinished()){var a=o.keyframes,s=a[a.length-1];if(s){var l=O(s.value);o.isValueColor&&(l=F(l)),t[r]=l}}}}},n.prototype.__changeFinalValue=function(t,e){e=e||q(t);for(var i=0;i<e.length;i++){var r=e[i],o=this._tracks[r];if(o){var a=o.keyframes;if(a.length>1){var s=a.pop();o.addKeyframe(s.time,t[r]),o.prepare(o.getAdditiveTrack())}}}},n}(),St=function(n){function t(e){var i=n.call(this)||this;return i._running=!1,i._time=0,i._pausedTime=0,i._pauseStart=0,i._paused=!1,i.stage=(e=e||{}).stage||{},i.onframe=e.onframe||function(){},i}return G(t,n),t.prototype.addClip=function(e){e.animation&&this.removeClip(e),this._clipsHead?(this._clipsTail.next=e,e.prev=this._clipsTail,e.next=null,this._clipsTail=e):this._clipsHead=this._clipsTail=e,e.animation=this},t.prototype.addAnimator=function(e){e.animation=this;var i=e.getClip();i&&this.addClip(i)},t.prototype.removeClip=function(e){if(e.animation){var i=e.prev,r=e.next;i?i.next=r:this._clipsHead=r,r?r.prev=i:this._clipsTail=i,e.next=e.prev=e.animation=null}},t.prototype.removeAnimator=function(e){var i=e.getClip();i&&this.removeClip(i),e.animation=null},t.prototype.update=function(e){for(var i=(new Date).getTime()-this._pausedTime,r=i-this._time,o=this._clipsHead;o;){var a=o.next;o.step(i,r)&&(o.ondestroy&&o.ondestroy(),this.removeClip(o)),o=a}this._time=i,e||(this.onframe(r),this.trigger("frame",r),this.stage.update&&this.stage.update())},t.prototype._startLoop=function(){var e=this;this._running=!0,xl(function i(){e._running&&(xl(i),!e._paused&&e.update())})},t.prototype.start=function(){this._running||(this._time=(new Date).getTime(),this._pausedTime=0,this._startLoop())},t.prototype.stop=function(){this._running=!1},t.prototype.pause=function(){this._paused||(this._pauseStart=(new Date).getTime(),this._paused=!0)},t.prototype.resume=function(){this._paused&&(this._pausedTime+=(new Date).getTime()-this._pauseStart,this._paused=!1)},t.prototype.clear=function(){for(var e=this._clipsHead;e;){var i=e.next;e.prev=e.next=e.animation=null,e=i}this._clipsHead=this._clipsTail=null},t.prototype.isFinished=function(){return null==this._clipsHead},t.prototype.animate=function(e,i){i=i||{},this.start();var r=new Ue(e,i.loop);return this.addAnimator(r),r},t}(_n),gt=ge.domSupported,Ye=($={pointerdown:1,pointerup:1,pointermove:1,pointerout:1},{mouse:X=["click","dblclick","mousewheel","wheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],touch:["touchstart","touchend","touchmove"],pointer:J(X,function(n){var t=n.replace("mouse","pointer");return $.hasOwnProperty(t)?t:n})}),Ht=["mousemove","mouseup"],Lt=["pointermove","pointerup"],un=!1;function Xt(n){var t=n.pointerType;return"pen"===t||"touch"===t}function Hn(n){n&&(n.zrByTouch=!0)}function Di(n,t){for(var e=t,i=!1;e&&9!==e.nodeType&&!(i=e.domBelongToZr||e!==t&&e===n.painterRoot);)e=e.parentNode;return i}var Io=function(n,t){this.stopPropagation=yn,this.stopImmediatePropagation=yn,this.preventDefault=yn,this.type=t.type,this.target=this.currentTarget=n.dom,this.pointerType=t.pointerType,this.clientX=t.clientX,this.clientY=t.clientY},zt={mousedown:function(n){n=xn(this.dom,n),this.__mayPointerCapture=[n.zrX,n.zrY],this.trigger("mousedown",n)},mousemove:function(n){n=xn(this.dom,n);var t=this.__mayPointerCapture;!t||n.zrX===t[0]&&n.zrY===t[1]||this.__togglePointerCapture(!0),this.trigger("mousemove",n)},mouseup:function(n){n=xn(this.dom,n),this.__togglePointerCapture(!1),this.trigger("mouseup",n)},mouseout:function(n){Di(this,(n=xn(this.dom,n)).toElement||n.relatedTarget)||(this.__pointerCapturing&&(n.zrEventControl="no_globalout"),this.trigger("mouseout",n))},wheel:function(n){un=!0,n=xn(this.dom,n),this.trigger("mousewheel",n)},mousewheel:function(n){un||(n=xn(this.dom,n),this.trigger("mousewheel",n))},touchstart:function(n){Hn(n=xn(this.dom,n)),this.__lastTouchMoment=new Date,this.handler.processGesture(n,"start"),zt.mousemove.call(this,n),zt.mousedown.call(this,n)},touchmove:function(n){Hn(n=xn(this.dom,n)),this.handler.processGesture(n,"change"),zt.mousemove.call(this,n)},touchend:function(n){Hn(n=xn(this.dom,n)),this.handler.processGesture(n,"end"),zt.mouseup.call(this,n),+new Date-+this.__lastTouchMoment<300&&zt.click.call(this,n)},pointerdown:function(n){zt.mousedown.call(this,n)},pointermove:function(n){Xt(n)||zt.mousemove.call(this,n)},pointerup:function(n){zt.mouseup.call(this,n)},pointerout:function(n){Xt(n)||zt.mouseout.call(this,n)}};k(["click","dblclick","contextmenu"],function(n){zt[n]=function(t){t=xn(this.dom,t),this.trigger(n,t)}});var Xa={pointermove:function(n){Xt(n)||Xa.mousemove.call(this,n)},pointerup:function(n){Xa.mouseup.call(this,n)},mousemove:function(n){this.trigger("mousemove",n)},mouseup:function(n){var t=this.__pointerCapturing;this.__togglePointerCapture(!1),this.trigger("mouseup",n),t&&(n.zrEventControl="only_globalout",this.trigger("mouseout",n))}};function Oh(n,t,e,i){n.mounted[t]=e,n.listenerOpts[t]=i,Ra(n.domTarget,t,e,i)}function Md(n){var t,e,i,o=n.mounted;for(var a in o)o.hasOwnProperty(a)&&(t=n.domTarget,e=a,i=o[a],Pa?t.removeEventListener(e,i,n.listenerOpts[a]):t.detachEvent("on"+e,i));n.mounted={}}var Xv=function(n,t){this.mounted={},this.listenerOpts={},this.touching=!1,this.domTarget=n,this.domHandlers=t},tA=function(n){function t(e,i){var r=n.call(this)||this;return r.__pointerCapturing=!1,r.dom=e,r.painterRoot=i,r._localHandlerScope=new Xv(e,zt),gt&&(r._globalHandlerScope=new Xv(document,Xa)),function(n,t){var e=t.domHandlers;ge.pointerEventsSupported?k(Ye.pointer,function(i){Oh(t,i,function(r){e[i].call(n,r)})}):(ge.touchEventsSupported&&k(Ye.touch,function(i){Oh(t,i,function(r){var o;e[i].call(n,r),(o=t).touching=!0,null!=o.touchTimer&&(clearTimeout(o.touchTimer),o.touchTimer=null),o.touchTimer=setTimeout(function(){o.touching=!1,o.touchTimer=null},700)})}),k(Ye.mouse,function(i){Oh(t,i,function(r){r=Na(r),t.touching||e[i].call(n,r)})}))}(r,r._localHandlerScope),r}return G(t,n),t.prototype.dispose=function(){Md(this._localHandlerScope),gt&&Md(this._globalHandlerScope)},t.prototype.setCursor=function(e){this.dom.style&&(this.dom.style.cursor=e||"default")},t.prototype.__togglePointerCapture=function(e){if(this.__mayPointerCapture=null,gt&&+this.__pointerCapturing^+e){this.__pointerCapturing=e;var i=this._globalHandlerScope;e?function(n,t){function e(i){Oh(t,i,function(r){var o;r=Na(r),Di(n,r.target)||(r=xn((o=n).dom,new Io(o,r),!0),t.domHandlers[i].call(n,r))},{capture:!0})}ge.pointerEventsSupported?k(Lt,e):ge.touchEventsSupported||k(Ht,e)}(this,i):Md(i)}},t}(_n),Yv=1;"undefined"!=typeof window&&(Yv=Math.max(window.devicePixelRatio||window.screen&&window.screen.deviceXDPI/window.screen.logicalXDPI||1,1));var Eh=Yv,Id="#333",Td="#ccc";function Sl(n){return n[0]=1,n[1]=0,n[2]=0,n[3]=1,n[4]=0,n[5]=0,n}function Nh(n,t){return n[0]=t[0],n[1]=t[1],n[2]=t[2],n[3]=t[3],n[4]=t[4],n[5]=t[5],n}function ki(n,t,e){var r=t[1]*e[0]+t[3]*e[1],o=t[0]*e[2]+t[2]*e[3],a=t[1]*e[2]+t[3]*e[3],s=t[0]*e[4]+t[2]*e[5]+t[4],l=t[1]*e[4]+t[3]*e[5]+t[5];return n[0]=t[0]*e[0]+t[2]*e[1],n[1]=r,n[2]=o,n[3]=a,n[4]=s,n[5]=l,n}function ui(n,t,e){return n[0]=t[0],n[1]=t[1],n[2]=t[2],n[3]=t[3],n[4]=t[4]+e[0],n[5]=t[5]+e[1],n}function Or(n,t,e){var i=t[0],r=t[2],o=t[4],a=t[1],s=t[3],l=t[5],u=Math.sin(e),h=Math.cos(e);return n[0]=i*h+a*u,n[1]=-i*u+a*h,n[2]=r*h+s*u,n[3]=-r*u+h*s,n[4]=h*o+u*l,n[5]=h*l-u*o,n}function Rh(n,t,e){var i=e[0],r=e[1];return n[0]=t[0]*i,n[1]=t[1]*r,n[2]=t[2]*i,n[3]=t[3]*r,n[4]=t[4]*i,n[5]=t[5]*r,n}function To(n,t){var e=t[0],i=t[2],r=t[4],o=t[1],a=t[3],s=t[5],l=e*a-o*i;return l?(n[0]=a*(l=1/l),n[1]=-o*l,n[2]=-i*l,n[3]=e*l,n[4]=(i*s-a*r)*l,n[5]=(o*r-e*s)*l,n):null}function Zv(n){var t=[1,0,0,1,0,0];return Nh(t,n),t}var iA=Object.freeze({__proto__:null,create:function(){return[1,0,0,1,0,0]},identity:Sl,copy:Nh,mul:ki,translate:ui,rotate:Or,scale:Rh,invert:To,clone:Zv}),jv=Sl;function Ml(n){return n>5e-5||n<-5e-5}var zh,qv,Co=[],Ya=[],Cd=[1,0,0,1,0,0],Ad=Math.abs,ir=function(){function n(){}return n.prototype.getLocalTransform=function(t){return n.getLocalTransform(this,t)},n.prototype.setPosition=function(t){this.x=t[0],this.y=t[1]},n.prototype.setScale=function(t){this.scaleX=t[0],this.scaleY=t[1]},n.prototype.setSkew=function(t){this.skewX=t[0],this.skewY=t[1]},n.prototype.setOrigin=function(t){this.originX=t[0],this.originY=t[1]},n.prototype.needLocalTransform=function(){return Ml(this.rotation)||Ml(this.x)||Ml(this.y)||Ml(this.scaleX-1)||Ml(this.scaleY-1)},n.prototype.updateTransform=function(){var t=this.parent&&this.parent.transform,e=this.needLocalTransform(),i=this.transform;e||t?(i=i||[1,0,0,1,0,0],e?this.getLocalTransform(i):jv(i),t&&(e?ki(i,t,i):Nh(i,t)),this.transform=i,this._resolveGlobalScaleRatio(i)):i&&jv(i)},n.prototype._resolveGlobalScaleRatio=function(t){var e=this.globalScaleRatio;if(null!=e&&1!==e){this.getGlobalScale(Co);var i=Co[0]<0?-1:1,r=Co[1]<0?-1:1,o=((Co[0]-i)*e+i)/Co[0]||0,a=((Co[1]-r)*e+r)/Co[1]||0;t[0]*=o,t[1]*=o,t[2]*=a,t[3]*=a}this.invTransform=this.invTransform||[1,0,0,1,0,0],To(this.invTransform,t)},n.prototype.getComputedTransform=function(){for(var t=this,e=[];t;)e.push(t),t=t.parent;for(;t=e.pop();)t.updateTransform();return this.transform},n.prototype.setLocalTransform=function(t){if(t){var e=t[0]*t[0]+t[1]*t[1],i=t[2]*t[2]+t[3]*t[3],r=Math.atan2(t[1],t[0]),o=Math.PI/2+r-Math.atan2(t[3],t[2]);i=Math.sqrt(i)*Math.cos(o),e=Math.sqrt(e),this.skewX=o,this.skewY=0,this.rotation=-r,this.x=+t[4],this.y=+t[5],this.scaleX=e,this.scaleY=i,this.originX=0,this.originY=0}},n.prototype.decomposeTransform=function(){if(this.transform){var t=this.parent,e=this.transform;t&&t.transform&&(ki(Ya,t.invTransform,e),e=Ya);var i=this.originX,r=this.originY;(i||r)&&(Cd[4]=i,Cd[5]=r,ki(Ya,e,Cd),Ya[4]-=i,Ya[5]-=r,e=Ya),this.setLocalTransform(e)}},n.prototype.getGlobalScale=function(t){var e=this.transform;return t=t||[],e?(t[0]=Math.sqrt(e[0]*e[0]+e[1]*e[1]),t[1]=Math.sqrt(e[2]*e[2]+e[3]*e[3]),e[0]<0&&(t[0]=-t[0]),e[3]<0&&(t[1]=-t[1]),t):(t[0]=1,t[1]=1,t)},n.prototype.transformCoordToLocal=function(t,e){var i=[t,e],r=this.invTransform;return r&&wt(i,i,r),i},n.prototype.transformCoordToGlobal=function(t,e){var i=[t,e],r=this.transform;return r&&wt(i,i,r),i},n.prototype.getLineScale=function(){var t=this.transform;return t&&Ad(t[0]-1)>1e-10&&Ad(t[3]-1)>1e-10?Math.sqrt(Ad(t[0]*t[3]-t[2]*t[1])):1},n.prototype.copyTransform=function(t){for(var e=0;e<Kv.length;e++){var i=Kv[e];this[i]=t[i]}},n.getLocalTransform=function(t,e){e=e||[];var i=t.originX||0,r=t.originY||0,o=t.scaleX,a=t.scaleY,s=t.rotation||0,l=t.x,u=t.y,h=t.skewX?Math.tan(t.skewX):0,c=t.skewY?Math.tan(-t.skewY):0;return i||r?(e[4]=-i*o-h*r*a,e[5]=-r*a-c*i*o):e[4]=e[5]=0,e[0]=o,e[3]=a,e[1]=c*o,e[2]=h*a,s&&Or(e,e,s),e[4]+=i+l,e[5]+=r+u,e},n.initDefaultProps=((t=n.prototype).x=0,t.y=0,t.scaleX=1,t.scaleY=1,t.originX=0,t.originY=0,t.skewX=0,t.skewY=0,t.rotation=0,void(t.globalScaleRatio=1)),n;var t}(),Kv=["x","y","originX","originY","rotation","scaleX","scaleY","skewX","skewY"],Se=function(){function n(t,e){this.x=t||0,this.y=e||0}return n.prototype.copy=function(t){return this.x=t.x,this.y=t.y,this},n.prototype.clone=function(){return new n(this.x,this.y)},n.prototype.set=function(t,e){return this.x=t,this.y=e,this},n.prototype.equal=function(t){return t.x===this.x&&t.y===this.y},n.prototype.add=function(t){return this.x+=t.x,this.y+=t.y,this},n.prototype.scale=function(t){this.x*=t,this.y*=t},n.prototype.scaleAndAdd=function(t,e){this.x+=t.x*e,this.y+=t.y*e},n.prototype.sub=function(t){return this.x-=t.x,this.y-=t.y,this},n.prototype.dot=function(t){return this.x*t.x+this.y*t.y},n.prototype.len=function(){return Math.sqrt(this.x*this.x+this.y*this.y)},n.prototype.lenSquare=function(){return this.x*this.x+this.y*this.y},n.prototype.normalize=function(){var t=this.len();return this.x/=t,this.y/=t,this},n.prototype.distance=function(t){var e=this.x-t.x,i=this.y-t.y;return Math.sqrt(e*e+i*i)},n.prototype.distanceSquare=function(t){var e=this.x-t.x,i=this.y-t.y;return e*e+i*i},n.prototype.negate=function(){return this.x=-this.x,this.y=-this.y,this},n.prototype.transform=function(t){if(t){var e=this.x,i=this.y;return this.x=t[0]*e+t[2]*i+t[4],this.y=t[1]*e+t[3]*i+t[5],this}},n.prototype.toArray=function(t){return t[0]=this.x,t[1]=this.y,t},n.prototype.fromArray=function(t){this.x=t[0],this.y=t[1]},n.set=function(t,e,i){t.x=e,t.y=i},n.copy=function(t,e){t.x=e.x,t.y=e.y},n.len=function(t){return Math.sqrt(t.x*t.x+t.y*t.y)},n.lenSquare=function(t){return t.x*t.x+t.y*t.y},n.dot=function(t,e){return t.x*e.x+t.y*e.y},n.add=function(t,e,i){t.x=e.x+i.x,t.y=e.y+i.y},n.sub=function(t,e,i){t.x=e.x-i.x,t.y=e.y-i.y},n.scale=function(t,e,i){t.x=e.x*i,t.y=e.y*i},n.scaleAndAdd=function(t,e,i,r){t.x=e.x+i.x*r,t.y=e.y+i.y*r},n.lerp=function(t,e,i,r){var o=1-r;t.x=o*e.x+r*i.x,t.y=o*e.y+r*i.y},n}(),Bh=Math.min,Vh=Math.max,Ao=new Se,Do=new Se,ko=new Se,Lo=new Se,Il=new Se,Tl=new Se,De=function(){function n(t,e,i,r){i<0&&(t+=i,i=-i),r<0&&(e+=r,r=-r),this.x=t,this.y=e,this.width=i,this.height=r}return n.prototype.union=function(t){var e=Bh(t.x,this.x),i=Bh(t.y,this.y);this.width=isFinite(this.x)&&isFinite(this.width)?Vh(t.x+t.width,this.x+this.width)-e:t.width,this.height=isFinite(this.y)&&isFinite(this.height)?Vh(t.y+t.height,this.y+this.height)-i:t.height,this.x=e,this.y=i},n.prototype.applyTransform=function(t){n.applyTransform(this,this,t)},n.prototype.calculateTransform=function(t){var e=this,i=t.width/e.width,r=t.height/e.height,o=[1,0,0,1,0,0];return ui(o,o,[-e.x,-e.y]),Rh(o,o,[i,r]),ui(o,o,[t.x,t.y]),o},n.prototype.intersect=function(t,e){if(!t)return!1;t instanceof n||(t=n.create(t));var i=this,r=i.x,o=i.x+i.width,a=i.y,s=i.y+i.height,l=t.x,u=t.x+t.width,h=t.y,c=t.y+t.height,p=!(o<l||u<r||s<h||c<a);if(e){var d=1/0,f=0,g=Math.abs(o-l),m=Math.abs(u-r),y=Math.abs(s-h),v=Math.abs(c-a),_=Math.min(g,m),x=Math.min(y,v);o<l||u<r?_>f&&(f=_,Se.set(Tl,g<m?-g:m,0)):_<d&&(d=_,Se.set(Il,g<m?g:-m,0)),s<h||c<a?x>f&&(f=x,Se.set(Tl,0,y<v?-y:v)):_<d&&(d=_,Se.set(Il,0,y<v?y:-v))}return e&&Se.copy(e,p?Il:Tl),p},n.prototype.contain=function(t,e){var i=this;return t>=i.x&&t<=i.x+i.width&&e>=i.y&&e<=i.y+i.height},n.prototype.clone=function(){return new n(this.x,this.y,this.width,this.height)},n.prototype.copy=function(t){n.copy(this,t)},n.prototype.plain=function(){return{x:this.x,y:this.y,width:this.width,height:this.height}},n.prototype.isFinite=function(){return isFinite(this.x)&&isFinite(this.y)&&isFinite(this.width)&&isFinite(this.height)},n.prototype.isZero=function(){return 0===this.width||0===this.height},n.create=function(t){return new n(t.x,t.y,t.width,t.height)},n.copy=function(t,e){t.x=e.x,t.y=e.y,t.width=e.width,t.height=e.height},n.applyTransform=function(t,e,i){if(i){if(i[1]<1e-5&&i[1]>-1e-5&&i[2]<1e-5&&i[2]>-1e-5){var r=i[0],o=i[3],s=i[5];return t.x=e.x*r+i[4],t.y=e.y*o+s,t.width=e.width*r,t.height=e.height*o,t.width<0&&(t.x+=t.width,t.width=-t.width),void(t.height<0&&(t.y+=t.height,t.height=-t.height))}Ao.x=ko.x=e.x,Ao.y=Lo.y=e.y,Do.x=Lo.x=e.x+e.width,Do.y=ko.y=e.y+e.height,Ao.transform(i),Lo.transform(i),Do.transform(i),ko.transform(i),t.x=Bh(Ao.x,Do.x,ko.x,Lo.x),t.y=Bh(Ao.y,Do.y,ko.y,Lo.y);var l=Vh(Ao.x,Do.x,ko.x,Lo.x),u=Vh(Ao.y,Do.y,ko.y,Lo.y);t.width=l-t.x,t.height=u-t.y}else t!==e&&n.copy(t,e)},n}(),$v={},Po="12px sans-serif";function Pn(n,t){var e=$v[t=t||Po];e||(e=$v[t]=new ai(500));var i=e.get(n);return null==i&&(i=function(n,t){return zh||(zh=ji().getContext("2d")),qv!==t&&(qv=zh.font=t||Po),zh.measureText(n)}(n,t).width,e.put(n,i)),i}function Qv(n,t,e,i){var r=Pn(n,t),o=Gh(t),a=Al(0,r,e),s=Za(0,o,i);return new De(a,s,r,o)}function Cl(n,t,e,i){var r=((n||"")+"").split("\n");if(1===r.length)return Qv(r[0],t,e,i);for(var o=new De(0,0,0,0),a=0;a<r.length;a++){var s=Qv(r[a],t,e,i);0===a?o.copy(s):o.union(s)}return o}function Al(n,t,e){return"right"===e?n-=t:"center"===e&&(n-=t/2),n}function Za(n,t,e){return"middle"===e?n-=t/2:"bottom"===e&&(n-=t),n}function Gh(n){return Pn("\u56fd",n)}function Wn(n,t){return"string"==typeof n?n.lastIndexOf("%")>=0?parseFloat(n)/100*t:parseFloat(n):n}function Fh(n,t,e){var i=t.position||"inside",r=null!=t.distance?t.distance:5,o=e.height,a=e.width,s=o/2,l=e.x,u=e.y,h="left",c="top";if(i instanceof Array)l+=Wn(i[0],e.width),u+=Wn(i[1],e.height),h=null,c=null;else switch(i){case"left":l-=r,u+=s,h="right",c="middle";break;case"right":l+=r+a,u+=s,c="middle";break;case"top":l+=a/2,u-=r,h="center",c="bottom";break;case"bottom":l+=a/2,u+=o+r,h="center";break;case"inside":l+=a/2,u+=s,h="center",c="middle";break;case"insideLeft":l+=r,u+=s,c="middle";break;case"insideRight":l+=a-r,u+=s,h="right",c="middle";break;case"insideTop":l+=a/2,u+=r,h="center";break;case"insideBottom":l+=a/2,u+=o-r,h="center",c="bottom";break;case"insideTopLeft":l+=r,u+=r;break;case"insideTopRight":l+=a-r,u+=r,h="right";break;case"insideBottomLeft":l+=r,u+=o-r,c="bottom";break;case"insideBottomRight":l+=a-r,u+=o-r,h="right",c="bottom"}return(n=n||{}).x=l,n.y=u,n.align=h,n.verticalAlign=c,n}var Dd="__zr_normal__",kd=["x","y","scaleX","scaleY","originX","originY","rotation","ignore"],aA={x:!0,y:!0,scaleX:!0,scaleY:!0,originX:!0,originY:!0,rotation:!0,ignore:!1},ja={},sA=new De(0,0,0,0),Hh=function(){function n(t){this.id=Ia(),this.animators=[],this.currentStates=[],this.states={},this._init(t)}return n.prototype._init=function(t){this.attr(t)},n.prototype.drift=function(t,e,i){switch(this.draggable){case"horizontal":e=0;break;case"vertical":t=0}var r=this.transform;r||(r=this.transform=[1,0,0,1,0,0]),r[4]+=t,r[5]+=e,this.decomposeTransform(),this.markRedraw()},n.prototype.beforeUpdate=function(){},n.prototype.afterUpdate=function(){},n.prototype.update=function(){this.updateTransform(),this.__dirty&&this.updateInnerText()},n.prototype.updateInnerText=function(t){var e=this._textContent;if(e&&(!e.ignore||t)){this.textConfig||(this.textConfig={});var i=this.textConfig,r=i.local,o=e.innerTransformable,a=void 0,s=void 0,l=!1;o.parent=r?this:null;var u=!1;if(o.copyTransform(e),null!=i.position){var h=sA;h.copy(i.layoutRect?i.layoutRect:this.getBoundingRect()),r||h.applyTransform(this.transform),this.calculateTextPosition?this.calculateTextPosition(ja,i,h):Fh(ja,i,h),o.x=ja.x,o.y=ja.y,a=ja.align,s=ja.verticalAlign;var c=i.origin;if(c&&null!=i.rotation){var p=void 0,d=void 0;"center"===c?(p=.5*h.width,d=.5*h.height):(p=Wn(c[0],h.width),d=Wn(c[1],h.height)),u=!0,o.originX=-o.x+p+(r?0:h.x),o.originY=-o.y+d+(r?0:h.y)}}null!=i.rotation&&(o.rotation=i.rotation);var f=i.offset;f&&(o.x+=f[0],o.y+=f[1],u||(o.originX=-f[0],o.originY=-f[1]));var g=null==i.inside?"string"==typeof i.position&&i.position.indexOf("inside")>=0:i.inside,m=this._innerTextDefaultStyle||(this._innerTextDefaultStyle={}),y=void 0,v=void 0,_=void 0;g&&this.canBeInsideText()?(v=i.insideStroke,null!=(y=i.insideFill)&&"auto"!==y||(y=this.getInsideTextFill()),null!=v&&"auto"!==v||(v=this.getInsideTextStroke(y),_=!0)):(v=i.outsideStroke,null!=(y=i.outsideFill)&&"auto"!==y||(y=this.getOutsideFill()),null!=v&&"auto"!==v||(v=this.getOutsideStroke(y),_=!0)),(y=y||"#000")===m.fill&&v===m.stroke&&_===m.autoStroke&&a===m.align&&s===m.verticalAlign||(l=!0,m.fill=y,m.stroke=v,m.autoStroke=_,m.align=a,m.verticalAlign=s,e.setDefaultTextStyle(m)),e.__dirty|=1,l&&e.dirtyStyle(!0)}},n.prototype.canBeInsideText=function(){return!0},n.prototype.getInsideTextFill=function(){return"#fff"},n.prototype.getInsideTextStroke=function(t){return"#000"},n.prototype.getOutsideFill=function(){return this.__zr&&this.__zr.isDarkMode()?Td:Id},n.prototype.getOutsideStroke=function(t){var e=this.__zr&&this.__zr.getBackgroundColor(),i="string"==typeof e&&Rt(e);i||(i=[255,255,255,1]);for(var r=i[3],o=this.__zr.isDarkMode(),a=0;a<3;a++)i[a]=i[a]*r+(o?0:255)*(1-r);return i[3]=1,bn(i,"rgba")},n.prototype.traverse=function(t,e){},n.prototype.attrKV=function(t,e){"textConfig"===t?this.setTextConfig(e):"textContent"===t?this.setTextContent(e):"clipPath"===t?this.setClipPath(e):"extra"===t?(this.extra=this.extra||{},K(this.extra,e)):this[t]=e},n.prototype.hide=function(){this.ignore=!0,this.markRedraw()},n.prototype.show=function(){this.ignore=!1,this.markRedraw()},n.prototype.attr=function(t,e){if("string"==typeof t)this.attrKV(t,e);else if(pe(t))for(var i=q(t),r=0;r<i.length;r++){var o=i[r];this.attrKV(o,t[o])}return this.markRedraw(),this},n.prototype.saveCurrentToNormalState=function(t){this._innerSaveToNormal(t);for(var e=this._normalState,i=0;i<this.animators.length;i++){var r=this.animators[i],o=r.__fromStateTransition;if(!o||o===Dd){var a=r.targetName;r.saveFinalToTarget(a?e[a]:e)}}},n.prototype._innerSaveToNormal=function(t){var e=this._normalState;e||(e=this._normalState={}),t.textConfig&&!e.textConfig&&(e.textConfig=this.textConfig),this._savePrimaryToNormal(t,e,kd)},n.prototype._savePrimaryToNormal=function(t,e,i){for(var r=0;r<i.length;r++){var o=i[r];null==t[o]||o in e||(e[o]=this[o])}},n.prototype.hasState=function(){return this.currentStates.length>0},n.prototype.getState=function(t){return this.states[t]},n.prototype.ensureState=function(t){var e=this.states;return e[t]||(e[t]={}),e[t]},n.prototype.clearStates=function(t){this.useState(Dd,!1,t)},n.prototype.useState=function(t,e,i,r){var o=t===Dd;if(this.hasState()||!o){var a=this.currentStates,s=this.stateTransition;if(!(Ie(a,t)>=0)||!e&&1!==a.length){var l;if(this.stateProxy&&!o&&(l=this.stateProxy(t)),l||(l=this.states&&this.states[t]),l||o){o||this.saveCurrentToNormalState(l);var u=!!(l&&l.hoverLayer||r);u&&this._toggleHoverLayerFlag(!0),this._applyStateObj(t,l,this._normalState,e,!i&&!this.__inHover&&s&&s.duration>0,s);var h=this._textContent,c=this._textGuide;return h&&h.useState(t,e,i,u),c&&c.useState(t,e,i,u),o?(this.currentStates=[],this._normalState={}):e?this.currentStates.push(t):this.currentStates=[t],this._updateAnimationTargets(),this.markRedraw(),!u&&this.__inHover&&(this._toggleHoverLayerFlag(!1),this.__dirty&=-2),l}Cn("State "+t+" not exists.")}}},n.prototype.useStates=function(t,e,i){if(t.length){var r=[],o=this.currentStates,a=t.length,s=a===o.length;if(s)for(var l=0;l<a;l++)if(t[l]!==o[l]){s=!1;break}if(s)return;for(l=0;l<a;l++){var u=t[l],h=void 0;this.stateProxy&&(h=this.stateProxy(u,t)),h||(h=this.states[u]),h&&r.push(h)}var c=r[a-1],p=!!(c&&c.hoverLayer||i);p&&this._toggleHoverLayerFlag(!0);var d=this._mergeStates(r),f=this.stateTransition;this.saveCurrentToNormalState(d),this._applyStateObj(t.join(","),d,this._normalState,!1,!e&&!this.__inHover&&f&&f.duration>0,f);var g=this._textContent,m=this._textGuide;g&&g.useStates(t,e,p),m&&m.useStates(t,e,p),this._updateAnimationTargets(),this.currentStates=t.slice(),this.markRedraw(),!p&&this.__inHover&&(this._toggleHoverLayerFlag(!1),this.__dirty&=-2)}else this.clearStates()},n.prototype._updateAnimationTargets=function(){for(var t=0;t<this.animators.length;t++){var e=this.animators[t];e.targetName&&e.changeTarget(this[e.targetName])}},n.prototype.removeState=function(t){var e=Ie(this.currentStates,t);if(e>=0){var i=this.currentStates.slice();i.splice(e,1),this.useStates(i)}},n.prototype.replaceState=function(t,e,i){var r=this.currentStates.slice(),o=Ie(r,t),a=Ie(r,e)>=0;o>=0?a?r.splice(o,1):r[o]=e:i&&!a&&r.push(e),this.useStates(r)},n.prototype.toggleState=function(t,e){e?this.useState(t,!0):this.removeState(t)},n.prototype._mergeStates=function(t){for(var e,i={},r=0;r<t.length;r++){var o=t[r];K(i,o),o.textConfig&&K(e=e||{},o.textConfig)}return e&&(i.textConfig=e),i},n.prototype._applyStateObj=function(t,e,i,r,o,a){var s=!(e&&r);e&&e.textConfig?(this.textConfig=K({},r?this.textConfig:i.textConfig),K(this.textConfig,e.textConfig)):s&&i.textConfig&&(this.textConfig=i.textConfig);for(var l={},u=!1,h=0;h<kd.length;h++){var c=kd[h],p=o&&aA[c];e&&null!=e[c]?p?(u=!0,l[c]=e[c]):this[c]=e[c]:s&&null!=i[c]&&(p?(u=!0,l[c]=i[c]):this[c]=i[c])}if(!o)for(h=0;h<this.animators.length;h++){var d=this.animators[h],f=d.targetName;d.__changeFinalValue(f?(e||i)[f]:e||i)}u&&this._transitionState(t,l,a)},n.prototype._attachComponent=function(t){if(t.__zr&&!t.__hostTarget)throw new Error("Text element has been added to zrender.");if(t===this)throw new Error("Recursive component attachment.");var e=this.__zr;e&&t.addSelfToZr(e),t.__zr=e,t.__hostTarget=this},n.prototype._detachComponent=function(t){t.__zr&&t.removeSelfFromZr(t.__zr),t.__zr=null,t.__hostTarget=null},n.prototype.getClipPath=function(){return this._clipPath},n.prototype.setClipPath=function(t){this._clipPath&&this._clipPath!==t&&this.removeClipPath(),this._attachComponent(t),this._clipPath=t,this.markRedraw()},n.prototype.removeClipPath=function(){var t=this._clipPath;t&&(this._detachComponent(t),this._clipPath=null,this.markRedraw())},n.prototype.getTextContent=function(){return this._textContent},n.prototype.setTextContent=function(t){var e=this._textContent;if(e!==t){if(e&&e!==t&&this.removeTextContent(),t.__zr&&!t.__hostTarget)throw new Error("Text element has been added to zrender.");t.innerTransformable=new ir,this._attachComponent(t),this._textContent=t,this.markRedraw()}},n.prototype.setTextConfig=function(t){this.textConfig||(this.textConfig={}),K(this.textConfig,t),this.markRedraw()},n.prototype.removeTextConfig=function(){this.textConfig=null,this.markRedraw()},n.prototype.removeTextContent=function(){var t=this._textContent;t&&(t.innerTransformable=null,this._detachComponent(t),this._textContent=null,this._innerTextDefaultStyle=null,this.markRedraw())},n.prototype.getTextGuideLine=function(){return this._textGuide},n.prototype.setTextGuideLine=function(t){this._textGuide&&this._textGuide!==t&&this.removeTextGuideLine(),this._attachComponent(t),this._textGuide=t,this.markRedraw()},n.prototype.removeTextGuideLine=function(){var t=this._textGuide;t&&(this._detachComponent(t),this._textGuide=null,this.markRedraw())},n.prototype.markRedraw=function(){this.__dirty|=1;var t=this.__zr;t&&(this.__inHover?t.refreshHover():t.refresh()),this.__hostTarget&&this.__hostTarget.markRedraw()},n.prototype.dirty=function(){this.markRedraw()},n.prototype._toggleHoverLayerFlag=function(t){this.__inHover=t;var e=this._textContent,i=this._textGuide;e&&(e.__inHover=t),i&&(i.__inHover=t)},n.prototype.addSelfToZr=function(t){if(this.__zr!==t){this.__zr=t;var e=this.animators;if(e)for(var i=0;i<e.length;i++)t.animation.addAnimator(e[i]);this._clipPath&&this._clipPath.addSelfToZr(t),this._textContent&&this._textContent.addSelfToZr(t),this._textGuide&&this._textGuide.addSelfToZr(t)}},n.prototype.removeSelfFromZr=function(t){if(this.__zr){this.__zr=null;var e=this.animators;if(e)for(var i=0;i<e.length;i++)t.animation.removeAnimator(e[i]);this._clipPath&&this._clipPath.removeSelfFromZr(t),this._textContent&&this._textContent.removeSelfFromZr(t),this._textGuide&&this._textGuide.removeSelfFromZr(t)}},n.prototype.animate=function(t,e){var i=t?this[t]:this;if(i){var r=new Ue(i,e);return this.addAnimator(r,t),r}Cn('Property "'+t+'" is not existed in element '+this.id)},n.prototype.addAnimator=function(t,e){var i=this.__zr,r=this;t.during(function(){r.updateDuringAnimation(e)}).done(function(){var o=r.animators,a=Ie(o,t);a>=0&&o.splice(a,1)}),this.animators.push(t),i&&i.animation.addAnimator(t),i&&i.wakeUp()},n.prototype.updateDuringAnimation=function(t){this.markRedraw()},n.prototype.stopAnimation=function(t,e){for(var i=this.animators,r=i.length,o=[],a=0;a<r;a++){var s=i[a];t&&t!==s.scope?o.push(s):s.stop(e)}return this.animators=o,this},n.prototype.animateTo=function(t,e,i){Ld(this,t,e,i)},n.prototype.animateFrom=function(t,e,i){Ld(this,t,e,i,!0)},n.prototype._transitionState=function(t,e,i,r){for(var o=Ld(this,e,i,r),a=0;a<o.length;a++)o[a].__fromStateTransition=t},n.prototype.getBoundingRect=function(){return null},n.prototype.getPaintRect=function(){return null},n.initDefaultProps=function(){var t=n.prototype;t.type="element",t.name="",t.ignore=!1,t.silent=!1,t.isGroup=!1,t.draggable=!1,t.dragging=!1,t.ignoreClip=!1,t.__inHover=!1,t.__dirty=1;var e={};function i(o,a,s){e[o+a+s]||(console.warn("DEPRECATED: '"+o+"' has been deprecated. use '"+a+"', '"+s+"' instead"),e[o+a+s]=!0)}function r(o,a,s,l){function u(h,c){Object.defineProperty(c,0,{get:function(){return h[s]},set:function(p){h[s]=p}}),Object.defineProperty(c,1,{get:function(){return h[l]},set:function(p){h[l]=p}})}Object.defineProperty(t,o,{get:function(){return i(o,s,l),this[a]||u(this,this[a]=[]),this[a]},set:function(h){i(o,s,l),this[s]=h[0],this[l]=h[1],this[a]=h,u(this,h)}})}Object.defineProperty&&(!ge.browser.ie||ge.browser.version>8)&&(r("position","_legacyPos","x","y"),r("scale","_legacyScale","scaleX","scaleY"),r("origin","_legacyOrigin","originX","originY"))}(),n}();function Ld(n,t,e,i,r){var o=[];Jv(n,"",n,t,e=e||{},i,o,r);var a=o.length,s=!1,l=e.done,u=e.aborted,h=function(){s=!0,--a<=0&&(s?l&&l():u&&u())},c=function(){--a<=0&&(s?l&&l():u&&u())};a||l&&l(),o.length>0&&e.during&&o[0].during(function(f,g){e.during(g)});for(var p=0;p<o.length;p++){var d=o[p];h&&d.done(h),c&&d.aborted(c),d.start(e.easing,e.force)}return o}function Pd(n,t,e){for(var i=0;i<e;i++)n[i]=t[i]}function lA(n,t,e){if(Ft(t[e]))if(Ft(n[e])||(n[e]=[]),Qe(t[e])){var i=t[e].length;n[e].length!==i&&(n[e]=new t[e].constructor(i),Pd(n[e],t[e],i))}else{var r=t[e],o=n[e],a=r.length;if(Ft(r[0]))for(var s=r[0].length,l=0;l<a;l++)o[l]?Pd(o[l],r[l],s):o[l]=Array.prototype.slice.call(r[l]);else Pd(o,r,a);o.length=r.length}else n[e]=t[e]}function Jv(n,t,e,i,r,o,a,s){for(var l=[],u=[],h=q(i),c=r.duration,p=r.delay,d=r.additive,f=r.setToFinal,g=!pe(o),m=0;m<h.length;m++)if(null!=e[T=h[m]]&&null!=i[T]&&(g||o[T]))if(pe(i[T])&&!Ft(i[T])){if(t){s||(e[T]=i[T],n.updateDuringAnimation(t));continue}Jv(n,T,e[T],i[T],r,o&&o[T],a,s)}else l.push(T),u.push(T);else s||(e[T]=i[T],n.updateDuringAnimation(t),u.push(T));var y=l.length;if(y>0||r.force&&!a.length){for(var v=n.animators,_=[],x=0;x<v.length;x++)v[x].targetName===t&&_.push(v[x]);if(!d&&_.length)for(x=0;x<_.length;x++)if(_[x].stopTracks(u)){var b=Ie(v,_[x]);v.splice(b,1)}var w=void 0,S=void 0,M=void 0;if(s)for(S={},f&&(w={}),x=0;x<y;x++)S[T=l[x]]=e[T],f?w[T]=i[T]:e[T]=i[T];else if(f)for(M={},x=0;x<y;x++){var T;M[T=l[x]]=O(e[T]),lA(e,i,T)}var C=new Ue(e,!1,d?_:null);C.targetName=t,r.scope&&(C.scope=r.scope),f&&w&&C.whenWithKeys(0,w,l),M&&C.whenWithKeys(0,M,l),C.whenWithKeys(null==c?500:c,s?S:i,l).delay(p||0),n.addAnimator(C,t),a.push(C)}}ht(Hh,_n),ht(Hh,ir);var me=function(n){function t(e){var i=n.call(this)||this;return i.isGroup=!0,i._children=[],i.attr(e),i}return G(t,n),t.prototype.childrenRef=function(){return this._children},t.prototype.children=function(){return this._children.slice()},t.prototype.childAt=function(e){return this._children[e]},t.prototype.childOfName=function(e){for(var i=this._children,r=0;r<i.length;r++)if(i[r].name===e)return i[r]},t.prototype.childCount=function(){return this._children.length},t.prototype.add=function(e){if(e&&(e!==this&&e.parent!==this&&(this._children.push(e),this._doAdd(e)),e.__hostTarget))throw"This elemenet has been used as an attachment";return this},t.prototype.addBefore=function(e,i){if(e&&e!==this&&e.parent!==this&&i&&i.parent===this){var r=this._children,o=r.indexOf(i);o>=0&&(r.splice(o,0,e),this._doAdd(e))}return this},t.prototype.replace=function(e,i){var r=Ie(this._children,e);return r>=0&&this.replaceAt(i,r),this},t.prototype.replaceAt=function(e,i){var r=this._children,o=r[i];if(e&&e!==this&&e.parent!==this&&e!==o){r[i]=e,o.parent=null;var a=this.__zr;a&&o.removeSelfFromZr(a),this._doAdd(e)}return this},t.prototype._doAdd=function(e){e.parent&&e.parent.remove(e),e.parent=this;var i=this.__zr;i&&i!==e.__zr&&e.addSelfToZr(i),i&&i.refresh()},t.prototype.remove=function(e){var i=this.__zr,r=this._children,o=Ie(r,e);return o<0||(r.splice(o,1),e.parent=null,i&&e.removeSelfFromZr(i),i&&i.refresh()),this},t.prototype.removeAll=function(){for(var e=this._children,i=this.__zr,r=0;r<e.length;r++){var o=e[r];i&&o.removeSelfFromZr(i),o.parent=null}return e.length=0,this},t.prototype.eachChild=function(e,i){for(var r=this._children,o=0;o<r.length;o++)e.call(i,r[o],o);return this},t.prototype.traverse=function(e,i){for(var r=0;r<this._children.length;r++){var o=this._children[r],a=e.call(i,o);o.isGroup&&!a&&o.traverse(e,i)}return this},t.prototype.addSelfToZr=function(e){n.prototype.addSelfToZr.call(this,e);for(var i=0;i<this._children.length;i++)this._children[i].addSelfToZr(e)},t.prototype.removeSelfFromZr=function(e){n.prototype.removeSelfFromZr.call(this,e);for(var i=0;i<this._children.length;i++)this._children[i].removeSelfFromZr(e)},t.prototype.getBoundingRect=function(e){for(var i=new De(0,0,0,0),r=e||this._children,o=[],a=null,s=0;s<r.length;s++){var l=r[s];if(!l.ignore&&!l.invisible){var u=l.getBoundingRect(),h=l.getLocalTransform(o);h?(De.applyTransform(i,u,h),(a=a||i.clone()).union(i)):(a=a||u.clone()).union(u)}}return a||i},t}(Hh);me.prototype.type="group";var uA=!ge.canvasSupported,Dl={},Oo={},hA=function(){function n(t,e,i){var r=this;this._sleepAfterStill=10,this._stillFrameAccum=0,this._needsRefresh=!0,this._needsRefreshHover=!0,this._darkMode=!1,i=i||{},this.dom=e,this.id=t;var o=new wd,a=i.renderer||"canvas";if(uA)throw new Error("IE8 support has been dropped since 5.0");if(Dl[a]||(a=q(Dl)[0]),!Dl[a])throw new Error("Renderer '"+a+"' is not imported. Please import it first.");i.useDirtyRect=null!=i.useDirtyRect&&i.useDirtyRect;var s=new Dl[a](e,o,i,t);this.storage=o,this.painter=s;var l=ge.node||ge.worker?null:new tA(s.getViewportRoot(),s.root);this.handler=new dl(o,s,l,s.root),this.animation=new St({stage:{update:function(){return r._flush(!0)}}}),this.animation.start()}return n.prototype.add=function(t){t&&(this.storage.addRoot(t),t.addSelfToZr(this),this.refresh())},n.prototype.remove=function(t){t&&(this.storage.delRoot(t),t.removeSelfFromZr(this),this.refresh())},n.prototype.configLayer=function(t,e){this.painter.configLayer&&this.painter.configLayer(t,e),this.refresh()},n.prototype.setBackgroundColor=function(t){this.painter.setBackgroundColor&&this.painter.setBackgroundColor(t),this.refresh(),this._backgroundColor=t,this._darkMode=function(e){if(!e)return!1;if("string"==typeof e)return Dr(e,1)<.4;if(e.colorStops){for(var i=e.colorStops,r=0,o=i.length,a=0;a<o;a++)r+=Dr(i[a].color,1);return(r/=o)<.4}return!1}(t)},n.prototype.getBackgroundColor=function(){return this._backgroundColor},n.prototype.setDarkMode=function(t){this._darkMode=t},n.prototype.isDarkMode=function(){return this._darkMode},n.prototype.refreshImmediately=function(t){t||this.animation.update(!0),this._needsRefresh=!1,this.painter.refresh(),this._needsRefresh=!1},n.prototype.refresh=function(){this._needsRefresh=!0,this.animation.start()},n.prototype.flush=function(){this._flush(!1)},n.prototype._flush=function(t){var e,i=(new Date).getTime();this._needsRefresh&&(e=!0,this.refreshImmediately(t)),this._needsRefreshHover&&(e=!0,this.refreshHoverImmediately());var r=(new Date).getTime();e?(this._stillFrameAccum=0,this.trigger("rendered",{elapsedTime:r-i})):this._sleepAfterStill>0&&(this._stillFrameAccum++,this._stillFrameAccum>this._sleepAfterStill&&this.animation.stop())},n.prototype.setSleepAfterStill=function(t){this._sleepAfterStill=t},n.prototype.wakeUp=function(){this.animation.start(),this._stillFrameAccum=0},n.prototype.addHover=function(t){},n.prototype.removeHover=function(t){},n.prototype.clearHover=function(){},n.prototype.refreshHover=function(){this._needsRefreshHover=!0},n.prototype.refreshHoverImmediately=function(){this._needsRefreshHover=!1,this.painter.refreshHover&&"canvas"===this.painter.getType()&&this.painter.refreshHover()},n.prototype.resize=function(t){this.painter.resize((t=t||{}).width,t.height),this.handler.resize()},n.prototype.clearAnimation=function(){this.animation.clear()},n.prototype.getWidth=function(){return this.painter.getWidth()},n.prototype.getHeight=function(){return this.painter.getHeight()},n.prototype.pathToImage=function(t,e){if(this.painter.pathToImage)return this.painter.pathToImage(t,e)},n.prototype.setCursorStyle=function(t){this.handler.setCursorStyle(t)},n.prototype.findHover=function(t,e){return this.handler.findHover(t,e)},n.prototype.on=function(t,e,i){return this.handler.on(t,e,i),this},n.prototype.off=function(t,e){this.handler.off(t,e)},n.prototype.trigger=function(t,e){this.handler.trigger(t,e)},n.prototype.clear=function(){for(var t=this.storage.getRoots(),e=0;e<t.length;e++)t[e]instanceof me&&t[e].removeSelfFromZr(this);this.storage.delAllRoots(),this.painter.clear()},n.prototype.dispose=function(){this.animation.stop(),this.clear(),this.storage.dispose(),this.painter.dispose(),this.handler.dispose(),this.animation=this.storage=this.painter=this.handler=null,delete Oo[this.id]},n}();function Od(n,t){var e=new hA(Ia(),n,t);return Oo[e.id]=e,e}function e0(n,t){Dl[n]=t}var cA=Object.freeze({__proto__:null,init:Od,dispose:function(n){n.dispose()},disposeAll:function(){for(var n in Oo)Oo.hasOwnProperty(n)&&Oo[n].dispose();Oo={}},getInstance:function(n){return Oo[n]},registerPainter:e0,version:"5.2.1"});function Ze(n,t,e,i){var r=t[0],o=t[1],a=e[0],s=e[1],l=o-r,u=s-a;if(0===l)return 0===u?a:(a+s)/2;if(i)if(l>0){if(n<=r)return a;if(n>=o)return s}else{if(n>=r)return a;if(n<=o)return s}else{if(n===r)return a;if(n===o)return s}return(n-r)/l*u+a}function ie(n,t){switch(n){case"center":case"middle":n="50%";break;case"left":case"top":n="0%";break;case"right":case"bottom":n="100%"}return"string"==typeof n?(e=n,e.replace(/^\s+|\s+$/g,"")).match(/%$/)?parseFloat(n)/100*t:parseFloat(n):null==n?NaN:+n;var e}function Pt(n,t,e){return null==t&&(t=10),t=Math.min(Math.max(0,t),20),n=(+n).toFixed(t),e?n:+n}function On(n){return n.sort(function(t,e){return t-e}),n}function hi(n){if(n=+n,isNaN(n))return 0;if(n>1e-14)for(var t=1,e=0;e<15;e++,t*=10)if(Math.round(n*t)/t===n)return e;return t0(n)}function t0(n){var t=n.toString().toLowerCase(),e=t.indexOf("e"),i=e>0?+t.slice(e+1):0,r=e>0?e:t.length,o=t.indexOf(".");return Math.max(0,(o<0?0:r-1-o)-i)}function Ed(n,t){var e=Math.log,i=Math.LN10,r=Math.floor(e(n[1]-n[0])/i),o=Math.round(e(Math.abs(t[1]-t[0]))/i),a=Math.min(Math.max(-r+o,0),20);return isFinite(a)?a:20}function n0(n,t,e){if(!n[t])return 0;var i=ii(n,function(f,g){return f+(isNaN(g)?0:g)},0);if(0===i)return 0;for(var r=Math.pow(10,e),o=J(n,function(f){return(isNaN(f)?0:f)/i*r*100}),a=100*r,s=J(o,function(f){return Math.floor(f)}),l=ii(s,function(f,g){return f+g},0),u=J(o,function(f,g){return f-s[g]});l<a;){for(var h=Number.NEGATIVE_INFINITY,c=null,p=0,d=u.length;p<d;++p)u[p]>h&&(h=u[p],c=p);++s[c],u[c]=0,++l}return s[t]/r}function dA(n,t){var e=Math.max(hi(n),hi(t)),i=n+t;return e>20?i:Pt(i,e)}var Nd=9007199254740991;function Rd(n){var t=2*Math.PI;return(n%t+t)%t}function kl(n){return n>-1e-4&&n<1e-4}var fA=/^(?:(\d{4})(?:[-\/](\d{1,2})(?:[-\/](\d{1,2})(?:[T ](\d{1,2})(?::(\d{1,2})(?::(\d{1,2})(?:[.,](\d+))?)?)?(Z|[\+\-]\d\d:?\d\d)?)?)?)?)?$/;function En(n){if(n instanceof Date)return n;if("string"==typeof n){var t=fA.exec(n);if(!t)return new Date(NaN);if(t[8]){var e=+t[4]||0;return"Z"!==t[8].toUpperCase()&&(e-=+t[8].slice(0,3)),new Date(Date.UTC(+t[1],+(t[2]||1)-1,+t[3]||1,e,+(t[5]||0),+t[6]||0,t[7]?+t[7].substring(0,3):0))}return new Date(+t[1],+(t[2]||1)-1,+t[3]||1,+t[4]||0,+(t[5]||0),+t[6]||0,t[7]?+t[7].substring(0,3):0)}return null==n?new Date(NaN):new Date(Math.round(n))}function i0(n){return Math.pow(10,zd(n))}function zd(n){if(0===n)return 0;var t=Math.floor(Math.log(n)/Math.LN10);return n/Math.pow(10,t)>=10&&t++,t}function Bd(n,t){var e=zd(n),i=Math.pow(10,e),r=n/i;return n=(t?r<1.5?1:r<2.5?2:r<4?3:r<7?5:10:r<1?1:r<2?2:r<3?3:r<5?5:10)*i,e>=-20?+n.toFixed(e<0?-e:0):n}function Wh(n,t){var e=(n.length-1)*t+1,i=Math.floor(e),r=+n[i-1],o=e-i;return o?r+o*(n[i]-r):r}function Vd(n){n.sort(function(l,u){return s(l,u,0)?-1:1});for(var t=-1/0,e=1,i=0;i<n.length;){for(var r=n[i].interval,o=n[i].close,a=0;a<2;a++)r[a]<=t&&(r[a]=t,o[a]=a?1:1-e),t=r[a],e=o[a];r[0]===r[1]&&o[0]*o[1]!=1?n.splice(i,1):i++}return n;function s(l,u,h){return l.interval[h]<u.interval[h]||l.interval[h]===u.interval[h]&&(l.close[h]-u.close[h]==(h?-1:1)||!h&&s(l,u,1))}}function Li(n){var t=parseFloat(n);return t==n&&(0!==t||"string"!=typeof n||n.indexOf("x")<=0)?t:NaN}function Gd(n){return!isNaN(Li(n))}function r0(){return Math.round(9*Math.random())}function o0(n,t){return 0===t?n:o0(t,n%t)}function a0(n,t){return null==n?t:null==t?n:n*t/o0(n,t)}function Xe(n){throw new Error(n)}var s0="series\0";function Je(n){return n instanceof Array?n:null==n?[]:[n]}function Eo(n,t,e){if(n){n[t]=n[t]||{},n.emphasis=n.emphasis||{},n.emphasis[t]=n.emphasis[t]||{};for(var i=0,r=e.length;i<r;i++){var o=e[i];!n.emphasis[t].hasOwnProperty(o)&&n[t].hasOwnProperty(o)&&(n.emphasis[t][o]=n[t][o])}}}var u0=["fontStyle","fontWeight","fontSize","fontFamily","rich","tag","color","textBorderColor","textBorderWidth","width","height","lineHeight","align","verticalAlign","baseline","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY","backgroundColor","borderColor","borderWidth","borderRadius","padding"];function qa(n){return!pe(n)||Z(n)||n instanceof Date?n:n.value}function mA(n){return pe(n)&&!(n instanceof Array)}function h0(n,t,e){var i="normalMerge"===e,r="replaceMerge"===e,o="replaceAll"===e;n=n||[],t=(t||[]).slice();var a=ue();k(t,function(h,c){pe(h)||(t[c]=null)});var s,l,h,c,p,d,u=function(h,c,p){var d=[];if("replaceAll"===p)return d;for(var f=0;f<h.length;f++){var g=h[f];g&&null!=g.id&&c.set(g.id,f),d.push({existing:"replaceMerge"===p||Pl(g)?null:g,newOption:null,keyInfo:null,brandNew:null})}return d}(n,a,e);return(i||r)&&(h=u,c=n,p=a,k(d=t,function(f,g){if(f&&null!=f.id){var m=Ll(f.id),y=p.get(m);if(null!=y){var v=h[y];vt(!v.newOption,'Duplicated option on id "'+m+'".'),v.newOption=f,v.existing=c[y],d[g]=null}}})),i&&function(h,c){k(c,function(p,d){if(p&&null!=p.name)for(var f=0;f<h.length;f++){var g=h[f].existing;if(!h[f].newOption&&g&&(null==g.id||null==p.id)&&!Pl(p)&&!Pl(g)&&c0("name",g,p))return h[f].newOption=p,void(c[d]=null)}})}(u,t),i||r?function(h,c,p){k(c,function(d){if(d){for(var f,g=0;(f=h[g])&&(f.newOption||Pl(f.existing)||f.existing&&null!=d.id&&!c0("id",d,f.existing));)g++;f?(f.newOption=d,f.brandNew=p):h.push({newOption:d,brandNew:p,existing:null,keyInfo:null}),g++}})}(u,t,r):o&&function(h,c){k(c,function(p){h.push({newOption:p,brandNew:!0,existing:null,keyInfo:null})})}(u,t),s=u,l=ue(),k(s,function(h){var c=h.existing;c&&l.set(c.id,h)}),k(s,function(h){var c=h.newOption;vt(!c||null==c.id||!l.get(c.id)||l.get(c.id)===h,"id duplicates: "+(c&&c.id)),c&&null!=c.id&&l.set(c.id,h),!h.keyInfo&&(h.keyInfo={})}),k(s,function(h,c){var p=h.existing,d=h.newOption,f=h.keyInfo;if(pe(d)){if(f.name=null!=d.name?Ll(d.name):p?p.name:s0+c,p)f.id=Ll(p.id);else if(null!=d.id)f.id=Ll(d.id);else{var g=0;do{f.id="\0"+f.name+"\0"+g++}while(l.get(f.id))}l.set(f.id,h)}}),u}function c0(n,t,e){var i=Ot(t[n],null),r=Ot(e[n],null);return null!=i&&null!=r&&i===r}function Ll(n){return Ot(n,"")}function Ot(n,t){if(null==n)return t;var e=typeof n;return"string"===e?n:"number"===e||yo(n)?n+"":t}function Fd(n){var t=n.name;return!(!t||!t.indexOf(s0))}function Pl(n){return n&&null!=n.id&&0===Ll(n.id).indexOf("\0_ec_\0")}function No(n,t){return null!=t.dataIndexInside?t.dataIndexInside:null!=t.dataIndex?Z(t.dataIndex)?J(t.dataIndex,function(e){return n.indexOfRawIndex(e)}):n.indexOfRawIndex(t.dataIndex):null!=t.name?Z(t.name)?J(t.name,function(e){return n.indexOfName(e)}):n.indexOfName(t.name):void 0}function We(){var n="__ec_inner_"+yA++;return function(t){return t[n]||(t[n]={})}}var yA=r0();function Ol(n,t,e){var i=Hd(t,e),o=i.queryOptionMap,a=i.others,s=e?e.defaultMainType:null;return!i.mainTypeSpecified&&s&&o.set(s,{}),o.each(function(l,u){var h=El(n,u,l,{useDefault:s===u,enableAll:!e||null==e.enableAll||e.enableAll,enableNone:!e||null==e.enableNone||e.enableNone});a[u+"Models"]=h.models,a[u+"Model"]=h.models[0]}),a}function Hd(n,t){var e;if(Ce(n)){var i={};i[n+"Index"]=0,e=i}else e=n;var r=ue(),o={},a=!1;return k(e,function(s,l){if("dataIndex"!==l&&"dataIndexInside"!==l){var u=l.match(/^(\w+)(Index|Id|Name)$/)||[],h=u[1],c=(u[2]||"").toLowerCase();h&&c&&!(t&&t.includeMainTypes&&Ie(t.includeMainTypes,h)<0)&&(a=a||!!h,(r.get(h)||r.set(h,{}))[c]=s)}else o[l]=s}),{mainTypeSpecified:a,queryOptionMap:r,others:o}}var Mt={useDefault:!0,enableAll:!1,enableNone:!1},vA={useDefault:!1,enableAll:!0,enableNone:!0};function El(n,t,e,i){i=i||Mt;var r=e.index,o=e.id,a=e.name,s={models:null,specified:null!=r||null!=o||null!=a};if(!s.specified){var l=void 0;return s.models=i.useDefault&&(l=n.getComponent(t))?[l]:[],s}return"none"===r||!1===r?(vt(i.enableNone,'`"none"` or `false` is not a valid value on index option.'),s.models=[],s):("all"===r&&(vt(i.enableAll,'`"all"` is not a valid value on index option.'),r=o=a=null),s.models=n.queryComponents({mainType:t,index:r,id:o,name:a}),s)}function p0(n,t,e){n.setAttribute?n.setAttribute(t,e):n[t]=e}function Wd(n,t){var e=ue(),i=[];return k(n,function(r){var o=t(r);(e.get(o)||(i.push(o),e.set(o,[]))).push(r)}),{keys:i,buckets:e}}function d0(n,t,e,i,r){var o=null==t||"auto"===t;if(null==i)return i;if("number"==typeof i)return Pt(f=kr(e||0,i,r),o?Math.max(hi(e||0),hi(i)):t);if("string"==typeof i)return r<1?e:i;for(var a=[],s=e,l=i,u=Math.max(s?s.length:0,l.length),h=0;h<u;++h){var c=n.getDimensionInfo(h);if(c&&"ordinal"===c.type)a[h]=(r<1&&s?s:l)[h];else{var p=s&&s[h]?s[h]:0,d=l[h],f=kr(p,d,r);a[h]=Pt(f,o?Math.max(hi(p),hi(d)):t)}}return a}var Ro="___EC__COMPONENT__CONTAINER___",f0="___EC__EXTENDED_CLASS___";function Pi(n){var t={main:"",sub:""};if(n){var e=n.split(".");t.main=e[0]||"",t.sub=e[1]||""}return t}function Ud(n,t){n.$constructor=n,n.extend=function(e){var i=this;function r(){for(var o=[],a=0;a<arguments.length;a++)o[a]=arguments[a];if(e.$constructor)e.$constructor.apply(this,arguments);else{if(_A(i)){var s=ri(r.prototype,new(i.bind.apply(i,mh([void 0],o))));return s}i.apply(this,arguments)}}return r[f0]=!0,K(r.prototype,e),r.extend=this.extend,r.superCall=bA,r.superApply=wA,Ca(r,this),r.superClass=i,r}}function _A(n){return"function"==typeof n&&/^class\s/.test(Function.prototype.toString.call(n))}function g0(n,t){n.extend=t.extend}var xA=Math.round(10*Math.random());function bA(n,t){for(var e=[],i=2;i<arguments.length;i++)e[i-2]=arguments[i];return this.superClass.prototype[t].apply(n,e)}function wA(n,t,e){return this.superClass.prototype[t].apply(n,e)}function Uh(n){var t={};n.registerClass=function(e){var i,a,s,r=e.type||e.prototype.type;if(r){vt(/^[a-zA-Z0-9_]+([.][a-zA-Z0-9_]+)?$/.test(i=r),'componentType "'+i+'" illegal'),e.prototype.type=r;var o=Pi(r);o.sub?o.sub!==Ro&&((a=o,s=t[a.main],s&&s[Ro]||((s=t[a.main]={})[Ro]=!0),s)[o.sub]=e):t[o.main]=e}return e},n.getClass=function(e,i,r){var o=t[e];if(o&&o[Ro]&&(o=i?o[i]:null),r&&!o)throw new Error(i?"Component "+e+"."+(i||"")+" is used but not imported.":e+".type should be specified.");return o},n.getClassesByMainType=function(e){var i=Pi(e),r=[],o=t[i.main];return o&&o[Ro]?k(o,function(a,s){s!==Ro&&r.push(a)}):r.push(o),r},n.hasClass=function(e){var i=Pi(e);return!!t[i.main]},n.getAllClassMainTypes=function(){var e=[];return k(t,function(i,r){e.push(r)}),e},n.hasSubTypes=function(e){var i=Pi(e),r=t[i.main];return r&&r[Ro]}}function zo(n,t){for(var e=0;e<n.length;e++)n[e][1]||(n[e][1]=n[e][0]);return t=t||!1,function(i,r,o){for(var a={},s=0;s<n.length;s++){var l=n[s][1];if(!(r&&Ie(r,l)>=0||o&&Ie(o,l)<0)){var u=i.getShallow(l,t);null!=u&&(a[n[s][0]]=u)}}return a}}var SA=zo([["fill","color"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["opacity"],["shadowColor"]]),MA=function(){function n(){}return n.prototype.getAreaStyle=function(t,e){return SA(this,t,e)},n}(),Xd=new ai(50);function IA(n){if("string"==typeof n){var t=Xd.get(n);return t&&t.image}return n}function Yd(n,t,e,i,r){if(n){if("string"==typeof n){if(t&&t.__zrImageSrc===n||!e)return t;var o=Xd.get(n),a={hostEl:e,cb:i,cbPayload:r};return o?!Xh(t=o.image)&&o.pending.push(a):((t=new Image).onload=t.onerror=TA,Xd.put(n,t.__cachedImgObj={image:t,pending:[a]}),t.src=t.__zrImageSrc=n),t}return n}return t}function TA(){var n=this.__cachedImgObj;this.onload=this.onerror=this.__cachedImgObj=null;for(var t=0;t<n.pending.length;t++){var e=n.pending[t],i=e.cb;i&&i(this,e.cbPayload),e.hostEl.dirty()}n.pending.length=0}function Xh(n){return n&&n.width&&n.height}var Zd=/\{([a-zA-Z0-9_]+)\|([^}]*)\}/g;function m0(n,t,e,i,r){if(!t)return"";var o=(n+"").split("\n");r=y0(t,e,i,r);for(var a=0,s=o.length;a<s;a++)o[a]=v0(o[a],r);return o.join("\n")}function y0(n,t,e,i){var r=K({},i=i||{});r.font=t,e=Te(e,"..."),r.maxIterations=Te(i.maxIterations,2);var o=r.minChar=Te(i.minChar,0);r.cnCharWidth=Pn("\u56fd",t);var a=r.ascCharWidth=Pn("a",t);r.placeholder=Te(i.placeholder,"");for(var s=n=Math.max(0,n-1),l=0;l<o&&s>=a;l++)s-=a;var u=Pn(e,t);return u>s&&(e="",u=0),s=n-u,r.ellipsis=e,r.ellipsisWidth=u,r.contentWidth=s,r.containerWidth=n,r}function v0(n,t){var e=t.containerWidth,i=t.font,r=t.contentWidth;if(!e)return"";var o=Pn(n,i);if(o<=e)return n;for(var a=0;;a++){if(o<=r||a>=t.maxIterations){n+=t.ellipsis;break}var s=0===a?CA(n,r,t.ascCharWidth,t.cnCharWidth):o>0?Math.floor(n.length*r/o):0;o=Pn(n=n.substr(0,s),i)}return""===n&&(n=t.placeholder),n}function CA(n,t,e,i){for(var r=0,o=0,a=n.length;o<a&&r<t;o++){var s=n.charCodeAt(o);r+=0<=s&&s<=127?e:i}return o}var AA=function(){},_0=function(n){this.tokens=[],n&&(this.tokens=n)},DA=function(){this.width=0,this.height=0,this.contentWidth=0,this.contentHeight=0,this.outerWidth=0,this.outerHeight=0,this.lines=[]};function jd(n,t,e,i,r){var o,a,s=""===t,l=r&&e.rich[r]||{},u=n.lines,h=l.font||e.font,c=!1;if(i){var p=l.padding,d=p?p[1]+p[3]:0;if(null!=l.width&&"auto"!==l.width){var f=Wn(l.width,i.width)+d;u.length>0&&f+i.accumWidth>i.width&&(o=t.split("\n"),c=!0),i.accumWidth=f}else{var g=x0(t,h,i.width,i.breakAll,i.accumWidth);i.accumWidth=g.accumWidth+d,a=g.linesWidths,o=g.lines}}else o=t.split("\n");for(var m=0;m<o.length;m++){var y=o[m],v=new AA;if(v.styleName=r,v.text=y,v.isLineHolder=!y&&!s,v.width="number"==typeof l.width?l.width:a?a[m]:Pn(y,h),m||c)u.push(new _0([v]));else{var _=(u[u.length-1]||(u[0]=new _0)).tokens,x=_.length;1===x&&_[0].isLineHolder?_[0]=v:(y||!x||s)&&_.push(v)}}}var kA=ii(",&?/;] ".split(""),function(n,t){return n[t]=!0,n},{});function LA(n){return!((e=n.charCodeAt(0))>=33&&e<=255&&!kA[n]);var e}function x0(n,t,e,i,r){for(var o=[],a=[],s="",l="",u=0,h=0,c=0;c<n.length;c++){var p=n.charAt(c);if("\n"!==p){var d=Pn(p,t),f=!i&&!LA(p);(o.length?h+d>e:r+h+d>e)?h?(s||l)&&(f?(s||(s=l,l="",h=u=0),o.push(s),a.push(h-u),l+=p,s="",h=u+=d):(l&&(s+=l,h+=u,l="",u=0),o.push(s),a.push(h),s=p,h=d)):f?(o.push(l),a.push(u),l=p,u=d):(o.push(p),a.push(d)):(h+=d,f?(l+=p,u+=d):(l&&(s+=l,l="",u=0),s+=p))}else l&&(s+=l,h+=u),o.push(s),a.push(h),s="",l="",u=0,h=0}return o.length||s||(s=n,l="",u=0),l&&(s+=l),s&&(o.push(s),a.push(h)),1===o.length&&(h+=r),{accumWidth:h,lines:o,linesWidths:a}}var qd="__zr_style_"+Math.round(10*Math.random()),Bo={shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,shadowColor:"#000",opacity:1,blend:"source-over"},Yh={style:{shadowBlur:!0,shadowOffsetX:!0,shadowOffsetY:!0,shadowColor:!0,opacity:!0}};Bo[qd]=!0;var b0=["z","z2","invisible"],PA=["invisible"],ci=function(n){function t(i){return n.call(this,i)||this}var e;return G(t,n),t.prototype._init=function(i){for(var r=q(i),o=0;o<r.length;o++){var a=r[o];"style"===a?this.useStyle(i[a]):n.prototype.attrKV.call(this,a,i[a])}this.style||this.useStyle({})},t.prototype.beforeBrush=function(){},t.prototype.afterBrush=function(){},t.prototype.innerBeforeBrush=function(){},t.prototype.innerAfterBrush=function(){},t.prototype.shouldBePainted=function(i,r,o,a){var h,c,p,s=this.transform;if(this.ignore||this.invisible||0===this.style.opacity||this.culling&&(c=i,p=r,Kd.copy((h=this).getBoundingRect()),h.transform&&Kd.applyTransform(h.transform),$d.width=c,$d.height=p,!Kd.intersect($d))||s&&!s[0]&&!s[3])return!1;if(o&&this.__clipPaths)for(var l=0;l<this.__clipPaths.length;++l)if(this.__clipPaths[l].isZeroArea())return!1;if(a&&this.parent)for(var u=this.parent;u;){if(u.ignore)return!1;u=u.parent}return!0},t.prototype.contain=function(i,r){return this.rectContain(i,r)},t.prototype.traverse=function(i,r){i.call(r,this)},t.prototype.rectContain=function(i,r){var o=this.transformCoordToLocal(i,r);return this.getBoundingRect().contain(o[0],o[1])},t.prototype.getPaintRect=function(){var i=this._paintRect;if(!this._paintRect||this.__dirty){var r=this.transform,o=this.getBoundingRect(),a=this.style,s=a.shadowBlur||0,l=a.shadowOffsetX||0,u=a.shadowOffsetY||0;i=this._paintRect||(this._paintRect=new De(0,0,0,0)),r?De.applyTransform(i,o,r):i.copy(o),(s||l||u)&&(i.width+=2*s+Math.abs(l),i.height+=2*s+Math.abs(u),i.x=Math.min(i.x,i.x+l-s),i.y=Math.min(i.y,i.y+u-s));var h=this.dirtyRectTolerance;i.isZero()||(i.x=Math.floor(i.x-h),i.y=Math.floor(i.y-h),i.width=Math.ceil(i.width+1+2*h),i.height=Math.ceil(i.height+1+2*h))}return i},t.prototype.setPrevPaintRect=function(i){i?(this._prevPaintRect=this._prevPaintRect||new De(0,0,0,0),this._prevPaintRect.copy(i)):this._prevPaintRect=null},t.prototype.getPrevPaintRect=function(){return this._prevPaintRect},t.prototype.animateStyle=function(i){return this.animate("style",i)},t.prototype.updateDuringAnimation=function(i){"style"===i?this.dirtyStyle():this.markRedraw()},t.prototype.attrKV=function(i,r){"style"!==i?n.prototype.attrKV.call(this,i,r):this.style?this.setStyle(r):this.useStyle(r)},t.prototype.setStyle=function(i,r){return"string"==typeof i?this.style[i]=r:K(this.style,i),this.dirtyStyle(),this},t.prototype.dirtyStyle=function(i){i||this.markRedraw(),this.__dirty|=2,this._rect&&(this._rect=null)},t.prototype.dirty=function(){this.dirtyStyle()},t.prototype.styleChanged=function(){return!!(2&this.__dirty)},t.prototype.styleUpdated=function(){this.__dirty&=-3},t.prototype.createStyle=function(i){return ri(Bo,i)},t.prototype.useStyle=function(i){i[qd]||(i=this.createStyle(i)),this.__inHover?this.__hoverStyle=i:this.style=i,this.dirtyStyle()},t.prototype.isStyleObject=function(i){return i[qd]},t.prototype._innerSaveToNormal=function(i){n.prototype._innerSaveToNormal.call(this,i);var r=this._normalState;i.style&&!r.style&&(r.style=this._mergeStyle(this.createStyle(),this.style)),this._savePrimaryToNormal(i,r,b0)},t.prototype._applyStateObj=function(i,r,o,a,s,l){n.prototype._applyStateObj.call(this,i,r,o,a,s,l);var u,h=!(r&&a);if(r&&r.style?s?a?u=r.style:(u=this._mergeStyle(this.createStyle(),o.style),this._mergeStyle(u,r.style)):(u=this._mergeStyle(this.createStyle(),a?this.style:o.style),this._mergeStyle(u,r.style)):h&&(u=o.style),u)if(s){var c=this.style;if(this.style=this.createStyle(h?{}:c),h)for(var p=q(c),d=0;d<p.length;d++)(g=p[d])in u&&(u[g]=u[g],this.style[g]=c[g]);var f=q(u);for(d=0;d<f.length;d++){var g=f[d];this.style[g]=this.style[g]}this._transitionState(i,{style:u},l,this.getAnimationStyleProps())}else this.useStyle(u);var m=this.__inHover?PA:b0;for(d=0;d<m.length;d++)g=m[d],r&&null!=r[g]?this[g]=r[g]:h&&null!=o[g]&&(this[g]=o[g])},t.prototype._mergeStates=function(i){for(var r,o=n.prototype._mergeStates.call(this,i),a=0;a<i.length;a++){var s=i[a];s.style&&this._mergeStyle(r=r||{},s.style)}return r&&(o.style=r),o},t.prototype._mergeStyle=function(i,r){return K(i,r),i},t.prototype.getAnimationStyleProps=function(){return Yh},t.initDefaultProps=((e=t.prototype).type="displayable",e.invisible=!1,e.z=0,e.z2=0,e.zlevel=0,e.culling=!1,e.cursor="pointer",e.rectHover=!1,e.incremental=!1,e._rect=null,e.dirtyRectTolerance=0,void(e.__dirty=3)),t}(Hh),Kd=new De(0,0,0,0),$d=new De(0,0,0,0),Zh=Math.pow,Er=Math.sqrt,M0=Er(3),jh=1/3,Oi=Kt(),Un=Kt(),Ka=Kt();function Nr(n){return n>-1e-8&&n<1e-8}function I0(n){return n>1e-8||n<-1e-8}function mt(n,t,e,i,r){var o=1-r;return o*o*(o*n+3*r*t)+r*r*(r*i+3*o*e)}function T0(n,t,e,i,r){var o=1-r;return 3*(((t-n)*o+2*(e-t)*r)*o+(i-e)*r*r)}function Qd(n,t,e,i,r,o){var a=i+3*(t-e)-n,s=3*(e-2*t+n),l=3*(t-n),u=n-r,h=s*s-3*a*l,c=s*l-9*a*u,p=l*l-3*s*u,d=0;if(Nr(h)&&Nr(c))Nr(s)?o[0]=0:(M=-l/s)>=0&&M<=1&&(o[d++]=M);else{var f=c*c-4*h*p;if(Nr(f)){var g=c/h,m=-g/2;(M=-s/a+g)>=0&&M<=1&&(o[d++]=M),m>=0&&m<=1&&(o[d++]=m)}else if(f>0){var y=Er(f),v=h*s+1.5*a*(-c+y),_=h*s+1.5*a*(-c-y);(M=(-s-((v=v<0?-Zh(-v,jh):Zh(v,jh))+(_=_<0?-Zh(-_,jh):Zh(_,jh))))/(3*a))>=0&&M<=1&&(o[d++]=M)}else{var x=(2*h*s-3*a*c)/(2*Er(h*h*h)),b=Math.acos(x)/3,w=Er(h),S=Math.cos(b),M=(-s-2*w*S)/(3*a),T=(m=(-s+w*(S+M0*Math.sin(b)))/(3*a),(-s+w*(S-M0*Math.sin(b)))/(3*a));M>=0&&M<=1&&(o[d++]=M),m>=0&&m<=1&&(o[d++]=m),T>=0&&T<=1&&(o[d++]=T)}}return d}function C0(n,t,e,i,r){var o=6*e-12*t+6*n,a=9*t+3*i-3*n-9*e,s=3*t-3*n,l=0;if(Nr(a))I0(o)&&(h=-s/o)>=0&&h<=1&&(r[l++]=h);else{var u=o*o-4*a*s;if(Nr(u))r[0]=-o/(2*a);else if(u>0){var h,c=Er(u),p=(-o-c)/(2*a);(h=(-o+c)/(2*a))>=0&&h<=1&&(r[l++]=h),p>=0&&p<=1&&(r[l++]=p)}}return l}function Rr(n,t,e,i,r,o){var a=(t-n)*r+n,s=(e-t)*r+t,l=(i-e)*r+e,u=(s-a)*r+a,h=(l-s)*r+s,c=(h-u)*r+u;o[0]=n,o[1]=a,o[2]=u,o[3]=c,o[4]=c,o[5]=h,o[6]=l,o[7]=i}function A0(n,t,e,i,r,o,a,s,l,u,h){var c,p,d,f,g,m=.005,y=1/0;Oi[0]=l,Oi[1]=u;for(var v=0;v<1;v+=.05)Un[0]=mt(n,e,r,a,v),Un[1]=mt(t,i,o,s,v),(f=Ti(Oi,Un))<y&&(c=v,y=f);y=1/0;for(var _=0;_<32&&!(m<1e-4);_++)d=c+m,Un[0]=mt(n,e,r,a,p=c-m),Un[1]=mt(t,i,o,s,p),f=Ti(Un,Oi),p>=0&&f<y?(c=p,y=f):(Ka[0]=mt(n,e,r,a,d),Ka[1]=mt(t,i,o,s,d),g=Ti(Ka,Oi),d<=1&&g<y?(c=d,y=g):m*=.5);return h&&(h[0]=mt(n,e,r,a,c),h[1]=mt(t,i,o,s,c)),Er(y)}function OA(n,t,e,i,r,o,a,s,l){for(var u=n,h=t,c=0,p=1/l,d=1;d<=l;d++){var f=d*p,g=mt(n,e,r,a,f),m=mt(t,i,o,s,f),y=g-u,v=m-h;c+=Math.sqrt(y*y+v*v),u=g,h=m}return c}function Wt(n,t,e,i){var r=1-i;return r*(r*n+2*i*t)+i*i*e}function Jd(n,t,e,i){return 2*((1-i)*(t-n)+i*(e-t))}function D0(n,t,e){var i=n+e-2*t;return 0===i?.5:(n-t)/i}function Nl(n,t,e,i,r){var o=(t-n)*i+n,a=(e-t)*i+t,s=(a-o)*i+o;r[0]=n,r[1]=o,r[2]=s,r[3]=s,r[4]=a,r[5]=e}function k0(n,t,e,i,r,o,a,s,l){var u,h=.005,c=1/0;Oi[0]=a,Oi[1]=s;for(var p=0;p<1;p+=.05)Un[0]=Wt(n,e,r,p),Un[1]=Wt(t,i,o,p),(m=Ti(Oi,Un))<c&&(u=p,c=m);c=1/0;for(var d=0;d<32&&!(h<1e-4);d++){var f=u-h,g=u+h;Un[0]=Wt(n,e,r,f),Un[1]=Wt(t,i,o,f);var m=Ti(Un,Oi);if(f>=0&&m<c)u=f,c=m;else{Ka[0]=Wt(n,e,r,g),Ka[1]=Wt(t,i,o,g);var y=Ti(Ka,Oi);g<=1&&y<c?(u=g,c=y):h*=.5}}return l&&(l[0]=Wt(n,e,r,u),l[1]=Wt(t,i,o,u)),Er(c)}function EA(n,t,e,i,r,o,a){for(var s=n,l=t,u=0,h=1/a,c=1;c<=a;c++){var p=c*h,d=Wt(n,e,r,p),f=Wt(t,i,o,p),g=d-s,m=f-l;u+=Math.sqrt(g*g+m*m),s=d,l=f}return u}var wn=Math.min,Sn=Math.max,ef=Math.sin,tf=Math.cos,Vo=2*Math.PI,qh=Kt(),Kh=Kt(),$h=Kt();function Rl(n,t,e){if(0!==n.length){for(var i=n[0],r=i[0],o=i[0],a=i[1],s=i[1],l=1;l<n.length;l++)r=wn(r,(i=n[l])[0]),o=Sn(o,i[0]),a=wn(a,i[1]),s=Sn(s,i[1]);t[0]=r,t[1]=a,e[0]=o,e[1]=s}}function L0(n,t,e,i,r,o){r[0]=wn(n,e),r[1]=wn(t,i),o[0]=Sn(n,e),o[1]=Sn(t,i)}var P0=[],O0=[];function NA(n,t,e,i,r,o,a,s,l,u){var h=C0,c=mt,p=h(n,e,r,a,P0);l[0]=1/0,l[1]=1/0,u[0]=-1/0,u[1]=-1/0;for(var d=0;d<p;d++){var f=c(n,e,r,a,P0[d]);l[0]=wn(f,l[0]),u[0]=Sn(f,u[0])}for(p=h(t,i,o,s,O0),d=0;d<p;d++){var g=c(t,i,o,s,O0[d]);l[1]=wn(g,l[1]),u[1]=Sn(g,u[1])}l[0]=wn(n,l[0]),u[0]=Sn(n,u[0]),l[0]=wn(a,l[0]),u[0]=Sn(a,u[0]),l[1]=wn(t,l[1]),u[1]=Sn(t,u[1]),l[1]=wn(s,l[1]),u[1]=Sn(s,u[1])}function RA(n,t,e,i,r,o,a,s){var l=D0,u=Wt,h=Sn(wn(l(n,e,r),1),0),c=Sn(wn(l(t,i,o),1),0),p=u(n,e,r,h),d=u(t,i,o,c);a[0]=wn(n,r,p),a[1]=wn(t,o,d),s[0]=Sn(n,r,p),s[1]=Sn(t,o,d)}function zA(n,t,e,i,r,o,a,s,l){var u=Ci,h=_t,c=Math.abs(r-o);if(c%Vo<1e-4&&c>1e-4)return s[0]=n-e,s[1]=t-i,l[0]=n+e,void(l[1]=t+i);if(qh[0]=tf(r)*e+n,qh[1]=ef(r)*i+t,Kh[0]=tf(o)*e+n,Kh[1]=ef(o)*i+t,u(s,qh,Kh),h(l,qh,Kh),(r%=Vo)<0&&(r+=Vo),(o%=Vo)<0&&(o+=Vo),r>o&&!a?o+=Vo:r<o&&a&&(r+=Vo),a){var p=o;o=r,r=p}for(var d=0;d<o;d+=Math.PI/2)d>r&&($h[0]=tf(d)*e+n,$h[1]=ef(d)*i+t,u(s,$h,s),h(l,$h,l))}var tt={M:1,L:2,C:3,Q:4,A:5,Z:6,R:7},Go=[],Fo=[],Ei=[],zr=[],Ni=[],Ri=[],zl=Math.min,Bl=Math.max,Ho=Math.cos,Wo=Math.sin,Qh=Math.sqrt,rr=Math.abs,nf=Math.PI,Br=2*nf,rf="undefined"!=typeof Float32Array,Vl=[];function of(n){return Math.round(n/nf*1e8)/1e8%2*nf}function E0(n,t){var e=of(n[0]);e<0&&(e+=Br);var r=n[1];r+=e-n[0],!t&&r-e>=Br?r=e+Br:t&&e-r>=Br?r=e-Br:!t&&e>r?r=e+(Br-of(e-r)):t&&e<r&&(r=e-(Br-of(r-e))),n[0]=e,n[1]=r}var or=function(){function n(t){this.dpr=1,this._xi=0,this._yi=0,this._x0=0,this._y0=0,this._len=0,t&&(this._saveData=!1),this._saveData&&(this.data=[])}return n.prototype.increaseVersion=function(){this._version++},n.prototype.getVersion=function(){return this._version},n.prototype.setScale=function(t,e,i){(i=i||0)>0&&(this._ux=rr(i/Eh/t)||0,this._uy=rr(i/Eh/e)||0)},n.prototype.setDPR=function(t){this.dpr=t},n.prototype.setContext=function(t){this._ctx=t},n.prototype.getContext=function(){return this._ctx},n.prototype.beginPath=function(){return this._ctx&&this._ctx.beginPath(),this.reset(),this},n.prototype.reset=function(){this._saveData&&(this._len=0),this._lineDash&&(this._lineDash=null,this._dashOffset=0),this._pathSegLen&&(this._pathSegLen=null,this._pathLen=0),this._version++},n.prototype.moveTo=function(t,e){return this._drawPendingPt(),this.addData(tt.M,t,e),this._ctx&&this._ctx.moveTo(t,e),this._x0=t,this._y0=e,this._xi=t,this._yi=e,this},n.prototype.lineTo=function(t,e){var i=rr(t-this._xi),r=rr(e-this._yi),o=i>this._ux||r>this._uy;if(this.addData(tt.L,t,e),this._ctx&&o&&(this._needsDash?this._dashedLineTo(t,e):this._ctx.lineTo(t,e)),o)this._xi=t,this._yi=e,this._pendingPtDist=0;else{var a=i*i+r*r;a>this._pendingPtDist&&(this._pendingPtX=t,this._pendingPtY=e,this._pendingPtDist=a)}return this},n.prototype.bezierCurveTo=function(t,e,i,r,o,a){return this._drawPendingPt(),this.addData(tt.C,t,e,i,r,o,a),this._ctx&&(this._needsDash?this._dashedBezierTo(t,e,i,r,o,a):this._ctx.bezierCurveTo(t,e,i,r,o,a)),this._xi=o,this._yi=a,this},n.prototype.quadraticCurveTo=function(t,e,i,r){return this._drawPendingPt(),this.addData(tt.Q,t,e,i,r),this._ctx&&(this._needsDash?this._dashedQuadraticTo(t,e,i,r):this._ctx.quadraticCurveTo(t,e,i,r)),this._xi=i,this._yi=r,this},n.prototype.arc=function(t,e,i,r,o,a){this._drawPendingPt(),Vl[0]=r,Vl[1]=o,E0(Vl,a);var s=(o=Vl[1])-(r=Vl[0]);return this.addData(tt.A,t,e,i,i,r,s,0,a?0:1),this._ctx&&this._ctx.arc(t,e,i,r,o,a),this._xi=Ho(o)*i+t,this._yi=Wo(o)*i+e,this},n.prototype.arcTo=function(t,e,i,r,o){return this._drawPendingPt(),this._ctx&&this._ctx.arcTo(t,e,i,r,o),this},n.prototype.rect=function(t,e,i,r){return this._drawPendingPt(),this._ctx&&this._ctx.rect(t,e,i,r),this.addData(tt.R,t,e,i,r),this},n.prototype.closePath=function(){this._drawPendingPt(),this.addData(tt.Z);var t=this._ctx,e=this._x0,i=this._y0;return t&&(this._needsDash&&this._dashedLineTo(e,i),t.closePath()),this._xi=e,this._yi=i,this},n.prototype.fill=function(t){t&&t.fill(),this.toStatic()},n.prototype.stroke=function(t){t&&t.stroke(),this.toStatic()},n.prototype.setLineDash=function(t){if(t instanceof Array){this._lineDash=t,this._dashIdx=0;for(var e=0,i=0;i<t.length;i++)e+=t[i];this._dashSum=e,this._needsDash=!0}else this._lineDash=null,this._needsDash=!1;return this},n.prototype.setLineDashOffset=function(t){return this._dashOffset=t,this},n.prototype.len=function(){return this._len},n.prototype.setData=function(t){var e=t.length;this.data&&this.data.length===e||!rf||(this.data=new Float32Array(e));for(var i=0;i<e;i++)this.data[i]=t[i];this._len=e},n.prototype.appendPath=function(t){t instanceof Array||(t=[t]);for(var e=t.length,i=0,r=this._len,o=0;o<e;o++)i+=t[o].len();for(rf&&this.data instanceof Float32Array&&(this.data=new Float32Array(r+i)),o=0;o<e;o++)for(var a=t[o].data,s=0;s<a.length;s++)this.data[r++]=a[s];this._len=r},n.prototype.addData=function(t,e,i,r,o,a,s,l,u){if(this._saveData){var h=this.data;this._len+arguments.length>h.length&&(this._expandData(),h=this.data);for(var c=0;c<arguments.length;c++)h[this._len++]=arguments[c]}},n.prototype._drawPendingPt=function(){this._pendingPtDist>0&&(this._ctx&&this._ctx.lineTo(this._pendingPtX,this._pendingPtY),this._pendingPtDist=0)},n.prototype._expandData=function(){if(!(this.data instanceof Array)){for(var t=[],e=0;e<this._len;e++)t[e]=this.data[e];this.data=t}},n.prototype._dashedLineTo=function(t,e){var i,r,o=this._dashSum,a=this._lineDash,s=this._ctx,l=this._dashOffset,u=this._xi,h=this._yi,c=t-u,p=e-h,d=Qh(c*c+p*p),f=u,g=h,m=a.length;for(l<0&&(l=o+l),f-=(l%=o)*(c/=d),g-=l*(p/=d);c>0&&f<=t||c<0&&f>=t||0===c&&(p>0&&g<=e||p<0&&g>=e);)f+=c*(i=a[r=this._dashIdx]),g+=p*i,this._dashIdx=(r+1)%m,c>0&&f<u||c<0&&f>u||p>0&&g<h||p<0&&g>h||s[r%2?"moveTo":"lineTo"](c>=0?zl(f,t):Bl(f,t),p>=0?zl(g,e):Bl(g,e));this._dashOffset=-Qh((c=f-t)*c+(p=g-e)*p)},n.prototype._dashedBezierTo=function(t,e,i,r,o,a){var s,l,u,h,c,p=this._ctx,d=this._dashSum,f=this._dashOffset,g=this._lineDash,m=this._xi,y=this._yi,v=0,_=this._dashIdx,x=g.length,b=0;for(f<0&&(f=d+f),f%=d,s=0;s<1;s+=.1)l=mt(m,t,i,o,s+.1)-mt(m,t,i,o,s),u=mt(y,e,r,a,s+.1)-mt(y,e,r,a,s),v+=Qh(l*l+u*u);for(;_<x&&!((b+=g[_])>f);_++);for(s=(b-f)/v;s<=1;)h=mt(m,t,i,o,s),c=mt(y,e,r,a,s),_%2?p.moveTo(h,c):p.lineTo(h,c),s+=g[_]/v,_=(_+1)%x;_%2!=0&&p.lineTo(o,a),this._dashOffset=-Qh((l=o-h)*l+(u=a-c)*u)},n.prototype._dashedQuadraticTo=function(t,e,i,r){var o=i,a=r;i=(i+2*t)/3,r=(r+2*e)/3,this._dashedBezierTo(t=(this._xi+2*t)/3,e=(this._yi+2*e)/3,i,r,o,a)},n.prototype.toStatic=function(){if(this._saveData){this._drawPendingPt();var t=this.data;t instanceof Array&&(t.length=this._len,rf&&this._len>11&&(this.data=new Float32Array(t)))}},n.prototype.getBoundingRect=function(){Ei[0]=Ei[1]=Ni[0]=Ni[1]=Number.MAX_VALUE,zr[0]=zr[1]=Ri[0]=Ri[1]=-Number.MAX_VALUE;var t,e=this.data,i=0,r=0,o=0,a=0;for(t=0;t<this._len;){var s=e[t++],l=1===t;switch(l&&(o=i=e[t],a=r=e[t+1]),s){case tt.M:i=o=e[t++],r=a=e[t++],Ni[0]=o,Ni[1]=a,Ri[0]=o,Ri[1]=a;break;case tt.L:L0(i,r,e[t],e[t+1],Ni,Ri),i=e[t++],r=e[t++];break;case tt.C:NA(i,r,e[t++],e[t++],e[t++],e[t++],e[t],e[t+1],Ni,Ri),i=e[t++],r=e[t++];break;case tt.Q:RA(i,r,e[t++],e[t++],e[t],e[t+1],Ni,Ri),i=e[t++],r=e[t++];break;case tt.A:var u=e[t++],h=e[t++],c=e[t++],p=e[t++],d=e[t++],f=e[t++]+d;t+=1;var g=!e[t++];l&&(o=Ho(d)*c+u,a=Wo(d)*p+h),zA(u,h,c,p,d,f,g,Ni,Ri),i=Ho(f)*c+u,r=Wo(f)*p+h;break;case tt.R:L0(o=i=e[t++],a=r=e[t++],o+e[t++],a+e[t++],Ni,Ri);break;case tt.Z:i=o,r=a}Ci(Ei,Ei,Ni),_t(zr,zr,Ri)}return 0===t&&(Ei[0]=Ei[1]=zr[0]=zr[1]=0),new De(Ei[0],Ei[1],zr[0]-Ei[0],zr[1]-Ei[1])},n.prototype._calculateLength=function(){var t=this.data,e=this._len,i=this._ux,r=this._uy,o=0,a=0,s=0,l=0;this._pathSegLen||(this._pathSegLen=[]);for(var u=this._pathSegLen,h=0,c=0,p=0;p<e;){var d=t[p++],f=1===p;f&&(s=o=t[p],l=a=t[p+1]);var g=-1;switch(d){case tt.M:o=s=t[p++],a=l=t[p++];break;case tt.L:var m=t[p++],y=(x=t[p++])-a;(rr(P=m-o)>i||rr(y)>r||p===e-1)&&(g=Math.sqrt(P*P+y*y),o=m,a=x);break;case tt.C:var v=t[p++],_=t[p++],x=(m=t[p++],t[p++]),b=t[p++],w=t[p++];g=OA(o,a,v,_,m,x,b,w,10),o=b,a=w;break;case tt.Q:g=EA(o,a,v=t[p++],_=t[p++],m=t[p++],x=t[p++],10),o=m,a=x;break;case tt.A:var S=t[p++],M=t[p++],T=t[p++],C=t[p++],A=t[p++],D=t[p++],L=D+A;p+=1,p++,f&&(s=Ho(A)*T+S,l=Wo(A)*C+M),g=Bl(T,C)*zl(Br,Math.abs(D)),o=Ho(L)*T+S,a=Wo(L)*C+M;break;case tt.R:s=o=t[p++],l=a=t[p++],g=2*t[p++]+2*t[p++];break;case tt.Z:var P=s-o;y=l-a,g=Math.sqrt(P*P+y*y),o=s,a=l}g>=0&&(u[c++]=g,h+=g)}return this._pathLen=h,h},n.prototype.rebuildPath=function(t,e){var i,r,o,a,s,l,u,h,c,p,d=this.data,f=this._ux,g=this._uy,m=this._len,y=e<1,v=0,_=0,x=0;if(!y||(this._pathSegLen||this._calculateLength(),u=this._pathSegLen,h=e*this._pathLen))e:for(var b=0;b<m;){var w=d[b++],S=1===b;switch(S&&(i=o=d[b],r=a=d[b+1]),w!==tt.L&&x>0&&(t.lineTo(c,p),x=0),w){case tt.M:i=o=d[b++],r=a=d[b++],t.moveTo(o,a);break;case tt.L:s=d[b++],l=d[b++];var M=rr(s-o),T=rr(l-a);if(M>f||T>g){if(y){if(v+(xe=u[_++])>h){var C=(h-v)/xe;t.lineTo(o*(1-C)+s*C,a*(1-C)+l*C);break e}v+=xe}t.lineTo(s,l),o=s,a=l,x=0}else{var A=M*M+T*T;A>x&&(c=s,p=l,x=A)}break;case tt.C:var D=d[b++],L=d[b++],P=d[b++],E=d[b++],N=d[b++],R=d[b++];if(y){if(v+(xe=u[_++])>h){Rr(o,D,P,N,C=(h-v)/xe,Go),Rr(a,L,E,R,C,Fo),t.bezierCurveTo(Go[1],Fo[1],Go[2],Fo[2],Go[3],Fo[3]);break e}v+=xe}t.bezierCurveTo(D,L,P,E,N,R),o=N,a=R;break;case tt.Q:if(D=d[b++],L=d[b++],P=d[b++],E=d[b++],y){if(v+(xe=u[_++])>h){Nl(o,D,P,C=(h-v)/xe,Go),Nl(a,L,E,C,Fo),t.quadraticCurveTo(Go[1],Fo[1],Go[2],Fo[2]);break e}v+=xe}t.quadraticCurveTo(D,L,P,E),o=P,a=E;break;case tt.A:var z=d[b++],B=d[b++],V=d[b++],W=d[b++],Y=d[b++],Q=d[b++],U=d[b++],j=!d[b++],ne=V>W?V:W,ee=rr(V-W)>.001,te=Y+Q,oe=!1;if(y&&(v+(xe=u[_++])>h&&(te=Y+Q*(h-v)/xe,oe=!0),v+=xe),ee&&t.ellipse?t.ellipse(z,B,V,W,U,Y,te,j):t.arc(z,B,ne,Y,te,j),oe)break e;S&&(i=Ho(Y)*V+z,r=Wo(Y)*W+B),o=Ho(te)*V+z,a=Wo(te)*W+B;break;case tt.R:i=o=d[b],r=a=d[b+1],s=d[b++],l=d[b++];var ae=d[b++],fe=d[b++];if(y){if(v+(xe=u[_++])>h){var ve=h-v;t.moveTo(s,l),t.lineTo(s+zl(ve,ae),l),(ve-=ae)>0&&t.lineTo(s+ae,l+zl(ve,fe)),(ve-=fe)>0&&t.lineTo(s+Bl(ae-ve,0),l+fe),(ve-=ae)>0&&t.lineTo(s,l+Bl(fe-ve,0));break e}v+=xe}t.rect(s,l,ae,fe);break;case tt.Z:if(y){var xe;if(v+(xe=u[_++])>h){t.lineTo(o*(1-(C=(h-v)/xe))+i*C,a*(1-C)+r*C);break e}v+=xe}t.closePath(),o=i,a=r}}},n.prototype.clone=function(){var t=new n,e=this.data;return t.data=e.slice?e.slice():Array.prototype.slice.call(e),t._len=this._len,t},n.CMD=tt,n.initDefaultProps=((t=n.prototype)._saveData=!0,t._needsDash=!1,t._dashOffset=0,t._dashIdx=0,t._dashSum=0,t._ux=0,t._uy=0,t._pendingPtDist=0,void(t._version=0)),n;var t}();function Vr(n,t,e,i,r,o,a){if(0===r)return!1;var l,s=r;if(a>t+s&&a>i+s||a<t-s&&a<i-s||o>n+s&&o>e+s||o<n-s&&o<e-s)return!1;if(n===e)return Math.abs(o-n)<=s/2;var u=(l=(t-i)/(n-e))*o-a+(n*i-e*t)/(n-e);return u*u/(l*l+1)<=s/2*s/2}function BA(n,t,e,i,r,o,a,s,l,u,h){if(0===l)return!1;var c=l;return!(h>t+c&&h>i+c&&h>o+c&&h>s+c||h<t-c&&h<i-c&&h<o-c&&h<s-c||u>n+c&&u>e+c&&u>r+c&&u>a+c||u<n-c&&u<e-c&&u<r-c&&u<a-c)&&A0(n,t,e,i,r,o,a,s,u,h,null)<=c/2}function N0(n,t,e,i,r,o,a,s,l){if(0===a)return!1;var u=a;return!(l>t+u&&l>i+u&&l>o+u||l<t-u&&l<i-u&&l<o-u||s>n+u&&s>e+u&&s>r+u||s<n-u&&s<e-u&&s<r-u)&&k0(n,t,e,i,r,o,s,l,null)<=u/2}var R0=2*Math.PI;function Gr(n){return(n%=R0)<0&&(n+=R0),n}var Gl=2*Math.PI;function VA(n,t,e,i,r,o,a,s,l){if(0===a)return!1;var u=a;s-=n,l-=t;var h=Math.sqrt(s*s+l*l);if(h-u>e||h+u<e)return!1;if(Math.abs(i-r)%Gl<1e-4)return!0;if(o){var c=i;i=Gr(r),r=Gr(c)}else i=Gr(i),r=Gr(r);i>r&&(r+=Gl);var p=Math.atan2(l,s);return p<0&&(p+=Gl),p>=i&&p<=r||p+Gl>=i&&p+Gl<=r}function ar(n,t,e,i,r,o){if(o>t&&o>i||o<t&&o<i||i===t)return 0;var a=(o-t)/(i-t),s=i<t?1:-1;1!==a&&0!==a||(s=i<t?.5:-.5);var l=a*(e-n)+n;return l===r?1/0:l>r?s:0}var Fr=or.CMD,Uo=2*Math.PI,hn=[-1,-1,-1],Xn=[-1,-1];function GA(n,t,e,i,r,o,a,s,l,u){if(u>t&&u>i&&u>o&&u>s||u<t&&u<i&&u<o&&u<s)return 0;var h,c=Qd(t,i,o,s,u,hn);if(0===c)return 0;for(var p=0,d=-1,f=void 0,g=void 0,m=0;m<c;m++){var y=hn[m],v=0===y||1===y?.5:1;mt(n,e,r,a,y)<l||(d<0&&(d=C0(t,i,o,s,Xn),Xn[1]<Xn[0]&&d>1&&(h=Xn[0],Xn[0]=Xn[1],Xn[1]=h),f=mt(t,i,o,s,Xn[0]),d>1&&(g=mt(t,i,o,s,Xn[1]))),p+=2===d?y<Xn[0]?f<t?v:-v:y<Xn[1]?g<f?v:-v:s<g?v:-v:y<Xn[0]?f<t?v:-v:s<f?v:-v)}return p}function FA(n,t,e,i,r,o,a,s){if(s>t&&s>i&&s>o||s<t&&s<i&&s<o)return 0;var l=function(f,g,m,y,v){var _=f-2*g+m,x=2*(g-f),b=f-y,w=0;if(Nr(_))I0(x)&&(M=-b/x)>=0&&M<=1&&(v[w++]=M);else{var S=x*x-4*_*b;if(Nr(S))(M=-x/(2*_))>=0&&M<=1&&(v[w++]=M);else if(S>0){var M,T=Er(S),C=(-x-T)/(2*_);(M=(-x+T)/(2*_))>=0&&M<=1&&(v[w++]=M),C>=0&&C<=1&&(v[w++]=C)}}return w}(t,i,o,s,hn);if(0===l)return 0;var u=D0(t,i,o);if(u>=0&&u<=1){for(var h=0,c=Wt(t,i,o,u),p=0;p<l;p++){var d=0===hn[p]||1===hn[p]?.5:1;Wt(n,e,r,hn[p])<a||(h+=hn[p]<u?c<t?d:-d:o<c?d:-d)}return h}return d=0===hn[0]||1===hn[0]?.5:1,Wt(n,e,r,hn[0])<a?0:o<t?d:-d}function HA(n,t,e,i,r,o,a,s){if((s-=t)>e||s<-e)return 0;var l=Math.sqrt(e*e-s*s);hn[0]=-l,hn[1]=l;var u=Math.abs(i-r);if(u<1e-4)return 0;if(u>=Uo-1e-4){i=0,r=Uo;var h=o?1:-1;return a>=hn[0]+n&&a<=hn[1]+n?h:0}if(i>r){var c=i;i=r,r=c}i<0&&(i+=Uo,r+=Uo);for(var p=0,d=0;d<2;d++){var f=hn[d];if(f+n>a){var g=Math.atan2(s,f);h=o?1:-1,g<0&&(g=Uo+g),(g>=i&&g<=r||g+Uo>=i&&g+Uo<=r)&&(g>Math.PI/2&&g<1.5*Math.PI&&(h=-h),p+=h)}}return p}function z0(n,t,e,i,r){for(var o,a,u=n.data,h=n.len(),c=0,p=0,d=0,f=0,g=0,m=0;m<h;){var y=u[m++],v=1===m;switch(y===Fr.M&&m>1&&(e||(c+=ar(p,d,f,g,i,r))),v&&(f=p=u[m],g=d=u[m+1]),y){case Fr.M:p=f=u[m++],d=g=u[m++];break;case Fr.L:if(e){if(Vr(p,d,u[m],u[m+1],t,i,r))return!0}else c+=ar(p,d,u[m],u[m+1],i,r)||0;p=u[m++],d=u[m++];break;case Fr.C:if(e){if(BA(p,d,u[m++],u[m++],u[m++],u[m++],u[m],u[m+1],t,i,r))return!0}else c+=GA(p,d,u[m++],u[m++],u[m++],u[m++],u[m],u[m+1],i,r)||0;p=u[m++],d=u[m++];break;case Fr.Q:if(e){if(N0(p,d,u[m++],u[m++],u[m],u[m+1],t,i,r))return!0}else c+=FA(p,d,u[m++],u[m++],u[m],u[m+1],i,r)||0;p=u[m++],d=u[m++];break;case Fr.A:var _=u[m++],x=u[m++],b=u[m++],w=u[m++],S=u[m++],M=u[m++];m+=1;var T=!!(1-u[m++]);o=Math.cos(S)*b+_,a=Math.sin(S)*w+x,v?(f=o,g=a):c+=ar(p,d,o,a,i,r);var C=(i-_)*w/b+_;if(e){if(VA(_,x,w,S,S+M,T,t,C,r))return!0}else c+=HA(_,x,w,S,S+M,T,C,r);p=Math.cos(S+M)*b+_,d=Math.sin(S+M)*w+x;break;case Fr.R:if(f=p=u[m++],g=d=u[m++],o=f+u[m++],a=g+u[m++],e){if(Vr(f,g,o,g,t,i,r)||Vr(o,g,o,a,t,i,r)||Vr(o,a,f,a,t,i,r)||Vr(f,a,f,g,t,i,r))return!0}else c+=ar(o,g,o,a,i,r),c+=ar(f,a,f,g,i,r);break;case Fr.Z:if(e){if(Vr(p,d,f,g,t,i,r))return!0}else c+=ar(p,d,f,g,i,r);p=f,d=g}}return e||Math.abs(d-g)<1e-4||(c+=ar(p,d,f,g,i,r)||0),0!==c}var B0=ce({fill:"#000",stroke:null,strokePercent:1,fillOpacity:1,strokeOpacity:1,lineDashOffset:0,lineWidth:1,lineCap:"butt",miterLimit:10,strokeNoScale:!1,strokeFirst:!1},Bo),WA={style:ce({fill:!0,stroke:!0,strokePercent:!0,fillOpacity:!0,strokeOpacity:!0,lineDashOffset:!0,lineWidth:!0,miterLimit:!0},Yh.style)},af=["x","y","rotation","scaleX","scaleY","originX","originY","invisible","culling","z","z2","zlevel","parent"],Le=function(n){function t(i){return n.call(this,i)||this}var e;return G(t,n),t.prototype.update=function(){var i=this;n.prototype.update.call(this);var r=this.style;if(r.decal){var o=this._decalEl=this._decalEl||new t;o.buildPath===t.prototype.buildPath&&(o.buildPath=function(u){i.buildPath(u,i.shape)}),o.silent=!0;var a=o.style;for(var s in r)a[s]!==r[s]&&(a[s]=r[s]);a.fill=r.fill?r.decal:null,a.decal=null,a.shadowColor=null,r.strokeFirst&&(a.stroke=null);for(var l=0;l<af.length;++l)o[af[l]]=this[af[l]];o.__dirty|=1}else this._decalEl&&(this._decalEl=null)},t.prototype.getDecalElement=function(){return this._decalEl},t.prototype._init=function(i){var r=q(i);this.shape=this.getDefaultShape();var o=this.getDefaultStyle();o&&this.useStyle(o);for(var a=0;a<r.length;a++){var s=r[a],l=i[s];"style"===s?this.style?K(this.style,l):this.useStyle(l):"shape"===s?K(this.shape,l):n.prototype.attrKV.call(this,s,l)}this.style||this.useStyle({})},t.prototype.getDefaultStyle=function(){return null},t.prototype.getDefaultShape=function(){return{}},t.prototype.canBeInsideText=function(){return this.hasFill()},t.prototype.getInsideTextFill=function(){var i=this.style.fill;if("none"!==i){if(Ce(i)){var r=Dr(i,0);return r>.5?Id:r>.2?"#eee":Td}if(i)return Td}return Id},t.prototype.getInsideTextStroke=function(i){var r=this.style.fill;if(Ce(r)){var o=this.__zr;if(!(!o||!o.isDarkMode())==Dr(i,0)<.4)return r}},t.prototype.buildPath=function(i,r,o){},t.prototype.pathUpdated=function(){this.__dirty&=-5},t.prototype.getUpdatedPathProxy=function(i){return!this.path&&this.createPathProxy(),this.path.beginPath(),this.buildPath(this.path,this.shape,i),this.path},t.prototype.createPathProxy=function(){this.path=new or(!1)},t.prototype.hasStroke=function(){var i=this.style,r=i.stroke;return!(null==r||"none"===r||!(i.lineWidth>0))},t.prototype.hasFill=function(){var i=this.style.fill;return null!=i&&"none"!==i},t.prototype.getBoundingRect=function(){var i=this._rect,r=this.style,o=!i;if(o){var a=!1;this.path||(a=!0,this.createPathProxy());var s=this.path;(a||4&this.__dirty)&&(s.beginPath(),this.buildPath(s,this.shape,!1),this.pathUpdated()),i=s.getBoundingRect()}if(this._rect=i,this.hasStroke()&&this.path&&this.path.len()>0){var l=this._rectWithStroke||(this._rectWithStroke=i.clone());if(this.__dirty||o){l.copy(i);var u=r.strokeNoScale?this.getLineScale():1,h=r.lineWidth;if(!this.hasFill()){var c=this.strokeContainThreshold;h=Math.max(h,null==c?4:c)}u>1e-10&&(l.width+=h/u,l.height+=h/u,l.x-=h/u/2,l.y-=h/u/2)}return l}return i},t.prototype.contain=function(i,r){var o=this.transformCoordToLocal(i,r),a=this.getBoundingRect(),s=this.style;if(a.contain(i=o[0],r=o[1])){var l=this.path;if(this.hasStroke()){var u=s.lineWidth,h=s.strokeNoScale?this.getLineScale():1;if(h>1e-10&&(this.hasFill()||(u=Math.max(u,this.strokeContainThreshold)),z0(l,u/h,!0,i,r)))return!0}if(this.hasFill())return z0(l,0,!1,i,r)}return!1},t.prototype.dirtyShape=function(){this.__dirty|=4,this._rect&&(this._rect=null),this._decalEl&&this._decalEl.dirtyShape(),this.markRedraw()},t.prototype.dirty=function(){this.dirtyStyle(),this.dirtyShape()},t.prototype.animateShape=function(i){return this.animate("shape",i)},t.prototype.updateDuringAnimation=function(i){"style"===i?this.dirtyStyle():"shape"===i?this.dirtyShape():this.markRedraw()},t.prototype.attrKV=function(i,r){"shape"===i?this.setShape(r):n.prototype.attrKV.call(this,i,r)},t.prototype.setShape=function(i,r){var o=this.shape;return o||(o=this.shape={}),"string"==typeof i?o[i]=r:K(o,i),this.dirtyShape(),this},t.prototype.shapeChanged=function(){return!!(4&this.__dirty)},t.prototype.createStyle=function(i){return ri(B0,i)},t.prototype._innerSaveToNormal=function(i){n.prototype._innerSaveToNormal.call(this,i);var r=this._normalState;i.shape&&!r.shape&&(r.shape=K({},this.shape))},t.prototype._applyStateObj=function(i,r,o,a,s,l){n.prototype._applyStateObj.call(this,i,r,o,a,s,l);var u,h=!(r&&a);if(r&&r.shape?s?a?u=r.shape:(u=K({},o.shape),K(u,r.shape)):(u=K({},a?this.shape:o.shape),K(u,r.shape)):h&&(u=o.shape),u)if(s){this.shape=K({},this.shape);for(var c={},p=q(u),d=0;d<p.length;d++){var f=p[d];"object"==typeof u[f]?this.shape[f]=u[f]:c[f]=u[f]}this._transitionState(i,{shape:c},l)}else this.shape=u,this.dirtyShape()},t.prototype._mergeStates=function(i){for(var r,o=n.prototype._mergeStates.call(this,i),a=0;a<i.length;a++){var s=i[a];s.shape&&this._mergeStyle(r=r||{},s.shape)}return r&&(o.shape=r),o},t.prototype.getAnimationStyleProps=function(){return WA},t.prototype.isZeroArea=function(){return!1},t.extend=function(i){var r=function(a){function s(l){var u=a.call(this,l)||this;return i.init&&i.init.call(u,l),u}return G(s,a),s.prototype.getDefaultStyle=function(){return de(i.style)},s.prototype.getDefaultShape=function(){return de(i.shape)},s}(t);for(var o in i)"function"==typeof i[o]&&(r.prototype[o]=i[o]);return r},t.initDefaultProps=((e=t.prototype).type="path",e.strokeContainThreshold=5,e.segmentIgnoreThreshold=0,e.subPixelOptimize=!1,e.autoBatch=!1,void(e.__dirty=7)),t}(ci),UA=ce({strokeFirst:!0,font:Po,x:0,y:0,textAlign:"left",textBaseline:"top",miterLimit:2},B0),Xo=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return G(t,n),t.prototype.hasStroke=function(){var e=this.style,i=e.stroke;return null!=i&&"none"!==i&&e.lineWidth>0},t.prototype.hasFill=function(){var e=this.style.fill;return null!=e&&"none"!==e},t.prototype.createStyle=function(e){return ri(UA,e)},t.prototype.setBoundingRect=function(e){this._rect=e},t.prototype.getBoundingRect=function(){var e=this.style;if(!this._rect){var i=e.text;null!=i?i+="":i="";var r=Cl(i,e.font,e.textAlign,e.textBaseline);if(r.x+=e.x||0,r.y+=e.y||0,this.hasStroke()){var o=e.lineWidth;r.x-=o/2,r.y-=o/2,r.width+=o,r.height+=o}this._rect=r}return this._rect},t.initDefaultProps=void(t.prototype.dirtyRectTolerance=10),t}(ci);Xo.prototype.type="tspan";var XA=ce({x:0,y:0},Bo),YA={style:ce({x:!0,y:!0,width:!0,height:!0,sx:!0,sy:!0,sWidth:!0,sHeight:!0},Yh.style)},It=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return G(t,n),t.prototype.createStyle=function(e){return ri(XA,e)},t.prototype._getSize=function(e){var i=this.style,r=i[e];if(null!=r)return r;var o,a=(o=i.image)&&"string"!=typeof o&&o.width&&o.height?i.image:this.__image;if(!a)return 0;var s="width"===e?"height":"width",l=i[s];return null==l?a[e]:a[e]/a[s]*l},t.prototype.getWidth=function(){return this._getSize("width")},t.prototype.getHeight=function(){return this._getSize("height")},t.prototype.getAnimationStyleProps=function(){return YA},t.prototype.getBoundingRect=function(){var e=this.style;return this._rect||(this._rect=new De(e.x||0,e.y||0,this.getWidth(),this.getHeight())),this._rect},t}(ci);It.prototype.type="image";var $a=Math.round;function V0(n,t,e){if(t){var i=t.x1,r=t.x2,o=t.y1,a=t.y2;n.x1=i,n.x2=r,n.y1=o,n.y2=a;var s=e&&e.lineWidth;return s&&($a(2*i)===$a(2*r)&&(n.x1=n.x2=Yo(i,s,!0)),$a(2*o)===$a(2*a)&&(n.y1=n.y2=Yo(o,s,!0))),n}}function G0(n,t,e){if(t){var i=t.x,r=t.y,o=t.width,a=t.height;n.x=i,n.y=r,n.width=o,n.height=a;var s=e&&e.lineWidth;return s&&(n.x=Yo(i,s,!0),n.y=Yo(r,s,!0),n.width=Math.max(Yo(i+o,s,!1)-n.x,0===o?0:1),n.height=Math.max(Yo(r+a,s,!1)-n.y,0===a?0:1)),n}}function Yo(n,t,e){if(!t)return n;var i=$a(2*n);return(i+$a(t))%2==0?i/2:(i+(e?1:-1))/2}var ZA=function(){this.x=0,this.y=0,this.width=0,this.height=0},jA={},Ee=function(n){function t(e){return n.call(this,e)||this}return G(t,n),t.prototype.getDefaultShape=function(){return new ZA},t.prototype.buildPath=function(e,i){var r,o,a,s,u,h,c,p,d,f,g,m,y,v,_,x;if(this.subPixelOptimize){var l=G0(jA,i,this.style);r=l.x,o=l.y,a=l.width,s=l.height,l.r=i.r,i=l}else r=i.x,o=i.y,a=i.width,s=i.height;i.r?(u=e,m=(h=i).x,y=h.y,(v=h.width)<0&&(m+=v,v=-v),(_=h.height)<0&&(y+=_,_=-_),"number"==typeof(x=h.r)?c=p=d=f=x:x instanceof Array?1===x.length?c=p=d=f=x[0]:2===x.length?(c=d=x[0],p=f=x[1]):3===x.length?(c=x[0],p=f=x[1],d=x[2]):(c=x[0],p=x[1],d=x[2],f=x[3]):c=p=d=f=0,c+p>v&&(c*=v/(g=c+p),p*=v/g),d+f>v&&(d*=v/(g=d+f),f*=v/g),p+d>_&&(p*=_/(g=p+d),d*=_/g),c+f>_&&(c*=_/(g=c+f),f*=_/g),u.moveTo(m+c,y),u.lineTo(m+v-p,y),0!==p&&u.arc(m+v-p,y+p,p,-Math.PI/2,0),u.lineTo(m+v,y+_-d),0!==d&&u.arc(m+v-d,y+_-d,d,0,Math.PI/2),u.lineTo(m+f,y+_),0!==f&&u.arc(m+f,y+_-f,f,Math.PI/2,Math.PI),u.lineTo(m,y+c),0!==c&&u.arc(m+c,y+c,c,Math.PI,1.5*Math.PI)):e.rect(r,o,a,s)},t.prototype.isZeroArea=function(){return!this.shape.width||!this.shape.height},t}(Le);Ee.prototype.type="rect";var F0={fill:"#000"},qA={style:ce({fill:!0,stroke:!0,fillOpacity:!0,strokeOpacity:!0,lineWidth:!0,fontSize:!0,lineHeight:!0,width:!0,height:!0,textShadowColor:!0,textShadowBlur:!0,textShadowOffsetX:!0,textShadowOffsetY:!0,backgroundColor:!0,padding:!0,borderColor:!0,borderWidth:!0,borderRadius:!0},Yh.style)},Re=function(n){function t(e){var i=n.call(this)||this;return i.type="text",i._children=[],i._defaultStyle=F0,i.attr(e),i}return G(t,n),t.prototype.childrenRef=function(){return this._children},t.prototype.update=function(){n.prototype.update.call(this),this.styleChanged()&&this._updateSubTexts();for(var e=0;e<this._children.length;e++){var i=this._children[e];i.zlevel=this.zlevel,i.z=this.z,i.z2=this.z2,i.culling=this.culling,i.cursor=this.cursor,i.invisible=this.invisible}},t.prototype.updateTransform=function(){var e=this.innerTransformable;e?(e.updateTransform(),e.transform&&(this.transform=e.transform)):n.prototype.updateTransform.call(this)},t.prototype.getLocalTransform=function(e){var i=this.innerTransformable;return i?i.getLocalTransform(e):n.prototype.getLocalTransform.call(this,e)},t.prototype.getComputedTransform=function(){return this.__hostTarget&&(this.__hostTarget.getComputedTransform(),this.__hostTarget.updateInnerText(!0)),n.prototype.getComputedTransform.call(this)},t.prototype._updateSubTexts=function(){var e;this._childCursor=0,H0(e=this.style),k(e.rich,H0),this.style.rich?this._updateRichTexts():this._updatePlainTexts(),this._children.length=this._childCursor,this.styleUpdated()},t.prototype.addSelfToZr=function(e){n.prototype.addSelfToZr.call(this,e);for(var i=0;i<this._children.length;i++)this._children[i].__zr=e},t.prototype.removeSelfFromZr=function(e){n.prototype.removeSelfFromZr.call(this,e);for(var i=0;i<this._children.length;i++)this._children[i].__zr=null},t.prototype.getBoundingRect=function(){if(this.styleChanged()&&this._updateSubTexts(),!this._rect){for(var e=new De(0,0,0,0),i=this._children,r=[],o=null,a=0;a<i.length;a++){var s=i[a],l=s.getBoundingRect(),u=s.getLocalTransform(r);u?(e.copy(l),e.applyTransform(u),(o=o||e.clone()).union(e)):(o=o||l.clone()).union(l)}this._rect=o||e}return this._rect},t.prototype.setDefaultTextStyle=function(e){this._defaultStyle=e||F0},t.prototype.setTextContent=function(e){throw new Error("Can't attach text on another text")},t.prototype._mergeStyle=function(e,i){if(!i)return e;var r=i.rich,o=e.rich||r&&{};return K(e,i),r&&o?(this._mergeRich(o,r),e.rich=o):o&&(e.rich=o),e},t.prototype._mergeRich=function(e,i){for(var r=q(i),o=0;o<r.length;o++){var a=r[o];e[a]=e[a]||{},K(e[a],i[a])}},t.prototype.getAnimationStyleProps=function(){return qA},t.prototype._getOrCreateChild=function(e){var i=this._children[this._childCursor];return i&&i instanceof e||(i=new e),this._children[this._childCursor++]=i,i.__zr=this.__zr,i.parent=this,i},t.prototype._updatePlainTexts=function(){var e=this.style,i=e.font||Po,r=e.padding,o=function(E,N){null!=E&&(E+="");var R,z=N.overflow,B=N.padding,V=N.font,W="truncate"===z,Y=Gh(V),Q=Te(N.lineHeight,Y),U="truncate"===N.lineOverflow,j=N.width,ne=(R=null!=j&&"break"===z||"breakAll"===z?E?x0(E,N.font,j,"breakAll"===z,0).lines:[]:E?E.split("\n"):[]).length*Q,ee=Te(N.height,ne);if(ne>ee&&U){var te=Math.floor(ee/Q);R=R.slice(0,te)}var oe=ee,ae=j;if(B&&(oe+=B[0]+B[2],null!=ae&&(ae+=B[1]+B[3])),E&&W&&null!=ae)for(var fe=y0(j,V,N.ellipsis,{minChar:N.truncateMinChar,placeholder:N.placeholder}),ve=0;ve<R.length;ve++)R[ve]=v0(R[ve],fe);if(null==j){var xe=0;for(ve=0;ve<R.length;ve++)xe=Math.max(Pn(R[ve],V),xe);j=xe}return{lines:R,height:ee,outerHeight:oe,lineHeight:Q,calculatedLineHeight:Y,contentHeight:ne,width:j}}(Y0(e),e),a=sf(e),s=!!e.backgroundColor,l=o.outerHeight,u=o.lines,h=o.lineHeight,c=this._defaultStyle,p=e.x||0,d=e.y||0,f=e.align||c.align||"left",g=e.verticalAlign||c.verticalAlign||"top",m=p,y=Za(d,o.contentHeight,g);if(a||r){var v=o.width;r&&(v+=r[1]+r[3]);var _=Al(p,v,f),x=Za(d,l,g);a&&this._renderBackground(e,e,_,x,v,l)}y+=h/2,r&&(m=X0(p,f,r),"top"===g?y+=r[0]:"bottom"===g&&(y-=r[2]));for(var b=0,w=!1,S=(U0("fill"in e?e.fill:(w=!0,c.fill))),M=(W0("stroke"in e?e.stroke:s||c.autoStroke&&!w?null:(b=2,c.stroke))),T=e.textShadowBlur>0,C=null!=e.width&&("truncate"===e.overflow||"break"===e.overflow||"breakAll"===e.overflow),A=o.calculatedLineHeight,D=0;D<u.length;D++){var L=this._getOrCreateChild(Xo),P=L.createStyle();L.useStyle(P),P.text=u[D],P.x=m,P.y=y,f&&(P.textAlign=f),P.textBaseline="middle",P.opacity=e.opacity,P.strokeFirst=!0,T&&(P.shadowBlur=e.textShadowBlur||0,P.shadowColor=e.textShadowColor||"transparent",P.shadowOffsetX=e.textShadowOffsetX||0,P.shadowOffsetY=e.textShadowOffsetY||0),M&&(P.stroke=M,P.lineWidth=e.lineWidth||b,P.lineDash=e.lineDash,P.lineDashOffset=e.lineDashOffset||0),S&&(P.fill=S),P.font=i,y+=h,C&&L.setBoundingRect(new De(Al(P.x,e.width,P.textAlign),Za(P.y,A,P.textBaseline),e.width,A))}},t.prototype._updateRichTexts=function(){var e=this.style,i=function(P,E){var N=new DA;if(null!=P&&(P+=""),!P)return N;for(var R,z=E.width,B=E.height,V=E.overflow,W="break"!==V&&"breakAll"!==V||null==z?null:{width:z,accumWidth:0,breakAll:"breakAll"===V},Y=Zd.lastIndex=0;null!=(R=Zd.exec(P));){var Q=R.index;Q>Y&&jd(N,P.substring(Y,Q),E,W),jd(N,R[2],E,W,R[1]),Y=Zd.lastIndex}Y<P.length&&jd(N,P.substring(Y,P.length),E,W);var U=[],j=0,ne=0,ee=E.padding,te="truncate"===V,oe="truncate"===E.lineOverflow;function ae(At,at,rn){At.width=at,At.lineHeight=rn,j+=rn,ne=Math.max(ne,at)}e:for(var fe=0;fe<N.lines.length;fe++){for(var ve=N.lines[fe],xe=0,ct=0,ut=0;ut<ve.tokens.length;ut++){var Ve=(be=ve.tokens[ut]).styleName&&E.rich[be.styleName]||{},Ne=be.textPadding=Ve.padding,ft=Ne?Ne[1]+Ne[3]:0,ot=be.font=Ve.font||E.font;be.contentHeight=Gh(ot);var nn=Te(Ve.height,be.contentHeight);if(be.innerHeight=nn,Ne&&(nn+=Ne[0]+Ne[2]),be.height=nn,be.lineHeight=qt(Ve.lineHeight,E.lineHeight,nn),be.align=Ve&&Ve.align||E.align,be.verticalAlign=Ve&&Ve.verticalAlign||"middle",oe&&null!=B&&j+be.lineHeight>B){ut>0?(ve.tokens=ve.tokens.slice(0,ut),ae(ve,ct,xe),N.lines=N.lines.slice(0,fe+1)):N.lines=N.lines.slice(0,fe);break e}var mn=Ve.width,$e=null==mn||"auto"===mn;if("string"==typeof mn&&"%"===mn.charAt(mn.length-1))be.percentWidth=mn,U.push(be),be.contentWidth=Pn(be.text,ot);else{if($e){var Oe=Ve.backgroundColor,qe=Oe&&Oe.image;qe&&Xh(qe=IA(qe))&&(be.width=Math.max(be.width,qe.width*nn/qe.height))}var He=te&&null!=z?z-ct:null;null!=He&&He<be.width?!$e||He<ft?(be.text="",be.width=be.contentWidth=0):(be.text=m0(be.text,He-ft,ot,E.ellipsis,{minChar:E.truncateMinChar}),be.width=be.contentWidth=Pn(be.text,ot)):be.contentWidth=Pn(be.text,ot)}be.width+=ft,ct+=be.width,Ve&&(xe=Math.max(xe,be.lineHeight))}ae(ve,ct,xe)}for(N.outerWidth=N.width=Te(z,ne),N.outerHeight=N.height=Te(B,j),N.contentHeight=j,N.contentWidth=ne,ee&&(N.outerWidth+=ee[1]+ee[3],N.outerHeight+=ee[0]+ee[2]),fe=0;fe<U.length;fe++){var be,Nt=(be=U[fe]).percentWidth;be.width=parseInt(Nt,10)/100*N.width}return N}(Y0(e),e),r=i.width,o=i.outerWidth,a=i.outerHeight,s=e.padding,u=e.y||0,h=this._defaultStyle,p=e.verticalAlign||h.verticalAlign,d=Al(e.x||0,o,e.align||h.align),f=Za(u,a,p),g=d,m=f;s&&(g+=s[3],m+=s[0]);var y=g+r;sf(e)&&this._renderBackground(e,e,d,f,o,a);for(var v=!!e.backgroundColor,_=0;_<i.lines.length;_++){for(var x=i.lines[_],b=x.tokens,w=b.length,S=x.lineHeight,M=x.width,T=0,C=g,A=y,D=w-1,L=void 0;T<w&&(!(L=b[T]).align||"left"===L.align);)this._placeToken(L,e,S,m,C,"left",v),M-=L.width,C+=L.width,T++;for(;D>=0&&"right"===(L=b[D]).align;)this._placeToken(L,e,S,m,A,"right",v),M-=L.width,A-=L.width,D--;for(C+=(r-(C-g)-(y-A)-M)/2;T<=D;)this._placeToken(L=b[T],e,S,m,C+L.width/2,"center",v),C+=L.width,T++;m+=S}},t.prototype._placeToken=function(e,i,r,o,a,s,l){var u=i.rich[e.styleName]||{};u.text=e.text;var h=e.verticalAlign,c=o+r/2;"top"===h?c=o+e.height/2:"bottom"===h&&(c=o+r-e.height/2),!e.isLineHolder&&sf(u)&&this._renderBackground(u,i,"right"===s?a-e.width:"center"===s?a-e.width/2:a,c-e.height/2,e.width,e.height);var p=!!u.backgroundColor,d=e.textPadding;d&&(a=X0(a,s,d),c-=e.height/2-d[0]-e.innerHeight/2);var f=this._getOrCreateChild(Xo),g=f.createStyle();f.useStyle(g);var m=this._defaultStyle,y=!1,v=0,_=U0("fill"in u?u.fill:"fill"in i?i.fill:(y=!0,m.fill)),x=W0("stroke"in u?u.stroke:"stroke"in i?i.stroke:p||l||m.autoStroke&&!y?null:(v=2,m.stroke)),b=u.textShadowBlur>0||i.textShadowBlur>0;g.text=e.text,g.x=a,g.y=c,b&&(g.shadowBlur=u.textShadowBlur||i.textShadowBlur||0,g.shadowColor=u.textShadowColor||i.textShadowColor||"transparent",g.shadowOffsetX=u.textShadowOffsetX||i.textShadowOffsetX||0,g.shadowOffsetY=u.textShadowOffsetY||i.textShadowOffsetY||0),g.textAlign=s,g.textBaseline="middle",g.font=e.font||Po,g.opacity=qt(u.opacity,i.opacity,1),x&&(g.lineWidth=qt(u.lineWidth,i.lineWidth,v),g.lineDash=Te(u.lineDash,i.lineDash),g.lineDashOffset=i.lineDashOffset||0,g.stroke=x),_&&(g.fill=_);var w=e.contentWidth,S=e.contentHeight;f.setBoundingRect(new De(Al(g.x,w,g.textAlign),Za(g.y,S,g.textBaseline),w,S))},t.prototype._renderBackground=function(e,i,r,o,a,s){var l,u,h,c=e.backgroundColor,p=e.borderWidth,d=e.borderColor,f=c&&c.image,g=c&&!f,m=e.borderRadius,y=this;if(g||e.lineHeight||p&&d){(l=this._getOrCreateChild(Ee)).useStyle(l.createStyle()),l.style.fill=null;var v=l.shape;v.x=r,v.y=o,v.width=a,v.height=s,v.r=m,l.dirtyShape()}if(g)(h=l.style).fill=c||null,h.fillOpacity=Te(e.fillOpacity,1);else if(f){(u=this._getOrCreateChild(It)).onload=function(){y.dirtyStyle()};var _=u.style;_.image=c.image,_.x=r,_.y=o,_.width=a,_.height=s}p&&d&&((h=l.style).lineWidth=p,h.stroke=d,h.strokeOpacity=Te(e.strokeOpacity,1),h.lineDash=e.borderDash,h.lineDashOffset=e.borderDashOffset||0,l.strokeContainThreshold=0,l.hasFill()&&l.hasStroke()&&(h.strokeFirst=!0,h.lineWidth*=2));var x=(l||u).style;x.shadowBlur=e.shadowBlur||0,x.shadowColor=e.shadowColor||"transparent",x.shadowOffsetX=e.shadowOffsetX||0,x.shadowOffsetY=e.shadowOffsetY||0,x.opacity=qt(e.opacity,i.opacity,1)},t.makeFont=function(e){var i="";if(e.fontSize||e.fontFamily||e.fontWeight){var r="";r="string"!=typeof e.fontSize||-1===e.fontSize.indexOf("px")&&-1===e.fontSize.indexOf("rem")&&-1===e.fontSize.indexOf("em")?isNaN(+e.fontSize)?"12px":e.fontSize+"px":e.fontSize,i=[e.fontStyle,e.fontWeight,r,e.fontFamily||"sans-serif"].join(" ")}return i&&Dn(i)||e.textFont||e.font},t}(ci),KA={left:!0,right:1,center:1},$A={top:1,bottom:1,middle:1};function H0(n){if(n){n.font=Re.makeFont(n);var t=n.align;"middle"===t&&(t="center"),n.align=null==t||KA[t]?t:"left";var e=n.verticalAlign;"center"===e&&(e="middle"),n.verticalAlign=null==e||$A[e]?e:"top",n.padding&&(n.padding=_o(n.padding))}}function W0(n,t){return null==n||t<=0||"transparent"===n||"none"===n?null:n.image||n.colorStops?"#000":n}function U0(n){return null==n||"none"===n?null:n.image||n.colorStops?"#000":n}function X0(n,t,e){return"right"===t?n-e[1]:"center"===t?n+e[3]/2-e[1]/2:n+e[3]}function Y0(n){var t=n.text;return null!=t&&(t+=""),t}function sf(n){return!!(n.backgroundColor||n.lineHeight||n.borderWidth&&n.borderColor)}var _e=We(),lf=function(n,t,e,i){if(i){var r=_e(i);r.dataIndex=e,r.dataType=t,r.seriesIndex=n,"group"===i.type&&i.traverse(function(o){var a=_e(o);a.seriesIndex=n,a.dataIndex=e,a.dataType=t})}},Z0=1,j0={},q0=We(),cn=["emphasis","blur","select"],Fl=["normal","emphasis","blur","select"],Zo="highlight",Jh="downplay",Hl="select",ec="unselect",Wl="toggleSelect";function Qa(n){return null!=n&&"none"!==n}var K0=new ai(100);function $0(n){if("string"!=typeof n)return n;var t=K0.get(n);return t||(t=wl(n,-.1),K0.put(n,t)),t}function tc(n,t,e){n.onHoverStateChange&&(n.hoverState||0)!==e&&n.onHoverStateChange(t),n.hoverState=e}function Q0(n){tc(n,"emphasis",2)}function J0(n){2===n.hoverState&&tc(n,"normal",0)}function uf(n){tc(n,"blur",1)}function e_(n){1===n.hoverState&&tc(n,"normal",0)}function JA(n){n.selected=!0}function eD(n){n.selected=!1}function t_(n,t,e){t(n,e)}function sr(n,t,e){t_(n,t,e),n.isGroup&&n.traverse(function(i){t_(i,t,e)})}function nc(n,t){switch(t){case"emphasis":n.hoverState=2;break;case"normal":n.hoverState=0;break;case"blur":n.hoverState=1;break;case"select":n.selected=!0}}function hf(n,t){var r,o,a,s,l,u,e=this.states[n];if(this.style){if("emphasis"===n)return function(i,r,o,a){var s=o&&Ie(o,"select")>=0,l=!1;if(i instanceof Le){var u=q0(i),h=s&&u.selectFill||u.normalFill,c=s&&u.selectStroke||u.normalStroke;if(Qa(h)||Qa(c)){var p=(a=a||{}).style||{};"inherit"===p.fill?(l=!0,a=K({},a),(p=K({},p)).fill=h):!Qa(p.fill)&&Qa(h)?(l=!0,a=K({},a),(p=K({},p)).fill=$0(h)):!Qa(p.stroke)&&Qa(c)&&(l||(a=K({},a),p=K({},p)),p.stroke=$0(c)),a.style=p}}if(a&&null==a.z2){l||(a=K({},a));var d=i.z2EmphasisLift;a.z2=i.z2+(null!=d?d:10)}return a}(this,0,t,e);if("blur"===n)return o=e,a=Ie(this.currentStates,r=n)>=0,s=this.style.opacity,l=a?null:function(h,c,p,d){for(var f=h.style,g={},m=0;m<c.length;m++){var y=c[m],v=f[y];g[y]=null==v?d&&d[y]:v}for(m=0;m<h.animators.length;m++){var _=h.animators[m];_.__fromStateTransition&&_.__fromStateTransition.indexOf(p)<0&&"style"===_.targetName&&_.saveFinalToTarget(g,c)}return g}(this,["opacity"],r,{opacity:1}),null==(u=(o=o||{}).style||{}).opacity&&(o=K({},o),u=K({opacity:a?s:.1*l.opacity},u),o.style=u),o;if("select"===n)return function(i,r,o){if(o&&null==o.z2){o=K({},o);var a=i.z2SelectLift;o.z2=i.z2+(null!=a?a:9)}return o}(this,0,e)}return e}function jo(n){n.stateProxy=hf;var t=n.getTextContent(),e=n.getTextGuideLine();t&&(t.stateProxy=hf),e&&(e.stateProxy=hf)}function n_(n,t){!l_(n,t)&&!n.__highByOuter&&sr(n,Q0)}function i_(n,t){!l_(n,t)&&!n.__highByOuter&&sr(n,J0)}function zi(n,t){n.__highByOuter|=1<<(t||0),sr(n,Q0)}function Bi(n,t){!(n.__highByOuter&=~(1<<(t||0)))&&sr(n,J0)}function r_(n){sr(n,uf)}function o_(n){sr(n,e_)}function a_(n){sr(n,JA)}function s_(n){sr(n,eD)}function l_(n,t){return n.__highDownSilentOnTouch&&t.zrByTouch}function u_(n){n.getModel().eachComponent(function(t,e){("series"===t?n.getViewOfSeriesModel(e):n.getViewOfComponentModel(e)).group.traverse(function(i){e_(i)})})}function cf(n,t,e,i){var r=i.getModel();function o(u,h){for(var c=0;c<h.length;c++){var p=u.getItemGraphicEl(h[c]);p&&o_(p)}}if(e=e||"coordinateSystem",null!=n&&t&&"none"!==t){var a=r.getSeriesByIndex(n),s=a.coordinateSystem;s&&s.master&&(s=s.master);var l=[];r.eachSeries(function(u){var h=a===u,c=u.coordinateSystem;if(c&&c.master&&(c=c.master),!("series"===e&&!h||"coordinateSystem"===e&&!(c&&s?c===s:h)||"series"===t&&h)){if(i.getViewOfSeriesModel(u).group.traverse(function(f){uf(f)}),Ft(t))o(u.getData(),t);else if(pe(t))for(var p=q(t),d=0;d<p.length;d++)o(u.getData(p[d]),t[p[d]]);l.push(u)}}),r.eachComponent(function(u,h){if("series"!==u){var c=i.getViewOfComponentModel(h);c&&c.blurSeries&&c.blurSeries(l,r)}})}}function pf(n,t,e){if(null!=n&&null!=t){var i=e.getModel().getComponent(n,t);if(i){var r=e.getViewOfComponentModel(i);r&&r.focusBlurEnabled&&r.group.traverse(function(o){uf(o)})}}}function df(n,t,e,i){var r={focusSelf:!1,dispatchers:null};if(null==n||"series"===n||null==t||null==e)return r;var o=i.getModel().getComponent(n,t);if(!o)return r;var a=i.getViewOfComponentModel(o);if(!a||!a.findHighDownDispatchers)return r;for(var s,l=a.findHighDownDispatchers(e),u=0;u<l.length;u++)if("self"===_e(l[u]).focus){s=!0;break}return{focusSelf:s,dispatchers:l}}function h_(n){k(n.getAllData(),function(t){var i=t.type;t.data.eachItemGraphicEl(function(r,o){n.isSelected(o,i)?a_(r):s_(r)})})}function tD(n){var t=[];return n.eachSeries(function(e){k(e.getAllData(),function(i){var r=i.type,o=e.getSelectedDataIndices();if(o.length>0){var a={dataIndex:o,seriesIndex:e.seriesIndex};null!=r&&(a.dataType=r),t.push(a)}})}),t}function nt(n,t,e){Ja(n,!0),sr(n,jo),ff(n,t,e)}function ff(n,t,e){var i=_e(n);null!=t?(i.focus=t,i.blurScope=e):i.focus&&(i.focus=null)}var c_=["emphasis","blur","select"],nD={itemStyle:"getItemStyle",lineStyle:"getLineStyle",areaStyle:"getAreaStyle"};function Yt(n,t,e,i){e=e||"itemStyle";for(var r=0;r<c_.length;r++){var o=c_[r],a=t.getModel([o,e]);n.ensureState(o).style=i?i(a):a[nD[e]]()}}function Ja(n,t){var e=!1===t,i=n;n.highDownSilentOnTouch&&(i.__highDownSilentOnTouch=n.highDownSilentOnTouch),e&&!i.__highDownDispatcher||(i.__highByOuter=i.__highByOuter||0,i.__highDownDispatcher=!e)}function ic(n){return!(!n||!n.__highDownDispatcher)}function gf(n){var t=n.type;return t===Hl||t===ec||t===Wl}function mf(n){var t=n.type;return t===Zo||t===Jh}var es=or.CMD,iD=[[],[],[]],p_=Math.sqrt,rD=Math.atan2;function d_(n,t){if(t){var e,i,r,o,a,s,l=n.data,u=n.len(),h=es.M,c=es.C,p=es.L,d=es.R,f=es.A,g=es.Q;for(r=0,o=0;r<u;){switch(e=l[r++],o=r,i=0,e){case h:case p:i=1;break;case c:i=3;break;case g:i=2;break;case f:var m=t[4],y=t[5],v=p_(t[0]*t[0]+t[1]*t[1]),_=p_(t[2]*t[2]+t[3]*t[3]),x=rD(-t[1]/_,t[0]/v);l[r]*=v,l[r++]+=m,l[r]*=_,l[r++]+=y,l[r++]*=v,l[r++]*=_,l[r++]+=x,l[r++]+=x,o=r+=2;break;case d:s[0]=l[r++],s[1]=l[r++],wt(s,s,t),l[o++]=s[0],l[o++]=s[1],s[0]+=l[r++],s[1]+=l[r++],wt(s,s,t),l[o++]=s[0],l[o++]=s[1]}for(a=0;a<i;a++){var b=iD[a];b[0]=l[r++],b[1]=l[r++],wt(b,b,t),l[o++]=b[0],l[o++]=b[1]}}n.increaseVersion()}}var yf=Math.sqrt,rc=Math.sin,oc=Math.cos,Ul=Math.PI;function f_(n){return Math.sqrt(n[0]*n[0]+n[1]*n[1])}function vf(n,t){return(n[0]*t[0]+n[1]*t[1])/(f_(n)*f_(t))}function g_(n,t){return(n[0]*t[1]<n[1]*t[0]?-1:1)*Math.acos(vf(n,t))}function m_(n,t,e,i,r,o,a,s,l,u,h){var c=l*(Ul/180),p=oc(c)*(n-e)/2+rc(c)*(t-i)/2,d=-1*rc(c)*(n-e)/2+oc(c)*(t-i)/2,f=p*p/(a*a)+d*d/(s*s);f>1&&(a*=yf(f),s*=yf(f));var g=(r===o?-1:1)*yf((a*a*(s*s)-a*a*(d*d)-s*s*(p*p))/(a*a*(d*d)+s*s*(p*p)))||0,m=g*a*d/s,y=g*-s*p/a,v=(n+e)/2+oc(c)*m-rc(c)*y,_=(t+i)/2+rc(c)*m+oc(c)*y,x=g_([1,0],[(p-m)/a,(d-y)/s]),b=[(p-m)/a,(d-y)/s],w=[(-1*p-m)/a,(-1*d-y)/s],S=g_(b,w);if(vf(b,w)<=-1&&(S=Ul),vf(b,w)>=1&&(S=0),S<0){var M=Math.round(S/Ul*1e6)/1e6;S=2*Ul+M%2*Ul}h.addData(u,v,_,a,s,x,S,c,o)}var oD=/([mlvhzcqtsa])([^mlvhzcqtsa]*)/gi,aD=/-?([0-9]*\.)?[0-9]+([eE]-?[0-9]+)?/g,y_=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return G(t,n),t.prototype.applyTransform=function(e){},t}(Le);function v_(n){return null!=n.setData}function __(n,t){var e=function(r){var o=new or;if(!r)return o;var a,s=0,l=0,u=s,h=l,c=or.CMD,p=r.match(oD);if(!p)return o;for(var d=0;d<p.length;d++){for(var f=p[d],g=f.charAt(0),m=void 0,y=f.match(aD)||[],v=y.length,_=0;_<v;_++)y[_]=parseFloat(y[_]);for(var x=0;x<v;){var b=void 0,w=void 0,S=void 0,M=void 0,T=void 0,C=void 0,A=void 0,D=s,L=l,P=void 0,E=void 0;switch(g){case"l":s+=y[x++],l+=y[x++],o.addData(m=c.L,s,l);break;case"L":s=y[x++],l=y[x++],o.addData(m=c.L,s,l);break;case"m":s+=y[x++],l+=y[x++],o.addData(m=c.M,s,l),u=s,h=l,g="l";break;case"M":s=y[x++],l=y[x++],o.addData(m=c.M,s,l),u=s,h=l,g="L";break;case"h":s+=y[x++],o.addData(m=c.L,s,l);break;case"H":s=y[x++],o.addData(m=c.L,s,l);break;case"v":l+=y[x++],o.addData(m=c.L,s,l);break;case"V":l=y[x++],o.addData(m=c.L,s,l);break;case"C":o.addData(m=c.C,y[x++],y[x++],y[x++],y[x++],y[x++],y[x++]),s=y[x-2],l=y[x-1];break;case"c":o.addData(m=c.C,y[x++]+s,y[x++]+l,y[x++]+s,y[x++]+l,y[x++]+s,y[x++]+l),s+=y[x-2],l+=y[x-1];break;case"S":b=s,w=l,P=o.len(),E=o.data,a===c.C&&(b+=s-E[P-4],w+=l-E[P-3]),D=y[x++],L=y[x++],s=y[x++],l=y[x++],o.addData(m=c.C,b,w,D,L,s,l);break;case"s":b=s,w=l,P=o.len(),E=o.data,a===c.C&&(b+=s-E[P-4],w+=l-E[P-3]),D=s+y[x++],L=l+y[x++],s+=y[x++],l+=y[x++],o.addData(m=c.C,b,w,D,L,s,l);break;case"Q":D=y[x++],L=y[x++],s=y[x++],l=y[x++],o.addData(m=c.Q,D,L,s,l);break;case"q":D=y[x++]+s,L=y[x++]+l,s+=y[x++],l+=y[x++],o.addData(m=c.Q,D,L,s,l);break;case"T":b=s,w=l,P=o.len(),E=o.data,a===c.Q&&(b+=s-E[P-4],w+=l-E[P-3]),s=y[x++],l=y[x++],o.addData(m=c.Q,b,w,s,l);break;case"t":b=s,w=l,P=o.len(),E=o.data,a===c.Q&&(b+=s-E[P-4],w+=l-E[P-3]),s+=y[x++],l+=y[x++],o.addData(m=c.Q,b,w,s,l);break;case"A":S=y[x++],M=y[x++],T=y[x++],C=y[x++],A=y[x++],m_(D=s,L=l,s=y[x++],l=y[x++],C,A,S,M,T,m=c.A,o);break;case"a":S=y[x++],M=y[x++],T=y[x++],C=y[x++],A=y[x++],m_(D=s,L=l,s+=y[x++],l+=y[x++],C,A,S,M,T,m=c.A,o)}}"z"!==g&&"Z"!==g||(o.addData(m=c.Z),s=u,l=h),a=m}return o.toStatic(),o}(n),i=K({},t);return i.buildPath=function(r){if(v_(r))r.setData(e.data),(o=r.getContext())&&r.rebuildPath(o,1);else{var o=r;e.rebuildPath(o,1)}},i.applyTransform=function(r){d_(e,r),this.dirtyShape()},i}function x_(n,t){return new y_(__(n,t))}function _f(n,t){t=t||{};var e=new Le;return n.shape&&e.setShape(n.shape),e.setStyle(n.style),t.bakeTransform?d_(e.path,n.getComputedTransform()):t.toLocal?e.setLocalTransform(n.getComputedTransform()):e.copyTransform(n),e.buildPath=n.buildPath,e.applyTransform=e.applyTransform,e.z=n.z,e.z2=n.z2,e.zlevel=n.zlevel,e}var sD=function(){this.cx=0,this.cy=0,this.r=0},Yn=function(n){function t(e){return n.call(this,e)||this}return G(t,n),t.prototype.getDefaultShape=function(){return new sD},t.prototype.buildPath=function(e,i,r){r&&e.moveTo(i.cx+i.r,i.cy),e.arc(i.cx,i.cy,i.r,0,2*Math.PI)},t}(Le);Yn.prototype.type="circle";var lD=function(){this.cx=0,this.cy=0,this.rx=0,this.ry=0},Xl=function(n){function t(e){return n.call(this,e)||this}return G(t,n),t.prototype.getDefaultShape=function(){return new lD},t.prototype.buildPath=function(e,i){var r=.5522848,o=i.cx,a=i.cy,s=i.rx,l=i.ry,u=s*r,h=l*r;e.moveTo(o-s,a),e.bezierCurveTo(o-s,a-h,o-u,a-l,o,a-l),e.bezierCurveTo(o+u,a-l,o+s,a-h,o+s,a),e.bezierCurveTo(o+s,a+h,o+u,a+l,o,a+l),e.bezierCurveTo(o-u,a+l,o-s,a+h,o-s,a),e.closePath()},t}(Le);Xl.prototype.type="ellipse";var b_=Math.PI,uD=2*b_,qo=Math.sin,ts=Math.cos,hD=Math.acos,$t=Math.atan2,w_=Math.abs,Yl=Math.sqrt,xf=Math.max,ac=Math.min,pi=1e-4;function sc(n,t,e,i,r,o,a){var s=n-e,l=t-i,u=(a?o:-o)/Yl(s*s+l*l),h=u*l,c=-u*s,p=n+h,d=t+c,f=e+h,g=i+c,m=(p+f)/2,y=(d+g)/2,v=f-p,_=g-d,x=v*v+_*_,b=r-o,w=p*g-f*d,S=(_<0?-1:1)*Yl(xf(0,b*b*x-w*w)),M=(w*_-v*S)/x,T=(-w*v-_*S)/x,C=(w*_+v*S)/x,A=(-w*v+_*S)/x,D=M-m,L=T-y,P=C-m,E=A-y;return D*D+L*L>P*P+E*E&&(M=C,T=A),{cx:M,cy:T,x01:-h,y01:-c,x11:M*(r/b-1),y11:T*(r/b-1)}}var pD=function(){this.cx=0,this.cy=0,this.r0=0,this.r=0,this.startAngle=0,this.endAngle=2*Math.PI,this.clockwise=!0,this.cornerRadius=0,this.innerCornerRadius=0},Qt=function(n){function t(e){return n.call(this,e)||this}return G(t,n),t.prototype.getDefaultShape=function(){return new pD},t.prototype.buildPath=function(e,i){!function(n,t){var e=xf(t.r,0),i=xf(t.r0||0,0),r=e>0;if(r||i>0){if(r||(e=i,i=0),i>e){var o=e;e=i,i=o}var a,s=!!t.clockwise,l=t.startAngle,u=t.endAngle;if(l===u)a=0;else{var h=[l,u];E0(h,!s),a=w_(h[0]-h[1])}var c=t.cx,p=t.cy,d=t.cornerRadius||0,f=t.innerCornerRadius||0;if(e>pi)if(a>uD-pi)n.moveTo(c+e*ts(l),p+e*qo(l)),n.arc(c,p,e,l,u,!s),i>pi&&(n.moveTo(c+i*ts(u),p+i*qo(u)),n.arc(c,p,i,u,l,s));else{var g=w_(e-i)/2,m=ac(g,d),y=ac(g,f),v=y,_=m,x=e*ts(l),b=e*qo(l),w=i*ts(u),S=i*qo(u),M=void 0,T=void 0,C=void 0,A=void 0;if((m>pi||y>pi)&&(M=e*ts(u),T=e*qo(u),C=i*ts(l),A=i*qo(l),a<b_)){var D=function(W,Y,Q,U,j,ne,ee,te){var oe=Q-W,ae=U-Y,fe=ee-j,ve=te-ne,xe=ve*oe-fe*ae;if(!(xe*xe<pi))return[W+(xe=(fe*(Y-ne)-ve*(W-j))/xe)*oe,Y+xe*ae]}(x,b,C,A,M,T,w,S);if(D){var L=x-D[0],P=b-D[1],E=M-D[0],N=T-D[1],R=1/qo(hD((L*E+P*N)/(Yl(L*L+P*P)*Yl(E*E+N*N)))/2),z=Yl(D[0]*D[0]+D[1]*D[1]);v=ac(y,(i-z)/(R-1)),_=ac(m,(e-z)/(R+1))}}if(a>pi)if(_>pi){var B=sc(C,A,x,b,e,_,s),V=sc(M,T,w,S,e,_,s);n.moveTo(c+B.cx+B.x01,p+B.cy+B.y01),_<m?n.arc(c+B.cx,p+B.cy,_,$t(B.y01,B.x01),$t(V.y01,V.x01),!s):(n.arc(c+B.cx,p+B.cy,_,$t(B.y01,B.x01),$t(B.y11,B.x11),!s),n.arc(c,p,e,$t(B.cy+B.y11,B.cx+B.x11),$t(V.cy+V.y11,V.cx+V.x11),!s),n.arc(c+V.cx,p+V.cy,_,$t(V.y11,V.x11),$t(V.y01,V.x01),!s))}else n.moveTo(c+x,p+b),n.arc(c,p,e,l,u,!s);else n.moveTo(c+x,p+b);i>pi&&a>pi?v>pi?(B=sc(w,S,M,T,i,-v,s),V=sc(x,b,C,A,i,-v,s),n.lineTo(c+B.cx+B.x01,p+B.cy+B.y01),v<y?n.arc(c+B.cx,p+B.cy,v,$t(B.y01,B.x01),$t(V.y01,V.x01),!s):(n.arc(c+B.cx,p+B.cy,v,$t(B.y01,B.x01),$t(B.y11,B.x11),!s),n.arc(c,p,i,$t(B.cy+B.y11,B.cx+B.x11),$t(V.cy+V.y11,V.cx+V.x11),s),n.arc(c+V.cx,p+V.cy,v,$t(V.y11,V.x11),$t(V.y01,V.x01),!s))):(n.lineTo(c+w,p+S),n.arc(c,p,i,u,l,s)):n.lineTo(c+w,p+S)}else n.moveTo(c,p);n.closePath()}}(e,i)},t.prototype.isZeroArea=function(){return this.shape.startAngle===this.shape.endAngle||this.shape.r===this.shape.r0},t}(Le);Qt.prototype.type="sector";var dD=function(){this.cx=0,this.cy=0,this.r=0,this.r0=0},ns=function(n){function t(e){return n.call(this,e)||this}return G(t,n),t.prototype.getDefaultShape=function(){return new dD},t.prototype.buildPath=function(e,i){var r=i.cx,o=i.cy,a=2*Math.PI;e.moveTo(r+i.r,o),e.arc(r,o,i.r,0,a,!1),e.moveTo(r+i.r0,o),e.arc(r,o,i.r0,0,a,!0)},t}(Le);function S_(n,t,e,i,r,o,a){var s=.5*(e-n),l=.5*(i-t);return(2*(t-e)+s+l)*a+(-3*(t-e)-2*s-l)*o+s*r+t}function M_(n,t,e){var i=t.smooth,r=t.points;if(r&&r.length>=2){if(i&&"spline"!==i){var o=function(p,d,f,g){var m,y,v,_,x=[],b=[],w=[],S=[];if(g){v=[1/0,1/0],_=[-1/0,-1/0];for(var M=0,T=p.length;M<T;M++)Ci(v,v,p[M]),_t(_,_,p[M]);Ci(v,v,g[0]),_t(_,_,g[1])}for(M=0,T=p.length;M<T;M++){var C=p[M];if(f)m=p[M?M-1:T-1],y=p[(M+1)%T];else{if(0===M||M===T-1){x.push(vn(p[M]));continue}m=p[M-1],y=p[M+1]}Mi(b,y,m),Sr(b,b,d);var A=bo(C,m),D=bo(C,y),L=A+D;0!==L&&(A/=L,D/=L),Sr(w,b,-A),Sr(S,b,D);var P=Da([],C,w),E=Da([],C,S);g&&(_t(P,P,v),Ci(P,P,_),_t(E,E,v),Ci(E,E,_)),x.push(P),x.push(E)}return f&&x.push(x.shift()),x}(r,i,e,t.smoothConstraint);n.moveTo(r[0][0],r[0][1]);for(var a=r.length,s=0;s<(e?a:a-1);s++){var l=o[2*s],u=o[2*s+1],h=r[(s+1)%a];n.bezierCurveTo(l[0],l[1],u[0],u[1],h[0],h[1])}}else{"spline"===i&&(r=function(p,d){for(var f=p.length,g=[],m=0,y=1;y<f;y++)m+=bo(p[y-1],p[y]);var v=m/2;for(v=v<f?f:v,y=0;y<v;y++){var _=y/(v-1)*(d?f:f-1),x=Math.floor(_),b=_-x,w=void 0,S=p[x%f],M=void 0,T=void 0;d?(w=p[(x-1+f)%f],M=p[(x+1)%f],T=p[(x+2)%f]):(w=p[0===x?x:x-1],M=p[x>f-2?f-1:x+1],T=p[x>f-3?f-1:x+2]);var C=b*b,A=b*C;g.push([S_(w[0],S[0],M[0],T[0],b,C,A),S_(w[1],S[1],M[1],T[1],b,C,A)])}return g}(r,e)),n.moveTo(r[0][0],r[0][1]),s=1;for(var c=r.length;s<c;s++)n.lineTo(r[s][0],r[s][1])}e&&n.closePath()}}ns.prototype.type="ring";var fD=function(){this.points=null,this.smooth=0,this.smoothConstraint=null},Zt=function(n){function t(e){return n.call(this,e)||this}return G(t,n),t.prototype.getDefaultShape=function(){return new fD},t.prototype.buildPath=function(e,i){M_(e,i,!0)},t}(Le);Zt.prototype.type="polygon";var gD=function(){this.points=null,this.percent=1,this.smooth=0,this.smoothConstraint=null},pn=function(n){function t(e){return n.call(this,e)||this}return G(t,n),t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new gD},t.prototype.buildPath=function(e,i){M_(e,i,!1)},t}(Le);pn.prototype.type="polyline";var mD={},yD=function(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.percent=1},Et=function(n){function t(e){return n.call(this,e)||this}return G(t,n),t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new yD},t.prototype.buildPath=function(e,i){var r,o,a,s;if(this.subPixelOptimize){var l=V0(mD,i,this.style);r=l.x1,o=l.y1,a=l.x2,s=l.y2}else r=i.x1,o=i.y1,a=i.x2,s=i.y2;var u=i.percent;0!==u&&(e.moveTo(r,o),u<1&&(a=r*(1-u)+a*u,s=o*(1-u)+s*u),e.lineTo(a,s))},t.prototype.pointAt=function(e){var i=this.shape;return[i.x1*(1-e)+i.x2*e,i.y1*(1-e)+i.y2*e]},t}(Le);Et.prototype.type="line";var Mn=[],vD=function(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.cpx1=0,this.cpy1=0,this.percent=1};function I_(n,t,e){return null===n.cpx2||null===n.cpy2?[(e?T0:mt)(n.x1,n.cpx1,n.cpx2,n.x2,t),(e?T0:mt)(n.y1,n.cpy1,n.cpy2,n.y2,t)]:[(e?Jd:Wt)(n.x1,n.cpx1,n.x2,t),(e?Jd:Wt)(n.y1,n.cpy1,n.y2,t)]}var is=function(n){function t(e){return n.call(this,e)||this}return G(t,n),t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new vD},t.prototype.buildPath=function(e,i){var r=i.x1,o=i.y1,a=i.x2,s=i.y2,l=i.cpx1,u=i.cpy1,h=i.cpx2,c=i.cpy2,p=i.percent;0!==p&&(e.moveTo(r,o),null==h||null==c?(p<1&&(Nl(r,l,a,p,Mn),l=Mn[1],a=Mn[2],Nl(o,u,s,p,Mn),u=Mn[1],s=Mn[2]),e.quadraticCurveTo(l,u,a,s)):(p<1&&(Rr(r,l,h,a,p,Mn),l=Mn[1],h=Mn[2],a=Mn[3],Rr(o,u,c,s,p,Mn),u=Mn[1],c=Mn[2],s=Mn[3]),e.bezierCurveTo(l,u,h,c,a,s)))},t.prototype.pointAt=function(e){return I_(this.shape,e,!1)},t.prototype.tangentAt=function(e){var i=I_(this.shape,e,!0);return Mr(i,i)},t}(Le);is.prototype.type="bezier-curve";var _D=function(){this.cx=0,this.cy=0,this.r=0,this.startAngle=0,this.endAngle=2*Math.PI,this.clockwise=!0},Zl=function(n){function t(e){return n.call(this,e)||this}return G(t,n),t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new _D},t.prototype.buildPath=function(e,i){var r=i.cx,o=i.cy,a=Math.max(i.r,0),s=i.startAngle,l=i.endAngle,u=i.clockwise,h=Math.cos(s),c=Math.sin(s);e.moveTo(h*a+r,c*a+o),e.arc(r,o,a,s,l,!u)},t}(Le);Zl.prototype.type="arc";var bf=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type="compound",e}return G(t,n),t.prototype._updatePathDirty=function(){for(var e=this.shape.paths,i=this.shapeChanged(),r=0;r<e.length;r++)i=i||e[r].shapeChanged();i&&this.dirtyShape()},t.prototype.beforeBrush=function(){this._updatePathDirty();for(var e=this.shape.paths||[],i=this.getGlobalScale(),r=0;r<e.length;r++)e[r].path||e[r].createPathProxy(),e[r].path.setScale(i[0],i[1],e[r].segmentIgnoreThreshold)},t.prototype.buildPath=function(e,i){for(var r=i.paths||[],o=0;o<r.length;o++)r[o].buildPath(e,r[o].shape,!0)},t.prototype.afterBrush=function(){for(var e=this.shape.paths||[],i=0;i<e.length;i++)e[i].pathUpdated()},t.prototype.getBoundingRect=function(){return this._updatePathDirty.call(this),Le.prototype.getBoundingRect.call(this)},t}(Le),T_=function(){function n(t){this.colorStops=t||[]}return n.prototype.addColorStop=function(t,e){this.colorStops.push({offset:t,color:e})},n}(),rs=function(n){function t(e,i,r,o,a,s){var l=n.call(this,a)||this;return l.x=null==e?0:e,l.y=null==i?0:i,l.x2=null==r?1:r,l.y2=null==o?0:o,l.type="linear",l.global=s||!1,l}return G(t,n),t}(T_),wf=function(n){function t(e,i,r,o,a){var s=n.call(this,o)||this;return s.x=null==e?.5:e,s.y=null==i?.5:i,s.r=null==r?.5:r,s.type="radial",s.global=a||!1,s}return G(t,n),t}(T_),Ko=[0,0],$o=[0,0],lc=new Se,uc=new Se,hc=function(){function n(t,e){this._corners=[],this._axes=[],this._origin=[0,0];for(var i=0;i<4;i++)this._corners[i]=new Se;for(i=0;i<2;i++)this._axes[i]=new Se;t&&this.fromBoundingRect(t,e)}return n.prototype.fromBoundingRect=function(t,e){var i=this._corners,r=this._axes,o=t.x,a=t.y,s=o+t.width,l=a+t.height;if(i[0].set(o,a),i[1].set(s,a),i[2].set(s,l),i[3].set(o,l),e)for(var u=0;u<4;u++)i[u].transform(e);for(Se.sub(r[0],i[1],i[0]),Se.sub(r[1],i[3],i[0]),r[0].normalize(),r[1].normalize(),u=0;u<2;u++)this._origin[u]=r[u].dot(i[0])},n.prototype.intersect=function(t,e){var i=!0,r=!e;return lc.set(1/0,1/0),uc.set(0,0),!this._intersectCheckOneSide(this,t,lc,uc,r,1)&&(i=!1,r)||!this._intersectCheckOneSide(t,this,lc,uc,r,-1)&&(i=!1,r)||r||Se.copy(e,i?lc:uc),i},n.prototype._intersectCheckOneSide=function(t,e,i,r,o,a){for(var s=!0,l=0;l<2;l++){var u=this._axes[l];if(this._getProjMinMaxOnAxis(l,t._corners,Ko),this._getProjMinMaxOnAxis(l,e._corners,$o),Ko[1]<$o[0]||Ko[0]>$o[1]){if(s=!1,o)return s;var h=Math.abs($o[0]-Ko[1]),c=Math.abs(Ko[0]-$o[1]);Math.min(h,c)>r.len()&&Se.scale(r,u,h<c?-h*a:c*a)}else i&&(h=Math.abs($o[0]-Ko[1]),c=Math.abs(Ko[0]-$o[1]),Math.min(h,c)<i.len()&&Se.scale(i,u,h<c?h*a:-c*a))}return s},n.prototype._getProjMinMaxOnAxis=function(t,e,i){for(var r=this._axes[t],o=this._origin,a=e[0].dot(r)+o[t],s=a,l=a,u=1;u<e.length;u++){var h=e[u].dot(r)+o[t];s=Math.min(h,s),l=Math.max(h,l)}i[0]=s,i[1]=l},n}(),xD=[],jl=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.notClear=!0,e.incremental=!0,e._displayables=[],e._temporaryDisplayables=[],e._cursor=0,e}return G(t,n),t.prototype.traverse=function(e,i){e.call(i,this)},t.prototype.useStyle=function(){this.style={}},t.prototype.getCursor=function(){return this._cursor},t.prototype.innerAfterBrush=function(){this._cursor=this._displayables.length},t.prototype.clearDisplaybles=function(){this._displayables=[],this._temporaryDisplayables=[],this._cursor=0,this.markRedraw(),this.notClear=!1},t.prototype.clearTemporalDisplayables=function(){this._temporaryDisplayables=[]},t.prototype.addDisplayable=function(e,i){i?this._temporaryDisplayables.push(e):this._displayables.push(e),this.markRedraw()},t.prototype.addDisplayables=function(e,i){i=i||!1;for(var r=0;r<e.length;r++)this.addDisplayable(e[r],i)},t.prototype.getDisplayables=function(){return this._displayables},t.prototype.getTemporalDisplayables=function(){return this._temporaryDisplayables},t.prototype.eachPendingDisplayable=function(e){for(var i=this._cursor;i<this._displayables.length;i++)e&&e(this._displayables[i]);for(i=0;i<this._temporaryDisplayables.length;i++)e&&e(this._temporaryDisplayables[i])},t.prototype.update=function(){this.updateTransform();for(var e=this._cursor;e<this._displayables.length;e++)(i=this._displayables[e]).parent=this,i.update(),i.parent=null;for(e=0;e<this._temporaryDisplayables.length;e++){var i;(i=this._temporaryDisplayables[e]).parent=this,i.update(),i.parent=null}},t.prototype.getBoundingRect=function(){if(!this._rect){for(var e=new De(1/0,1/0,-1/0,-1/0),i=0;i<this._displayables.length;i++){var r=this._displayables[i],o=r.getBoundingRect().clone();r.needLocalTransform()&&o.applyTransform(r.getLocalTransform(xD)),e.union(o)}this._rect=e}return this._rect},t.prototype.contain=function(e,i){var r=this.transformCoordToLocal(e,i);if(this.getBoundingRect().contain(r[0],r[1]))for(var o=0;o<this._displayables.length;o++)if(this._displayables[o].contain(e,i))return!0;return!1},t}(ci),C_=We();function cc(n,t,e,i,r){var o;if(t&&t.ecModel){var a=t.ecModel.getUpdatePayload();o=a&&a.animation}var s="update"===n;if(t&&t.isAnimationEnabled()){var l=void 0,u=void 0,h=void 0;return i?(l=Te(i.duration,200),u=Te(i.easing,"cubicOut"),h=0):(l=t.getShallow(s?"animationDurationUpdate":"animationDuration"),u=t.getShallow(s?"animationEasingUpdate":"animationEasing"),h=t.getShallow(s?"animationDelayUpdate":"animationDelay")),o&&(null!=o.duration&&(l=o.duration),null!=o.easing&&(u=o.easing),null!=o.delay&&(h=o.delay)),"function"==typeof h&&(h=h(e,r)),"function"==typeof l&&(l=l(e)),{duration:l||0,delay:h,easing:u}}return null}function Sf(n,t,e,i,r,o,a){var s,l=!1;"function"==typeof r?(a=o,o=r,r=null):pe(r)&&(o=r.cb,a=r.during,l=r.isFrom,s=r.removeOpt,r=r.dataIndex);var u="remove"===n;u||t.stopAnimation("remove");var h=cc(n,i,r,u?s||{}:null,i&&i.getAnimationDelayParams?i.getAnimationDelayParams(t,r):null);if(h&&h.duration>0){var c={duration:h.duration,delay:h.delay||0,easing:h.easing,done:o,force:!!o||!!a,setToFinal:!u,scope:n,during:a};l?t.animateFrom(e,c):t.animateTo(e,c)}else t.stopAnimation(),!l&&t.attr(e),a&&a(1),o&&o()}function ze(n,t,e,i,r,o){Sf("update",n,t,e,i,r,o)}function lt(n,t,e,i,r,o){Sf("init",n,t,e,i,r,o)}function os(n){if(!n.__zr)return!0;for(var t=0;t<n.animators.length;t++)if("remove"===n.animators[t].scope)return!0;return!1}function Hr(n,t,e,i,r,o){os(n)||Sf("remove",n,t,e,i,r,o)}function A_(n,t,e,i){n.removeTextContent(),n.removeTextGuideLine(),Hr(n,{style:{opacity:0}},t,e,i)}function ql(n,t,e){function i(){n.parent&&n.parent.remove(n)}n.isGroup?n.traverse(function(r){r.isGroup||A_(r,t,e,i)}):A_(n,t,e,i)}function di(n){C_(n).oldStyle=n.style}var pc=Math.max,dc=Math.min,Mf={};function D_(n){return Le.extend(n)}function k_(n,t){return function(n,t){var e=__(n,t);return function(i){function r(o){var a=i.call(this,o)||this;return a.applyTransform=e.applyTransform,a.buildPath=e.buildPath,a}return G(r,i),r}(y_)}(n,t)}function Zn(n,t){Mf[n]=t}function fc(n){if(Mf.hasOwnProperty(n))return Mf[n]}function Kl(n,t,e,i){var r=x_(n,t);return e&&("center"===i&&(e=L_(e,r.getBoundingRect())),Tf(r,e)),r}function If(n,t,e){var i=new It({style:{image:n,x:t.x,y:t.y,width:t.width,height:t.height},onload:function(r){"center"===e&&i.setStyle(L_(t,{width:r.width,height:r.height}))}});return i}function L_(n,t){var e,i=t.width/t.height,r=n.height*i;return e=r<=n.width?n.height:(r=n.width)/i,{x:n.x+n.width/2-r/2,y:n.y+n.height/2-e/2,width:r,height:e}}var Nn=function(n,t){for(var e=[],i=n.length,r=0;r<i;r++)e.push(n[r].getUpdatedPathProxy(!0));var a=new Le(t);return a.createPathProxy(),a.buildPath=function(s){if(v_(s)){s.appendPath(e);var l=s.getContext();l&&s.rebuildPath(l,1)}},a};function Tf(n,t){if(n.applyTransform){var e=n.getBoundingRect().calculateTransform(t);n.applyTransform(e)}}var gc=Yo;function Wr(n,t){for(var e=Sl([]);n&&n!==t;)ki(e,n.getLocalTransform(),e),n=n.parent;return e}function fi(n,t,e){return t&&!Ft(t)&&(t=ir.getLocalTransform(t)),e&&(t=To([],t)),wt([],n,t)}function mc(n,t,e){var i=0===t[4]||0===t[5]||0===t[0]?1:Math.abs(2*t[4]/t[0]),r=0===t[4]||0===t[5]||0===t[2]?1:Math.abs(2*t[4]/t[2]),o=["left"===n?-i:"right"===n?i:0,"top"===n?-r:"bottom"===n?r:0];return o=fi(o,t,e),Math.abs(o[0])>Math.abs(o[1])?o[0]>0?"right":"left":o[1]>0?"bottom":"top"}function P_(n){return!n.isGroup}function $l(n,t,e){if(n&&t){var i,r=(i={},n.traverse(function(a){P_(a)&&a.anid&&(i[a.anid]=a)}),i);t.traverse(function(a){if(P_(a)&&a.anid){var s=r[a.anid];if(s){var l=o(a);a.attr(o(s)),ze(a,l,e,_e(a).dataIndex)}}})}function o(a){var s={x:a.x,y:a.y,rotation:a.rotation};return null!=a.shape&&(s.shape=K({},a.shape)),s}}function Cf(n,t){return J(n,function(e){var i=e[0];i=pc(i,t.x),i=dc(i,t.x+t.width);var r=e[1];return r=pc(r,t.y),[i,r=dc(r,t.y+t.height)]})}function O_(n,t){var e=pc(n.x,t.x),i=dc(n.x+n.width,t.x+t.width),r=pc(n.y,t.y),o=dc(n.y+n.height,t.y+t.height);if(i>=e&&o>=r)return{x:e,y:r,width:i-e,height:o-r}}function as(n,t,e){var i=K({rectHover:!0},t),r=i.style={strokeNoScale:!0};if(e=e||{x:-1,y:-1,width:2,height:2},n)return 0===n.indexOf("image://")?(r.image=n.slice(8),ce(r,e),new It(i)):Kl(n.replace("path://",""),i,e,"center")}function Ql(n,t,e,i,r){for(var o=0,a=r[r.length-1];o<r.length;o++){var s=r[o];if(E_(n,t,e,i,s[0],s[1],a[0],a[1]))return!0;a=s}}function E_(n,t,e,i,r,o,a,s){var l,u=e-n,h=i-t,c=a-r,p=s-o,d=Af(c,p,u,h);if((l=d)<=1e-6&&l>=-1e-6)return!1;var f=n-r,g=t-o,m=Af(f,g,u,h)/d;if(m<0||m>1)return!1;var y=Af(f,g,c,p)/d;return!(y<0||y>1)}function Af(n,t,e,i){return n*i-e*t}function ss(n){var t=n.itemTooltipOption,e=n.componentModel,i=n.itemName,r=Ce(t)?{formatter:t}:t,o=e.mainType,a=e.componentIndex,s={componentType:o,name:i,$vars:["name"]};s[o+"Index"]=a;var l=n.formatterParamsExtra;l&&k(q(l),function(h){se(s,h)||(s[h]=l[h],s.$vars.push(h))});var u=_e(n.el);u.componentMainType=o,u.componentIndex=a,u.tooltipConfig={name:i,option:ce({content:i,formatterParams:s},r)}}Zn("circle",Yn),Zn("ellipse",Xl),Zn("sector",Qt),Zn("ring",ns),Zn("polygon",Zt),Zn("polyline",pn),Zn("rect",Ee),Zn("line",Et),Zn("bezierCurve",is),Zn("arc",Zl);var Jl=Object.freeze({__proto__:null,updateProps:ze,initProps:lt,removeElement:Hr,removeElementWithFadeOut:ql,isElementRemoved:os,extendShape:D_,extendPath:k_,registerShape:Zn,getShapeClass:fc,makePath:Kl,makeImage:If,mergePath:Nn,resizePath:Tf,subPixelOptimizeLine:function(n){return V0(n.shape,n.shape,n.style),n},subPixelOptimizeRect:function(n){return G0(n.shape,n.shape,n.style),n},subPixelOptimize:gc,getTransform:Wr,applyTransform:fi,transformDirection:mc,groupTransition:$l,clipPointsByRect:Cf,clipRectByRect:O_,createIcon:as,linePolygonIntersect:Ql,lineLineIntersect:E_,setTooltipConfig:ss,Group:me,Image:It,Text:Re,Circle:Yn,Ellipse:Xl,Sector:Qt,Ring:ns,Polygon:Zt,Polyline:pn,Rect:Ee,Line:Et,BezierCurve:is,Arc:Zl,IncrementalDisplayable:jl,CompoundPath:bf,LinearGradient:rs,RadialGradient:wf,BoundingRect:De,OrientedBoundingRect:hc,Point:Se,Path:Le}),yc={};function N_(n,t){for(var e=0;e<cn.length;e++){var i=cn[e],r=t[i],o=n.ensureState(i);o.style=o.style||{},o.style.text=r}var a=n.currentStates.slice();n.clearStates(!0),n.setStyle({text:t.normal}),n.useStates(a,!0)}function Df(n,t,e){var i,r=n.labelFetcher,o=n.labelDataIndex,a=n.labelDimIndex,s=t.normal;r&&(i=r.getFormattedLabel(o,"normal",null,a,s&&s.get("formatter"),null!=e?{interpolatedValue:e}:null)),null==i&&(i=Be(n.defaultText)?n.defaultText(o,n,e):n.defaultText);for(var l={normal:i},u=0;u<cn.length;u++){var h=cn[u],c=t[h];l[h]=Te(r?r.getFormattedLabel(o,h,null,a,c&&c.get("formatter")):null,i)}return l}function Jt(n,t,e,i){e=e||yc;for(var r=n instanceof Re,o=!1,a=0;a<Fl.length;a++)if((p=t[Fl[a]])&&p.getShallow("show")){o=!0;break}var s=r?n:n.getTextContent();if(o){r||(s||(s=new Re,n.setTextContent(s)),n.stateProxy&&(s.stateProxy=n.stateProxy));var l=Df(e,t),u=t.normal,h=!!u.getShallow("show"),c=yt(u,i&&i.normal,e,!1,!r);for(c.text=l.normal,r||n.setTextConfig(vc(u,e,!1)),a=0;a<cn.length;a++){var p,d=cn[a];if(p=t[d]){var f=s.ensureState(d),g=!!Te(p.getShallow("show"),h);g!==h&&(f.ignore=!g),f.style=yt(p,i&&i[d],e,!0,!r),f.style.text=l[d],!r&&(n.ensureState(d).textConfig=vc(p,e,!0))}}s.silent=!!u.getShallow("silent"),null!=s.style.x&&(c.x=s.style.x),null!=s.style.y&&(c.y=s.style.y),s.ignore=!h,s.useStyle(c),s.dirty(),e.enableTextSetter&&(ls(s).setLabelText=function(m){var y=Df(e,t,m);N_(s,y)})}else s&&(s.ignore=!0);n.dirty()}function Ut(n,t){for(var e={normal:n.getModel(t=t||"label")},i=0;i<cn.length;i++){var r=cn[i];e[r]=n.getModel([r,t])}return e}function yt(n,t,e,i,r){var o={};return function(a,s,l,u,h){l=l||yc;var c,p=s.ecModel,d=p&&p.option.textStyle,f=function(_){for(var x;_&&_!==_.ecModel;){var b=(_.option||yc).rich;if(b){x=x||{};for(var w=q(b),S=0;S<w.length;S++)x[w[S]]=1}_=_.parentModel}return x}(s);if(f)for(var g in c={},f)if(f.hasOwnProperty(g)){var m=s.getModel(["rich",g]);V_(c[g]={},m,d,l,u,h,!1,!0)}c&&(a.rich=c);var y=s.get("overflow");y&&(a.overflow=y);var v=s.get("minMargin");null!=v&&(a.margin=v),V_(a,s,d,l,u,h,!0,!1)}(o,n,e,i,r),t&&K(o,t),o}function vc(n,t,e){t=t||{};var i,r={},o=n.getShallow("rotate"),a=Te(n.getShallow("distance"),e?null:5),s=n.getShallow("offset");return"outside"===(i=n.getShallow("position")||(e?null:"inside"))&&(i=t.defaultOutsidePosition||"top"),null!=i&&(r.position=i),null!=s&&(r.offset=s),null!=o&&(o*=Math.PI/180,r.rotation=o),null!=a&&(r.distance=a),r.outsideFill="inherit"===n.get("color")?t.inheritColor||null:"auto",r}var R_=["fontStyle","fontWeight","fontSize","fontFamily","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY"],z_=["align","lineHeight","width","height","tag","verticalAlign"],B_=["padding","borderWidth","borderRadius","borderDashOffset","backgroundColor","borderColor","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"];function V_(n,t,e,i,r,o,a,s){e=!r&&e||yc;var l=i&&i.inheritColor,u=t.getShallow("color"),h=t.getShallow("textBorderColor"),c=Te(t.getShallow("opacity"),e.opacity);"inherit"!==u&&"auto"!==u||(u=l||null),"inherit"!==h&&"auto"!==h||(h=l||null),o||(u=u||e.color,h=h||e.textBorderColor),null!=u&&(n.fill=u),null!=h&&(n.stroke=h);var p=Te(t.getShallow("textBorderWidth"),e.textBorderWidth);null!=p&&(n.lineWidth=p);var d=Te(t.getShallow("textBorderType"),e.textBorderType);null!=d&&(n.lineDash=d);var f=Te(t.getShallow("textBorderDashOffset"),e.textBorderDashOffset);null!=f&&(n.lineDashOffset=f),r||null!=c||s||(c=i&&i.defaultOpacity),null!=c&&(n.opacity=c),r||o||null==n.fill&&i.inheritColor&&(n.fill=i.inheritColor);for(var g=0;g<R_.length;g++){var m=R_[g];null!=(v=Te(t.getShallow(m),e[m]))&&(n[m]=v)}for(g=0;g<z_.length;g++)null!=(v=t.getShallow(m=z_[g]))&&(n[m]=v);if(null==n.verticalAlign){var y=t.getShallow("baseline");null!=y&&(n.verticalAlign=y)}if(!a||!i.disableBox){for(g=0;g<B_.length;g++){var v;null!=(v=t.getShallow(m=B_[g]))&&(n[m]=v)}var _=t.getShallow("borderType");null!=_&&(n.borderDash=_),"auto"!==n.backgroundColor&&"inherit"!==n.backgroundColor||!l||(n.backgroundColor=l),"auto"!==n.borderColor&&"inherit"!==n.borderColor||!l||(n.borderColor=l)}}function G_(n,t){var e=t&&t.getModel("textStyle");return Dn([n.fontStyle||e&&e.getShallow("fontStyle")||"",n.fontWeight||e&&e.getShallow("fontWeight")||"",(n.fontSize||e&&e.getShallow("fontSize")||12)+"px",n.fontFamily||e&&e.getShallow("fontFamily")||"sans-serif"].join(" "))}var ls=We();function F_(n,t,e,i){if(n){var r=ls(n);r.prevValue=r.value,r.value=e;var o=t.normal;r.valueAnimation=o.get("valueAnimation"),r.valueAnimation&&(r.precision=o.get("precision"),r.defaultInterpolatedText=i,r.statesModels=t)}}function H_(n,t,e,i,r){var o=ls(n);if(o.valueAnimation&&o.prevValue!==o.value){var a=o.defaultInterpolatedText,s=Te(o.interpolatedValue,o.prevValue),l=o.value;n.percent=0,(null==o.prevValue?lt:ze)(n,{percent:1},i,t,null,function(u){var h=d0(e,o.precision,s,l,u);o.interpolatedValue=1===u?null:h;var c=Df({labelDataIndex:t,labelFetcher:r,defaultText:a?a(h):h+""},o.statesModels,h);N_(n,c)})}}var kf,Lf,wD=["textStyle","color"],Pf=new Re,SD=function(){function n(){}return n.prototype.getTextColor=function(t){var e=this.ecModel;return this.getShallow("color")||(!t&&e?e.get(wD):null)},n.prototype.getFont=function(){return G_({fontStyle:this.getShallow("fontStyle"),fontWeight:this.getShallow("fontWeight"),fontSize:this.getShallow("fontSize"),fontFamily:this.getShallow("fontFamily")},this.ecModel)},n.prototype.getTextRect=function(t){return Pf.useStyle({text:t,fontStyle:this.getShallow("fontStyle"),fontWeight:this.getShallow("fontWeight"),fontSize:this.getShallow("fontSize"),fontFamily:this.getShallow("fontFamily"),verticalAlign:this.getShallow("verticalAlign")||this.getShallow("baseline"),padding:this.getShallow("padding"),lineHeight:this.getShallow("lineHeight"),rich:this.getShallow("rich")}),Pf.update(),Pf.getBoundingRect()},n}(),W_=[["lineWidth","width"],["stroke","color"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["lineDash","type"],["lineDashOffset","dashOffset"],["lineCap","cap"],["lineJoin","join"],["miterLimit"]],MD=zo(W_),ID=function(){function n(){}return n.prototype.getLineStyle=function(t){return MD(this,t)},n}(),U_=[["fill","color"],["stroke","borderColor"],["lineWidth","borderWidth"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["lineDash","borderType"],["lineDashOffset","borderDashOffset"],["lineCap","borderCap"],["lineJoin","borderJoin"],["miterLimit","borderMiterLimit"]],TD=zo(U_),CD=function(){function n(){}return n.prototype.getItemStyle=function(t,e){return TD(this,t,e)},n}(),Fe=function(){function n(t,e,i){this.parentModel=e,this.ecModel=i,this.option=t}return n.prototype.init=function(t,e,i){for(var r=[],o=3;o<arguments.length;o++)r[o-3]=arguments[o]},n.prototype.mergeOption=function(t,e){we(this.option,t,!0)},n.prototype.get=function(t,e){return null==t?this.option:this._doGet(this.parsePath(t),!e&&this.parentModel)},n.prototype.getShallow=function(t,e){var i=this.option,r=null==i?i:i[t];if(null==r&&!e){var o=this.parentModel;o&&(r=o.getShallow(t))}return r},n.prototype.getModel=function(t,e){var i=null!=t,r=i?this.parsePath(t):null;return new n(i?this._doGet(r):this.option,e=e||this.parentModel&&this.parentModel.getModel(this.resolveParentPath(r)),this.ecModel)},n.prototype.isEmpty=function(){return null==this.option},n.prototype.restoreData=function(){},n.prototype.clone=function(){return new this.constructor(de(this.option))},n.prototype.parsePath=function(t){return"string"==typeof t?t.split("."):t},n.prototype.resolveParentPath=function(t){return t},n.prototype.isAnimationEnabled=function(){if(!ge.node&&this.option){if(null!=this.option.animation)return!!this.option.animation;if(this.parentModel)return this.parentModel.isAnimationEnabled()}},n.prototype._doGet=function(t,e){var i=this.option;if(!t)return i;for(var r=0;r<t.length&&(!t[r]||null!=(i=i&&"object"==typeof i?i[t[r]]:null));r++);return null==i&&e&&(i=e._doGet(this.resolveParentPath(t),e.parentModel)),i},n}();Ud(Fe),kf=Fe,Lf=["__\0is_clz",xA++].join("_"),kf.prototype[Lf]=!0,kf.isInstance=function(n){return!(!n||!n[Lf])},ht(Fe,ID),ht(Fe,CD),ht(Fe,MA),ht(Fe,SD);var AD=Math.round(10*Math.random());function us(n){return[n||"",AD++].join("_")}function Ur(n,t){return we(we({},n,!0),t,!0)}var xc={},Ef={},X_=ge.domSupported&&(document.documentElement.lang||navigator.language||navigator.browserLanguage).toUpperCase().indexOf("ZH")>-1?"ZH":"EN";function Nf(n,t){n=n.toUpperCase(),Ef[n]=new Fe(t),xc[n]=t}function Rf(n){return Ef[n]}Nf("EN",{time:{month:["January","February","March","April","May","June","July","August","September","October","November","December"],monthAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayOfWeek:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayOfWeekAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]},legend:{selector:{all:"All",inverse:"Inv"}},toolbox:{brush:{title:{rect:"Box Select",polygon:"Lasso Select",lineX:"Horizontally Select",lineY:"Vertically Select",keep:"Keep Selections",clear:"Clear Selections"}},dataView:{title:"Data View",lang:["Data View","Close","Refresh"]},dataZoom:{title:{zoom:"Zoom",back:"Zoom Reset"}},magicType:{title:{line:"Switch to Line Chart",bar:"Switch to Bar Chart",stack:"Stack",tiled:"Tile"}},restore:{title:"Restore"},saveAsImage:{title:"Save as Image",lang:["Right Click to Save Image"]}},series:{typeNames:{pie:"Pie chart",bar:"Bar chart",line:"Line chart",scatter:"Scatter plot",effectScatter:"Ripple scatter plot",radar:"Radar chart",tree:"Tree",treemap:"Treemap",boxplot:"Boxplot",candlestick:"Candlestick",k:"K line chart",heatmap:"Heat map",map:"Map",parallel:"Parallel coordinate map",lines:"Line graph",graph:"Relationship graph",sankey:"Sankey diagram",funnel:"Funnel chart",gauge:"Gauge",pictorialBar:"Pictorial bar",themeRiver:"Theme River Map",sunburst:"Sunburst"}},aria:{general:{withTitle:'This is a chart about "{title}"',withoutTitle:"This is a chart"},series:{single:{prefix:"",withName:" with type {seriesType} named {seriesName}.",withoutName:" with type {seriesType}."},multiple:{prefix:". It consists of {seriesCount} series count.",withName:" The {seriesId} series is a {seriesType} representing {seriesName}.",withoutName:" The {seriesId} series is a {seriesType}.",separator:{middle:"",end:""}}},data:{allData:"The data is as follows: ",partialData:"The first {displayCnt} items are: ",withName:"the data for {name} is {value}",withoutName:"{value}",separator:{middle:", ",end:". "}}}}),Nf("ZH",{time:{month:["\u4e00\u6708","\u4e8c\u6708","\u4e09\u6708","\u56db\u6708","\u4e94\u6708","\u516d\u6708","\u4e03\u6708","\u516b\u6708","\u4e5d\u6708","\u5341\u6708","\u5341\u4e00\u6708","\u5341\u4e8c\u6708"],monthAbbr:["1\u6708","2\u6708","3\u6708","4\u6708","5\u6708","6\u6708","7\u6708","8\u6708","9\u6708","10\u6708","11\u6708","12\u6708"],dayOfWeek:["\u661f\u671f\u65e5","\u661f\u671f\u4e00","\u661f\u671f\u4e8c","\u661f\u671f\u4e09","\u661f\u671f\u56db","\u661f\u671f\u4e94","\u661f\u671f\u516d"],dayOfWeekAbbr:["\u65e5","\u4e00","\u4e8c","\u4e09","\u56db","\u4e94","\u516d"]},legend:{selector:{all:"\u5168\u9009",inverse:"\u53cd\u9009"}},toolbox:{brush:{title:{rect:"\u77e9\u5f62\u9009\u62e9",polygon:"\u5708\u9009",lineX:"\u6a2a\u5411\u9009\u62e9",lineY:"\u7eb5\u5411\u9009\u62e9",keep:"\u4fdd\u6301\u9009\u62e9",clear:"\u6e05\u9664\u9009\u62e9"}},dataView:{title:"\u6570\u636e\u89c6\u56fe",lang:["\u6570\u636e\u89c6\u56fe","\u5173\u95ed","\u5237\u65b0"]},dataZoom:{title:{zoom:"\u533a\u57df\u7f29\u653e",back:"\u533a\u57df\u7f29\u653e\u8fd8\u539f"}},magicType:{title:{line:"\u5207\u6362\u4e3a\u6298\u7ebf\u56fe",bar:"\u5207\u6362\u4e3a\u67f1\u72b6\u56fe",stack:"\u5207\u6362\u4e3a\u5806\u53e0",tiled:"\u5207\u6362\u4e3a\u5e73\u94fa"}},restore:{title:"\u8fd8\u539f"},saveAsImage:{title:"\u4fdd\u5b58\u4e3a\u56fe\u7247",lang:["\u53f3\u952e\u53e6\u5b58\u4e3a\u56fe\u7247"]}},series:{typeNames:{pie:"\u997c\u56fe",bar:"\u67f1\u72b6\u56fe",line:"\u6298\u7ebf\u56fe",scatter:"\u6563\u70b9\u56fe",effectScatter:"\u6d9f\u6f2a\u6563\u70b9\u56fe",radar:"\u96f7\u8fbe\u56fe",tree:"\u6811\u56fe",treemap:"\u77e9\u5f62\u6811\u56fe",boxplot:"\u7bb1\u578b\u56fe",candlestick:"K\u7ebf\u56fe",k:"K\u7ebf\u56fe",heatmap:"\u70ed\u529b\u56fe",map:"\u5730\u56fe",parallel:"\u5e73\u884c\u5750\u6807\u56fe",lines:"\u7ebf\u56fe",graph:"\u5173\u7cfb\u56fe",sankey:"\u6851\u57fa\u56fe",funnel:"\u6f0f\u6597\u56fe",gauge:"\u4eea\u8868\u76d8\u56fe",pictorialBar:"\u8c61\u5f62\u67f1\u56fe",themeRiver:"\u4e3b\u9898\u6cb3\u6d41\u56fe",sunburst:"\u65ed\u65e5\u56fe"}},aria:{general:{withTitle:"\u8fd9\u662f\u4e00\u4e2a\u5173\u4e8e\u201c{title}\u201d\u7684\u56fe\u8868\u3002",withoutTitle:"\u8fd9\u662f\u4e00\u4e2a\u56fe\u8868\uff0c"},series:{single:{prefix:"",withName:"\u56fe\u8868\u7c7b\u578b\u662f{seriesType}\uff0c\u8868\u793a{seriesName}\u3002",withoutName:"\u56fe\u8868\u7c7b\u578b\u662f{seriesType}\u3002"},multiple:{prefix:"\u5b83\u7531{seriesCount}\u4e2a\u56fe\u8868\u7cfb\u5217\u7ec4\u6210\u3002",withName:"\u7b2c{seriesId}\u4e2a\u7cfb\u5217\u662f\u4e00\u4e2a\u8868\u793a{seriesName}\u7684{seriesType}\uff0c",withoutName:"\u7b2c{seriesId}\u4e2a\u7cfb\u5217\u662f\u4e00\u4e2a{seriesType}\uff0c",separator:{middle:"\uff1b",end:"\u3002"}}},data:{allData:"\u5176\u6570\u636e\u662f\u2014\u2014",partialData:"\u5176\u4e2d\uff0c\u524d{displayCnt}\u9879\u662f\u2014\u2014",withName:"{name}\u7684\u6570\u636e\u662f{value}",withoutName:"{value}",separator:{middle:"\uff0c",end:""}}}});var eu=864e5,q_=31536e6,tu={year:"{yyyy}",month:"{MMM}",day:"{d}",hour:"{HH}:{mm}",minute:"{HH}:{mm}",second:"{HH}:{mm}:{ss}",millisecond:"{HH}:{mm}:{ss} {SSS}",none:"{yyyy}-{MM}-{dd} {HH}:{mm}:{ss} {SSS}"},K_={year:"{yyyy}",month:"{yyyy}-{MM}",day:"{yyyy}-{MM}-{dd}",hour:"{yyyy}-{MM}-{dd} "+tu.hour,minute:"{yyyy}-{MM}-{dd} "+tu.minute,second:"{yyyy}-{MM}-{dd} "+tu.second,millisecond:tu.none},zf=["year","month","day","hour","minute","second","millisecond"],$_=["year","half-year","quarter","month","week","half-week","day","half-day","quarter-day","hour","minute","second","millisecond"];function Rn(n,t){return"0000".substr(0,t-(n+="").length)+n}function hs(n){switch(n){case"half-year":case"quarter":return"month";case"week":case"half-week":return"day";case"half-day":case"quarter-day":return"hour";default:return n}}function LD(n){return n===hs(n)}function nu(n,t,e,i){var r=En(n),o=r[Bf(e)](),a=r[cs(e)]()+1,s=Math.floor((a-1)/4)+1,l=r[bc(e)](),u=r["get"+(e?"UTC":"")+"Day"](),h=r[iu(e)](),c=(h-1)%12+1,p=r[wc(e)](),d=r[Sc(e)](),f=r[Mc(e)](),g=(i instanceof Fe?i:Rf(i||X_)||Ef.EN).getModel("time"),m=g.get("month"),y=g.get("monthAbbr"),v=g.get("dayOfWeek"),_=g.get("dayOfWeekAbbr");return(t||"").replace(/{yyyy}/g,o+"").replace(/{yy}/g,o%100+"").replace(/{Q}/g,s+"").replace(/{MMMM}/g,m[a-1]).replace(/{MMM}/g,y[a-1]).replace(/{MM}/g,Rn(a,2)).replace(/{M}/g,a+"").replace(/{dd}/g,Rn(l,2)).replace(/{d}/g,l+"").replace(/{eeee}/g,v[u]).replace(/{ee}/g,_[u]).replace(/{e}/g,u+"").replace(/{HH}/g,Rn(h,2)).replace(/{H}/g,h+"").replace(/{hh}/g,Rn(c+"",2)).replace(/{h}/g,c+"").replace(/{mm}/g,Rn(p,2)).replace(/{m}/g,p+"").replace(/{ss}/g,Rn(d,2)).replace(/{s}/g,d+"").replace(/{SSS}/g,Rn(f,3)).replace(/{S}/g,f+"")}function Q_(n,t){var e=En(n),i=e[cs(t)]()+1,r=e[bc(t)](),o=e[iu(t)](),a=e[wc(t)](),s=e[Sc(t)](),l=0===e[Mc(t)](),u=l&&0===s,h=u&&0===a,c=h&&0===o,p=c&&1===r;return p&&1===i?"year":p?"month":c?"day":h?"hour":u?"minute":l?"second":"millisecond"}function J_(n,t,e){var i="number"==typeof n?En(n):n;switch(t=t||Q_(n,e)){case"year":return i[Bf(e)]();case"half-year":return i[cs(e)]()>=6?1:0;case"quarter":return Math.floor((i[cs(e)]()+1)/4);case"month":return i[cs(e)]();case"day":return i[bc(e)]();case"half-day":return i[iu(e)]()/24;case"hour":return i[iu(e)]();case"minute":return i[wc(e)]();case"second":return i[Sc(e)]();case"millisecond":return i[Mc(e)]()}}function Bf(n){return n?"getUTCFullYear":"getFullYear"}function cs(n){return n?"getUTCMonth":"getMonth"}function bc(n){return n?"getUTCDate":"getDate"}function iu(n){return n?"getUTCHours":"getHours"}function wc(n){return n?"getUTCMinutes":"getMinutes"}function Sc(n){return n?"getUTCSeconds":"getSeconds"}function Mc(n){return n?"getUTCMilliseconds":"getMilliseconds"}function PD(n){return n?"setUTCFullYear":"setFullYear"}function e1(n){return n?"setUTCMonth":"setMonth"}function t1(n){return n?"setUTCDate":"setDate"}function n1(n){return n?"setUTCHours":"setHours"}function i1(n){return n?"setUTCMinutes":"setMinutes"}function r1(n){return n?"setUTCSeconds":"setSeconds"}function o1(n){return n?"setUTCMilliseconds":"setMilliseconds"}function Vf(n){if(!Gd(n))return Ce(n)?n:"-";var t=(n+"").split(".");return t[0].replace(/(\d{1,3})(?=(?:\d{3})+(?!\d))/g,"$1,")+(t.length>1?"."+t[1]:"")}function Gf(n,t){return n=(n||"").toLowerCase().replace(/-(.)/g,function(e,i){return i.toUpperCase()}),t&&n&&(n=n.charAt(0).toUpperCase()+n.slice(1)),n}var Qo=_o,OD=/([&<>"'])/g,ED={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function In(n){return null==n?"":(n+"").replace(OD,function(t,e){return ED[e]})}function Ic(n,t,e){function i(u){return u&&Dn(u)?u:"-"}function r(u){return!(null==u||isNaN(u)||!isFinite(u))}var o="time"===t,a=n instanceof Date;if(o||a){var s=o?En(n):n;if(!isNaN(+s))return nu(s,"{yyyy}-{MM}-{dd} {hh}:{mm}:{ss}",e);if(a)return"-"}if("ordinal"===t)return yo(n)?i(n):Si(n)&&r(n)?n+"":"-";var l=Li(n);return r(l)?Vf(l):yo(n)?i(n):"boolean"==typeof n?n+"":"-"}var a1=["a","b","c","d","e","f","g"],Ff=function(n,t){return"{"+n+(null==t?"":t)+"}"};function Hf(n,t,e){Z(t)||(t=[t]);var i=t.length;if(!i)return"";for(var r=t[0].$vars||[],o=0;o<r.length;o++){var a=a1[o];n=n.replace(Ff(a),Ff(a,0))}for(var s=0;s<i;s++)for(var l=0;l<r.length;l++){var u=t[s][r[l]];n=n.replace(Ff(a1[l],s),e?In(u):u)}return n}function s1(n,t){var e=Ce(n)?{color:n,extraCssText:t}:n||{},i=e.color,r=e.type;t=e.extraCssText;var o=e.renderMode||"html";return i?"html"===o?"subItem"===r?'<span style="display:inline-block;vertical-align:middle;margin-right:8px;margin-left:3px;border-radius:4px;width:4px;height:4px;background-color:'+In(i)+";"+(t||"")+'"></span>':'<span style="display:inline-block;margin-right:4px;border-radius:10px;width:10px;height:10px;background-color:'+In(i)+";"+(t||"")+'"></span>':{renderMode:o,content:"{"+(e.markerId||"markerX")+"|}  ",style:"subItem"===r?{width:4,height:4,borderRadius:2,backgroundColor:i}:{width:10,height:10,borderRadius:5,backgroundColor:i}}:""}function Jo(n,t){return t=t||"transparent",Ce(n)?n:pe(n)&&n.colorStops&&(n.colorStops[0]||{}).color||t}function Tc(n,t){if("_blank"===t||"blank"===t){var e=window.open();e.opener=null,e.location.href=n}else window.open(n,t)}var Cc=k,l1=["left","right","top","bottom","width","height"],ea=[["width","left","right"],["height","top","bottom"]];function Wf(n,t,e,i,r){var o=0,a=0;null==i&&(i=1/0),null==r&&(r=1/0);var s=0;t.eachChild(function(l,u){var h,c,p=l.getBoundingRect(),d=t.childAt(u+1),f=d&&d.getBoundingRect();if("horizontal"===n){var g=p.width+(f?-f.x+p.x:0);(h=o+g)>i||l.newline?(o=0,h=g,a+=s+e,s=p.height):s=Math.max(s,p.height)}else{var m=p.height+(f?-f.y+p.y:0);(c=a+m)>r||l.newline?(o+=s+e,a=0,c=m,s=p.width):s=Math.max(s,p.width)}l.newline||(l.x=o,l.y=a,l.markRedraw(),"horizontal"===n?o=h+e:a=c+e)})}var ta=Wf;function Tt(n,t,e){e=Qo(e||0);var i=t.width,r=t.height,o=ie(n.left,i),a=ie(n.top,r),s=ie(n.right,i),l=ie(n.bottom,r),u=ie(n.width,i),h=ie(n.height,r),c=e[2]+e[0],p=e[1]+e[3],d=n.aspect;switch(isNaN(u)&&(u=i-s-p-o),isNaN(h)&&(h=r-l-c-a),null!=d&&(isNaN(u)&&isNaN(h)&&(d>i/r?u=.8*i:h=.8*r),isNaN(u)&&(u=d*h),isNaN(h)&&(h=u/d)),isNaN(o)&&(o=i-s-u-p),isNaN(a)&&(a=r-l-h-c),n.left||n.right){case"center":o=i/2-u/2-e[3];break;case"right":o=i-u-p}switch(n.top||n.bottom){case"middle":case"center":a=r/2-h/2-e[0];break;case"bottom":a=r-h-c}o=o||0,a=a||0,isNaN(u)&&(u=i-p-o-(s||0)),isNaN(h)&&(h=r-c-a-(l||0));var f=new De(o+e[3],a+e[0],u,h);return f.margin=e,f}function Ac(n,t,e,i,r){var o=!r||!r.hv||r.hv[0],a=!r||!r.hv||r.hv[1],s=r&&r.boundingMode||"all";if(o||a){var l;if("raw"===s)l="group"===n.type?new De(0,0,+t.width||0,+t.height||0):n.getBoundingRect();else if(l=n.getBoundingRect(),n.needLocalTransform()){var u=n.getLocalTransform();(l=l.clone()).applyTransform(u)}var h=Tt(ce({width:l.width,height:l.height},t),e,i),c=o?h.x-l.x:0,p=a?h.y-l.y:0;"raw"===s?(n.x=c,n.y=p):(n.x+=c,n.y+=p),n.markRedraw()}}function ru(n){var t=n.layoutMode||n.constructor.layoutMode;return pe(t)?t:t?{type:t}:null}function Xr(n,t,e){var i=e&&e.ignoreSize;!Z(i)&&(i=[i,i]);var r=a(ea[0],0),o=a(ea[1],1);function a(h,c){var p={},d=0,f={},g=0;if(Cc(h,function(v){f[v]=n[v]}),Cc(h,function(v){s(t,v)&&(p[v]=f[v]=t[v]),l(p,v)&&d++,l(f,v)&&g++}),i[c])return l(t,h[1])?f[h[2]]=null:l(t,h[2])&&(f[h[1]]=null),f;if(2!==g&&d){if(d>=2)return p;for(var m=0;m<h.length;m++){var y=h[m];if(!s(p,y)&&s(n,y)){p[y]=n[y];break}}return p}return f}function s(h,c){return h.hasOwnProperty(c)}function l(h,c){return null!=h[c]&&"auto"!==h[c]}function u(h,c,p){Cc(h,function(d){c[d]=p[d]})}u(ea[0],n,r),u(ea[1],n,o)}function ps(n){return u1({},n)}function u1(n,t){return t&&n&&Cc(l1,function(e){t.hasOwnProperty(e)&&(n[e]=t[e])}),n}ye(Wf,"vertical"),ye(Wf,"horizontal");var n,t,ND=We(),Pe=function(n){function t(e,i,r){var o=n.call(this,e,i,r)||this;return o.uid=us("ec_cpt_model"),o}return G(t,n),t.prototype.init=function(e,i,r){this.mergeDefaultAndTheme(e,r)},t.prototype.mergeDefaultAndTheme=function(e,i){var r=ru(this),o=r?ps(e):{};we(e,i.getTheme().get(this.mainType)),we(e,this.getDefaultOption()),r&&Xr(e,o,r)},t.prototype.mergeOption=function(e,i){we(this.option,e,!0);var r=ru(this);r&&Xr(this.option,e,r)},t.prototype.optionUpdated=function(e,i){},t.prototype.getDefaultOption=function(){var u,e=this.constructor;if(!(u=e)||!u[f0])return e.defaultOption;var i=ND(this);if(!i.defaultOption){for(var r=[],o=e;o;){var a=o.prototype.defaultOption;a&&r.push(a),o=o.superClass}for(var s={},l=r.length-1;l>=0;l--)s=we(s,r[l],!0);i.defaultOption=s}return i.defaultOption},t.prototype.getReferringComponents=function(e,i){var o=e+"Id";return El(this.ecModel,e,{index:this.get(e+"Index",!0),id:this.get(o,!0)},i)},t.prototype.getBoxLayoutParams=function(){var e=this;return{left:e.get("left"),top:e.get("top"),right:e.get("right"),bottom:e.get("bottom"),width:e.get("width"),height:e.get("height")}},t.protoInitialize=((e=t.prototype).type="component",e.id="",e.name="",e.mainType="",e.subType="",void(e.componentIndex=0)),t;var e}(Fe);g0(Pe,Fe),Uh(Pe),t={},(n=Pe).registerSubTypeDefaulter=function(e,i){var r=Pi(e);t[r.main]=i},n.determineSubType=function(e,i){var r=i.type;if(!r){var o=Pi(e).main;n.hasSubTypes(e)&&t[o]&&(r=t[o](i))}return r},function(n,t){function e(i,r){return i[r]||(i[r]={predecessor:[],successor:[]}),i[r]}n.topologicalTravel=function(i,r,o,a){if(i.length){var s=(y={},v=[],k(m=r,function(_){var w,S,M,x=e(y,_),b=(w=x.originalDeps=function(n){var t=[];return k(Pe.getClassesByMainType(n),function(e){t=t.concat(e.dependencies||e.prototype.dependencies||[])}),t=J(t,function(e){return Pi(e).main}),"dataset"!==n&&Ie(t,"dataset")<=0&&t.unshift("dataset"),t}(_),S=m,M=[],k(w,function(T){Ie(S,T)>=0&&M.push(T)}),M);x.entryCount=b.length,0===x.entryCount&&v.push(_),k(b,function(w){Ie(x.predecessor,w)<0&&x.predecessor.push(w);var S=e(y,w);Ie(S.successor,w)<0&&S.successor.push(_)})}),{graph:y,noEntryList:v}),l=s.graph,u=s.noEntryList,h={};for(k(i,function(m){h[m]=!0});u.length;){var c=u.pop(),p=l[c],d=!!h[c];d&&(o.call(a,c,p.originalDeps.slice()),delete h[c]),k(p.successor,d?g:f)}k(h,function(){throw new Error("")})}var m,y,v;function f(m){l[m].entryCount--,0===l[m].entryCount&&u.push(m)}function g(m){h[m]=!0,f(m)}}}(Pe);var h1="";"undefined"!=typeof navigator&&(h1=navigator.platform||"");var ds="rgba(0, 0, 0, 0.2)",RD={darkMode:"auto",colorBy:"series",color:["#5470c6","#91cc75","#fac858","#ee6666","#73c0de","#3ba272","#fc8452","#9a60b4","#ea7ccc"],gradientColor:["#f6efa6","#d88273","#bf444c"],aria:{decal:{decals:[{color:ds,dashArrayX:[1,0],dashArrayY:[2,5],symbolSize:1,rotation:Math.PI/6},{color:ds,symbol:"circle",dashArrayX:[[8,8],[0,8,8,0]],dashArrayY:[6,0],symbolSize:.8},{color:ds,dashArrayX:[1,0],dashArrayY:[4,3],rotation:-Math.PI/4},{color:ds,dashArrayX:[[6,6],[0,6,6,0]],dashArrayY:[6,0]},{color:ds,dashArrayX:[[1,0],[1,6]],dashArrayY:[1,0,6,0],rotation:Math.PI/4},{color:ds,symbol:"triangle",dashArrayX:[[9,9],[0,9,9,0]],dashArrayY:[7,2],symbolSize:.75}]}},textStyle:{fontFamily:h1.match(/^Win/)?"Microsoft YaHei":"sans-serif",fontSize:12,fontStyle:"normal",fontWeight:"normal"},blendMode:null,stateAnimation:{duration:300,easing:"cubicOut"},animation:"auto",animationDuration:1e3,animationDurationUpdate:500,animationEasing:"cubicInOut",animationEasingUpdate:"cubicInOut",animationThreshold:2e3,progressiveThreshold:3e3,progressive:400,hoverLayerThreshold:3e3,useUTC:!1},c1=ue(["tooltip","label","itemName","itemId","itemGroupId","seriesName"]),Yr="original",lr="arrayRows",Zr="objectRows",fs="keyedColumns",gs="typedArray",p1="unknown",na="column",f1=We();function g1(n,t,e){var i={},r=Yf(t);if(!r||!n)return i;var o,a,s=[],l=[],h=f1(t.ecModel).datasetMap,c=r.uid+"_"+e.seriesLayoutBy;k(n=n.slice(),function(g,m){var y=pe(g)?g:n[m]={name:g};"ordinal"===y.type&&null==o&&(o=m,a=f(y)),i[y.name]=[]});var p=h.get(c)||h.set(c,{categoryWayDim:a,valueWayDim:0});function d(g,m,y){for(var v=0;v<y;v++)g.push(m+v)}function f(g){var m=g.dimsDef;return m?m.length:1}return k(n,function(g,m){var y=g.name,v=f(g);if(null==o){var _=p.valueWayDim;d(i[y],_,v),d(l,_,v),p.valueWayDim+=v}else o===m?(d(i[y],0,v),d(s,0,v)):(d(i[y],_=p.categoryWayDim,v),d(l,_,v),p.categoryWayDim+=v)}),s.length&&(i.itemName=s),l.length&&(i.seriesName=l),i}function Xf(n,t,e){var i={};if(!Yf(n))return i;var r,o=t.sourceFormat,a=t.dimensionsDefine;o!==Zr&&o!==fs||k(a,function(u,h){"name"===(pe(u)?u.name:u)&&(r=h)});var s=function(){for(var u={},h={},c=[],p=0,d=Math.min(5,e);p<d;p++){var f=y1(t.data,o,t.seriesLayoutBy,a,t.startIndex,p);c.push(f);var g=3===f;if(g&&null==u.v&&p!==r&&(u.v=p),(null==u.n||u.n===u.v||!g&&3===c[u.n])&&(u.n=p),m(u)&&3!==c[u.n])return u;g||(2===f&&null==h.v&&p!==r&&(h.v=p),null!=h.n&&h.n!==h.v||(h.n=p))}function m(y){return null!=y.v&&null!=y.n}return m(u)?u:m(h)?h:null}();if(s){i.value=[s.v];var l=null!=r?r:s.n;i.itemName=[l],i.seriesName=[l]}return i}function Yf(n){if(!n.get("data",!0))return El(n.ecModel,"dataset",{index:n.get("datasetIndex",!0),id:n.get("datasetId",!0)},Mt).models[0]}function m1(n,t){return y1(n.data,n.sourceFormat,n.seriesLayoutBy,n.dimensionsDefine,n.startIndex,t)}function y1(n,t,e,i,r,o){var a,s,l;if(Qe(n))return 3;if(i){var u=i[o];pe(u)?(s=u.name,l=u.type):Ce(u)&&(s=u)}if(null!=l)return"ordinal"===l?1:3;if(t===lr){var h=n;if("row"===e){for(var c=h[o],p=0;p<(c||[]).length&&p<5;p++)if(null!=(a=v(c[r+p])))return a}else for(p=0;p<h.length&&p<5;p++){var d=h[r+p];if(d&&null!=(a=v(d[o])))return a}}else if(t===Zr){var f=n;if(!s)return 3;for(p=0;p<f.length&&p<5;p++)if((m=f[p])&&null!=(a=v(m[s])))return a}else if(t===fs){if(!s||!(c=n[s])||Qe(c))return 3;for(p=0;p<c.length&&p<5;p++)if(null!=(a=v(c[p])))return a}else if(t===Yr){var g=n;for(p=0;p<g.length&&p<5;p++){var m,y=qa(m=g[p]);if(!Z(y))return 3;if(null!=(a=v(y[o])))return a}}function v(_){var x=Ce(_);return null!=_&&isFinite(_)&&""!==_?x?2:3:x&&"-"!==_?1:void 0}return 3}var kc,ou,v1,Zf=ue(),_1=We(),zD=We(),jf=function(){function n(){}return n.prototype.getColorFromPalette=function(t,e,i){var r=Je(this.get("color",!0)),o=this.get("colorLayer",!0);return x1(this,_1,r,o,t,e,i)},n.prototype.clearColorPalette=function(){!function(t,e){e(t).paletteIdx=0,e(t).paletteNameMap={}}(this,_1)},n}();function qf(n,t,e,i){var r=Je(n.get(["aria","decal","decals"]));return x1(n,zD,r,null,t,e,i)}function x1(n,t,e,i,r,o,a){var s=t(o=o||n),l=s.paletteIdx||0,u=s.paletteNameMap=s.paletteNameMap||{};if(u.hasOwnProperty(r))return u[r];var h=null!=a&&i?function(p,d){for(var f=p.length,g=0;g<f;g++)if(p[g].length>d)return p[g];return p[f-1]}(i,a):e;if((h=h||e)&&h.length){var c=h[l];return r&&(u[r]=c),s.paletteIdx=(l+1)%h.length,c}}var Kf=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return G(t,n),t.prototype.init=function(e,i,r,o,a,s){o=o||{},this.option=null,this._theme=new Fe(o),this._locale=new Fe(a),this._optionManager=s},t.prototype.setOption=function(e,i,r){var o=S1(i);this._optionManager.setOption(e,r,o),this._resetOption(null,o)},t.prototype.resetOption=function(e,i){return this._resetOption(e,S1(i))},t.prototype._resetOption=function(e,i){var r=!1,o=this._optionManager;if(!e||"recreate"===e){var a=o.mountOption("recreate"===e);this.option&&"recreate"!==e?(this.restoreData(),this._mergeOption(a,i)):v1(this,a),r=!0}if("timeline"!==e&&"media"!==e||this.restoreData(),!e||"recreate"===e||"timeline"===e){var s=o.getTimelineOption(this);s&&(r=!0,this._mergeOption(s,i))}if(!e||"recreate"===e||"media"===e){var l=o.getMediaOption(this);l.length&&k(l,function(u){r=!0,this._mergeOption(u,i)},this)}return r},t.prototype.mergeOption=function(e){this._mergeOption(e,null)},t.prototype._mergeOption=function(e,i){var r=this.option,o=this._componentsMap,a=this._componentsCount,s=[],l=ue(),u=i&&i.replaceMergeMainTypeMap;f1(this).datasetMap=ue(),k(e,function(h,c){null!=h&&(Pe.hasClass(c)?c&&(s.push(c),l.set(c,!0)):r[c]=null==r[c]?de(h):we(r[c],h,!0))}),u&&u.each(function(h,c){Pe.hasClass(c)&&!l.get(c)&&(s.push(c),l.set(c,!0))}),Pe.topologicalTravel(s,Pe.getAllClassMainTypes(),function(h){var _,x,c=function(v,_,x){var b=Zf.get(_);if(!b)return x;var w=b(v);return w?x.concat(w):x}(this,h,Je(e[h])),p=o.get(h),f=h0(p,c,p?u&&u.get(h)?"replaceMerge":"normalMerge":"replaceAll");_=h,x=Pe,k(f,function(b){var M,T,w=b.newOption;pe(w)&&(b.keyInfo.mainType=_,b.keyInfo.subType=(T=b.existing,(M=w).type?M.type:T?T.subType:x.determineSubType(_,M)))}),r[h]=null,o.set(h,null),a.set(h,0);var g=[],m=[],y=0;k(f,function(v,_){var x=v.existing,b=v.newOption;if(b){var S=Pe.getClass(h,v.keyInfo.subType,!("series"===h));if(!S)return;if(x&&x.constructor===S)x.name=v.keyInfo.name,x.mergeOption(b,this),x.optionUpdated(b,!1);else{var M=K({componentIndex:_},v.keyInfo);K(x=new S(b,this,this,M),M),v.brandNew&&(x.__requireNewView=!0),x.init(b,this,this),x.optionUpdated(null,!0)}}else x&&(x.mergeOption({},this),x.optionUpdated({},!1));x?(g.push(x.option),m.push(x),y++):(g.push(void 0),m.push(void 0))},this),r[h]=g,o.set(h,m),a.set(h,y),"series"===h&&kc(this)},this),this._seriesIndices||kc(this)},t.prototype.getOption=function(){var e=de(this.option);return k(e,function(i,r){if(Pe.hasClass(r)){for(var o=Je(i),a=o.length,s=!1,l=a-1;l>=0;l--)o[l]&&!Pl(o[l])?s=!0:(o[l]=null,!s&&a--);o.length=a,e[r]=o}}),delete e["\0_ec_inner"],e},t.prototype.getTheme=function(){return this._theme},t.prototype.getLocaleModel=function(){return this._locale},t.prototype.setUpdatePayload=function(e){this._payload=e},t.prototype.getUpdatePayload=function(){return this._payload},t.prototype.getComponent=function(e,i){var r=this._componentsMap.get(e);if(r){var o=r[i||0];if(o)return o;if(null==i)for(var a=0;a<r.length;a++)if(r[a])return r[a]}},t.prototype.queryComponents=function(e){var i=e.mainType;if(!i)return[];var r,o=e.index,a=e.id,s=e.name,l=this._componentsMap.get(i);return l&&l.length?(null!=o?(r=[],k(Je(o),function(u){l[u]&&r.push(l[u])})):r=null!=a?b1("id",a,l):null!=s?b1("name",s,l):Ke(l,function(u){return!!u}),w1(r,e)):[]},t.prototype.findComponents=function(e){var i,r,o,a,s,u=e.mainType,h=(r=u+"Index",o=u+"Id",a=u+"Name",!(i=e.query)||null==i[r]&&null==i[o]&&null==i[a]?null:{mainType:u,index:i[r],id:i[o],name:i[a]});return s=w1(h?this.queryComponents(h):Ke(this._componentsMap.get(u),function(p){return!!p}),e),e.filter?Ke(s,e.filter):s},t.prototype.eachComponent=function(e,i,r){var o=this._componentsMap;if(Be(e)){var a=i,s=e;o.each(function(c,p){for(var d=0;c&&d<c.length;d++){var f=c[d];f&&s.call(a,p,f,f.componentIndex)}})}else for(var l=Ce(e)?o.get(e):pe(e)?this.findComponents(e):null,u=0;l&&u<l.length;u++){var h=l[u];h&&i.call(r,h,h.componentIndex)}},t.prototype.getSeriesByName=function(e){var i=Ot(e,null);return Ke(this._componentsMap.get("series"),function(r){return!!r&&null!=i&&r.name===i})},t.prototype.getSeriesByIndex=function(e){return this._componentsMap.get("series")[e]},t.prototype.getSeriesByType=function(e){return Ke(this._componentsMap.get("series"),function(i){return!!i&&i.subType===e})},t.prototype.getSeries=function(){return Ke(this._componentsMap.get("series"),function(e){return!!e})},t.prototype.getSeriesCount=function(){return this._componentsCount.get("series")},t.prototype.eachSeries=function(e,i){ou(this),k(this._seriesIndices,function(r){var o=this._componentsMap.get("series")[r];e.call(i,o,r)},this)},t.prototype.eachRawSeries=function(e,i){k(this._componentsMap.get("series"),function(r){r&&e.call(i,r,r.componentIndex)})},t.prototype.eachSeriesByType=function(e,i,r){ou(this),k(this._seriesIndices,function(o){var a=this._componentsMap.get("series")[o];a.subType===e&&i.call(r,a,o)},this)},t.prototype.eachRawSeriesByType=function(e,i,r){return k(this.getSeriesByType(e),i,r)},t.prototype.isSeriesFiltered=function(e){return ou(this),null==this._seriesIndicesMap.get(e.componentIndex)},t.prototype.getCurrentSeriesIndices=function(){return(this._seriesIndices||[]).slice()},t.prototype.filterSeries=function(e,i){ou(this);var r=[];k(this._seriesIndices,function(o){var a=this._componentsMap.get("series")[o];e.call(i,a,o)&&r.push(o)},this),this._seriesIndices=r,this._seriesIndicesMap=ue(r)},t.prototype.restoreData=function(e){kc(this);var i=this._componentsMap,r=[];i.each(function(o,a){Pe.hasClass(a)&&r.push(a)}),Pe.topologicalTravel(r,Pe.getAllClassMainTypes(),function(o){k(i.get(o),function(a){!a||"series"===o&&function(s,l){if(l){var u=l.seriesIndex,h=l.seriesId,c=l.seriesName;return null!=u&&s.componentIndex!==u||null!=h&&s.id!==h||null!=c&&s.name!==c}}(a,e)||a.restoreData()})})},t.internalField=(kc=function(e){var i=e._seriesIndices=[];k(e._componentsMap.get("series"),function(r){r&&i.push(r.componentIndex)}),e._seriesIndicesMap=ue(i)},ou=function(e){},void(v1=function(e,i){e.option={},e.option["\0_ec_inner"]=1,e._componentsMap=ue({series:[]}),e._componentsCount=ue();var o,s,r=i.aria;pe(r)&&null==r.enabled&&(r.enabled=!0),s=(o=i).color&&!o.colorLayer,k(e._theme.option,function(l,u){"colorLayer"===u&&s||Pe.hasClass(u)||("object"==typeof l?o[u]=o[u]?we(o[u],l,!1):de(l):null==o[u]&&(o[u]=l))}),we(i,RD,!1),e._mergeOption(i,null)})),t}(Fe);function b1(n,t,e){if(Z(t)){var i=ue();return k(t,function(o){null!=o&&null!=Ot(o,null)&&i.set(o,!0)}),Ke(e,function(o){return o&&i.get(o[n])})}var r=Ot(t,null);return Ke(e,function(o){return o&&null!=r&&o[n]===r})}function w1(n,t){return t.hasOwnProperty("subType")?Ke(n,function(e){return e&&e.subType===t.subType}):n}function S1(n){var t=ue();return n&&k(Je(n.replaceMerge),function(e){t.set(e,!0)}),{replaceMergeMainTypeMap:t}}ht(Kf,jf);var BD=["getDom","getZr","getWidth","getHeight","getDevicePixelRatio","dispatchAction","isDisposed","on","off","getDataURL","getConnectedDataURL","getOption","getId","updateLabelLayout"],M1=function(n){k(BD,function(t){this[t]=re(n[t],n)},this)},$f={},ms=function(){function n(){this._coordinateSystems=[]}return n.prototype.create=function(t,e){var i=[];k($f,function(r,o){var a=r.create(t,e);i=i.concat(a||[])}),this._coordinateSystems=i},n.prototype.update=function(t,e){k(this._coordinateSystems,function(i){i.update&&i.update(t,e)})},n.prototype.getCoordinateSystems=function(){return this._coordinateSystems.slice()},n.register=function(t,e){$f[t]=e},n.get=function(t){return $f[t]},n}(),VD=/^(min|max)?(.+)$/,GD=function(){function n(t){this._timelineOptions=[],this._mediaList=[],this._currentMediaIndices=[],this._api=t}return n.prototype.setOption=function(t,e,i){t&&(k(Je(t.series),function(a){a&&a.data&&Qe(a.data)&&xr(a.data)}),k(Je(t.dataset),function(a){a&&a.source&&Qe(a.source)&&xr(a.source)})),t=de(t);var r=this._optionBackup,o=function(a,s,l){var u,h,c=[],p=a.baseOption,d=a.timeline,f=a.options,g=a.media,m=!!a.media,y=!!(f||d||p&&p.timeline);function v(_){k(s,function(x){x(_,l)})}return p?(h=p).timeline||(h.timeline=d):((y||m)&&(a.options=a.media=null),h=a),m&&Z(g)&&k(g,function(_){_&&_.option&&(_.query?c.push(_):u||(u=_))}),v(h),k(f,function(_){return v(_)}),k(c,function(_){return v(_.option)}),{baseOption:h,timelineOptions:f||[],mediaDefault:u,mediaList:c}}(t,e,!r);this._newBaseOption=o.baseOption,r?(o.timelineOptions.length&&(r.timelineOptions=o.timelineOptions),o.mediaList.length&&(r.mediaList=o.mediaList),o.mediaDefault&&(r.mediaDefault=o.mediaDefault)):this._optionBackup=o},n.prototype.mountOption=function(t){var e=this._optionBackup;return this._timelineOptions=e.timelineOptions,this._mediaList=e.mediaList,this._mediaDefault=e.mediaDefault,this._currentMediaIndices=[],de(t?e.baseOption:this._newBaseOption)},n.prototype.getTimelineOption=function(t){var e,i=this._timelineOptions;if(i.length){var r=t.getComponent("timeline");r&&(e=de(i[r.getCurrentIndex()]))}return e},n.prototype.getMediaOption=function(t){var i,r=this._api.getWidth(),o=this._api.getHeight(),a=this._mediaList,s=this._mediaDefault,l=[],u=[];if(!a.length&&!s)return u;for(var h=0,c=a.length;h<c;h++)FD(a[h].query,r,o)&&l.push(h);return!l.length&&s&&(l=[-1]),l.length&&(i=this._currentMediaIndices,l.join(",")!==i.join(","))&&(u=J(l,function(p){return de(-1===p?s.option:a[p].option)})),this._currentMediaIndices=l,u},n}();function FD(n,t,e){var i={width:t,height:e,aspectratio:t/e},r=!0;return k(n,function(o,a){var h,c,p,s=a.match(VD);if(s&&s[1]&&s[2]){var l=s[1],u=s[2].toLowerCase();h=i[u],c=o,("min"===(p=l)?h>=c:"max"===p?h<=c:h===c)||(r=!1)}}),r}var mi=k,au=pe,I1=["areaStyle","lineStyle","nodeStyle","linkStyle","chordStyle","label","labelLine"];function Qf(n){var t=n&&n.itemStyle;if(t)for(var e=0,i=I1.length;e<i;e++){var r=I1[e],o=t.normal,a=t.emphasis;o&&o[r]&&(n[r]=n[r]||{},n[r].normal?we(n[r].normal,o[r]):n[r].normal=o[r],o[r]=null),a&&a[r]&&(n[r]=n[r]||{},n[r].emphasis?we(n[r].emphasis,a[r]):n[r].emphasis=a[r],a[r]=null)}}function en(n,t,e){if(n&&n[t]&&(n[t].normal||n[t].emphasis)){var i=n[t].normal,r=n[t].emphasis;i&&(e?(n[t].normal=n[t].emphasis=null,ce(n[t],i)):n[t]=i),r&&(n.emphasis=n.emphasis||{},n.emphasis[t]=r,r.focus&&(n.emphasis.focus=r.focus),r.blurScope&&(n.emphasis.blurScope=r.blurScope))}}function su(n){en(n,"itemStyle"),en(n,"lineStyle"),en(n,"areaStyle"),en(n,"label"),en(n,"labelLine"),en(n,"upperLabel"),en(n,"edgeLabel")}function Ct(n,t){var e=au(n)&&n[t],i=au(e)&&e.textStyle;if(i)for(var r=0,o=u0.length;r<o;r++){var a=u0[r];i.hasOwnProperty(a)&&(e[a]=i[a])}}function jn(n){n&&(su(n),Ct(n,"label"),n.emphasis&&Ct(n.emphasis,"label"))}function ur(n){return Z(n)?n:n?[n]:[]}function T1(n){return(Z(n)?n[0]:n)||{}}function C1(n){n&&k(WD,function(t){t[0]in n&&!(t[1]in n)&&(n[t[1]]=n[t[0]])})}var WD=[["x","left"],["y","top"],["x2","right"],["y2","bottom"]],UD=["grid","geo","parallel","legend","toolbox","title","visualMap","dataZoom","timeline"],Jf=[["borderRadius","barBorderRadius"],["borderColor","barBorderColor"],["borderWidth","barBorderWidth"]];function lu(n){var t=n&&n.itemStyle;if(t)for(var e=0;e<Jf.length;e++){var i=Jf[e][1];null!=t[i]&&(t[Jf[e][0]]=t[i])}}function A1(n){n&&"edge"===n.alignTo&&null!=n.margin&&null==n.edgeDistance&&(n.edgeDistance=n.margin)}function D1(n){n&&n.downplay&&!n.blur&&(n.blur=n.downplay)}function k1(n,t){if(n)for(var e=0;e<n.length;e++)t(n[e]),n[e]&&k1(n[e].children,t)}function L1(n,t){(function(n,t){mi(ur(n.series),function(i){au(i)&&function(r){if(au(r)){Qf(r),su(r),Ct(r,"label"),Ct(r,"upperLabel"),Ct(r,"edgeLabel"),r.emphasis&&(Ct(r.emphasis,"label"),Ct(r.emphasis,"upperLabel"),Ct(r.emphasis,"edgeLabel"));var o=r.markPoint;o&&(Qf(o),jn(o));var a=r.markLine;a&&(Qf(a),jn(a));var s=r.markArea;s&&jn(s);var l=r.data;if("graph"===r.type){l=l||r.nodes;var u=r.links||r.edges;if(u&&!Qe(u))for(var h=0;h<u.length;h++)jn(u[h]);k(r.categories,function(d){su(d)})}if(l&&!Qe(l))for(h=0;h<l.length;h++)jn(l[h]);if((o=r.markPoint)&&o.data){var c=o.data;for(h=0;h<c.length;h++)jn(c[h])}if((a=r.markLine)&&a.data){var p=a.data;for(h=0;h<p.length;h++)Z(p[h])?(jn(p[h][0]),jn(p[h][1])):jn(p[h])}"gauge"===r.type?(Ct(r,"axisLabel"),Ct(r,"title"),Ct(r,"detail")):"treemap"===r.type?(en(r.breadcrumb,"itemStyle"),k(r.levels,function(d){su(d)})):"tree"===r.type&&su(r.leaves)}}(i)});var e=["xAxis","yAxis","radiusAxis","angleAxis","singleAxis","parallelAxis","radar"];t&&e.push("valueAxis","categoryAxis","logAxis","timeAxis"),mi(e,function(i){mi(ur(n[i]),function(r){r&&(Ct(r,"axisLabel"),Ct(r.axisPointer,"label"))})}),mi(ur(n.parallel),function(i){var r=i&&i.parallelAxisDefault;Ct(r,"axisLabel"),Ct(r&&r.axisPointer,"label")}),mi(ur(n.calendar),function(i){en(i,"itemStyle"),Ct(i,"dayLabel"),Ct(i,"monthLabel"),Ct(i,"yearLabel")}),mi(ur(n.radar),function(i){Ct(i,"name"),i.name&&null==i.axisName&&(i.axisName=i.name,delete i.name),null!=i.nameGap&&null==i.axisNameGap&&(i.axisNameGap=i.nameGap,delete i.nameGap)}),mi(ur(n.geo),function(i){au(i)&&(jn(i),mi(ur(i.regions),function(r){jn(r)}))}),mi(ur(n.timeline),function(i){jn(i),en(i,"label"),en(i,"itemStyle"),en(i,"controlStyle",!0);var r=i.data;Z(r)&&k(r,function(o){pe(o)&&(en(o,"label"),en(o,"itemStyle"))})}),mi(ur(n.toolbox),function(i){en(i,"iconStyle"),mi(i.feature,function(r){en(r,"iconStyle")})}),Ct(T1(n.axisPointer),"label"),Ct(T1(n.tooltip).axisPointer,"label")})(n,t),n.series=Je(n.series),k(n.series,function(e){if(pe(e)){var i=e.type;if("line"===i)null!=e.clipOverflow&&(e.clip=e.clipOverflow);else if("pie"===i||"gauge"===i){if(null!=e.clockWise&&(e.clockwise=e.clockWise),A1(e.label),(a=e.data)&&!Qe(a))for(var r=0;r<a.length;r++)A1(a[r]);null!=e.hoverOffset&&(e.emphasis=e.emphasis||{},(e.emphasis.scaleSize=null)&&(e.emphasis.scaleSize=e.hoverOffset))}else if("gauge"===i){var o=function(l,u){for(var h="pointer.color".split(","),c=l,p=0;p<h.length&&null!=(c=c&&c[h[p]]);p++);return c}(e);null!=o&&function(l,u,h,c){for(var p,d="itemStyle.color".split(","),f=l,g=0;g<d.length-1;g++)null==f[p=d[g]]&&(f[p]={}),f=f[p];null==f[d[g]]&&(f[d[g]]=h)}(e,0,o)}else if("bar"===i){var a;if(lu(e),lu(e.backgroundStyle),lu(e.emphasis),(a=e.data)&&!Qe(a))for(r=0;r<a.length;r++)"object"==typeof a[r]&&(lu(a[r]),lu(a[r]&&a[r].emphasis))}else if("sunburst"===i){var s=e.highlightPolicy;s&&(e.emphasis=e.emphasis||{},e.emphasis.focus||(e.emphasis.focus=s)),D1(e),k1(e.data,D1)}else"graph"===i||"sankey"===i?(l=e)&&null!=l.focusNodeAdjacency&&(l.emphasis=l.emphasis||{},null==l.emphasis.focus&&(l.emphasis.focus="adjacency")):"map"===i&&(e.mapType&&!e.map&&(e.map=e.mapType),e.mapLocation&&ce(e,e.mapLocation));null!=e.hoverAnimation&&(e.emphasis=e.emphasis||{},e.emphasis&&null==e.emphasis.scale&&(e.emphasis.scale=e.hoverAnimation)),C1(e)}var l}),n.dataRange&&(n.visualMap=n.dataRange),k(UD,function(e){var i=n[e];i&&(Z(i)||(i=[i]),k(i,function(r){C1(r)}))})}function XD(n){k(n,function(t,e){var i=[],r=[NaN,NaN],a=t.data,s=t.isStackedByIndex;a.modify([t.stackResultDimension,t.stackedOverDimension],function(l,u,h){var c,p,d=a.get(t.stackedDimension,h);if(isNaN(d))return r;s?p=a.getRawIndex(h):c=a.get(t.stackedByDimension,h);for(var f=NaN,g=e-1;g>=0;g--){var m=n[g];if(s||(p=m.data.rawIndexOf(m.stackedByDimension,c)),p>=0){var y=m.data.getByRawIndex(m.stackResultDimension,p);if(d>=0&&y>0||d<=0&&y<0){d=dA(d,y),f=y;break}}}return i[0]=d,i[1]=f,i})})}var ys,vs,_s,P1,O1,Lc=function(n){this.data=n.data||(n.sourceFormat===fs?{}:[]),this.sourceFormat=n.sourceFormat||p1,this.seriesLayoutBy=n.seriesLayoutBy||na,this.startIndex=n.startIndex||0,this.dimensionsDetectedCount=n.dimensionsDetectedCount,this.metaRawOption=n.metaRawOption;var t=this.dimensionsDefine=n.dimensionsDefine;if(t)for(var e=0;e<t.length;e++){var i=t[e];null==i.type&&1===m1(this,e)&&(i.type="ordinal")}};function eg(n){return n instanceof Lc}function tg(n,t,e){e=e||E1(n);var i=t.seriesLayoutBy,r=function(o,a,s,l,u){var h,c;if(!o)return{dimensionsDefine:N1(u),startIndex:c,dimensionsDetectedCount:h};if(a===lr){var p=o;"auto"===l||null==l?R1(function(f){null!=f&&"-"!==f&&(Ce(f)?null==c&&(c=1):c=0)},s,p,10):c=Si(l)?l:l?1:0,u||1!==c||(u=[],R1(function(f,g){u[g]=null!=f?f+"":""},s,p,1/0)),h=u?u.length:"row"===s?p.length:p[0]?p[0].length:null}else if(a===Zr)u||(u=function(f){for(var g,m=0;m<f.length&&!(g=f[m++]););if(g){var y=[];return k(g,function(v,_){y.push(_)}),y}}(o));else if(a===fs)u||(u=[],k(o,function(f,g){u.push(g)}));else if(a===Yr){var d=qa(o[0]);h=Z(d)&&d.length||1}return{startIndex:c,dimensionsDefine:N1(u),dimensionsDetectedCount:h}}(n,e,i,t.sourceHeader,t.dimensions);return new Lc({data:n,sourceFormat:e,seriesLayoutBy:i,dimensionsDefine:r.dimensionsDefine,startIndex:r.startIndex,dimensionsDetectedCount:r.dimensionsDetectedCount,metaRawOption:de(t)})}function ng(n){return new Lc({data:n,sourceFormat:Qe(n)?gs:Yr})}function E1(n){var t=p1;if(Qe(n))t=gs;else if(Z(n)){0===n.length&&(t=lr);for(var e=0,i=n.length;e<i;e++){var r=n[e];if(null!=r){if(Z(r)){t=lr;break}if(pe(r)){t=Zr;break}}}}else if(pe(n))for(var o in n)if(se(n,o)&&Ft(n[o])){t=fs;break}return t}function N1(n){if(n){var t=ue();return J(n,function(e,i){var r={name:(e=pe(e)?e:{name:e}).name,displayName:e.displayName,type:e.type};if(null==r.name)return r;r.name+="",null==r.displayName&&(r.displayName=r.name);var o=t.get(r.name);return o?r.name+="-"+o.count++:t.set(r.name,{count:1}),r})}}function R1(n,t,e,i){if("row"===t)for(var r=0;r<e.length&&r<i;r++)n(e[r]?e[r][0]:null,r);else{var o=e[0]||[];for(r=0;r<o.length&&r<i;r++)n(o[r],r)}}function z1(n){var t=n.sourceFormat;return t===Zr||t===fs}var B1=function(){function n(t,e){var i=eg(t)?t:ng(t);this._source=i;var r=this._data=i.data;i.sourceFormat===gs&&(this._offset=0,this._dimSize=e,this._data=r),O1(this,r,i)}return n.prototype.getSource=function(){return this._source},n.prototype.count=function(){return 0},n.prototype.getItem=function(t,e){},n.prototype.appendData=function(t){},n.prototype.clean=function(){},n.protoInitialize=function(){var t=n.prototype;t.pure=!1,t.persistent=!0}(),n.internalField=function(){var t;O1=function(a,s,l){var u=l.sourceFormat,h=l.seriesLayoutBy,c=l.startIndex,p=l.dimensionsDefine;if(K(a,P1[rg(u,h)]),u===gs)a.getItem=e,a.count=r,a.fillStorage=i;else{var f=G1(u,h);a.getItem=re(f,null,s,c,p);var g=H1(u,h);a.count=re(g,null,s,c,p)}};var e=function(a,s){s=s||[];for(var l=this._data,u=this._dimSize,h=u*(a-=this._offset),c=0;c<u;c++)s[c]=l[h+c];return s},i=function(a,s,l,u){for(var h=this._data,c=this._dimSize,p=0;p<c;p++){for(var d=u[p],f=null==d[0]?1/0:d[0],g=null==d[1]?-1/0:d[1],m=s-a,y=l[p],v=0;v<m;v++){var _=h[v*c+p];y[a+v]=_,_<f&&(f=_),_>g&&(g=_)}d[0]=f,d[1]=g}},r=function(){return this._data?this._data.length/this._dimSize:0};function o(a){for(var s=0;s<a.length;s++)this._data.push(a[s])}(t={}).arrayRows_column={pure:!0,appendData:o},t.arrayRows_row={pure:!0,appendData:function(){throw new Error('Do not support appendData when set seriesLayoutBy: "row".')}},t.objectRows={pure:!0,appendData:o},t.keyedColumns={pure:!0,appendData:function(a){var s=this._data;k(a,function(l,u){for(var h=s[u]||(s[u]=[]),c=0;c<(l||[]).length;c++)h.push(l[c])})}},t.original={appendData:o},t.typedArray={persistent:!1,pure:!0,appendData:function(a){this._data=a},clean:function(){this._offset+=this.count(),this._data=null}},P1=t}(),n}(),V1=function(n,t,e,i){return n[i]},YD=((ys={}).arrayRows_column=function(n,t,e,i){return n[i+t]},ys.arrayRows_row=function(n,t,e,i,r){i+=t;for(var o=r||[],a=n,s=0;s<a.length;s++){var l=a[s];o[s]=l?l[i]:null}return o},ys.objectRows=V1,ys.keyedColumns=function(n,t,e,i,r){for(var o=r||[],a=0;a<e.length;a++){var l=n[e[a].name];o[a]=l?l[i]:null}return o},ys.original=V1,ys);function G1(n,t){return YD[rg(n,t)]}var F1=function(n,t,e){return n.length},ZD=((vs={}).arrayRows_column=function(n,t,e){return Math.max(0,n.length-t)},vs.arrayRows_row=function(n,t,e){var i=n[0];return i?Math.max(0,i.length-t):0},vs.objectRows=F1,vs.keyedColumns=function(n,t,e){var r=n[e[0].name];return r?r.length:0},vs.original=F1,vs);function H1(n,t){return ZD[rg(n,t)]}var ig=function(n,t,e){return n[t]},jD=((_s={}).arrayRows=ig,_s.objectRows=function(n,t,e){return n[e]},_s.keyedColumns=ig,_s.original=function(n,t,e){var i=qa(n);return i instanceof Array?i[t]:i},_s.typedArray=ig,_s);function W1(n){return jD[n]}function rg(n,t){return n===lr?n+"_"+t:n}function xs(n,t,e){if(n){var i=n.getRawDataItem(t);if(null!=i){var r=n.getStore(),o=r.getSource().sourceFormat;if(null!=e){var a=n.getDimensionIndex(e),s=r.getDimensionProperty(a);return W1(o)(i,a,s)}var l=i;return o===Yr&&(l=qa(i)),l}}}var qD=/\{@(.+?)\}/g,og=function(){function n(){}return n.prototype.getDataParams=function(t,e){var i=this.getData(e),r=this.getRawValue(t,e),o=i.getRawIndex(t),a=i.getName(t),s=i.getRawDataItem(t),l=i.getItemVisual(t,"style"),u=l&&l[i.getItemVisual(t,"drawType")||"fill"],h=l&&l.stroke,c=this.mainType,p="series"===c,d=i.userOutput&&i.userOutput.get();return{componentType:c,componentSubType:this.subType,componentIndex:this.componentIndex,seriesType:p?this.subType:null,seriesIndex:this.seriesIndex,seriesId:p?this.id:null,seriesName:p?this.name:null,name:a,dataIndex:o,data:s,dataType:e,value:r,color:u,borderColor:h,dimensionNames:d?d.fullDimensions:null,encode:d?d.encode:null,$vars:["seriesName","name","value"]}},n.prototype.getFormattedLabel=function(t,e,i,r,o,a){e=e||"normal";var s=this.getData(i),l=this.getDataParams(t,i);return a&&(l.value=a.interpolatedValue),null!=r&&Z(l.value)&&(l.value=l.value[r]),o||(o=s.getItemModel(t).get("normal"===e?["label","formatter"]:[e,"label","formatter"])),"function"==typeof o?(l.status=e,l.dimensionIndex=r,o(l)):"string"==typeof o?Hf(o,l).replace(qD,function(u,h){var c=h.length,p=h;"["===p.charAt(0)&&"]"===p.charAt(c-1)&&(p=+p.slice(1,c-1));var d=xs(s,t,p);if(a&&Z(a.interpolatedValue)){var f=s.getDimensionIndex(p);f>=0&&(d=a.interpolatedValue[f])}return null!=d?d+"":""}):void 0},n.prototype.getRawValue=function(t,e){return xs(this.getData(e),t)},n.prototype.formatTooltip=function(t,e,i){},n}();function U1(n){var t,e;return pe(n)?n.type&&(e=n):t=n,{markupText:t,markupFragment:e}}function uu(n){return new KD(n)}var KD=function(){function n(t){this._reset=(t=t||{}).reset,this._plan=t.plan,this._count=t.count,this._onDirty=t.onDirty,this._dirty=!0}return n.prototype.perform=function(t){var e,i=this._upstream,r=t&&t.skip;if(this._dirty&&i){var o=this.context;o.data=o.outputData=i.context.outputData}this.__pipeline&&(this.__pipeline.currentTask=this),this._plan&&!r&&(e=this._plan(this.context));var a,s=c(this._modBy),l=this._modDataCount||0,u=c(t&&t.modBy),h=t&&t.modDataCount||0;function c(v){return!(v>=1)&&(v=1),v}s===u&&l===h||(e="reset"),(this._dirty||"reset"===e)&&(this._dirty=!1,a=this._doReset(r)),this._modBy=u,this._modDataCount=h;var p=t&&t.step;if(this._dueEnd=i?i._outputDueEnd:this._count?this._count(this.context):1/0,this._progress){var d=this._dueIndex,f=Math.min(null!=p?this._dueIndex+p:1/0,this._dueEnd);if(!r&&(a||d<f)){var g=this._progress;if(Z(g))for(var m=0;m<g.length;m++)this._doProgress(g[m],d,f,u,h);else this._doProgress(g,d,f,u,h)}this._dueIndex=f,this._outputDueEnd=null!=this._settedOutputEnd?this._settedOutputEnd:f}else this._dueIndex=this._outputDueEnd=null!=this._settedOutputEnd?this._settedOutputEnd:this._dueEnd;return this.unfinished()},n.prototype.dirty=function(){this._dirty=!0,this._onDirty&&this._onDirty(this.context)},n.prototype._doProgress=function(t,e,i,r,o){X1.reset(e,i,r,o),this._callingProgress=t,this._callingProgress({start:e,end:i,count:i-e,next:X1.next},this.context)},n.prototype._doReset=function(t){var e,i;this._dueIndex=this._outputDueEnd=this._dueEnd=0,this._settedOutputEnd=null,!t&&this._reset&&((e=this._reset(this.context))&&e.progress&&(i=e.forceFirstProgress,e=e.progress),Z(e)&&!e.length&&(e=null)),this._progress=e,this._modBy=this._modDataCount=null;var r=this._downstream;return r&&r.dirty(),i},n.prototype.unfinished=function(){return this._progress&&this._dueIndex<this._dueEnd},n.prototype.pipe=function(t){(this._downstream!==t||this._dirty)&&(this._downstream=t,t._upstream=this,t.dirty())},n.prototype.dispose=function(){this._disposed||(this._upstream&&(this._upstream._downstream=null),this._downstream&&(this._downstream._upstream=null),this._dirty=!1,this._disposed=!0)},n.prototype.getUpstream=function(){return this._upstream},n.prototype.getDownstream=function(){return this._downstream},n.prototype.setOutputEnd=function(t){this._outputDueEnd=this._settedOutputEnd=t},n}(),X1=function(){var n,t,e,i,r,o={reset:function(l,u,h,c){t=l,n=u,e=h,i=c,r=Math.ceil(i/e),o.next=e>1&&i>0?s:a}};return o;function a(){return t<n?t++:null}function s(){var l=t%r*e+Math.ceil(t/r),u=t>=n?null:l<i?l:t;return t++,u}}();function jr(n,t){var e=t&&t.type;return"ordinal"===e?n:("time"===e&&"number"!=typeof n&&null!=n&&"-"!==n&&(n=+En(n)),null==n||""===n?NaN:+n)}var $D=ue({number:function(n){return parseFloat(n)},time:function(n){return+En(n)},trim:function(n){return"string"==typeof n?Dn(n):n}});function Y1(n){return $D.get(n)}var Z1={lt:function(n,t){return n<t},lte:function(n,t){return n<=t},gt:function(n,t){return n>t},gte:function(n,t){return n>=t}},QD=function(){function n(t,e){"number"!=typeof e&&Xe(""),this._opFn=Z1[t],this._rvalFloat=Li(e)}return n.prototype.evaluate=function(t){return this._opFn("number"==typeof t?t:Li(t),this._rvalFloat)},n}(),j1=function(){function n(t,e){var i="desc"===t;this._resultLT=i?1:-1,null==e&&(e=i?"min":"max"),this._incomparable="min"===e?-1/0:1/0}return n.prototype.evaluate=function(t,e){var i=typeof t,r=typeof e,o="number"===i?t:Li(t),a="number"===r?e:Li(e),s=isNaN(o),l=isNaN(a);if(s&&(o=this._incomparable),l&&(a=this._incomparable),s&&l){var u="string"===i,h="string"===r;u&&(o=h?t:0),h&&(a=u?e:0)}return o<a?this._resultLT:o>a?-this._resultLT:0},n}(),JD=function(){function n(t,e){this._rval=e,this._isEQ=t,this._rvalTypeof=typeof e,this._rvalFloat=Li(e)}return n.prototype.evaluate=function(t){var e=t===this._rval;if(!e){var i=typeof t;i===this._rvalTypeof||"number"!==i&&"number"!==this._rvalTypeof||(e=Li(t)===this._rvalFloat)}return this._isEQ?e:!e},n}();function ek(n,t){return"eq"===n||"ne"===n?new JD("eq"===n,t):se(Z1,n)?new QD(n,t):null}var tk=function(){function n(){}return n.prototype.getRawData=function(){throw new Error("not supported")},n.prototype.getRawDataItem=function(t){throw new Error("not supported")},n.prototype.cloneRawData=function(){},n.prototype.getDimensionInfo=function(t){},n.prototype.cloneAllDimensionInfo=function(){},n.prototype.count=function(){},n.prototype.retrieveValue=function(t,e){},n.prototype.retrieveValueFromItem=function(t,e){},n.prototype.convertValue=function(t,e){return jr(t,e)},n}();function nk(n){return ag(n.sourceFormat)||Xe(""),n.data}function ik(n){var t=n.sourceFormat,e=n.data;if(ag(t)||Xe(""),t===lr){for(var r=[],o=0,a=e.length;o<a;o++)r.push(e[o].slice());return r}if(t===Zr){for(r=[],o=0,a=e.length;o<a;o++)r.push(K({},e[o]));return r}}function rk(n,t,e){if(null!=e)return"number"==typeof e||!isNaN(e)&&!se(t,e)?n[e]:se(t,e)?t[e]:void 0}function ok(n){return de(n)}var q1=ue();function ak(n,t,e,i){t.length||Xe(""),pe(n)||Xe("");var a=q1.get(n.type);a||Xe("");var s=J(t,function(u){return function(h,c){var p=new tk,d=h.data,f=p.sourceFormat=h.sourceFormat,g=h.startIndex;h.seriesLayoutBy!==na&&Xe("");var y=[],v={},_=h.dimensionsDefine;if(_)k(_,function(T,C){var A=T.name,D={index:C,name:A,displayName:T.displayName};y.push(D),null!=A&&(se(v,A)&&Xe(""),v[A]=D)});else for(var x=0;x<h.dimensionsDetectedCount;x++)y.push({index:x});var b=G1(f,na);c.__isBuiltIn&&(p.getRawDataItem=function(T){return b(d,g,y,T)},p.getRawData=re(nk,null,h)),p.cloneRawData=re(ik,null,h);var w=H1(f,na);p.count=re(w,null,d,g,y);var S=W1(f);p.retrieveValue=function(T,C){var A=b(d,g,y,T);return M(A,C)};var M=p.retrieveValueFromItem=function(T,C){if(null!=T){var A=y[C];return A?S(T,C,A.name):void 0}};return p.getDimensionInfo=re(rk,null,y,v),p.cloneAllDimensionInfo=re(ok,null,y),p}(u,a)});return J(Je(a.transform({upstream:s[0],upstreamList:s,config:de(n.config)})),function(u,h){var c;pe(u)||Xe(""),u.data||Xe(""),ag(E1(u.data))||Xe("");var d=t[0];if(d&&0===h&&!u.dimensions){var f=d.startIndex;f&&(u.data=d.data.slice(0,f).concat(u.data)),c={seriesLayoutBy:na,sourceHeader:f,dimensions:d.metaRawOption.dimensions}}else c={seriesLayoutBy:na,sourceHeader:0,dimensions:u.dimensions};return tg(u.data,c,null)})}function ag(n){return n===lr||n===Zr}var sg,Pc="undefined",sk=typeof Uint32Array===Pc?Array:Uint32Array,lk=typeof Uint16Array===Pc?Array:Uint16Array,K1=typeof Int32Array===Pc?Array:Int32Array,$1=typeof Float64Array===Pc?Array:Float64Array,Q1={float:$1,int:K1,ordinal:Array,number:Array,time:$1};function hu(n){return n>65535?sk:lk}function J1(n,t,e,i,r){var o=Q1[e||"float"];if(r){var a=n[t],s=a&&a.length;if(s!==i){for(var l=new o(i),u=0;u<s;u++)l[u]=a[u];n[t]=l}}else n[t]=new o(i)}var lg=function(){function n(){this._chunks=[],this._rawExtent=[],this._extent=[],this._count=0,this._rawCount=0,this._calcDimNameToIdx=ue()}return n.prototype.initData=function(t,e,i){this._provider=t,this._chunks=[],this._indices=null,this.getRawIndex=this._getRawIdxIdentity;var r=t.getSource(),o=this.defaultDimValueGetter=sg[r.sourceFormat];this._dimValueGetter=i||o,this._rawExtent=[],z1(r),this._dimensions=J(e,function(a){return{type:a.type,property:a.property}}),this._initDataFromProvider(0,t.count())},n.prototype.getProvider=function(){return this._provider},n.prototype.getSource=function(){return this._provider.getSource()},n.prototype.ensureCalculationDimension=function(t,e){var i=this._calcDimNameToIdx,r=this._dimensions,o=i.get(t);if(null!=o){if(r[o].type===e)return o}else o=r.length;return r[o]={type:e},i.set(t,o),this._chunks[o]=new Q1[e||"float"](this._rawCount),this._rawExtent[o]=[1/0,-1/0],o},n.prototype.collectOrdinalMeta=function(t,e){var i=this._chunks[t],r=this._dimensions[t],o=this._rawExtent,a=r.ordinalOffset||0,s=i.length;0===a&&(o[t]=[1/0,-1/0]);for(var l=o[t],u=a;u<s;u++){var h=i[u]=e.parseAndCollect(i[u]);l[0]=Math.min(h,l[0]),l[1]=Math.max(h,l[1])}r.ordinalMeta=e,r.ordinalOffset=s,r.type="ordinal"},n.prototype.getOrdinalMeta=function(t){return this._dimensions[t].ordinalMeta},n.prototype.getDimensionProperty=function(t){var e=this._dimensions[t];return e&&e.property},n.prototype.appendData=function(t){var e=this._provider,i=this.count();e.appendData(t);var r=e.count();return e.persistent||(r+=i),i<r&&this._initDataFromProvider(i,r,!0),[i,r]},n.prototype.appendValues=function(t,e){for(var i=this._chunks,r=this._dimensions,o=r.length,a=this._rawExtent,s=this.count(),l=s+Math.max(t.length,e||0),u=0;u<o;u++)J1(i,u,(f=r[u]).type,l,!0);for(var h=[],c=s;c<l;c++)for(var p=c-s,d=0;d<o;d++){var f=r[d],g=sg.arrayRows.call(this,t[p]||h,f.property,p,d);i[d][c]=g;var m=a[d];g<m[0]&&(m[0]=g),g>m[1]&&(m[1]=g)}return this._rawCount=this._count=l,{start:s,end:l}},n.prototype._initDataFromProvider=function(t,e,i){for(var r=this._provider,o=this._chunks,a=this._dimensions,s=a.length,l=this._rawExtent,u=J(a,function(v){return v.property}),h=0;h<s;h++){var c=a[h];l[h]||(l[h]=[1/0,-1/0]),J1(o,h,c.type,e,i)}if(r.fillStorage)r.fillStorage(t,e,o,l);else for(var p=[],d=t;d<e;d++){p=r.getItem(d,p);for(var f=0;f<s;f++){var g=o[f],m=this._dimValueGetter(p,u[f],d,f);g[d]=m;var y=l[f];m<y[0]&&(y[0]=m),m>y[1]&&(y[1]=m)}}!r.persistent&&r.clean&&r.clean(),this._rawCount=this._count=e,this._extent=[]},n.prototype.count=function(){return this._count},n.prototype.get=function(t,e){if(!(e>=0&&e<this._count))return NaN;var i=this._chunks[t];return i?i[this.getRawIndex(e)]:NaN},n.prototype.getValues=function(t,e){var i=[],r=[];if(null==e){e=t,t=[];for(var o=0;o<this._dimensions.length;o++)r.push(o)}else r=t;o=0;for(var a=r.length;o<a;o++)i.push(this.get(r[o],e));return i},n.prototype.getByRawIndex=function(t,e){if(!(e>=0&&e<this._rawCount))return NaN;var i=this._chunks[t];return i?i[e]:NaN},n.prototype.getSum=function(t){var e=0;if(this._chunks[t])for(var i=0,r=this.count();i<r;i++){var o=this.get(t,i);isNaN(o)||(e+=o)}return e},n.prototype.getMedian=function(t){var e=[];this.each([t],function(o){isNaN(o)||e.push(o)});var i=e.sort(function(o,a){return o-a}),r=this.count();return 0===r?0:r%2==1?i[(r-1)/2]:(i[r/2]+i[r/2-1])/2},n.prototype.indexOfRawIndex=function(t){if(t>=this._rawCount||t<0)return-1;if(!this._indices)return t;var e=this._indices,i=e[t];if(null!=i&&i<this._count&&i===t)return t;for(var r=0,o=this._count-1;r<=o;){var a=(r+o)/2|0;if(e[a]<t)r=a+1;else{if(!(e[a]>t))return a;o=a-1}}return-1},n.prototype.indicesOfNearest=function(t,e,i){var r=this._chunks[t],o=[];if(!r)return o;null==i&&(i=1/0);for(var a=1/0,s=-1,l=0,u=0,h=this.count();u<h;u++){var c=e-r[this.getRawIndex(u)],p=Math.abs(c);p<=i&&((p<a||p===a&&c>=0&&s<0)&&(a=p,s=c,l=0),c===s&&(o[l++]=u))}return o.length=l,o},n.prototype.getIndices=function(){var t,e=this._indices;if(e){var i=e.constructor,r=this._count;if(i===Array){t=new i(r);for(var o=0;o<r;o++)t[o]=e[o]}else t=new i(e.buffer,0,r)}else for(t=new(i=hu(this._rawCount))(this.count()),o=0;o<t.length;o++)t[o]=o;return t},n.prototype.filter=function(t,e){if(!this._count)return this;for(var i=this.clone(),r=i.count(),o=new(hu(i._rawCount))(r),a=[],s=t.length,l=0,u=t[0],h=i._chunks,c=0;c<r;c++){var p=void 0,d=i.getRawIndex(c);if(0===s)p=e(c);else if(1===s)p=e(h[u][d],c);else{for(var f=0;f<s;f++)a[f]=h[t[f]][d];a[f]=c,p=e.apply(null,a)}p&&(o[l++]=d)}return l<r&&(i._indices=o),i._count=l,i._extent=[],i._updateGetRawIdx(),i},n.prototype.selectRange=function(t){var e=this.clone(),i=e._count;if(!i)return this;var r=q(t),o=r.length;if(!o)return this;var a=e.count(),s=new(hu(e._rawCount))(a),l=0,u=r[0],h=t[u][0],c=t[u][1],p=e._chunks,d=!1;if(!e._indices){var f=0;if(1===o){for(var g=p[r[0]],m=0;m<i;m++)((x=g[m])>=h&&x<=c||isNaN(x))&&(s[l++]=f),f++;d=!0}else if(2===o){g=p[r[0]];var y=p[r[1]],v=t[r[1]][0],_=t[r[1]][1];for(m=0;m<i;m++){var x=g[m],b=y[m];(x>=h&&x<=c||isNaN(x))&&(b>=v&&b<=_||isNaN(b))&&(s[l++]=f),f++}d=!0}}if(!d)if(1===o)for(m=0;m<a;m++){var w=e.getRawIndex(m);((x=p[r[0]][w])>=h&&x<=c||isNaN(x))&&(s[l++]=w)}else for(m=0;m<a;m++){for(var S=!0,M=(w=e.getRawIndex(m),0);M<o;M++){var T=r[M];((x=p[T][w])<t[T][0]||x>t[T][1])&&(S=!1)}S&&(s[l++]=e.getRawIndex(m))}return l<a&&(e._indices=s),e._count=l,e._extent=[],e._updateGetRawIdx(),e},n.prototype.map=function(t,e){var i=this.clone(t);return this._updateDims(i,t,e),i},n.prototype.modify=function(t,e){this._updateDims(this,t,e)},n.prototype._updateDims=function(t,e,i){for(var r=t._chunks,o=[],a=e.length,s=t.count(),l=[],u=t._rawExtent,h=0;h<e.length;h++)u[e[h]]=[1/0,-1/0];for(var c=0;c<s;c++){for(var p=t.getRawIndex(c),d=0;d<a;d++)l[d]=r[e[d]][p];l[a]=c;var f=i&&i.apply(null,l);if(null!=f)for("object"!=typeof f&&(o[0]=f,f=o),h=0;h<f.length;h++){var g=e[h],m=f[h],y=u[g],v=r[g];v&&(v[p]=m),m<y[0]&&(y[0]=m),m>y[1]&&(y[1]=m)}}},n.prototype.lttbDownSample=function(t,e){var i,r,o,a=this.clone([t],!0),s=a._chunks[t],l=this.count(),u=0,h=Math.floor(1/e),c=this.getRawIndex(0),p=new(hu(this._rawCount))(Math.ceil(l/h)+2);p[u++]=c;for(var d=1;d<l-1;d+=h){for(var f=Math.min(d+h,l-1),g=Math.min(d+2*h,l),m=(g+f)/2,y=0,v=f;v<g;v++){var _=s[M=this.getRawIndex(v)];isNaN(_)||(y+=_)}y/=g-f;var x=d,b=Math.min(d+h,l),w=d-1,S=s[c];for(i=-1,o=x,v=x;v<b;v++){var M;_=s[M=this.getRawIndex(v)],isNaN(_)||(r=Math.abs((w-m)*(_-S)-(w-v)*(y-S)))>i&&(i=r,o=M)}p[u++]=o,c=o}return p[u++]=this.getRawIndex(l-1),a._count=u,a._indices=p,a.getRawIndex=this._getRawIdx,a},n.prototype.downSample=function(t,e,i,r){for(var o=this.clone([t],!0),a=o._chunks,s=[],l=Math.floor(1/e),u=a[t],h=this.count(),c=o._rawExtent[t]=[1/0,-1/0],p=new(hu(this._rawCount))(Math.ceil(h/l)),d=0,f=0;f<h;f+=l){l>h-f&&(s.length=l=h-f);for(var g=0;g<l;g++){var m=this.getRawIndex(f+g);s[g]=u[m]}var y=i(s),v=this.getRawIndex(Math.min(f+r(s,y)||0,h-1));u[v]=y,y<c[0]&&(c[0]=y),y>c[1]&&(c[1]=y),p[d++]=v}return o._count=d,o._indices=p,o._updateGetRawIdx(),o},n.prototype.each=function(t,e){if(this._count)for(var i=t.length,r=this._chunks,o=0,a=this.count();o<a;o++){var s=this.getRawIndex(o);switch(i){case 0:e(o);break;case 1:e(r[t[0]][s],o);break;case 2:e(r[t[0]][s],r[t[1]][s],o);break;default:for(var l=0,u=[];l<i;l++)u[l]=r[t[l]][s];u[l]=o,e.apply(null,u)}}},n.prototype.getDataExtent=function(t){var e=this._chunks[t],i=[1/0,-1/0];if(!e)return i;var r,o=this.count();if(!this._indices)return this._rawExtent[t].slice();if(r=this._extent[t])return r.slice();for(var a=(r=i)[0],s=r[1],l=0;l<o;l++){var u=e[this.getRawIndex(l)];u<a&&(a=u),u>s&&(s=u)}return this._extent[t]=r=[a,s],r},n.prototype.getRawDataItem=function(t){var e=this.getRawIndex(t);if(this._provider.persistent)return this._provider.getItem(e);for(var i=[],r=this._chunks,o=0;o<r.length;o++)i.push(r[o][e]);return i},n.prototype.clone=function(t,e){var i,r,o=new n,a=this._chunks,s=t&&ii(t,function(u,h){return u[h]=!0,u},{});if(s)for(var l=0;l<a.length;l++)o._chunks[l]=s[l]?(r=void 0,(r=(i=a[l]).constructor)===Array?i.slice():new r(i)):a[l];else o._chunks=a;return this._copyCommonProps(o),e||(o._indices=this._cloneIndices()),o._updateGetRawIdx(),o},n.prototype._copyCommonProps=function(t){t._count=this._count,t._rawCount=this._rawCount,t._provider=this._provider,t._dimensions=this._dimensions,t._extent=de(this._extent),t._rawExtent=de(this._rawExtent)},n.prototype._cloneIndices=function(){if(this._indices){var t=this._indices.constructor,e=void 0;if(t===Array){var i=this._indices.length;e=new t(i);for(var r=0;r<i;r++)e[r]=this._indices[r]}else e=new t(this._indices);return e}return null},n.prototype._getRawIdxIdentity=function(t){return t},n.prototype._getRawIdx=function(t){return t<this._count&&t>=0?this._indices[t]:-1},n.prototype._updateGetRawIdx=function(){this.getRawIndex=this._indices?this._getRawIdx:this._getRawIdxIdentity},n.internalField=function(){function t(e,i,r,o){return jr(e[o],this._dimensions[o])}sg={arrayRows:t,objectRows:function(e,i,r,o){return jr(e[i],this._dimensions[o])},keyedColumns:t,original:function(e,i,r,o){var a=e&&(null==e.value?e:e.value);return jr(a instanceof Array?a[o]:a,this._dimensions[o])},typedArray:function(e,i,r,o){return e[o]}}}(),n}(),ex=function(){function n(t){this._sourceList=[],this._storeList=[],this._upstreamSignList=[],this._versionSignBase=0,this._dirty=!0,this._sourceHost=t}return n.prototype.dirty=function(){this._setLocalSource([],[]),this._storeList=[],this._dirty=!0},n.prototype._setLocalSource=function(t,e){this._sourceList=t,this._upstreamSignList=e,this._versionSignBase++,this._versionSignBase>9e10&&(this._versionSignBase=0)},n.prototype._getVersionSign=function(){return this._sourceHost.uid+"_"+this._versionSignBase},n.prototype.prepareSource=function(){this._isDirty()&&(this._createSource(),this._dirty=!1)},n.prototype._createSource=function(){this._setLocalSource([],[]);var t,e,i=this._sourceHost,r=this._getUpstreamSourceManagers(),o=!!r.length;if(Oc(i)){var a=i,s=void 0,l=void 0,u=void 0;if(o){var h=r[0];h.prepareSource(),s=(u=h.getSource()).data,l=u.sourceFormat,e=[h._getVersionSign()]}else l=Qe(s=a.get("data",!0))?gs:Yr,e=[];var c=this._getSourceMetaRawOption()||{},p=u&&u.metaRawOption||{},d=Te(c.seriesLayoutBy,p.seriesLayoutBy)||null,f=Te(c.sourceHeader,p.sourceHeader)||null,g=Te(c.dimensions,p.dimensions);t=d!==p.seriesLayoutBy||!!f!=!!p.sourceHeader||g?[tg(s,{seriesLayoutBy:d,sourceHeader:f,dimensions:g},l)]:[]}else{var m=i;if(o){var y=this._applyTransform(r);t=y.sourceList,e=y.upstreamSignList}else t=[tg(m.get("source",!0),this._getSourceMetaRawOption(),null)],e=[]}this._setLocalSource(t,e)},n.prototype._applyTransform=function(t){var e,i=this._sourceHost,r=i.get("transform",!0),o=i.get("fromTransformResult",!0);null!=o&&1!==t.length&&nx("");var s,l=[],u=[];return k(t,function(h){h.prepareSource();var c=h.getSource(o||0);null==o||c||nx(""),l.push(c),u.push(h._getVersionSign())}),r?e=function(h,c,p){var d=Je(h),f=d.length;f||Xe("");for(var m=0,y=f;m<y;m++)c=ak(d[m],c),m!==y-1&&(c.length=Math.max(c.length,1));return c}(r,l):null!=o&&(e=[(s=l[0],new Lc({data:s.data,sourceFormat:s.sourceFormat,seriesLayoutBy:s.seriesLayoutBy,dimensionsDefine:de(s.dimensionsDefine),startIndex:s.startIndex,dimensionsDetectedCount:s.dimensionsDetectedCount}))]),{sourceList:e,upstreamSignList:u}},n.prototype._isDirty=function(){if(this._dirty)return!0;for(var t=this._getUpstreamSourceManagers(),e=0;e<t.length;e++){var i=t[e];if(i._isDirty()||this._upstreamSignList[e]!==i._getVersionSign())return!0}},n.prototype.getSource=function(t){var e=this._sourceList[t=t||0];if(!e){var i=this._getUpstreamSourceManagers();return i[0]&&i[0].getSource(t)}return e},n.prototype.getSharedDataStore=function(t){var e=t.makeStoreSchema();return this._innerGetDataStore(e.dimensions,t.source,e.hash)},n.prototype._innerGetDataStore=function(t,e,i){var r=this._storeList,o=r[0];o||(o=r[0]={});var a=o[i];if(!a){var s=this._getUpstreamSourceManagers()[0];Oc(this._sourceHost)&&s?a=s._innerGetDataStore(t,e,i):(a=new lg).initData(new B1(e,t.length),t),o[i]=a}return a},n.prototype._getUpstreamSourceManagers=function(){var i,t=this._sourceHost;if(Oc(t)){var e=Yf(t);return e?[e.getSourceManager()]:[]}return J((i=t).get("transform",!0)||i.get("fromTransformResult",!0)?El(i.ecModel,"dataset",{index:i.get("fromDatasetIndex",!0),id:i.get("fromDatasetId",!0)},Mt).models:[],function(i){return i.getSourceManager()})},n.prototype._getSourceMetaRawOption=function(){var t,e,i,r=this._sourceHost;if(Oc(r))t=r.get("seriesLayoutBy",!0),e=r.get("sourceHeader",!0),i=r.get("dimensions",!0);else if(!this._getUpstreamSourceManagers().length){var o=r;t=o.get("seriesLayoutBy",!0),e=o.get("sourceHeader",!0),i=o.get("dimensions",!0)}return{seriesLayoutBy:t,sourceHeader:e,dimensions:i}},n}();function tx(n){n.option.transform&&xr(n.option.transform)}function Oc(n){return"series"===n.mainType}function nx(n){throw new Error(n)}function ix(n,t){var e=n.color||"#6e7079",i=n.fontSize||12,r=n.fontWeight||"400",o=n.color||"#464646",a=n.fontSize||14,s=n.fontWeight||"900";return"html"===t?{nameStyle:"font-size:"+In(i+"")+"px;color:"+In(e)+";font-weight:"+In(r+""),valueStyle:"font-size:"+In(a+"")+"px;color:"+In(o)+";font-weight:"+In(s+"")}:{nameStyle:{fontSize:i,fill:e,fontWeight:r},valueStyle:{fontSize:a,fill:o,fontWeight:s}}}var uk=[0,10,20,30],hk=["","\n","\n\n","\n\n\n"];function Bt(n,t){return t.type=n,t}function ug(n){return se(rx,n.type)&&rx[n.type]}var rx={section:{planLayout:function(n){var t=n.blocks.length,e=t>1||t>0&&!n.noHeader,i=0;k(n.blocks,function(r){ug(r).planLayout(r);var o=r.__gapLevelBetweenSubBlocks;o>=i&&(i=o+(!e||o&&("section"!==r.type||r.noHeader)?0:1))}),n.__gapLevelBetweenSubBlocks=i},build:function(n,t,e,i){var r=t.noHeader,o=ax(t),a=function(u,h,c,p){var d=[],f=h.blocks||[];vt(!f||Z(f)),f=f||[];var g=u.orderMode;if(h.sortBlocks&&g){f=f.slice();var m={valueAsc:"asc",valueDesc:"desc"};if(se(m,g)){var y=new j1(m[g],null);f.sort(function(_,x){return y.evaluate(_.sortParam,x.sortParam)})}else"seriesDesc"===g&&f.reverse()}var v=ax(h);if(k(f,function(_,x){var b=ug(_).build(u,_,x>0?v.html:0,p);null!=b&&d.push(b)}),d.length)return"richText"===u.renderMode?d.join(v.richText):hg(d.join(""),c)}(n,t,r?e:o.html,i);if(r)return a;var s=Ic(t.header,"ordinal",n.useUTC),l=ix(i,n.renderMode).nameStyle;return"richText"===n.renderMode?sx(n,s,l)+o.richText+a:hg('<div style="'+l+';line-height:1;">'+In(s)+"</div>"+a,e)}},nameValue:{planLayout:function(n){n.__gapLevelBetweenSubBlocks=0},build:function(n,t,e,i){var x,b,T,r=n.renderMode,o=t.noName,a=t.noValue,s=!t.markerType,l=t.name,u=t.value,h=n.useUTC;if(!o||!a){var c=s?"":n.markupStyleCreator.makeTooltipMarker(t.markerType,t.markerColor||"#333",r),p=o?"":Ic(l,"ordinal",h),d=t.valueType,f=a?[]:Z(u)?J(u,function(x,b){return Ic(x,Z(d)?d[b]:d,h)}):[Ic(u,Z(d)?d[0]:d,h)],g=!s||!o,m=!s&&o,y=ix(i,r),v=y.nameStyle,_=y.valueStyle;return"richText"===r?(s?"":c)+(o?"":sx(n,p,v))+(a?"":(x=n,b=f,T=[_],g&&T.push({padding:[0,0,0,m?10:20],align:"right"}),x.markupStyleCreator.wrapRichTextStyle(b.join("  "),T))):hg((s?"":c)+(o?"":function(x,b,w){return'<span style="'+w+";"+(b?"margin-left:2px":"")+'">'+In(x)+"</span>"}(p,!s,v))+(a?"":function(x,b,w,S){return'<span style="'+(b?"float:right;margin-left:"+(w?"10px":"20px"):"")+";"+S+'">'+J(x,function(T){return In(T)}).join("&nbsp;&nbsp;")+"</span>"}(f,g,m,_)),e)}}}};function ox(n,t,e,i,r,o){if(n){var a=ug(n);return a.planLayout(n),a.build({useUTC:r,renderMode:e,orderMode:i,markupStyleCreator:t},n,0,o)}}function ax(n){var t=n.__gapLevelBetweenSubBlocks;return{html:uk[t],richText:hk[t]}}function hg(n,t){return'<div style="margin: '+t+'px 0 0;line-height:1;">'+n+'<div style="clear:both"></div></div>'}function sx(n,t,e){return n.markupStyleCreator.wrapRichTextStyle(t,e)}function lx(n,t){return Jo(n.getData().getItemVisual(t,"style")[n.visualDrawType])}function ux(n,t){var e=n.get("padding");return null!=e?e:"richText"===t?[8,10]:10}var cg=function(){function n(){this.richTextStyles={},this._nextStyleNameId=r0()}return n.prototype._generateStyleName=function(){return"__EC_aUTo_"+this._nextStyleNameId++},n.prototype.makeTooltipMarker=function(t,e,i){var r="richText"===i?this._generateStyleName():null,o=s1({color:e,type:t,renderMode:i,markerId:r});return Ce(o)?o:(this.richTextStyles[r]=o.style,o.content)},n.prototype.wrapRichTextStyle=function(t,e){var i={};Z(e)?k(e,function(o){return K(i,o)}):K(i,e);var r=this._generateStyleName();return this.richTextStyles[r]=i,"{"+r+"|"+t+"}"},n}();function hx(n){var t,e,i,r,o=n.series,a=n.dataIndex,s=n.multipleSeries,l=o.getData(),u=l.mapDimensionsAll("defaultedTooltip"),h=u.length,c=o.getRawValue(a),p=Z(c),d=lx(o,a);if(h>1||p&&!h){var f=function(x,b,w,S,M){var T=b.getData(),C=ii(x,function(E,N,R){var z=T.getDimensionInfo(R);return E||z&&!1!==z.tooltip&&null!=z.displayName},!1),A=[],D=[],L=[];function P(E,N){var R=T.getDimensionInfo(N);R&&!1!==R.otherDims.tooltip&&(C?L.push(Bt("nameValue",{markerType:"subItem",markerColor:M,name:R.displayName,value:E,valueType:R.type})):(A.push(E),D.push(R.type)))}return S.length?k(S,function(E){P(xs(T,w,E),E)}):k(x,P),{inlineValues:A,inlineValueTypes:D,blocks:L}}(c,o,a,u,d);t=f.inlineValues,e=f.inlineValueTypes,i=f.blocks,r=f.inlineValues[0]}else if(h){var g=l.getDimensionInfo(u[0]);r=t=xs(l,a,u[0]),e=g.type}else r=t=p?c[0]:c;var m=Fd(o),y=m&&o.name||"",v=l.getName(a),_=s?y:v;return Bt("section",{header:y,noHeader:s||!m,sortParam:r,blocks:[Bt("nameValue",{markerType:"item",markerColor:d,name:_,noName:!Dn(_),value:t,valueType:e})].concat(i||[])})}var qr=We();function Ec(n,t){return n.getName(t)||n.getId(t)}var et=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e._selectedDataIndicesMap={},e}return G(t,n),t.prototype.init=function(e,i,r){this.seriesIndex=this.componentIndex,this.dataTask=uu({count:ck,reset:pk}),this.dataTask.context={model:this},this.mergeDefaultAndTheme(e,r),(qr(this).sourceManager=new ex(this)).prepareSource();var o=this.getInitialData(e,r);px(o,this),this.dataTask.context.data=o,qr(this).dataBeforeProcessed=o,cx(this),this._initSelectedMapFromData(o)},t.prototype.mergeDefaultAndTheme=function(e,i){var r=ru(this),o=r?ps(e):{},a=this.subType;Pe.hasClass(a)&&(a+="Series"),we(e,i.getTheme().get(this.subType)),we(e,this.getDefaultOption()),Eo(e,"label",["show"]),this.fillDataTextStyle(e.data),r&&Xr(e,o,r)},t.prototype.mergeOption=function(e,i){e=we(this.option,e,!0),this.fillDataTextStyle(e.data);var r=ru(this);r&&Xr(this.option,e,r);var o=qr(this).sourceManager;o.dirty(),o.prepareSource();var a=this.getInitialData(e,i);px(a,this),this.dataTask.dirty(),this.dataTask.context.data=a,qr(this).dataBeforeProcessed=a,cx(this),this._initSelectedMapFromData(a)},t.prototype.fillDataTextStyle=function(e){if(e&&!Qe(e))for(var i=["show"],r=0;r<e.length;r++)e[r]&&e[r].label&&Eo(e[r],"label",i)},t.prototype.getInitialData=function(e,i){},t.prototype.appendData=function(e){this.getRawData().appendData(e.data)},t.prototype.getData=function(e){var i=pg(this);if(i){var r=i.context.data;return null==e?r:r.getLinkedData(e)}return qr(this).data},t.prototype.getAllData=function(){var e=this.getData();return e&&e.getLinkedDataAll?e.getLinkedDataAll():[{data:e}]},t.prototype.setData=function(e){var i=pg(this);if(i){var r=i.context;r.outputData=e,i!==this.dataTask&&(r.data=e)}qr(this).data=e},t.prototype.getEncode=function(){var e=this.get("encode",!0);if(e)return ue(e)},t.prototype.getSourceManager=function(){return qr(this).sourceManager},t.prototype.getSource=function(){return this.getSourceManager().getSource()},t.prototype.getRawData=function(){return qr(this).dataBeforeProcessed},t.prototype.getColorBy=function(){return this.get("colorBy")||"series"},t.prototype.isColorBySeries=function(){return"series"===this.getColorBy()},t.prototype.getBaseAxis=function(){var e=this.coordinateSystem;return e&&e.getBaseAxis&&e.getBaseAxis()},t.prototype.formatTooltip=function(e,i,r){return hx({series:this,dataIndex:e,multipleSeries:i})},t.prototype.isAnimationEnabled=function(){if(ge.node)return!1;var e=this.getShallow("animation");return e&&this.getData().count()>this.getShallow("animationThreshold")&&(e=!1),!!e},t.prototype.restoreData=function(){this.dataTask.dirty()},t.prototype.getColorFromPalette=function(e,i,r){var o=this.ecModel,a=jf.prototype.getColorFromPalette.call(this,e,i,r);return a||(a=o.getColorFromPalette(e,i,r)),a},t.prototype.coordDimToDataDim=function(e){return this.getRawData().mapDimensionsAll(e)},t.prototype.getProgressive=function(){return this.get("progressive")},t.prototype.getProgressiveThreshold=function(){return this.get("progressiveThreshold")},t.prototype.select=function(e,i){this._innerSelect(this.getData(i),e)},t.prototype.unselect=function(e,i){var r=this.option.selectedMap;if(r)for(var o=this.getData(i),a=0;a<e.length;a++){var s=Ec(o,e[a]);r[s]=!1,this._selectedDataIndicesMap[s]=-1}},t.prototype.toggleSelect=function(e,i){for(var r=[],o=0;o<e.length;o++)r[0]=e[o],this.isSelected(e[o],i)?this.unselect(r,i):this.select(r,i)},t.prototype.getSelectedDataIndices=function(){for(var e=this._selectedDataIndicesMap,i=q(e),r=[],o=0;o<i.length;o++){var a=e[i[o]];a>=0&&r.push(a)}return r},t.prototype.isSelected=function(e,i){var r=this.option.selectedMap;return r&&r[Ec(this.getData(i),e)]||!1},t.prototype.isUniversalTransitionEnabled=function(){if(this.__universalTransitionEnabled)return!0;var e=this.option.universalTransition;return!!e&&(!0===e||e&&e.enabled)},t.prototype._innerSelect=function(e,i){var r,o,a=this.option.selectedMode,s=i.length;if(a&&s)if("multiple"===a)for(var l=this.option.selectedMap||(this.option.selectedMap={}),u=0;u<s;u++){var h=i[u];l[p=Ec(e,h)]=!0,this._selectedDataIndicesMap[p]=e.getRawIndex(h)}else if("single"===a||!0===a){var c=i[s-1],p=Ec(e,c);this.option.selectedMap=((r={})[p]=!0,r),this._selectedDataIndicesMap=((o={})[p]=e.getRawIndex(c),o)}},t.prototype._initSelectedMapFromData=function(e){if(!this.option.selectedMap){var i=[];e.hasItemOption&&e.each(function(r){var o=e.getRawDataItem(r);o&&o.selected&&i.push(r)}),i.length>0&&this._innerSelect(e,i)}},t.registerClass=function(e){return Pe.registerClass(e)},t.protoInitialize=((e=t.prototype).type="series.__base__",e.seriesIndex=0,e.ignoreStyleOnData=!1,e.hasSymbolVisual=!1,e.defaultSymbol="circle",e.visualStyleAccessPath="itemStyle",void(e.visualDrawType="fill")),t;var e}(Pe);function cx(n){var i,r,o,t=n.name;Fd(n)||(n.name=(r=(i=n.getRawData()).mapDimensionsAll("seriesName"),o=[],k(r,function(a){var s=i.getDimensionInfo(a);s.displayName&&o.push(s.displayName)}),o.join(" ")||t))}function ck(n){return n.model.getRawData().count()}function pk(n){var t=n.model;return t.setData(t.getRawData().cloneShallow()),dk}function dk(n,t){t.outputData&&n.end>t.outputData.count()&&t.model.getRawData().cloneShallow(t.outputData)}function px(n,t){k(Ki(n.CHANGABLE_METHODS,n.DOWNSAMPLE_METHODS),function(e){n.wrapMethod(e,ye(fk,t))})}function fk(n,t){var e=pg(n);return e&&e.setOutputEnd((t||this).count()),t}function pg(n){var t=(n.ecModel||{}).scheduler,e=t&&t.getPipeline(n.uid);if(e){var i=e.currentTask;if(i){var r=i.agentStubMap;r&&(i=r.get(n.uid))}return i}}ht(et,og),ht(et,jf),g0(et,Pe);var it=function(){function n(){this.group=new me,this.uid=us("viewComponent")}return n.prototype.init=function(t,e){},n.prototype.render=function(t,e,i,r){},n.prototype.dispose=function(t,e){},n.prototype.updateView=function(t,e,i,r){},n.prototype.updateLayout=function(t,e,i,r){},n.prototype.updateVisual=function(t,e,i,r){},n.prototype.blurSeries=function(t,e){},n}();function bs(){var n=We();return function(t){var e=n(t),i=t.pipelineContext,r=!!e.large,o=!!e.progressiveRender,a=e.large=!(!i||!i.large),s=e.progressiveRender=!(!i||!i.progressiveRender);return!(r===a&&o===s)&&"reset"}}Ud(it),Uh(it);var dx=We(),gk=bs(),je=function(){function n(){this.group=new me,this.uid=us("viewChart"),this.renderTask=uu({plan:mk,reset:yk}),this.renderTask.context={view:this}}return n.prototype.init=function(t,e){},n.prototype.render=function(t,e,i,r){},n.prototype.highlight=function(t,e,i,r){gx(t.getData(),r,"emphasis")},n.prototype.downplay=function(t,e,i,r){gx(t.getData(),r,"normal")},n.prototype.remove=function(t,e){this.group.removeAll()},n.prototype.dispose=function(t,e){},n.prototype.updateView=function(t,e,i,r){this.render(t,e,i,r)},n.prototype.updateLayout=function(t,e,i,r){this.render(t,e,i,r)},n.prototype.updateVisual=function(t,e,i,r){this.render(t,e,i,r)},n.markUpdateMethod=function(t,e){dx(t).updateMethod=e},n.protoInitialize=void(n.prototype.type="chart"),n}();function fx(n,t,e){n&&("emphasis"===t?zi:Bi)(n,e)}function gx(n,t,e){var o,a,i=No(n,t),r=t&&null!=t.highlightKey?(null==(a=j0[o=t.highlightKey])&&Z0<=32&&(a=j0[o]=Z0++),a):null;null!=i?k(Je(i),function(o){fx(n.getItemGraphicEl(o),e,r)}):n.eachItemGraphicEl(function(o){fx(o,e,r)})}function mk(n){return gk(n.model)}function yk(n){var t=n.model,e=n.ecModel,i=n.api,r=n.payload,o=t.pipelineContext.progressiveRender,a=n.view,s=r&&dx(r).updateMethod,l=o?"incrementalPrepareRender":s&&a[s]?s:"render";return"render"!==l&&a[l](t,e,i,r),vk[l]}Ud(je),Uh(je);var vk={incrementalPrepareRender:{progress:function(n,t){t.view.incrementalRender(n,t.model,t.ecModel,t.api,t.payload)}},render:{forceFirstProgress:!0,progress:function(n,t){t.view.render(t.model,t.ecModel,t.api,t.payload)}}},Nc="\0__throttleOriginMethod",mx="\0__throttleRate",yx="\0__throttleType";function cu(n,t,e){var i,r,o,a,s,l=0,u=0,h=null;function c(){u=(new Date).getTime(),h=null,n.apply(o,a||[])}t=t||0;var p=function(){for(var d=[],f=0;f<arguments.length;f++)d[f]=arguments[f];i=(new Date).getTime(),o=this,a=d;var g=s||t,m=s||e;s=null,r=i-(m?l:u)-g,clearTimeout(h),m?h=setTimeout(c,g):r>=0?c():h=setTimeout(c,-r),l=i};return p.clear=function(){h&&(clearTimeout(h),h=null)},p.debounceNextCall=function(d){s=d},p}function pu(n,t,e,i){var r=n[t];if(r){var o=r[Nc]||r;if(r[mx]!==e||r[yx]!==i){if(null==e||!i)return n[t]=o;(r=n[t]=cu(o,e,"debounce"===i))[Nc]=o,r[yx]=i,r[mx]=e}return r}}var vx=We(),_x={itemStyle:zo(U_,!0),lineStyle:zo(W_,!0)},_k={lineStyle:"stroke",itemStyle:"fill"};function xx(n,t){return n.visualStyleMapper||_x[t]||(console.warn("Unkown style type '"+t+"'."),_x.itemStyle)}function bx(n,t){return n.visualDrawType||_k[t]||(console.warn("Unkown style type '"+t+"'."),"fill")}var xk={createOnAllSeries:!0,performRawSeries:!0,reset:function(n,t){var e=n.getData(),i=n.visualStyleAccessPath||"itemStyle",r=n.getModel(i),o=xx(n,i)(r),a=r.getShallow("decal");a&&(e.setVisual("decal",a),a.dirty=!0);var s=bx(n,i),l=o[s],u=Be(l)?l:null;if(!o[s]||u||"auto"===o.fill||"auto"===o.stroke){var c=n.getColorFromPalette(n.name,null,t.getSeriesCount());o[s]||(o[s]=c,e.setVisual("colorFromPalette",!0)),o.fill="auto"===o.fill||"function"==typeof o.fill?c:o.fill,o.stroke="auto"===o.stroke||"function"==typeof o.stroke?c:o.stroke}if(e.setVisual("style",o),e.setVisual("drawType",s),!t.isSeriesFiltered(n)&&u)return e.setVisual("colorFromPalette",!1),{dataEach:function(p,d){var f=n.getDataParams(d),g=K({},o);g[s]=u(f),p.setItemVisual(d,"style",g)}}}},du=new Fe,bk={createOnAllSeries:!0,performRawSeries:!0,reset:function(n,t){if(!n.ignoreStyleOnData&&!t.isSeriesFiltered(n)){var e=n.getData(),i=n.visualStyleAccessPath||"itemStyle",r=xx(n,i),o=e.getVisual("drawType");return{dataEach:e.hasItemOption?function(a,s){var l=a.getRawDataItem(s);if(l&&l[i]){du.option=l[i];var u=r(du);K(a.ensureUniqueItemVisual(s,"style"),u),du.option.decal&&(a.setItemVisual(s,"decal",du.option.decal),du.option.decal.dirty=!0),o in u&&a.setItemVisual(s,"colorFromPalette",!1)}}:null}}}},wk={performRawSeries:!0,overallReset:function(n){var t=ue();n.eachSeries(function(e){var i=e.getColorBy();if(!e.isColorBySeries()){var r=e.type+"-"+i,o=t.get(r);o||t.set(r,o={}),vx(e).scope=o}}),n.eachSeries(function(e){if(!e.isColorBySeries()&&!n.isSeriesFiltered(e)){var i=e.getRawData(),r={},o=e.getData(),a=vx(e).scope,l=bx(e,e.visualStyleAccessPath||"itemStyle");o.each(function(u){var h=o.getRawIndex(u);r[h]=u}),i.each(function(u){var h=r[u];if(o.getItemVisual(h,"colorFromPalette")){var c=o.ensureUniqueItemVisual(h,"style"),p=i.getName(u)||u+"",d=i.count();c[l]=e.getColorFromPalette(p,a,d)}})}})}},Rc=Math.PI,Sx=function(){function n(t,e,i,r){this._stageTaskMap=ue(),this.ecInstance=t,this.api=e,i=this._dataProcessorHandlers=i.slice(),r=this._visualHandlers=r.slice(),this._allHandlers=i.concat(r)}return n.prototype.restoreData=function(t,e){t.restoreData(e),this._stageTaskMap.each(function(i){var r=i.overallTask;r&&r.dirty()})},n.prototype.getPerformArgs=function(t,e){if(t.__pipeline){var i=this._pipelineMap.get(t.__pipeline.id),r=i.context,o=!e&&i.progressiveEnabled&&(!r||r.progressiveRender)&&t.__idxInPipeline>i.blockIndex?i.step:null,a=r&&r.modDataCount;return{step:o,modBy:null!=a?Math.ceil(a/o):null,modDataCount:a}}},n.prototype.getPipeline=function(t){return this._pipelineMap.get(t)},n.prototype.updateStreamModes=function(t,e){var i=this._pipelineMap.get(t.uid),r=t.getData().count(),o=i.progressiveEnabled&&e.incrementalPrepareRender&&r>=i.threshold,a=t.get("large")&&r>=t.get("largeThreshold"),s="mod"===t.get("progressiveChunkMode")?r:null;t.pipelineContext=i.context={progressiveRender:o,modDataCount:s,large:a}},n.prototype.restorePipelines=function(t){var e=this,i=e._pipelineMap=ue();t.eachSeries(function(r){var o=r.getProgressive(),a=r.uid;i.set(a,{id:a,head:null,tail:null,threshold:r.getProgressiveThreshold(),progressiveEnabled:o&&!(r.preventIncremental&&r.preventIncremental()),blockIndex:-1,step:Math.round(o||700),count:0}),e._pipe(r,r.dataTask)})},n.prototype.prepareStageTasks=function(){var t=this._stageTaskMap,e=this.api.getModel(),i=this.api;k(this._allHandlers,function(r){var o=t.get(r.uid)||t.set(r.uid,{});vt(!(r.reset&&r.overallReset),""),r.reset&&this._createSeriesStageTask(r,o,e,i),r.overallReset&&this._createOverallStageTask(r,o,e,i)},this)},n.prototype.prepareView=function(t,e,i,r){var o=t.renderTask,a=o.context;a.model=e,a.ecModel=i,a.api=r,o.__block=!t.incrementalPrepareRender,this._pipe(e,o)},n.prototype.performDataProcessorTasks=function(t,e){this._performStageTasks(this._dataProcessorHandlers,t,e,{block:!0})},n.prototype.performVisualTasks=function(t,e,i){this._performStageTasks(this._visualHandlers,t,e,i)},n.prototype._performStageTasks=function(t,e,i,r){r=r||{};var o=!1,a=this;function s(l,u){return l.setDirty&&(!l.dirtyMap||l.dirtyMap.get(u.__pipeline.id))}k(t,function(l,u){if(!r.visualType||r.visualType===l.visualType){var h=a._stageTaskMap.get(l.uid),c=h.seriesTaskMap,p=h.overallTask;if(p){var d,f=p.agentStubMap;f.each(function(m){s(r,m)&&(m.dirty(),d=!0)}),d&&p.dirty(),a.updatePayload(p,i);var g=a.getPerformArgs(p,r.block);f.each(function(m){m.perform(g)}),p.perform(g)&&(o=!0)}else c&&c.each(function(m,y){s(r,m)&&m.dirty();var v=a.getPerformArgs(m,r.block);v.skip=!l.performRawSeries&&e.isSeriesFiltered(m.context.model),a.updatePayload(m,i),m.perform(v)&&(o=!0)})}}),this.unfinished=o||this.unfinished},n.prototype.performSeriesTasks=function(t){var e;t.eachSeries(function(i){e=i.dataTask.perform()||e}),this.unfinished=e||this.unfinished},n.prototype.plan=function(){this._pipelineMap.each(function(t){var e=t.tail;do{if(e.__block){t.blockIndex=e.__idxInPipeline;break}e=e.getUpstream()}while(e)})},n.prototype.updatePayload=function(t,e){"remain"!==e&&(t.context.payload=e)},n.prototype._createSeriesStageTask=function(t,e,i,r){var o=this,a=e.seriesTaskMap,s=e.seriesTaskMap=ue(),l=t.seriesType,u=t.getTargetSeries;function h(c){var p=c.uid,d=s.set(p,a&&a.get(p)||uu({plan:Ck,reset:Ak,count:kk}));d.context={model:c,ecModel:i,api:r,useClearVisual:t.isVisual&&!t.isLayout,plan:t.plan,reset:t.reset,scheduler:o},o._pipe(c,d)}t.createOnAllSeries?i.eachRawSeries(h):l?i.eachRawSeriesByType(l,h):u&&u(i,r).each(h)},n.prototype._createOverallStageTask=function(t,e,i,r){var o=this,a=e.overallTask=e.overallTask||uu({reset:Sk});a.context={ecModel:i,api:r,overallReset:t.overallReset,scheduler:o};var s=a.agentStubMap,l=a.agentStubMap=ue(),u=t.seriesType,h=t.getTargetSeries,c=!0,p=!1;function f(g){var m=g.uid,y=l.set(m,s&&s.get(m)||(p=!0,uu({reset:Mk,onDirty:Tk})));y.context={model:g,overallProgress:c},y.agent=a,y.__block=c,o._pipe(g,y)}vt(!t.createOnAllSeries,""),u?i.eachRawSeriesByType(u,f):h?h(i,r).each(f):(c=!1,k(i.getSeries(),f)),p&&a.dirty()},n.prototype._pipe=function(t,e){var r=this._pipelineMap.get(t.uid);!r.head&&(r.head=e),r.tail&&r.tail.pipe(e),r.tail=e,e.__idxInPipeline=r.count++,e.__pipeline=r},n.wrapStageHandler=function(t,e){return Be(t)&&(t={overallReset:t,seriesType:Lk(t)}),t.uid=us("stageHandler"),e&&(t.visualType=e),t},n}();function Sk(n){n.overallReset(n.ecModel,n.api,n.payload)}function Mk(n){return n.overallProgress&&Ik}function Ik(){this.agent.dirty(),this.getDownstream().dirty()}function Tk(){this.agent&&this.agent.dirty()}function Ck(n){return n.plan?n.plan(n.model,n.ecModel,n.api,n.payload):null}function Ak(n){n.useClearVisual&&n.data.clearAllVisual();var t=n.resetDefines=Je(n.reset(n.model,n.ecModel,n.api,n.payload));return t.length>1?J(t,function(e,i){return Mx(i)}):Dk}var Dk=Mx(0);function Mx(n){return function(t,e){var i=e.data,r=e.resetDefines[n];if(r&&r.dataEach)for(var o=t.start;o<t.end;o++)r.dataEach(i,o);else r&&r.progress&&r.progress(t,i)}}function kk(n){return n.data.count()}function Lk(n){zc=null;try{n(fu,Ix)}catch(t){}return zc}var zc,fu={},Ix={};function Tx(n,t){for(var e in t.prototype)n[e]=yn}Tx(fu,Kf),Tx(Ix,M1),fu.eachSeriesByType=fu.eachRawSeriesByType=function(n){zc=n},fu.eachComponent=function(n){"series"===n.mainType&&n.subType&&(zc=n.subType)};var Cx=["#37A2DA","#32C5E9","#67E0E3","#9FE6B8","#FFDB5C","#ff9f7f","#fb7293","#E062AE","#E690D1","#e7bcf3","#9d96f5","#8378EA","#96BFFF"],Pk={color:Cx,colorLayer:[["#37A2DA","#ffd85c","#fd7b5f"],["#37A2DA","#67E0E3","#FFDB5C","#ff9f7f","#E062AE","#9d96f5"],["#37A2DA","#32C5E9","#9FE6B8","#FFDB5C","#ff9f7f","#fb7293","#e7bcf3","#8378EA","#96BFFF"],Cx]},dn="#B9B8CE",Ax="#100C2A",Bc=function(){return{axisLine:{lineStyle:{color:dn}},splitLine:{lineStyle:{color:"#484753"}},splitArea:{areaStyle:{color:["rgba(255,255,255,0.02)","rgba(255,255,255,0.05)"]}},minorSplitLine:{lineStyle:{color:"#20203B"}}}},Dx=["#4992ff","#7cffb2","#fddd60","#ff6e76","#58d9f9","#05c091","#ff8a45","#8d48e3","#dd79ff"],kx={darkMode:!0,color:Dx,backgroundColor:Ax,axisPointer:{lineStyle:{color:"#817f91"},crossStyle:{color:"#817f91"},label:{color:"#fff"}},legend:{textStyle:{color:dn}},textStyle:{color:dn},title:{textStyle:{color:"#EEF1FA"},subtextStyle:{color:"#B9B8CE"}},toolbox:{iconStyle:{borderColor:dn}},dataZoom:{borderColor:"#71708A",textStyle:{color:dn},brushStyle:{color:"rgba(135,163,206,0.3)"},handleStyle:{color:"#353450",borderColor:"#C5CBE3"},moveHandleStyle:{color:"#B0B6C3",opacity:.3},fillerColor:"rgba(135,163,206,0.2)",emphasis:{handleStyle:{borderColor:"#91B7F2",color:"#4D587D"},moveHandleStyle:{color:"#636D9A",opacity:.7}},dataBackground:{lineStyle:{color:"#71708A",width:1},areaStyle:{color:"#71708A"}},selectedDataBackground:{lineStyle:{color:"#87A3CE"},areaStyle:{color:"#87A3CE"}}},visualMap:{textStyle:{color:dn}},timeline:{lineStyle:{color:dn},label:{color:dn},controlStyle:{color:dn,borderColor:dn}},calendar:{itemStyle:{color:Ax},dayLabel:{color:dn},monthLabel:{color:dn},yearLabel:{color:dn}},timeAxis:Bc(),logAxis:Bc(),valueAxis:Bc(),categoryAxis:Bc(),line:{symbol:"circle"},graph:{color:Dx},gauge:{title:{color:dn},axisLine:{lineStyle:{color:[[1,"rgba(207,212,219,0.2)"]]}},axisLabel:{color:dn},detail:{color:"#EEF1FA"}},candlestick:{itemStyle:{color:"#f64e56",color0:"#54ea92",borderColor:"#f64e56",borderColor0:"#54ea92"}}};kx.categoryAxis.splitLine.show=!1;var Ok=function(){function n(){}return n.prototype.normalizeQuery=function(t){var e={},i={},r={};if(Ce(t)){var o=Pi(t);e.mainType=o.main||null,e.subType=o.sub||null}else{var a=["Index","Name","Id"],s={name:1,dataIndex:1,dataType:1};k(t,function(l,u){for(var h=!1,c=0;c<a.length;c++){var p=a[c],d=u.lastIndexOf(p);if(d>0&&d===u.length-p.length){var f=u.slice(0,d);"data"!==f&&(e.mainType=f,e[p.toLowerCase()]=l,h=!0)}}s.hasOwnProperty(u)&&(i[u]=l,h=!0),h||(r[u]=l)})}return{cptQuery:e,dataQuery:i,otherQuery:r}},n.prototype.filter=function(t,e){var i=this.eventInfo;if(!i)return!0;var r=i.targetEl,o=i.packedEvent,a=i.model,s=i.view;if(!a||!s)return!0;var l=e.cptQuery,u=e.dataQuery;return h(l,a,"mainType")&&h(l,a,"subType")&&h(l,a,"index","componentIndex")&&h(l,a,"name")&&h(l,a,"id")&&h(u,o,"name")&&h(u,o,"dataIndex")&&h(u,o,"dataType")&&(!s.filterForExposedEvent||s.filterForExposedEvent(t,e.otherQuery,r,o));function h(c,p,d,f){return null==c[d]||p[f||d]===c[d]}},n.prototype.afterTrigger=function(){this.eventInfo=null},n}(),Ek={createOnAllSeries:!0,performRawSeries:!0,reset:function(n,t){var e=n.getData();if(n.legendIcon&&e.setVisual("legendIcon",n.legendIcon),n.hasSymbolVisual){var i=n.get("symbol"),r=n.get("symbolSize"),o=n.get("symbolKeepAspect"),a=n.get("symbolRotate"),s=n.get("symbolOffset"),l=Be(i),u=Be(r),h=Be(a),c=Be(s),p=l||u||h||c,d=!l&&i?i:n.defaultSymbol;if(e.setVisual({legendIcon:n.legendIcon||d,symbol:d,symbolSize:u?null:r,symbolKeepAspect:o,symbolRotate:h?null:a,symbolOffset:c?null:s}),!t.isSeriesFiltered(n))return{dataEach:p?function(y,v){var _=n.getRawValue(v),x=n.getDataParams(v);l&&y.setItemVisual(v,"symbol",i(_,x)),u&&y.setItemVisual(v,"symbolSize",r(_,x)),h&&y.setItemVisual(v,"symbolRotate",a(_,x)),c&&y.setItemVisual(v,"symbolOffset",s(_,x))}:null}}}};function dg(n,t,e){switch(e){case"color":return n.getItemVisual(t,"style")[n.getVisual("drawType")];case"opacity":return n.getItemVisual(t,"style").opacity;case"symbol":case"symbolSize":case"liftZ":return n.getItemVisual(t,e)}}function gu(n,t){switch(t){case"color":return n.getVisual("style")[n.getVisual("drawType")];case"opacity":return n.getVisual("style").opacity;case"symbol":case"symbolSize":case"liftZ":return n.getVisual(t)}}function Lx(n,t,e,i){switch(e){case"color":n.ensureUniqueItemVisual(t,"style")[n.getVisual("drawType")]=i,n.setItemVisual(t,"colorFromPalette",!1);break;case"opacity":n.ensureUniqueItemVisual(t,"style").opacity=i;break;case"symbol":case"symbolSize":case"liftZ":n.setItemVisual(t,e,i)}}function Px(n,t){function e(i,r){var o=[];return i.eachComponent({mainType:"series",subType:n,query:r},function(a){o.push(a.seriesIndex)}),o}k([[n+"ToggleSelect","toggleSelect"],[n+"Select","select"],[n+"UnSelect","unselect"]],function(i){t(i[0],function(r,o,a){r=K({},r),a.dispatchAction(K(r,{type:i[1],seriesIndex:e(o,r)}))})})}function ws(n,t,e,i,r){var o=n+t;e.isSilent(o)||i.eachComponent({mainType:"series",subType:"pie"},function(a){for(var s=a.seriesIndex,l=r.selected,u=0;u<l.length;u++)if(l[u].seriesIndex===s){var h=a.getData(),c=No(h,r.fromActionPayload);e.trigger(o,{type:o,seriesId:a.id,name:Z(c)?h.getName(c[0]):h.getName(c),selected:K({},a.option.selectedMap)})}})}function Ss(n,t,e){for(var i;n&&(!t(n)||(i=n,!e));)n=n.__hostTarget||n.parent;return i}var Nk=Math.round(9*Math.random()),Rk="function"==typeof Object.defineProperty,Ox=function(){function n(){this._id="__ec_inner_"+Nk++}return n.prototype.get=function(t){return this._guard(t)[this._id]},n.prototype.set=function(t,e){var i=this._guard(t);return Rk?Object.defineProperty(i,this._id,{value:e,enumerable:!1,configurable:!0}):i[this._id]=e,this},n.prototype.delete=function(t){return!!this.has(t)&&(delete this._guard(t)[this._id],!0)},n.prototype.has=function(t){return!!this._guard(t)[this._id]},n.prototype._guard=function(t){if(t!==Object(t))throw TypeError("Value of WeakMap is not a non-null object.");return t},n}(),zk=Le.extend({type:"triangle",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(n,t){var e=t.cx,i=t.cy,r=t.width/2,o=t.height/2;n.moveTo(e,i-o),n.lineTo(e+r,i+o),n.lineTo(e-r,i+o),n.closePath()}}),Bk=Le.extend({type:"diamond",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(n,t){var e=t.cx,i=t.cy,r=t.width/2,o=t.height/2;n.moveTo(e,i-o),n.lineTo(e+r,i),n.lineTo(e,i+o),n.lineTo(e-r,i),n.closePath()}}),Vk=Le.extend({type:"pin",shape:{x:0,y:0,width:0,height:0},buildPath:function(n,t){var e=t.x,i=t.y,r=t.width/5*3,o=Math.max(r,t.height),a=r/2,s=a*a/(o-a),l=i-o+a+s,u=Math.asin(s/a),h=Math.cos(u)*a,c=Math.sin(u),p=Math.cos(u),d=.6*a,f=.7*a;n.moveTo(e-h,l+s),n.arc(e,l,a,Math.PI-u,2*Math.PI+u),n.bezierCurveTo(e+h-c*d,l+s+p*d,e,i-f,e,i),n.bezierCurveTo(e,i-f,e-h+c*d,l+s+p*d,e-h,l+s),n.closePath()}}),Gk=Le.extend({type:"arrow",shape:{x:0,y:0,width:0,height:0},buildPath:function(n,t){var e=t.height,r=t.x,o=t.y,a=t.width/3*2;n.moveTo(r,o),n.lineTo(r+a,o+e),n.lineTo(r,o+e/4*3),n.lineTo(r-a,o+e),n.lineTo(r,o),n.closePath()}}),Fk={line:function(n,t,e,i,r){r.x1=n,r.y1=t+i/2,r.x2=n+e,r.y2=t+i/2},rect:function(n,t,e,i,r){r.x=n,r.y=t,r.width=e,r.height=i},roundRect:function(n,t,e,i,r){r.x=n,r.y=t,r.width=e,r.height=i,r.r=Math.min(e,i)/4},square:function(n,t,e,i,r){var o=Math.min(e,i);r.x=n,r.y=t,r.width=o,r.height=o},circle:function(n,t,e,i,r){r.cx=n+e/2,r.cy=t+i/2,r.r=Math.min(e,i)/2},diamond:function(n,t,e,i,r){r.cx=n+e/2,r.cy=t+i/2,r.width=e,r.height=i},pin:function(n,t,e,i,r){r.x=n+e/2,r.y=t+i/2,r.width=e,r.height=i},arrow:function(n,t,e,i,r){r.x=n+e/2,r.y=t+i/2,r.width=e,r.height=i},triangle:function(n,t,e,i,r){r.cx=n+e/2,r.cy=t+i/2,r.width=e,r.height=i}},Vc={};k({line:Et,rect:Ee,roundRect:Ee,square:Ee,circle:Yn,diamond:Bk,pin:Vk,arrow:Gk,triangle:zk},function(n,t){Vc[t]=new n});var Hk=Le.extend({type:"symbol",shape:{symbolType:"",x:0,y:0,width:0,height:0},calculateTextPosition:function(n,t,e){var i=Fh(n,t,e),r=this.shape;return r&&"pin"===r.symbolType&&"inside"===t.position&&(i.y=e.y+.4*e.height),i},buildPath:function(n,t,e){var i=t.symbolType;if("none"!==i){var r=Vc[i];r||(r=Vc[i="rect"]),Fk[i](t.x,t.y,t.width,t.height,r.shape),r.buildPath(n,r.shape,e)}}});function Wk(n,t){if("image"!==this.type){var e=this.style;this.__isEmptyBrush?(e.stroke=n,e.fill=t||"#fff",e.lineWidth=2):"line"===this.shape.symbolType?e.stroke=n:e.fill=n,this.markRedraw()}}function xt(n,t,e,i,r,o,a){var s,l=0===n.indexOf("empty");return l&&(n=n.substr(5,1).toLowerCase()+n.substr(6)),(s=0===n.indexOf("image://")?If(n.slice(8),new De(t,e,i,r),a?"center":"cover"):0===n.indexOf("path://")?Kl(n.slice(7),{},new De(t,e,i,r),a?"center":"cover"):new Hk({shape:{symbolType:n,x:t,y:e,width:i,height:r}})).__isEmptyBrush=l,s.setColor=Wk,o&&s.setColor(o),s}function mu(n){return Z(n)||(n=[+n,+n]),[n[0]||0,n[1]||0]}function Ms(n,t){if(null!=n)return Z(n)||(n=[n,n]),[ie(n[0],t[0])||0,ie(Te(n[1],n[0]),t[1])||0]}function fg(n,t,e){for(var i="radial"===t.type?(a=n,s=t,void 0,void 0,void 0,p=void 0,d=void 0,f=void 0,u=(l=e).width,h=l.height,c=Math.min(u,h),p=null==s.x?.5:s.x,d=null==s.y?.5:s.y,f=null==s.r?.5:s.r,s.global||(p=p*u+l.x,d=d*h+l.y,f*=c),a.createRadialGradient(p,d,0,p,d,f)):function(a,s,l){var u=null==s.x?0:s.x,h=null==s.x2?1:s.x2,c=null==s.y?0:s.y,p=null==s.y2?0:s.y2;return s.global||(u=u*l.width+l.x,h=h*l.width+l.x,c=c*l.height+l.y,p=p*l.height+l.y),u=isNaN(u)?0:u,h=isNaN(h)?1:h,c=isNaN(c)?0:c,p=isNaN(p)?0:p,a.createLinearGradient(u,c,h,p)}(n,t,e),r=t.colorStops,o=0;o<r.length;o++)i.addColorStop(r[o].offset,r[o].color);var a,s,l,u,h,c,p,d,f;return i}function Ex(n,t){if(n===t||!n&&!t)return!1;if(!n||!t||n.length!==t.length)return!0;for(var e=0;e<n.length;e++)if(n[e]!==t[e])return!0;return!1}function gg(n,t){return n&&"solid"!==n&&t>0?(t=t||1,"dashed"===n?[4*t,2*t]:"dotted"===n?[t]:Si(n)?[n]:Z(n)?n:null):null}var Uk=new or(!0);function Gc(n){var t=n.stroke;return!(null==t||"none"===t||!(n.lineWidth>0))}function Nx(n){return"string"==typeof n&&"none"!==n}function Fc(n){var t=n.fill;return null!=t&&"none"!==t}function Rx(n,t){if(null!=t.fillOpacity&&1!==t.fillOpacity){var e=n.globalAlpha;n.globalAlpha=t.fillOpacity*t.opacity,n.fill(),n.globalAlpha=e}else n.fill()}function zx(n,t){if(null!=t.strokeOpacity&&1!==t.strokeOpacity){var e=n.globalAlpha;n.globalAlpha=t.strokeOpacity*t.opacity,n.stroke(),n.globalAlpha=e}else n.stroke()}function mg(n,t,e){var i=Yd(t.image,t.__image,e);if(Xh(i)){var r=n.createPattern(i,t.repeat||"repeat");if("function"==typeof DOMMatrix&&r.setTransform){var o=new DOMMatrix;o.rotateSelf(0,0,(t.rotation||0)/Math.PI*180),o.scaleSelf(t.scaleX||1,t.scaleY||1),o.translateSelf(t.x||0,t.y||0),r.setTransform(o)}return r}}var Bx=["shadowBlur","shadowOffsetX","shadowOffsetY"],Vx=[["lineCap","butt"],["lineJoin","miter"],["miterLimit",10]];function Gx(n,t,e,i,r){var o=!1;if(!i&&t===(e=e||{}))return!1;if(i||t.opacity!==e.opacity){o||(Tn(n,r),o=!0);var a=Math.max(Math.min(t.opacity,1),0);n.globalAlpha=isNaN(a)?Bo.opacity:a}(i||t.blend!==e.blend)&&(o||(Tn(n,r),o=!0),n.globalCompositeOperation=t.blend||Bo.blend);for(var s=0;s<Bx.length;s++){var l=Bx[s];(i||t[l]!==e[l])&&(o||(Tn(n,r),o=!0),n[l]=n.dpr*(t[l]||0))}return(i||t.shadowColor!==e.shadowColor)&&(o||(Tn(n,r),o=!0),n.shadowColor=t.shadowColor||Bo.shadowColor),o}function Fx(n,t,e,i,r){var o=yu(t,r.inHover),a=i?null:e&&yu(e,r.inHover)||{};if(o===a)return!1;var s=Gx(n,o,a,i,r);if((i||o.fill!==a.fill)&&(s||(Tn(n,r),s=!0),Nx(o.fill)&&(n.fillStyle=o.fill)),(i||o.stroke!==a.stroke)&&(s||(Tn(n,r),s=!0),Nx(o.stroke)&&(n.strokeStyle=o.stroke)),(i||o.opacity!==a.opacity)&&(s||(Tn(n,r),s=!0),n.globalAlpha=null==o.opacity?1:o.opacity),t.hasStroke()){var l=o.lineWidth/(o.strokeNoScale&&t&&t.getLineScale?t.getLineScale():1);n.lineWidth!==l&&(s||(Tn(n,r),s=!0),n.lineWidth=l)}for(var u=0;u<Vx.length;u++){var h=Vx[u],c=h[0];(i||o[c]!==a[c])&&(s||(Tn(n,r),s=!0),n[c]=o[c]||h[1])}return s}function Hx(n,t){var e=t.transform,i=n.dpr||1;e?n.setTransform(i*e[0],i*e[1],i*e[2],i*e[3],i*e[4],i*e[5]):n.setTransform(i,0,0,i,0,0)}function Tn(n,t){t.batchFill&&n.fill(),t.batchStroke&&n.stroke(),t.batchFill="",t.batchStroke=""}function yu(n,t){return t&&n.__hoverStyle||n.style}function yg(n,t){Kr(n,t,{inHover:!1,viewWidth:0,viewHeight:0},!0)}function Kr(n,t,e,i){var r=t.transform;if(!t.shouldBePainted(e.viewWidth,e.viewHeight,!1,!1))return t.__dirty&=-2,void(t.__isRendered=!1);var f,g,m,o=t.__clipPaths,a=e.prevElClipPaths,s=!1,l=!1;if(a&&!Ex(o,a)||(a&&a.length&&(Tn(n,e),n.restore(),l=s=!0,e.prevElClipPaths=null,e.allClipped=!1,e.prevEl=null),o&&o.length&&(Tn(n,e),n.save(),function(f,g,m){for(var y=!1,v=0;v<f.length;v++){var _=f[v];y=y||_.isZeroArea(),Hx(g,_),g.beginPath(),_.buildPath(g,_.shape),g.clip()}m.allClipped=y}(o,n,e),s=!0),e.prevElClipPaths=o),e.allClipped)t.__isRendered=!1;else{t.beforeBrush&&t.beforeBrush(),t.innerBeforeBrush();var u=e.prevEl;u||(l=s=!0);var h,c,p=t instanceof Le&&t.autoBatch&&(g=Fc(f=t.style),m=Gc(f),!(f.lineDash||!(+g^+m)||g&&"string"!=typeof f.fill||m&&"string"!=typeof f.stroke||f.strokePercent<1||f.strokeOpacity<1||f.fillOpacity<1));s||(c=u.transform,(h=r)&&c?h[0]!==c[0]||h[1]!==c[1]||h[2]!==c[2]||h[3]!==c[3]||h[4]!==c[4]||h[5]!==c[5]:h||c)?(Tn(n,e),Hx(n,t)):p||Tn(n,e);var d=yu(t,e.inHover);t instanceof Le?(1!==e.lastDrawType&&(l=!0,e.lastDrawType=1),Fx(n,t,u,l,e),p&&(e.batchFill||e.batchStroke)||n.beginPath(),function(f,g,m,y){var v=Gc(m),_=Fc(m),x=m.strokePercent,b=x<1,w=!g.path;g.silent&&!b||!w||g.createPathProxy();var S=g.path||Uk;if(!y){var M=m.fill,T=m.stroke,C=_&&!!M.colorStops,A=v&&!!T.colorStops,D=_&&!!M.image,L=v&&!!T.image,P=void 0,E=void 0,N=void 0,R=void 0,z=void 0;(C||A)&&(z=g.getBoundingRect()),C&&(P=g.__dirty?fg(f,M,z):g.__canvasFillGradient,g.__canvasFillGradient=P),A&&(E=g.__dirty?fg(f,T,z):g.__canvasStrokeGradient,g.__canvasStrokeGradient=E),D&&(N=g.__dirty||!g.__canvasFillPattern?mg(f,M,g):g.__canvasFillPattern,g.__canvasFillPattern=N),L&&(R=g.__dirty||!g.__canvasStrokePattern?mg(f,T,g):g.__canvasStrokePattern,g.__canvasStrokePattern=N),C?f.fillStyle=P:D&&(N?f.fillStyle=N:_=!1),A?f.strokeStyle=E:L&&(R?f.strokeStyle=R:v=!1)}var B=m.lineDash&&m.lineWidth>0&&gg(m.lineDash,m.lineWidth),V=m.lineDashOffset,W=!!f.setLineDash,Y=g.getGlobalScale();if(S.setScale(Y[0],Y[1],g.segmentIgnoreThreshold),B){var Q=m.strokeNoScale&&g.getLineScale?g.getLineScale():1;Q&&1!==Q&&(B=J(B,function(j){return j/Q}),V/=Q)}var U=!0;(w||4&g.__dirty||B&&!W&&v)&&(S.setDPR(f.dpr),b?S.setContext(null):(S.setContext(f),U=!1),S.reset(),B&&!W&&(S.setLineDash(B),S.setLineDashOffset(V)),g.buildPath(S,g.shape,y),S.toStatic(),g.pathUpdated()),U&&S.rebuildPath(f,b?x:1),B&&W&&(f.setLineDash(B),f.lineDashOffset=V),y||(m.strokeFirst?(v&&zx(f,m),_&&Rx(f,m)):(_&&Rx(f,m),v&&zx(f,m))),B&&W&&f.setLineDash([])}(n,t,d,p),p&&(e.batchFill=d.fill||"",e.batchStroke=d.stroke||"")):t instanceof Xo?(3!==e.lastDrawType&&(l=!0,e.lastDrawType=3),Fx(n,t,u,l,e),function(f,g,m){var y=m.text;if(null!=y&&(y+=""),y){f.font=m.font||Po,f.textAlign=m.textAlign,f.textBaseline=m.textBaseline;var v=void 0;if(f.setLineDash){var _=m.lineDash&&m.lineWidth>0&&gg(m.lineDash,m.lineWidth),x=m.lineDashOffset;if(_){var b=m.strokeNoScale&&g.getLineScale?g.getLineScale():1;b&&1!==b&&(_=J(_,function(w){return w/b}),x/=b),f.setLineDash(_),f.lineDashOffset=x,v=!0}}m.strokeFirst?(Gc(m)&&f.strokeText(y,m.x,m.y),Fc(m)&&f.fillText(y,m.x,m.y)):(Fc(m)&&f.fillText(y,m.x,m.y),Gc(m)&&f.strokeText(y,m.x,m.y)),v&&f.setLineDash([])}}(n,t,d)):t instanceof It?(2!==e.lastDrawType&&(l=!0,e.lastDrawType=2),function(f,g,m,y,v){Gx(f,yu(g,v.inHover),m&&yu(m,v.inHover),y,v)}(n,t,u,l,e),function(f,g,m){var y=g.__image=Yd(m.image,g.__image,g,g.onload);if(y&&Xh(y)){var v=m.x||0,_=m.y||0,x=g.getWidth(),b=g.getHeight(),w=y.width/y.height;if(null==x&&null!=b?x=b*w:null==b&&null!=x?b=x/w:null==x&&null==b&&(x=y.width,b=y.height),m.sWidth&&m.sHeight){var S=m.sx||0,M=m.sy||0;f.drawImage(y,S,M,m.sWidth,m.sHeight,v,_,x,b)}else if(m.sx&&m.sy){var T=x-(S=m.sx),C=b-(M=m.sy);f.drawImage(y,S,M,T,C,v,_,x,b)}else f.drawImage(y,v,_,x,b)}}(n,t,d)):t instanceof jl&&(4!==e.lastDrawType&&(l=!0,e.lastDrawType=4),function(f,g,m){var y=g.getDisplayables(),v=g.getTemporalDisplayables();f.save();var _,x,b={prevElClipPaths:null,prevEl:null,allClipped:!1,viewWidth:m.viewWidth,viewHeight:m.viewHeight,inHover:m.inHover};for(_=g.getCursor(),x=y.length;_<x;_++)(M=y[_]).beforeBrush&&M.beforeBrush(),M.innerBeforeBrush(),Kr(f,M,b,_===x-1),M.innerAfterBrush(),M.afterBrush&&M.afterBrush(),b.prevEl=M;for(var w=0,S=v.length;w<S;w++){var M;(M=v[w]).beforeBrush&&M.beforeBrush(),M.innerBeforeBrush(),Kr(f,M,b,w===S-1),M.innerAfterBrush(),M.afterBrush&&M.afterBrush(),b.prevEl=M}g.clearTemporalDisplayables(),g.notClear=!0,f.restore()}(n,t,e)),p&&i&&Tn(n,e),t.innerAfterBrush(),t.afterBrush&&t.afterBrush(),e.prevEl=t,t.__dirty=0,t.__isRendered=!0}}var vg,_g=new Ox,Wx=new ai(100),Ux=["symbol","symbolSize","symbolKeepAspect","color","backgroundColor","dashArrayX","dashArrayY","maxTileWidth","maxTileHeight"];function vu(n,t){if("none"===n)return null;var e=t.getDevicePixelRatio(),i=t.getZr(),r="svg"===i.painter.type;n.dirty&&_g.delete(n);var o=_g.get(n);if(o)return o;var a=ce(n,{symbol:"rect",symbolSize:1,symbolKeepAspect:!0,color:"rgba(0, 0, 0, 0.2)",backgroundColor:null,dashArrayX:5,dashArrayY:5,rotation:0,maxTileWidth:512,maxTileHeight:512});"none"===a.backgroundColor&&(a.backgroundColor=null);var s={repeat:"repeat"};return function(l){for(var u,h=[e],c=!0,p=0;p<Ux.length;++p){var d=a[Ux[p]],f=typeof d;if(null!=d&&!Z(d)&&"string"!==f&&"number"!==f&&"boolean"!==f){c=!1;break}h.push(d)}if(c){u=h.join(",")+(r?"-svg":"");var g=Wx.get(u);g&&(r?l.svgElement=g:l.image=g)}var m,y=Yx(a.dashArrayX),v=function(C){if(!C||"object"==typeof C&&0===C.length)return[0,0];if("number"==typeof C){var A=Math.ceil(C);return[A,A]}var D=J(C,function(L){return Math.ceil(L)});return C.length%2?D.concat(D):D}(a.dashArrayY),_=Xx(a.symbol),x=J(y,function(C){return Zx(C)}),b=Zx(v),w=!r&&ji(),S=r&&i.painter.createSVGElement("g"),M=function(){for(var C=1,A=0,D=x.length;A<D;++A)C=a0(C,x[A]);var L=1;for(A=0,D=_.length;A<D;++A)L=a0(L,_[A].length);C*=L;var P=b*x.length*_.length;return{width:Math.max(1,Math.min(C,a.maxTileWidth)),height:Math.max(1,Math.min(P,a.maxTileHeight))}}();w&&(w.width=M.width*e,w.height=M.height*e,m=w.getContext("2d")),function(){m&&(m.clearRect(0,0,w.width,w.height),a.backgroundColor&&(m.fillStyle=a.backgroundColor,m.fillRect(0,0,w.width,w.height)));for(var C=0,A=0;A<v.length;++A)C+=v[A];var xe,ct;if(!(C<=0))for(var D=-b,L=0,P=0,E=0;D<M.height;){if(L%2==0){for(var N=P/2%_.length,R=0,z=0,B=0;R<2*M.width;){var V=0;for(A=0;A<y[E].length;++A)V+=y[E][A];if(V<=0)break;if(z%2==0){var W=.5*(1-a.symbolSize);void 0,void 0,ct=xt(_[N][B/2%_[N].length],(R+y[E][z]*W)*(xe=r?1:e),(D+v[L]*W)*xe,y[E][z]*a.symbolSize*xe,v[L]*a.symbolSize*xe,a.color,a.symbolKeepAspect),r?S.appendChild(i.painter.paintOne(ct)):yg(m,ct)}R+=y[E][z],++B,++z===y[E].length&&(z=0)}++E===y.length&&(E=0)}D+=v[L],++P,++L===v.length&&(L=0)}}(),c&&Wx.put(u,w||S),l.image=w,l.svgElement=S,l.svgWidth=M.width,l.svgHeight=M.height}(s),s.rotation=a.rotation,s.scaleX=s.scaleY=r?1:1/e,_g.set(n,s),n.dirty=!1,s}function Xx(n){if(!n||0===n.length)return[["rect"]];if("string"==typeof n)return[[n]];for(var t=!0,e=0;e<n.length;++e)if("string"!=typeof n[e]){t=!1;break}if(t)return Xx([n]);var i=[];for(e=0;e<n.length;++e)i.push("string"==typeof n[e]?[n[e]]:n[e]);return i}function Yx(n){if(!n||0===n.length)return[[0,0]];if("number"==typeof n)return[[r=Math.ceil(n),r]];for(var t=!0,e=0;e<n.length;++e)if("number"!=typeof n[e]){t=!1;break}if(t)return Yx([n]);var i=[];for(e=0;e<n.length;++e)if("number"==typeof n[e]){var r=Math.ceil(n[e]);i.push([r,r])}else(r=J(n[e],function(o){return Math.ceil(o)})).length%2==1?i.push(r.concat(r)):i.push(r);return i}function Zx(n){for(var t=0,e=0;e<n.length;++e)t+=n[e];return n.length%2==1?2*t:t}function jx(n){Ce(n)&&(n=(new DOMParser).parseFromString(n,"text/xml"));var t=n;for(9===t.nodeType&&(t=t.firstChild);"svg"!==t.nodeName.toLowerCase()||1!==t.nodeType;)t=t.nextSibling;return t}var Hc={fill:"fill",stroke:"stroke","stroke-width":"lineWidth",opacity:"opacity","fill-opacity":"fillOpacity","stroke-opacity":"strokeOpacity","stroke-dasharray":"lineDash","stroke-dashoffset":"lineDashOffset","stroke-linecap":"lineCap","stroke-linejoin":"lineJoin","stroke-miterlimit":"miterLimit","font-family":"fontFamily","font-size":"fontSize","font-style":"fontStyle","font-weight":"fontWeight","text-anchor":"textAlign",visibility:"visibility",display:"display"},qx=q(Hc),Wc={"alignment-baseline":"textBaseline","stop-color":"stopColor"},Kx=q(Wc),Xk=function(){function n(){this._defs={},this._root=null}return n.prototype.parse=function(t,e){e=e||{};var i=jx(t);if(!i)throw new Error("Illegal svg");this._defsUsePending=[];var r=new me;this._root=r;var o=[],a=i.getAttribute("viewBox")||"",s=parseFloat(i.getAttribute("width")||e.width),l=parseFloat(i.getAttribute("height")||e.height);isNaN(s)&&(s=null),isNaN(l)&&(l=null),zn(i,r,null,!0,!1);for(var u,h,c=i.firstChild;c;)this._parseNode(c,r,o,null,!1,!1),c=c.nextSibling;if(function(f,g){for(var m=0;m<g.length;m++){var y=g[m];y[0].style[y[1]]=f[y[2]]}}(this._defs,this._defsUsePending),this._defsUsePending=[],a){var p=Uc(a);p.length>=4&&(u={x:parseFloat(p[0]||0),y:parseFloat(p[1]||0),width:parseFloat(p[2]),height:parseFloat(p[3])})}if(u&&null!=s&&null!=l&&(h=rb(u,{x:0,y:0,width:s,height:l}),!e.ignoreViewBox)){var d=r;(r=new me).add(d),d.scaleX=d.scaleY=h.scale,d.x=h.x,d.y=h.y}return e.ignoreRootClip||null==s||null==l||r.setClipPath(new Ee({shape:{x:0,y:0,width:s,height:l}})),{root:r,width:s,height:l,viewBoxRect:u,viewBoxTransform:h,named:o}},n.prototype._parseNode=function(t,e,i,r,o,a){var s,l=t.nodeName.toLowerCase(),u=r;if("defs"===l&&(o=!0),"text"===l&&(a=!0),"defs"===l||"switch"===l)s=e;else{if(!o){var h=vg[l];if(h&&se(vg,l)){s=h.call(this,t,e);var c=t.getAttribute("name");if(c){var p={name:c,namedFrom:null,svgNodeTagLower:l,el:s};i.push(p),"g"===l&&(u=p)}else r&&i.push({name:r.name,namedFrom:r,svgNodeTagLower:l,el:s});e.add(s)}}var d=$x[l];if(d&&se($x,l)){var f=d.call(this,t),g=t.getAttribute("id");g&&(this._defs[g]=f)}}if(s&&s.isGroup)for(var m=t.firstChild;m;)1===m.nodeType?this._parseNode(m,s,i,u,o,a):3===m.nodeType&&a&&this._parseText(m,s),m=m.nextSibling},n.prototype._parseText=function(t,e){var i=new Xo({style:{text:t.textContent},silent:!0,x:this._textX||0,y:this._textY||0});qn(e,i),zn(t,i,this._defsUsePending,!1,!1),function(l,u){var h=u.__selfStyle;if(h){var c=h.textBaseline,p=c;c&&"auto"!==c?"baseline"===c?p="alphabetic":"before-edge"===c||"text-before-edge"===c?p="top":"after-edge"===c||"text-after-edge"===c?p="bottom":"central"!==c&&"mathematical"!==c||(p="middle"):p="alphabetic",l.style.textBaseline=p}var d=u.__inheritedStyle;if(d){var f=d.textAlign,g=f;f&&("middle"===f&&(g="center"),l.style.textAlign=g)}}(i,e);var r=i.style,o=r.fontSize;o&&o<9&&(r.fontSize=9,i.scaleX*=o/9,i.scaleY*=o/9);var a=(r.fontSize||r.fontFamily)&&[r.fontStyle,r.fontWeight,(r.fontSize||12)+"px",r.fontFamily||"sans-serif"].join(" ");r.font=a;var s=i.getBoundingRect();return this._textX+=s.width,e.add(i),i},n.internalField=void(vg={g:function(t,e){var i=new me;return qn(e,i),zn(t,i,this._defsUsePending,!1,!1),i},rect:function(t,e){var i=new Ee;return qn(e,i),zn(t,i,this._defsUsePending,!1,!1),i.setShape({x:parseFloat(t.getAttribute("x")||"0"),y:parseFloat(t.getAttribute("y")||"0"),width:parseFloat(t.getAttribute("width")||"0"),height:parseFloat(t.getAttribute("height")||"0")}),i.silent=!0,i},circle:function(t,e){var i=new Yn;return qn(e,i),zn(t,i,this._defsUsePending,!1,!1),i.setShape({cx:parseFloat(t.getAttribute("cx")||"0"),cy:parseFloat(t.getAttribute("cy")||"0"),r:parseFloat(t.getAttribute("r")||"0")}),i.silent=!0,i},line:function(t,e){var i=new Et;return qn(e,i),zn(t,i,this._defsUsePending,!1,!1),i.setShape({x1:parseFloat(t.getAttribute("x1")||"0"),y1:parseFloat(t.getAttribute("y1")||"0"),x2:parseFloat(t.getAttribute("x2")||"0"),y2:parseFloat(t.getAttribute("y2")||"0")}),i.silent=!0,i},ellipse:function(t,e){var i=new Xl;return qn(e,i),zn(t,i,this._defsUsePending,!1,!1),i.setShape({cx:parseFloat(t.getAttribute("cx")||"0"),cy:parseFloat(t.getAttribute("cy")||"0"),rx:parseFloat(t.getAttribute("rx")||"0"),ry:parseFloat(t.getAttribute("ry")||"0")}),i.silent=!0,i},polygon:function(t,e){var i,r=t.getAttribute("points");r&&(i=eb(r));var o=new Zt({shape:{points:i||[]},silent:!0});return qn(e,o),zn(t,o,this._defsUsePending,!1,!1),o},polyline:function(t,e){var i,r=t.getAttribute("points");r&&(i=eb(r));var o=new pn({shape:{points:i||[]},silent:!0});return qn(e,o),zn(t,o,this._defsUsePending,!1,!1),o},image:function(t,e){var i=new It;return qn(e,i),zn(t,i,this._defsUsePending,!1,!1),i.setStyle({image:t.getAttribute("xlink:href")||t.getAttribute("href"),x:+t.getAttribute("x"),y:+t.getAttribute("y"),width:+t.getAttribute("width"),height:+t.getAttribute("height")}),i.silent=!0,i},text:function(t,e){var i=t.getAttribute("x")||"0",r=t.getAttribute("y")||"0",o=t.getAttribute("dx")||"0",a=t.getAttribute("dy")||"0";this._textX=parseFloat(i)+parseFloat(o),this._textY=parseFloat(r)+parseFloat(a);var s=new me;return qn(e,s),zn(t,s,this._defsUsePending,!1,!0),s},tspan:function(t,e){var i=t.getAttribute("x"),r=t.getAttribute("y");null!=i&&(this._textX=parseFloat(i)),null!=r&&(this._textY=parseFloat(r));var o=t.getAttribute("dx")||"0",a=t.getAttribute("dy")||"0",s=new me;return qn(e,s),zn(t,s,this._defsUsePending,!1,!0),this._textX+=parseFloat(o),this._textY+=parseFloat(a),s},path:function(t,e){var i=x_(t.getAttribute("d")||"");return qn(e,i),zn(t,i,this._defsUsePending,!1,!1),i.silent=!0,i}}),n}(),$x={lineargradient:function(n){var t=parseInt(n.getAttribute("x1")||"0",10),e=parseInt(n.getAttribute("y1")||"0",10),i=parseInt(n.getAttribute("x2")||"10",10),r=parseInt(n.getAttribute("y2")||"0",10),o=new rs(t,e,i,r);return Qx(n,o),Jx(n,o),o},radialgradient:function(n){var t=parseInt(n.getAttribute("cx")||"0",10),e=parseInt(n.getAttribute("cy")||"0",10),i=parseInt(n.getAttribute("r")||"0",10),r=new wf(t,e,i);return Qx(n,r),Jx(n,r),r}};function Qx(n,t){"userSpaceOnUse"===n.getAttribute("gradientUnits")&&(t.global=!0)}function Jx(n,t){for(var e=n.firstChild;e;){if(1===e.nodeType&&"stop"===e.nodeName.toLocaleLowerCase()){var r,i=e.getAttribute("offset");r=i&&i.indexOf("%")>0?parseInt(i,10)/100:i?parseFloat(i):0;var o={};ib(e,o,o);var a=o.stopColor||e.getAttribute("stop-color")||"#000000";t.colorStops.push({offset:r,color:a})}e=e.nextSibling}}function qn(n,t){n&&n.__inheritedStyle&&(t.__inheritedStyle||(t.__inheritedStyle={}),ce(t.__inheritedStyle,n.__inheritedStyle))}function eb(n){for(var t=Uc(n),e=[],i=0;i<t.length;i+=2){var r=parseFloat(t[i]),o=parseFloat(t[i+1]);e.push([r,o])}return e}function zn(n,t,e,i,r){var o=t,a=o.__inheritedStyle=o.__inheritedStyle||{},s={};1===n.nodeType&&(function(l,u){var h=l.getAttribute("transform");if(h){h=h.replace(/,/g," ");var c=[],p=null;h.replace(jk,function(y,v,_){return c.push(v,_),""});for(var d=c.length-1;d>0;d-=2){var g=c[d-1],m=Uc(c[d]);switch(p=p||[1,0,0,1,0,0],g){case"translate":ui(p,p,[parseFloat(m[0]),parseFloat(m[1]||"0")]);break;case"scale":Rh(p,p,[parseFloat(m[0]),parseFloat(m[1]||m[0])]);break;case"rotate":Or(p,p,-parseFloat(m[0])*xg);break;case"skewX":ki(p,[1,0,Math.tan(parseFloat(m[0])*xg),1,0,0],p);break;case"skewY":ki(p,[1,Math.tan(parseFloat(m[0])*xg),0,1,0,0],p);break;case"matrix":p[0]=parseFloat(m[0]),p[1]=parseFloat(m[1]),p[2]=parseFloat(m[2]),p[3]=parseFloat(m[3]),p[4]=parseFloat(m[4]),p[5]=parseFloat(m[5])}}u.setLocalTransform(p)}}(n,t),ib(n,a,s),i||function(l,u,h){for(var c=0;c<qx.length;c++){var p=qx[c];null!=(d=l.getAttribute(p))&&(u[Hc[p]]=d)}for(c=0;c<Kx.length;c++){var d;null!=(d=l.getAttribute(p=Kx[c]))&&(h[Wc[p]]=d)}}(n,a,s)),o.style=o.style||{},null!=a.fill&&(o.style.fill=tb(o,"fill",a.fill,e)),null!=a.stroke&&(o.style.stroke=tb(o,"stroke",a.stroke,e)),k(["lineWidth","opacity","fillOpacity","strokeOpacity","miterLimit","fontSize"],function(l){null!=a[l]&&(o.style[l]=parseFloat(a[l]))}),k(["lineDashOffset","lineCap","lineJoin","fontWeight","fontFamily","fontStyle","textAlign"],function(l){null!=a[l]&&(o.style[l]=a[l])}),r&&(o.__selfStyle=s),a.lineDash&&(o.style.lineDash=J(Uc(a.lineDash),function(l){return parseFloat(l)})),"hidden"!==a.visibility&&"collapse"!==a.visibility||(o.invisible=!0),"none"===a.display&&(o.ignore=!0)}var Yk=/^url\(\s*#(.*?)\)/;function tb(n,t,e,i){var r=e&&e.match(Yk);if(!r)return"none"===e&&(e=null),e;var o=Dn(r[1]);i.push([n,t,o])}var Zk=/-?([0-9]*\.)?[0-9]+([eE]-?[0-9]+)?/g;function Uc(n){return n.match(Zk)||[]}var jk=/(translate|scale|rotate|skewX|skewY|matrix)\(([\-\s0-9\.eE,]*)\)/g,xg=Math.PI/180,nb=/([^\s:;]+)\s*:\s*([^:;]+)/g;function ib(n,t,e){var i,r=n.getAttribute("style");if(r)for(nb.lastIndex=0;null!=(i=nb.exec(r));){var o=i[1],a=se(Hc,o)?Hc[o]:null;a&&(t[a]=i[2]);var s=se(Wc,o)?Wc[o]:null;s&&(e[s]=i[2])}}function rb(n,t){var r=Math.min(t.width/n.width,t.height/n.height);return{scale:r,x:-(n.x+n.width/2)*r+(t.x+t.width/2),y:-(n.y+n.height/2)*r+(t.y+t.height/2)}}function ob(n,t){return Math.abs(n-t)<1e-8}function ia(n,t,e){var i=0,r=n[0];if(!r)return!1;for(var o=1;o<n.length;o++){var a=n[o];i+=ar(r[0],r[1],a[0],a[1],t,e),r=a}var s=n[0];return ob(r[0],s[0])&&ob(r[1],s[1])||(i+=ar(r[0],r[1],s[0],s[1],t,e)),0!==i}var qk=[],ab=function(){function n(t){this.name=t}return n.prototype.getCenter=function(){},n}(),sb=function(n){function t(e,i,r){var o=n.call(this,e)||this;if(o.type="geoJSON",o.geometries=i,r)r=[r[0],r[1]];else{var a=o.getBoundingRect();r=[a.x+a.width/2,a.y+a.height/2]}return o._center=r,o}return G(t,n),t.prototype.getBoundingRect=function(){var e=this._rect;if(e)return e;for(var i=Number.MAX_VALUE,r=[i,i],o=[-i,-i],a=[],s=[],l=this.geometries,u=0;u<l.length;u++)"polygon"===l[u].type&&(Rl(l[u].exterior,a,s),Ci(r,r,a),_t(o,o,s));return 0===u&&(r[0]=r[1]=o[0]=o[1]=0),this._rect=new De(r[0],r[1],o[0]-r[0],o[1]-r[1])},t.prototype.contain=function(e){var i=this.getBoundingRect(),r=this.geometries;if(!i.contain(e[0],e[1]))return!1;e:for(var o=0,a=r.length;o<a;o++)if("polygon"===r[o].type){var l=r[o].interiors;if(ia(r[o].exterior,e[0],e[1])){for(var u=0;u<(l?l.length:0);u++)if(ia(l[u],e[0],e[1]))continue e;return!0}}return!1},t.prototype.transformTo=function(e,i,r,o){var a=this.getBoundingRect(),s=a.width/a.height;r?o||(o=r/s):r=s*o;for(var l=new De(e,i,r,o),u=a.calculateTransform(l),h=this.geometries,c=0;c<h.length;c++)if("polygon"===h[c].type){for(var p=h[c].exterior,d=h[c].interiors,f=0;f<p.length;f++)wt(p[f],p[f],u);for(var g=0;g<(d?d.length:0);g++)for(f=0;f<d[g].length;f++)wt(d[g][f],d[g][f],u)}(a=this._rect).copy(l),this._center=[a.x+a.width/2,a.y+a.height/2]},t.prototype.cloneShallow=function(e){null==e&&(e=this.name);var i=new t(e,this.geometries,this._center);return i._rect=this._rect,i.transformTo=null,i},t.prototype.getCenter=function(){return this._center},t.prototype.setCenter=function(e){this._center=e},t}(ab),Kk=function(n){function t(e,i){var r=n.call(this,e)||this;return r.type="geoSVG",r._elOnlyForCalculate=i,r}return G(t,n),t.prototype.getCenter=function(){var e=this._center;return e||(e=this._center=this._calculateCenter()),e},t.prototype._calculateCenter=function(){for(var e=this._elOnlyForCalculate,i=e.getBoundingRect(),r=[i.x+i.width/2,i.y+i.height/2],o=Sl(qk),a=e;a&&!a.isGeoSVGGraphicRoot;)ki(o,a.getLocalTransform(),o),a=a.parent;return To(o,o),wt(r,r,o),r},t}(ab),$k=ue(["rect","circle","line","ellipse","polygon","polyline","path","text","tspan","g"]),Qk=function(){function n(t,e){this.type="geoSVG",this._usedGraphicMap=ue(),this._freedGraphics=[],this._mapName=t,this._parsedXML=jx(e)}return n.prototype.load=function(){var o,a,s,t=this._firstGraphic;if(!t){t=this._firstGraphic=this._buildGraphic(this._parsedXML),this._freedGraphics.push(t),this._boundingRect=this._firstGraphic.boundingRect.clone();var e=(o=t.named,a=[],s=ue(),k(o,function(l){if(null==l.namedFrom){var u=new Kk(l.name,l.el);a.push(u),s.set(l.name,u)}}),{regions:a,regionsMap:s}),r=e.regionsMap;this._regions=e.regions,this._regionsMap=r}return{boundingRect:this._boundingRect,regions:this._regions,regionsMap:this._regionsMap}},n.prototype._buildGraphic=function(t){var e,i,r,o;try{vt(null!=(i=(e=t&&(r=t,o={ignoreViewBox:!0,ignoreRootClip:!0},(new Xk).parse(r,o))||{}).root))}catch(v){throw new Error("Invalid svg format\n"+v.message)}var a=new me;a.add(i),a.isGeoSVGGraphicRoot=!0;var s=e.width,l=e.height,u=e.viewBoxRect,h=this._boundingRect;if(!h){var c=void 0,p=void 0,d=void 0,f=void 0;if(null!=s?(c=0,d=s):u&&(c=u.x,d=u.width),null!=l?(p=0,f=l):u&&(p=u.y,f=u.height),null==c||null==p){var g=i.getBoundingRect();null==c&&(c=g.x,d=g.width),null==p&&(p=g.y,f=g.height)}h=this._boundingRect=new De(c,p,d,f)}if(u){var m=rb(u,h);i.scaleX=i.scaleY=m.scale,i.x=m.x,i.y=m.y}a.setClipPath(new Ee({shape:h.plain()}));var y=[];return k(e.named,function(v){var _;null!=$k.get(v.svgNodeTagLower)&&(y.push(v),(_=v.el).silent=!1,_.isGroup&&_.traverse(function(x){x.silent=!1}))}),{root:a,boundingRect:h,named:y}},n.prototype.useGraphic=function(t){var e=this._usedGraphicMap,i=e.get(t);return i||(i=this._freedGraphics.pop()||this._buildGraphic(this._parsedXML),e.set(t,i),i)},n.prototype.freeGraphic=function(t){var e=this._usedGraphicMap,i=e.get(t);i&&(e.removeKey(t),this._freedGraphics.push(i))},n}();function lb(n,t,e){for(var i=[],r=t[0],o=t[1],a=0;a<n.length;a+=2){var s=n.charCodeAt(a)-64,l=n.charCodeAt(a+1)-64;s=s>>1^-(1&s),l=l>>1^-(1&l),r=s+=r,o=l+=o,i.push([s/e,l/e])}return i}function bg(n,t){return J(Ke((n=function(e){if(!e.UTF8Encoding)return e;var i=e,r=i.UTF8Scale;null==r&&(r=1024);for(var o=i.features,a=0;a<o.length;a++){var s=o[a].geometry;if("Polygon"===s.type)for(var l=s.coordinates,u=0;u<l.length;u++)l[u]=lb(l[u],s.encodeOffsets[u],r);else if("MultiPolygon"===s.type)for(l=s.coordinates,u=0;u<l.length;u++)for(var h=l[u],c=0;c<h.length;c++)h[c]=lb(h[c],s.encodeOffsets[u][c],r)}return i.UTF8Encoding=!1,i}(n)).features,function(e){return e.geometry&&e.properties&&e.geometry.coordinates.length>0}),function(e){var i=e.properties,r=e.geometry,o=[];if("Polygon"===r.type){var a=r.coordinates;o.push({type:"polygon",exterior:a[0],interiors:a.slice(1)})}"MultiPolygon"===r.type&&k(a=r.coordinates,function(l){l[0]&&o.push({type:"polygon",exterior:l[0],interiors:l.slice(1)})});var s=new sb(i[t||"name"],o,i.cp);return s.properties=i,s})}for(var wg=[126,25],ra=[[[0,3.5],[7,11.2],[15,11.9],[30,7],[42,.7],[52,.7],[56,7.7],[59,.7],[64,.7],[64,0],[5,0],[0,3.5]],[[13,16.1],[19,14.7],[16,21.7],[11,23.1],[13,16.1]],[[12,32.2],[14,38.5],[15,38.5],[13,32.2],[12,32.2]],[[16,47.6],[12,53.2],[13,53.2],[18,47.6],[16,47.6]],[[6,64.4],[8,70],[9,70],[8,64.4],[6,64.4]],[[23,82.6],[29,79.8],[30,79.8],[25,82.6],[23,82.6]],[[37,70.7],[43,62.3],[44,62.3],[39,70.7],[37,70.7]],[[48,51.1],[51,45.5],[53,45.5],[50,51.1],[48,51.1]],[[51,35],[51,28.7],[53,28.7],[53,35],[51,35]],[[52,22.4],[55,17.5],[56,17.5],[53,22.4],[52,22.4]],[[58,12.6],[62,7],[63,7],[60,12.6],[58,12.6]],[[0,3.5],[0,93.1],[64,93.1],[64,0],[63,0],[63,92.4],[1,92.4],[1,3.5],[0,3.5]]],oa=0;oa<ra.length;oa++)for(var Is=0;Is<ra[oa].length;Is++)ra[oa][Is][0]/=10.5,ra[oa][Is][1]/=-14,ra[oa][Is][0]+=wg[0],ra[oa][Is][1]+=wg[1];var Jk={\u5357\u6d77\u8bf8\u5c9b:[32,80],\u5e7f\u4e1c:[0,-10],\u9999\u6e2f:[10,5],\u6fb3\u95e8:[-10,10],\u5929\u6d25:[5,5]},eL={Russia:[100,60],"United States":[-99,38],"United States of America":[-99,38]},tL=[[[123.45165252685547,25.73527164402261],[123.49731445312499,25.73527164402261],[123.49731445312499,25.750734064600884],[123.45165252685547,25.750734064600884],[123.45165252685547,25.73527164402261]]],nL=function(){function n(t,e,i){var r;this.type="geoJSON",this._parsedMap=ue(),this._mapName=t,this._specialAreas=i,this._geoJSON=Ce(r=e)?"undefined"!=typeof JSON&&JSON.parse?JSON.parse(r):new Function("return ("+r+");")():r}return n.prototype.load=function(t,e){var i=this._parsedMap.get(e=e||"name");if(!i){var r=this._parseToRegions(e);i=this._parsedMap.set(e,{regions:r,boundingRect:iL(r)})}var o=ue(),a=[];return k(i.regions,function(s){var l=s.name;t&&t.hasOwnProperty(l)&&(s=s.cloneShallow(l=t[l])),a.push(s),o.set(l,s)}),{regions:a,boundingRect:i.boundingRect||new De(0,0,0,0),regionsMap:o}},n.prototype._parseToRegions=function(t){var e,i=this._mapName,r=this._geoJSON;try{e=r?bg(r,t):[]}catch(o){throw new Error("Invalid geoJson format\n"+o.message)}return function(o,a){if("china"===o){for(var s=0;s<a.length;s++)if("\u5357\u6d77\u8bf8\u5c9b"===a[s].name)return;a.push(new sb("\u5357\u6d77\u8bf8\u5c9b",J(ra,function(l){return{type:"polygon",exterior:l}}),wg))}}(i,e),k(e,function(o){var u,a=o.name;(function(l,u){if("china"===l){var h=Jk[u.name];if(h){var c=u.getCenter();c[0]+=h[0]/10.5,c[1]+=-h[1]/14,u.setCenter(c)}}})(i,o),function(l,u){if("world"===l){var h=eL[u.name];h&&u.setCenter([h[0],h[1]])}}(i,o),u=o,"china"===i&&"\u53f0\u6e7e"===u.name&&u.geometries.push({type:"polygon",exterior:tL[0]});var s=this._specialAreas&&this._specialAreas[a];s&&o.transformTo(s.left,s.top,s.width,s.height)},this),e},n.prototype.getMapForUser=function(){return{geoJson:this._geoJSON,geoJSON:this._geoJSON,specialAreas:this._specialAreas}},n}();function iL(n){for(var t,e=0;e<n.length;e++){var i=n[e].getBoundingRect();(t=t||i.clone()).union(i)}return t}var _u=ue(),Xc=function(n){return _u.get(n)},Sg=function(n,t,e){var i=_u.get(n);if(i)return i.load(t,e)},yi=new _n,aL="undefined"!=typeof window,hb={PROCESSOR:{FILTER:1e3,SERIES_FILTER:800,STATISTIC:5e3},VISUAL:{LAYOUT:1e3,PROGRESSIVE_LAYOUT:1100,GLOBAL:2e3,CHART:3e3,POST_CHART_LAYOUT:4600,COMPONENT:4e3,BRUSH:5e3,CHART_ITEM:4500,ARIA:6e3,DECAL:7e3}},cb=/^[a-zA-Z0-9_]+$/,Ig="__connectUpdateStatus";function pb(n){return function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(!this.isDisposed())return fb(this,n,t)}}function db(n){return function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return fb(this,n,t)}}function fb(n,t,e){return e[0]=e[0]&&e[0].toLowerCase(),_n.prototype[t].apply(n,e)}var Ts,Tg,Zc,$r,Cg,Ag,Dg,xu,bu,gb,mb,wu,kg,yb,jc,vb,_b,Kn,xb,bb=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return G(t,n),t}(_n),wb=bb.prototype;wb.on=db("on"),wb.off=db("off");var qc=function(n){function t(e,i,r){var o=n.call(this,new Ok)||this;o._chartsViews=[],o._chartsMap={},o._componentsViews=[],o._componentsMap={},o._pendingActions=[],r=r||{},"string"==typeof i&&(i=Sb[i]),o._dom=e;var l=o._zr=Od(e,{renderer:r.renderer||"canvas",devicePixelRatio:r.devicePixelRatio,width:r.width,height:r.height,useDirtyRect:null!=r.useDirtyRect&&r.useDirtyRect});o._throttledZrFlush=cu(re(l.flush,l),17),(i=de(i))&&L1(i,!0),o._theme=i,o._locale=function(c){if(Ce(c)){var p=xc[c.toUpperCase()]||{};return"ZH"===c||"EN"===c?de(p):we(de(p),de(xc.EN),!1)}return we(de(c),de(xc.EN),!1)}(r.locale||X_),o._coordSysMgr=new ms;var u=o._api=vb(o);function h(c,p){return c.__prio-p.__prio}return vl($c,h),vl(Pg,h),o._scheduler=new Sx(o,u,Pg,$c),o._messageCenter=new bb,o._initEvents(),o.resize=re(o.resize,o),l.animation.on("frame",o._onframe,o),gb(l,o),mb(l,o),xr(o),o}return G(t,n),t.prototype._onframe=function(){if(!this._disposed){xb(this);var e=this._scheduler;if(this.__pendingUpdate){var i=this.__pendingUpdate.silent;this.__flagInMainProcess=!0,Ts(this),$r.update.call(this,null,this.__pendingUpdate.updateParams),this._zr.flush(),this.__flagInMainProcess=!1,this.__pendingUpdate=null,xu.call(this,i),bu.call(this,i)}else if(e.unfinished){var r=1,o=this._model,a=this._api;e.unfinished=!1;do{var s=+new Date;e.performSeriesTasks(o),e.performDataProcessorTasks(o),Ag(this,o),e.performVisualTasks(o),jc(this,this._model,a,"remain",{}),r-=+new Date-s}while(r>0&&e.unfinished);e.unfinished||this._zr.flush()}}},t.prototype.getDom=function(){return this._dom},t.prototype.getId=function(){return this.id},t.prototype.getZr=function(){return this._zr},t.prototype.setOption=function(e,i,r){if(this._disposed);else{var o,a,s;if(pe(i)&&(r=i.lazyUpdate,o=i.silent,a=i.replaceMerge,s=i.transition,i=i.notMerge),this.__flagInMainProcess=!0,!this._model||i){var l=new GD(this._api),u=this._theme,h=this._model=new Kf;h.scheduler=this._scheduler,h.init(null,null,null,u,this._locale,l)}this._model.setOption(e,{replaceMerge:a},Og);var c={seriesTransition:s,optionChanged:!0};r?(this.__pendingUpdate={silent:o,updateParams:c},this.__flagInMainProcess=!1,this.getZr().wakeUp()):(Ts(this),$r.update.call(this,null,c),this._zr.flush(),this.__pendingUpdate=null,this.__flagInMainProcess=!1,xu.call(this,o),bu.call(this,o))}},t.prototype.setTheme=function(){console.error("ECharts#setTheme() is DEPRECATED in ECharts 3.0")},t.prototype.getModel=function(){return this._model},t.prototype.getOption=function(){return this._model&&this._model.getOption()},t.prototype.getWidth=function(){return this._zr.getWidth()},t.prototype.getHeight=function(){return this._zr.getHeight()},t.prototype.getDevicePixelRatio=function(){return this._zr.painter.dpr||aL&&window.devicePixelRatio||1},t.prototype.getRenderedCanvas=function(e){if(ge.canvasSupported)return this._zr.painter.getRenderedCanvas({backgroundColor:(e=e||{}).backgroundColor||this._model.get("backgroundColor"),pixelRatio:e.pixelRatio||this.getDevicePixelRatio()})},t.prototype.getSvgDataURL=function(){if(ge.svgSupported){var e=this._zr;return k(e.storage.getDisplayList(),function(i){i.stopAnimation(null,!0)}),e.painter.toDataURL()}},t.prototype.getDataURL=function(e){if(!this._disposed){var i=(e=e||{}).excludeComponents,r=this._model,o=[],a=this;k(i,function(l){r.eachComponent({mainType:l},function(u){var h=a._componentsMap[u.__viewId];h.group.ignore||(o.push(h),h.group.ignore=!0)})});var s="svg"===this._zr.painter.getType()?this.getSvgDataURL():this.getRenderedCanvas(e).toDataURL("image/"+(e&&e.type||"png"));return k(o,function(l){l.group.ignore=!1}),s}},t.prototype.getConnectedDataURL=function(e){if(this._disposed);else if(ge.canvasSupported){var i="svg"===e.type,r=this.group,o=Math.min,a=Math.max,s=1/0;if(Qc[r]){var l=s,u=s,h=-1/0,c=-1/0,p=[],d=e&&e.pixelRatio||this.getDevicePixelRatio();k(aa,function(_,x){if(_.group===r){var b=i?_.getZr().painter.getSvgDom().innerHTML:_.getRenderedCanvas(de(e)),w=_.getDom().getBoundingClientRect();l=o(w.left,l),u=o(w.top,u),h=a(w.right,h),c=a(w.bottom,c),p.push({dom:b,left:w.left,top:w.top})}});var f=(h*=d)-(l*=d),g=(c*=d)-(u*=d),m=ji(),y=Od(m,{renderer:i?"svg":"canvas"});if(y.resize({width:f,height:g}),i){var v="";return k(p,function(_){v+='<g transform="translate('+(_.left-l)+","+(_.top-u)+')">'+_.dom+"</g>"}),y.painter.getSvgRoot().innerHTML=v,e.connectedBackgroundColor&&y.painter.setBackgroundColor(e.connectedBackgroundColor),y.refreshImmediately(),y.painter.toDataURL()}return e.connectedBackgroundColor&&y.add(new Ee({shape:{x:0,y:0,width:f,height:g},style:{fill:e.connectedBackgroundColor}})),k(p,function(_){var x=new It({style:{x:_.left*d-l,y:_.top*d-u,image:_.dom}});y.add(x)}),y.refreshImmediately(),m.toDataURL("image/"+(e&&e.type||"png"))}return this.getDataURL(e)}},t.prototype.convertToPixel=function(e,i){return Cg(this,"convertToPixel",e,i)},t.prototype.convertFromPixel=function(e,i){return Cg(this,"convertFromPixel",e,i)},t.prototype.containPixel=function(e,i){var r;if(!this._disposed)return k(Ol(this._model,e),function(o,a){a.indexOf("Models")>=0&&k(o,function(s){var l=s.coordinateSystem;if(l&&l.containPoint)r=r||!!l.containPoint(i);else if("seriesModels"===a){var u=this._chartsMap[s.__viewId];u&&u.containPoint&&(r=r||u.containPoint(i,s))}},this)},this),!!r},t.prototype.getVisual=function(e,i){var r=Ol(this._model,e,{defaultMainType:"series"}),a=r.seriesModel.getData(),s=r.hasOwnProperty("dataIndexInside")?r.dataIndexInside:r.hasOwnProperty("dataIndex")?a.indexOfRawIndex(r.dataIndex):null;return null!=s?dg(a,s,i):gu(a,i)},t.prototype.getViewOfComponentModel=function(e){return this._componentsMap[e.__viewId]},t.prototype.getViewOfSeriesModel=function(e){return this._chartsMap[e.__viewId]},t.prototype._initEvents=function(){var i,r,o=this;k(sL,function(a){var s=function(l){var u,h=o.getModel(),c=l.target;if("globalout"===a?u={}:c&&Ss(c,function(y){var v=_e(y);if(v&&null!=v.dataIndex){var _=v.dataModel||h.getSeriesByIndex(v.seriesIndex);return u=_&&_.getDataParams(v.dataIndex,v.dataType)||{},!0}if(v.eventData)return u=K({},v.eventData),!0},!0),u){var d=u.componentType,f=u.componentIndex;"markLine"!==d&&"markPoint"!==d&&"markArea"!==d||(d="series",f=u.seriesIndex);var g=d&&null!=f&&h.getComponent(d,f),m=g&&o["series"===g.mainType?"_chartsMap":"_componentsMap"][g.__viewId];u.event=l,u.type=a,o._$eventProcessor.eventInfo={targetEl:c,packedEvent:u,model:g,view:m},o.trigger(a,u)}};s.zrEventfulCallAtLast=!0,o._zr.on(a,s,o)}),k(Su,function(a,s){o._messageCenter.on(s,function(l){this.trigger(s,l)},o)}),k(["selectchanged"],function(a){o._messageCenter.on(a,function(s){this.trigger(a,s)},o)}),i=this,r=this._api,this._messageCenter.on("selectchanged",function(a){var s=r.getModel();a.isFromClick?(ws("map","selectchanged",i,s,a),ws("pie","selectchanged",i,s,a)):"select"===a.fromAction?(ws("map","selected",i,s,a),ws("pie","selected",i,s,a)):"unselect"===a.fromAction&&(ws("map","unselected",i,s,a),ws("pie","unselected",i,s,a))})},t.prototype.isDisposed=function(){return this._disposed},t.prototype.clear=function(){this._disposed||this.setOption({series:[]},!0)},t.prototype.dispose=function(){if(this._disposed);else{this._disposed=!0,p0(this.getDom(),Ng,"");var e=this,i=e._api,r=e._model;k(e._componentsViews,function(o){o.dispose(r,i)}),k(e._chartsViews,function(o){o.dispose(r,i)}),e._zr.dispose(),e._dom=e._model=e._chartsMap=e._componentsMap=e._chartsViews=e._componentsViews=e._scheduler=e._api=e._zr=e._throttledZrFlush=e._theme=e._coordSysMgr=e._messageCenter=null,delete aa[e.id]}},t.prototype.resize=function(e){if(this._disposed);else{this._zr.resize(e);var i=this._model;if(this._loadingFX&&this._loadingFX.resize(),i){var r=i.resetOption("media"),o=e&&e.silent;this.__pendingUpdate&&(null==o&&(o=this.__pendingUpdate.silent),r=!0,this.__pendingUpdate=null),this.__flagInMainProcess=!0,r&&Ts(this),$r.update.call(this,{type:"resize",animation:K({duration:0},e&&e.animation)}),this.__flagInMainProcess=!1,xu.call(this,o),bu.call(this,o)}}},t.prototype.showLoading=function(e,i){if(this._disposed);else if(pe(e)&&(i=e,e=""),e=e||"default",this.hideLoading(),Eg[e]){var r=Eg[e](this._api,i),o=this._zr;this._loadingFX=r,o.add(r)}},t.prototype.hideLoading=function(){this._disposed||(this._loadingFX&&this._zr.remove(this._loadingFX),this._loadingFX=null)},t.prototype.makeActionFromEvent=function(e){var i=K({},e);return i.type=Su[e.type],i},t.prototype.dispatchAction=function(e,i){if(this._disposed);else if(pe(i)||(i={silent:!!i}),Kc[e.type]&&this._model)if(this.__flagInMainProcess)this._pendingActions.push(e);else{var r=i.silent;Dg.call(this,e,r);var o=i.flush;o?this._zr.flush():!1!==o&&ge.browser.weChat&&this._throttledZrFlush(),xu.call(this,r),bu.call(this,r)}},t.prototype.updateLabelLayout=function(){yi.trigger("series:layoutlabels",this._model,this._api,{updatedSeries:[]})},t.prototype.appendData=function(e){if(this._disposed);else{var i=e.seriesIndex;this.getModel().getSeriesByIndex(i).appendData(e),this._scheduler.unfinished=!0,this.getZr().wakeUp()}},t.internalField=function(){function e(s){for(var l=[],u=s.currentStates,h=0;h<u.length;h++){var c=u[h];"emphasis"!==c&&"blur"!==c&&"select"!==c&&l.push(c)}s.selected&&s.states.select&&l.push("select"),2===s.hoverState&&s.states.emphasis?l.push("emphasis"):1===s.hoverState&&s.states.blur&&l.push("blur"),s.useStates(l)}function i(s,l){s.preventAutoZ||r(l.group,s.get("z")||0,s.get("zlevel")||0,-1/0)}function r(s,l,u,h){var c=s.getTextContent(),p=s.getTextGuideLine();if(s.isGroup)for(var d=s.childrenRef(),f=0;f<d.length;f++)h=Math.max(r(d[f],l,u,h),h);else s.z=l,s.zlevel=u,h=Math.max(s.z2,h);if(c&&(c.z=l,c.zlevel=u,isFinite(h)&&(c.z2=h+2)),p){var g=s.textGuideLineConfig;p.z=l,p.zlevel=u,isFinite(h)&&(p.z2=h+(g&&g.showAbove?1:-1))}return h}function o(s,l){l.group.traverse(function(u){if(!os(u)){var h=u.getTextContent(),c=u.getTextGuideLine();u.stateTransition&&(u.stateTransition=null),h&&h.stateTransition&&(h.stateTransition=null),c&&c.stateTransition&&(c.stateTransition=null),u.hasState()?(u.prevStates=u.currentStates,u.clearStates()):u.prevStates&&(u.prevStates=null)}})}function a(s,l){var u=s.getModel("stateAnimation"),h=s.isAnimationEnabled(),c=u.get("duration"),p=c>0?{duration:c,delay:u.get("delay"),easing:u.get("easing")}:null;l.group.traverse(function(d){if(d.states&&d.states.emphasis){if(os(d))return;if(d instanceof Le&&function(y){var v=q0(y);v.normalFill=y.style.fill,v.normalStroke=y.style.stroke;var _=y.states.select||{};v.selectFill=_.style&&_.style.fill||null,v.selectStroke=_.style&&_.style.stroke||null}(d),d.__dirty){var f=d.prevStates;f&&d.useStates(f)}if(h){d.stateTransition=p;var g=d.getTextContent(),m=d.getTextGuideLine();g&&(g.stateTransition=p),m&&(m.stateTransition=p)}d.__dirty&&e(d)}})}Ts=function(s){var l=s._scheduler;l.restorePipelines(s._model),l.prepareStageTasks(),Tg(s,!0),Tg(s,!1),l.plan()},Tg=function(s,l){for(var u=s._model,h=s._scheduler,c=l?s._componentsViews:s._chartsViews,p=l?s._componentsMap:s._chartsMap,d=s._zr,f=s._api,g=0;g<c.length;g++)c[g].__alive=!1;function m(v){var _=v.__requireNewView;v.__requireNewView=!1;var x="_ec_"+v.id+"_"+v.type,b=!_&&p[x];if(!b){var w=Pi(v.type);(b=new(l?it.getClass(w.main,w.sub):je.getClass(w.sub))).init(u,f),p[x]=b,c.push(b),d.add(b.group)}v.__viewId=b.__id=x,b.__alive=!0,b.__model=v,b.group.__ecComponentInfo={mainType:v.mainType,index:v.componentIndex},!l&&h.prepareView(b,v,u,f)}for(l?u.eachComponent(function(v,_){"series"!==v&&m(_)}):u.eachSeries(m),g=0;g<c.length;){var y=c[g];y.__alive?g++:(!l&&y.renderTask.dispose(),d.remove(y.group),y.dispose(u,f),c.splice(g,1),p[y.__id]===y&&delete p[y.__id],y.__id=y.group.__ecComponentInfo=null)}},Zc=function(s,l,u,h,c){var p=s._model;if(p.setUpdatePayload(u),h){var d={};d[h+"Id"]=u[h+"Id"],d[h+"Index"]=u[h+"Index"],d[h+"Name"]=u[h+"Name"];var f={mainType:h,query:d};c&&(f.subType=c);var g,m=u.excludeSeriesId;null!=m&&(g=ue(),k(Je(m),function(v){var _=Ot(v,null);null!=_&&g.set(_,!0)})),mf(u)&&u_(s._api),p&&p.eachComponent(f,function(v){if(!g||null===g.get(v.id))if(mf(u))if(v instanceof et)u.type!==Zo||u.notBlur||function(w,S,M){var T=w.seriesIndex,C=w.getData(S.dataType),A=No(C,S);A=(Z(A)?A[0]:A)||0;var D=C.getItemGraphicEl(A);if(!D)for(var L=C.count(),P=0;!D&&P<L;)D=C.getItemGraphicEl(P++);if(D){var E=_e(D);cf(T,E.focus,E.blurScope,M)}else{var N=w.get(["emphasis","focus"]),R=w.get(["emphasis","blurScope"]);null!=N&&cf(T,N,R,M)}}(v,u,s._api);else{var _=df(v.mainType,v.componentIndex,u.name,s._api),b=_.dispatchers;u.type===Zo&&_.focusSelf&&!u.notBlur&&pf(v.mainType,v.componentIndex,s._api),b&&k(b,function(w){u.type===Zo?zi(w):Bi(w)})}else gf(u)&&v instanceof et&&(function(w,S,M){if(gf(S)){var T=S.dataType,C=No(w.getData(T),S);Z(C)||(C=[C]),w[S.type===Wl?"toggleSelect":S.type===Hl?"select":"unselect"](C,T)}}(v,u),h_(v),Kn(s))},s),p&&p.eachComponent(f,function(v){g&&null!==g.get(v.id)||y(s["series"===h?"_chartsMap":"_componentsMap"][v.__viewId])},s)}else k([].concat(s._componentsViews).concat(s._chartsViews),y);function y(v){v&&v.__alive&&v[l]&&v[l](v.__model,p,s._api,u)}},$r={prepareAndUpdate:function(s){Ts(this),$r.update.call(this,s,{optionChanged:null!=s.newOption})},update:function(s,l){var u=this._model,h=this._api,c=this._zr,p=this._coordSysMgr,d=this._scheduler;if(u){u.setUpdatePayload(s),d.restoreData(u,s),d.performSeriesTasks(u),p.create(u,h),d.performDataProcessorTasks(u,s),Ag(this,u),p.update(u,h),wu(u),d.performVisualTasks(u,s),kg(this,u,h,s,l);var f=u.get("backgroundColor")||"transparent",g=u.get("darkMode");if(ge.canvasSupported)c.setBackgroundColor(f),null!=g&&"auto"!==g&&c.setDarkMode(g);else{var m=Rt(f);f=bn(m,"rgb"),0===m[3]&&(f="transparent")}yi.trigger("afterupdate",u,h)}},updateTransform:function(s){var l=this,u=this._model,h=this._api;if(u){u.setUpdatePayload(s);var c=[];u.eachComponent(function(d,f){if("series"!==d){var g=l.getViewOfComponentModel(f);if(g&&g.__alive)if(g.updateTransform){var m=g.updateTransform(f,u,h,s);m&&m.update&&c.push(g)}else c.push(g)}});var p=ue();u.eachSeries(function(d){var f=l._chartsMap[d.__viewId];if(f.updateTransform){var g=f.updateTransform(d,u,h,s);g&&g.update&&p.set(d.uid,1)}else p.set(d.uid,1)}),wu(u),this._scheduler.performVisualTasks(u,s,{setDirty:!0,dirtyMap:p}),jc(this,u,h,s,{},p),yi.trigger("afterupdate",u,h)}},updateView:function(s){var l=this._model;l&&(l.setUpdatePayload(s),je.markUpdateMethod(s,"updateView"),wu(l),this._scheduler.performVisualTasks(l,s,{setDirty:!0}),kg(this,l,this._api,s,{}),yi.trigger("afterupdate",l,this._api))},updateVisual:function(s){var l=this,u=this._model;u&&(u.setUpdatePayload(s),u.eachSeries(function(h){h.getData().clearAllVisual()}),je.markUpdateMethod(s,"updateVisual"),wu(u),this._scheduler.performVisualTasks(u,s,{visualType:"visual",setDirty:!0}),u.eachComponent(function(h,c){if("series"!==h){var p=l.getViewOfComponentModel(c);p&&p.__alive&&p.updateVisual(c,u,l._api,s)}}),u.eachSeries(function(h){l._chartsMap[h.__viewId].updateVisual(h,u,l._api,s)}),yi.trigger("afterupdate",u,this._api))},updateLayout:function(s){$r.update.call(this,s)}},Cg=function(s,l,u,h){if(s._disposed);else for(var c,p=s._model,d=s._coordSysMgr.getCoordinateSystems(),f=Ol(p,u),g=0;g<d.length;g++){var m=d[g];if(m[l]&&null!=(c=m[l](p,f,h)))return c}},Ag=function(s,l){var u=s._chartsMap,h=s._scheduler;l.eachSeries(function(c){h.updateStreamModes(c,u[c.__viewId])})},Dg=function(s,l){var u=this,h=this.getModel(),c=s.type,p=s.escapeConnect,d=Kc[c],f=d.actionInfo,g=(f.update||"update").split(":"),m=g.pop(),y=null!=g[0]&&Pi(g[0]);this.__flagInMainProcess=!0;var v=[s],_=!1;s.batch&&(_=!0,v=J(s.batch,function(C){return(C=ce(K({},C),s)).batch=null,C}));var x,b=[],w=gf(s),S=mf(s);if(k(v,function(C){if((x=(x=d.action(C,u._model,u._api))||K({},C)).type=f.event||x.type,b.push(x),S){var A=Hd(s),L=A.mainTypeSpecified?A.queryOptionMap.keys()[0]:"series";Zc(u,m,C,L),Kn(u)}else w?(Zc(u,m,C,"series"),Kn(u)):y&&Zc(u,m,C,y.main,y.sub)}),"none"===m||S||w||y||(this.__pendingUpdate?(Ts(this),$r.update.call(this,s),this.__pendingUpdate=null):$r[m].call(this,s)),x=_?{type:f.event||c,escapeConnect:p,batch:b}:b[0],this.__flagInMainProcess=!1,!l){var M=this._messageCenter;if(M.trigger(x.type,x),w){var T={type:"selectchanged",escapeConnect:p,selected:tD(h),isFromClick:s.isFromClick||!1,fromAction:s.type,fromActionPayload:s};M.trigger(T.type,T)}}},xu=function(s){for(var l=this._pendingActions;l.length;){var u=l.shift();Dg.call(this,u,s)}},bu=function(s){!s&&this.trigger("updated")},gb=function(s,l){s.on("rendered",function(u){l.trigger("rendered",u),!s.animation.isFinished()||l.__pendingUpdate||l._scheduler.unfinished||l._pendingActions.length||l.trigger("finished")})},mb=function(s,l){s.on("mouseover",function(u){var c,p,d,f,g,m,h=Ss(u.target,ic);h&&(p=u,d=l._api,(m=(g=df((f=_e(c=h)).componentMainType,f.componentIndex,f.componentHighDownName,d)).dispatchers)?(g.focusSelf&&pf(f.componentMainType,f.componentIndex,d),k(m,function(v){return n_(v,p)})):(cf(f.seriesIndex,f.focus,f.blurScope,d),"self"===f.focus&&pf(f.componentMainType,f.componentIndex,d),n_(c,p)),Kn(l))}).on("mouseout",function(u){var h=Ss(u.target,ic);h&&(function(c,p,d){u_(d);var f=_e(c),g=df(f.componentMainType,f.componentIndex,f.componentHighDownName,d).dispatchers;g?k(g,function(m){return i_(m,p)}):i_(c,p)}(h,u,l._api),Kn(l))}).on("click",function(u){var h=Ss(u.target,function(d){return null!=_e(d).dataIndex},!0);if(h){var c=h.selected?"unselect":"select",p=_e(h);l._api.dispatchAction({type:c,dataType:p.dataType,dataIndexInside:p.dataIndex,seriesIndex:p.seriesIndex,isFromClick:!0})}})},wu=function(s){s.clearColorPalette(),s.eachSeries(function(l){l.clearColorPalette()})},kg=function(s,l,u,h,c){yb(s,l,u,h,c),k(s._chartsViews,function(p){p.__alive=!1}),jc(s,l,u,h,c),k(s._chartsViews,function(p){p.__alive||p.remove(l,u)})},yb=function(s,l,u,h,c,p){k(p||s._componentsViews,function(d){var f=d.__model;o(0,d),d.render(f,l,u,h),i(f,d),a(f,d)})},jc=function(s,l,u,h,c,p){var d=s._scheduler;c=K(c||{},{updatedSeries:l.getSeries()}),yi.trigger("series:beforeupdate",l,u,c);var g,m,v,f=!1;l.eachSeries(function(g){var m=s._chartsMap[g.__viewId];m.__alive=!0;var _,x,y=m.renderTask;d.updatePayload(y,h),o(0,m),p&&p.get(g.uid)&&y.dirty(),y.perform(d.getPerformArgs(y))&&(f=!0),m.group.silent=!!g.get("silent"),_=m,x=g.get("blendMode")||null,_.group.traverse(function(b){b.isGroup||(b.style.blend=x),b.eachPendingDisplayable&&b.eachPendingDisplayable(function(w){w.style.blend=x})}),h_(g)}),d.unfinished=f||d.unfinished,yi.trigger("series:layoutlabels",l,u,c),yi.trigger("series:transition",l,u,c),l.eachSeries(function(g){var m=s._chartsMap[g.__viewId];i(g,m),a(g,m)}),m=l,v=0,(g=s)._zr.storage.traverse(function(_){_.isGroup||v++}),v>m.get("hoverLayerThreshold")&&!ge.node&&!ge.worker&&m.eachSeries(function(_){if(!_.preventUsingHoverLayer){var x=g._chartsMap[_.__viewId];x.__alive&&x.group.traverse(function(b){b.states.emphasis&&(b.states.emphasis.hoverLayer=!0)})}}),yi.trigger("series:afterupdate",l,u,c)},Kn=function(s){s.__needsUpdateStatus=!0,s.getZr().wakeUp()},xb=function(s){s.__needsUpdateStatus&&(s.getZr().storage.traverse(function(l){os(l)||e(l)}),s.__needsUpdateStatus=!1)},vb=function(s){return new(function(l){function u(){return null!==l&&l.apply(this,arguments)||this}return G(u,l),u.prototype.getCoordinateSystems=function(){return s._coordSysMgr.getCoordinateSystems()},u.prototype.getComponentByElement=function(h){for(;h;){var c=h.__ecComponentInfo;if(null!=c)return s._model.getComponent(c.mainType,c.index);h=h.parent}},u.prototype.enterEmphasis=function(h,c){zi(h,c),Kn(s)},u.prototype.leaveEmphasis=function(h,c){Bi(h,c),Kn(s)},u.prototype.enterBlur=function(h){r_(h),Kn(s)},u.prototype.leaveBlur=function(h){o_(h),Kn(s)},u.prototype.enterSelect=function(h){a_(h),Kn(s)},u.prototype.leaveSelect=function(h){s_(h),Kn(s)},u.prototype.getModel=function(){return s.getModel()},u.prototype.getViewOfComponentModel=function(h){return s.getViewOfComponentModel(h)},u.prototype.getViewOfSeriesModel=function(h){return s.getViewOfSeriesModel(h)},u}(M1))(s)},_b=function(s){function l(u,h){for(var c=0;c<u.length;c++)u[c][Ig]=h}k(Su,function(u,h){s._messageCenter.on(h,function(c){if(Qc[s.group]&&0!==s[Ig]){if(c&&c.escapeConnect)return;var p=s.makeActionFromEvent(c),d=[];k(aa,function(f){f!==s&&f.group===s.group&&d.push(f)}),l(d,0),k(d,function(f){1!==f[Ig]&&f.dispatchAction(p)}),l(d,2)}})})}}(),t}(_n),Lg=qc.prototype;Lg.on=pb("on"),Lg.off=pb("off"),Lg.one=function(n,t,e){var i=this;this.on.call(this,n,function r(){for(var o=[],a=0;a<arguments.length;a++)o[a]=arguments[a];t&&t.apply&&t.apply(this,o),i.off(n,r)},e)};var sL=["click","dblclick","mouseover","mouseout","mousemove","mousedown","mouseup","globalout","contextmenu"],Kc={},Su={},Pg=[],Og=[],$c=[],Sb={},Eg={},aa={},Qc={},lL=+new Date-0,uL=+new Date-0,Ng="_echarts_instance_";function Mb(n){Qc[n]=!1}var hL=Mb;function Rg(n){return aa[function(t,e){return t.getAttribute?t.getAttribute(e):t[e]}(n,Ng)]}function zg(n,t){Sb[n]=t}function Bg(n){Ie(Og,n)<0&&Og.push(n)}function Vg(n,t){Gg(Pg,n,t,2e3)}function Ib(n){Jc("afterinit",n)}function Tb(n){Jc("afterupdate",n)}function Jc(n,t){yi.on(n,t)}function vi(n,t,e){"function"==typeof t&&(e=t,t="");var i=pe(n)?n.type:[n,n={event:t}][0];n.event=(n.event||i).toLowerCase(),Su[t=n.event]||(vt(cb.test(i)&&cb.test(t)),Kc[i]||(Kc[i]={action:e,actionInfo:n}),Su[t]=i)}function Cb(n,t){ms.register(n,t)}function Ab(n,t){Gg($c,n,t,1e3,"layout")}function Qr(n,t){Gg($c,n,t,3e3,"visual")}var Db=[];function Gg(n,t,e,i,r){if((Be(t)||pe(t))&&(e=t,t=i),!(Ie(Db,e)>=0)){Db.push(e);var o=Sx.wrapStageHandler(e,r);o.__prio=t,o.__raw=e,n.push(o)}}function Fg(n,t){Eg[n]=t}function kb(n,t,e){!function(n,t,e){if(t.svg){var i=new Qk(n,t.svg);_u.set(n,i)}else{var r=t.geoJson||t.geoJSON;r&&!t.features?e=t.specialAreas:r=t,i=new nL(n,r,e),_u.set(n,i)}}(n,t,e)}var Lb=function(n){var t=(n=de(n)).type;t||Xe("");var i=t.split(":");2!==i.length&&Xe("");var r=!1;"echarts"===i[0]&&(t=i[1],r=!0),n.__isBuiltIn=r,q1.set(t,n)};Qr(2e3,xk),Qr(4500,bk),Qr(4500,wk),Qr(2e3,Ek),Qr(4500,{createOnAllSeries:!0,performRawSeries:!0,reset:function(n,t){if(n.hasSymbolVisual&&!t.isSeriesFiltered(n))return{dataEach:n.getData().hasItemOption?function(e,i){var r=e.getItemModel(i),o=r.getShallow("symbol",!0),a=r.getShallow("symbolSize",!0),s=r.getShallow("symbolRotate",!0),l=r.getShallow("symbolOffset",!0),u=r.getShallow("symbolKeepAspect",!0);null!=o&&e.setItemVisual(i,"symbol",o),null!=a&&e.setItemVisual(i,"symbolSize",a),null!=s&&e.setItemVisual(i,"symbolRotate",s),null!=l&&e.setItemVisual(i,"symbolOffset",l),null!=u&&e.setItemVisual(i,"symbolKeepAspect",u)}:null}}}),Qr(7e3,function(n,t){n.eachRawSeries(function(e){if(!n.isSeriesFiltered(e)){var i=e.getData();i.hasItemVisual()&&i.each(function(o){var a=i.getItemVisual(o,"decal");a&&(i.ensureUniqueItemVisual(o,"style").decal=vu(a,t))});var r=i.getVisual("decal");r&&(i.getVisual("style").decal=vu(r,t))}})}),Bg(L1),Vg(900,function(n){var t=ue();n.eachSeries(function(e){var i=e.get("stack");if(i){var r=t.get(i)||t.set(i,[]),o=e.getData(),a={stackResultDimension:o.getCalculationInfo("stackResultDimension"),stackedOverDimension:o.getCalculationInfo("stackedOverDimension"),stackedDimension:o.getCalculationInfo("stackedDimension"),stackedByDimension:o.getCalculationInfo("stackedByDimension"),isStackedByIndex:o.getCalculationInfo("isStackedByIndex"),data:o,seriesModel:e};if(!a.stackedDimension||!a.isStackedByIndex&&!a.stackedByDimension)return;r.length&&o.setCalculationInfo("stackedOnSeries",r[r.length-1].seriesModel),r.push(a)}}),t.each(XD)}),Fg("default",function(n,t){ce(t=t||{},{text:"loading",textColor:"#000",fontSize:12,fontWeight:"normal",fontStyle:"normal",fontFamily:"sans-serif",maskColor:"rgba(255, 255, 255, 0.8)",showSpinner:!0,color:"#5470c6",spinnerRadius:10,lineWidth:5,zlevel:0});var e=new me,i=new Ee({style:{fill:t.maskColor},zlevel:t.zlevel,z:1e4});e.add(i);var r,o=new Re({style:{text:t.text,fill:t.textColor,fontSize:t.fontSize,fontWeight:t.fontWeight,fontStyle:t.fontStyle,fontFamily:t.fontFamily},zlevel:t.zlevel,z:10001}),a=new Ee({style:{fill:"none"},textContent:o,textConfig:{position:"right",distance:10},zlevel:t.zlevel,z:10001});return e.add(a),t.showSpinner&&((r=new Zl({shape:{startAngle:-Rc/2,endAngle:-Rc/2+.1,r:t.spinnerRadius},style:{stroke:t.color,lineCap:"round",lineWidth:t.lineWidth},zlevel:t.zlevel,z:10001})).animateShape(!0).when(1e3,{endAngle:3*Rc/2}).start("circularInOut"),r.animateShape(!0).when(1e3,{startAngle:3*Rc/2}).delay(300).start("circularInOut"),e.add(r)),e.resize=function(){var s=o.getBoundingRect().width,l=t.showSpinner?t.spinnerRadius:0,u=(n.getWidth()-2*l-(t.showSpinner&&s?10:0)-s)/2-(t.showSpinner&&s?0:5+s/2)+(t.showSpinner?0:s/2)+(s?0:l),h=n.getHeight()/2;t.showSpinner&&r.setShape({cx:u,cy:h}),a.setShape({x:u-l,y:h-l,width:2*l,height:2*l}),i.setShape({x:0,y:0,width:n.getWidth(),height:n.getHeight()})},e.resize(),e}),vi({type:Zo,event:Zo,update:Zo},yn),vi({type:Jh,event:Jh,update:Jh},yn),vi({type:Hl,event:Hl,update:Hl},yn),vi({type:ec,event:ec,update:ec},yn),vi({type:Wl,event:Wl,update:Wl},yn),zg("light",Pk),zg("dark",kx);var Pb=[],cL={registerPreprocessor:Bg,registerProcessor:Vg,registerPostInit:Ib,registerPostUpdate:Tb,registerUpdateLifecycle:Jc,registerAction:vi,registerCoordinateSystem:Cb,registerLayout:Ab,registerVisual:Qr,registerTransform:Lb,registerLoading:Fg,registerMap:kb,PRIORITY:hb,ComponentModel:Pe,ComponentView:it,SeriesModel:et,ChartView:je,registerComponentModel:function(n){Pe.registerClass(n)},registerComponentView:function(n){it.registerClass(n)},registerSeriesModel:function(n){et.registerClass(n)},registerChartView:function(n){je.registerClass(n)},registerSubTypeDefaulter:function(n,t){Pe.registerSubTypeDefaulter(n,t)},registerPainter:function(n,t){e0(n,t)}};function Ae(n){Z(n)?k(n,function(t){Ae(t)}):Ie(Pb,n)>=0||(Pb.push(n),Be(n)&&(n={install:n}),n.install(cL))}function Mu(n){return null==n?0:n.length||1}function Ob(n){return n}var hr=function(){function n(t,e,i,r,o,a){this._old=t,this._new=e,this._oldKeyGetter=i||Ob,this._newKeyGetter=r||Ob,this.context=o,this._diffModeMultiple="multiple"===a}return n.prototype.add=function(t){return this._add=t,this},n.prototype.update=function(t){return this._update=t,this},n.prototype.updateManyToOne=function(t){return this._updateManyToOne=t,this},n.prototype.updateOneToMany=function(t){return this._updateOneToMany=t,this},n.prototype.updateManyToMany=function(t){return this._updateManyToMany=t,this},n.prototype.remove=function(t){return this._remove=t,this},n.prototype.execute=function(){this[this._diffModeMultiple?"_executeMultiple":"_executeOneToOne"]()},n.prototype._executeOneToOne=function(){var t=this._old,e=this._new,i={},r=new Array(t.length),o=new Array(e.length);this._initIndexMap(t,null,r,"_oldKeyGetter"),this._initIndexMap(e,i,o,"_newKeyGetter");for(var a=0;a<t.length;a++){var s=r[a],l=i[s],u=Mu(l);if(u>1){var h=l.shift();1===l.length&&(i[s]=l[0]),this._update&&this._update(h,a)}else 1===u?(i[s]=null,this._update&&this._update(l,a)):this._remove&&this._remove(a)}this._performRestAdd(o,i)},n.prototype._executeMultiple=function(){var e=this._new,i={},r={},o=[],a=[];this._initIndexMap(this._old,i,o,"_oldKeyGetter"),this._initIndexMap(e,r,a,"_newKeyGetter");for(var s=0;s<o.length;s++){var l=o[s],u=i[l],h=r[l],c=Mu(u),p=Mu(h);if(c>1&&1===p)this._updateManyToOne&&this._updateManyToOne(h,u),r[l]=null;else if(1===c&&p>1)this._updateOneToMany&&this._updateOneToMany(h,u),r[l]=null;else if(1===c&&1===p)this._update&&this._update(h,u),r[l]=null;else if(c>1&&p>1)this._updateManyToMany&&this._updateManyToMany(h,u),r[l]=null;else if(c>1)for(var d=0;d<c;d++)this._remove&&this._remove(u[d]);else this._remove&&this._remove(u)}this._performRestAdd(a,r)},n.prototype._performRestAdd=function(t,e){for(var i=0;i<t.length;i++){var r=t[i],o=e[r],a=Mu(o);if(a>1)for(var s=0;s<a;s++)this._add&&this._add(o[s]);else 1===a&&this._add&&this._add(o);e[r]=null}},n.prototype._initIndexMap=function(t,e,i,r){for(var o=this._diffModeMultiple,a=0;a<t.length;a++){var s="_ec_"+this[r](t[a],a);if(o||(i[a]=s),e){var l=e[s],u=Mu(l);0===u?(e[s]=a,o&&i.push(s)):1===u?e[s]=[l,a]:l.push(a)}}},n}(),pL=function(){function n(t,e){this._encode=t,this._schema=e}return n.prototype.get=function(){return{fullDimensions:this._getFullDimensionNames(),encode:this._encode}},n.prototype._getFullDimensionNames=function(){return this._cachedDimNames||(this._cachedDimNames=this._schema?this._schema.makeOutputDimensionNames():[]),this._cachedDimNames},n}();function Hg(n,t){return n.hasOwnProperty(t)||(n[t]=[]),n[t]}function ep(n){return"category"===n?"ordinal":"time"===n?"time":"float"}var tp=function(n){this.otherDims={},null!=n&&K(this,n)},dL=We(),fL={float:"f",int:"i",ordinal:"o",number:"n",time:"t"},Eb=function(){function n(t){this.dimensions=t.dimensions,this._dimOmitted=t.dimensionOmitted,this.source=t.source,this._fullDimCount=t.fullDimensionCount,this._updateDimOmitted(t.dimensionOmitted)}return n.prototype.isDimensionOmitted=function(){return this._dimOmitted},n.prototype._updateDimOmitted=function(t){this._dimOmitted=t,t&&(this._dimNameMap||(this._dimNameMap=zb(this.source)))},n.prototype.getSourceDimensionIndex=function(t){return Te(this._dimNameMap.get(t),-1)},n.prototype.getSourceDimension=function(t){var e=this.source.dimensionsDefine;if(e)return e[t]},n.prototype.makeStoreSchema=function(){for(var t=this._fullDimCount,e=z1(this.source),i=!Bb(t),r="",o=[],a=0,s=0;a<t;a++){var l=void 0,u=void 0,h=void 0,c=this.dimensions[s];if(c&&c.storeDimIndex===a)l=e?c.name:null,u=c.type,h=c.ordinalMeta,s++;else{var p=this.getSourceDimension(a);p&&(l=e?p.name:null,u=p.type)}o.push({property:l,type:u,ordinalMeta:h}),!e||null==l||c&&c.isCalculationCoord||(r+=i?l.replace(/\`/g,"`1").replace(/\$/g,"`2"):l),r+="$",r+=fL[u]||"f",h&&(r+=h.uid),r+="$"}var d=this.source;return{dimensions:o,hash:[d.seriesLayoutBy,d.startIndex,r].join("$$")}},n.prototype.makeOutputDimensionNames=function(){for(var t=[],e=0,i=0;e<this._fullDimCount;e++){var r=void 0,o=this.dimensions[i];if(o&&o.storeDimIndex===e)o.isCalculationCoord||(r=o.name),i++;else{var a=this.getSourceDimension(e);a&&(r=a.name)}t.push(r)}return t},n.prototype.appendCalculationDimension=function(t){this.dimensions.push(t),t.isCalculationCoord=!0,this._fullDimCount++,this._updateDimOmitted(!0)},n}();function Nb(n){return n instanceof Eb}function Rb(n){for(var t=ue(),e=0;e<(n||[]).length;e++){var i=n[e],r=pe(i)?i.name:i;null!=r&&null==t.get(r)&&t.set(r,e)}return t}function zb(n){var t=dL(n);return t.dimNameMap||(t.dimNameMap=Rb(n.dimensionsDefine))}function Bb(n){return n>30}var Vb,np,Iu,Tu,Wg,ip,Ug,Cu=pe,Jr=J,gL="undefined"==typeof Int32Array?Array:Int32Array,mL=["hasItemOption","_nameList","_idList","_invertedIndicesMap","_dimSummary","userOutput","_rawData","_dimValueGetter","_nameDimIdx","_idDimIdx","_nameRepeatCount"],yL=["_approximateExtent"],tn=function(){function n(t,e){var i;this.type="list",this._dimOmitted=!1,this._nameList=[],this._idList=[],this._visual={},this._layout={},this._itemVisuals=[],this._itemLayouts=[],this._graphicEls=[],this._approximateExtent={},this._calculationInfo={},this.hasItemOption=!1,this.TRANSFERABLE_METHODS=["cloneShallow","downSample","lttbDownSample","map"],this.CHANGABLE_METHODS=["filterSelf","selectRange"],this.DOWNSAMPLE_METHODS=["downSample","lttbDownSample"];var r=!1;Nb(t)?(i=t.dimensions,this._dimOmitted=t.isDimensionOmitted(),this._schema=t):(r=!0,i=t),i=i||["x","y"];for(var o={},a=[],s={},l=!1,u={},h=0;h<i.length;h++){var c=i[h],p=Ce(c)?new tp({name:c}):c instanceof tp?c:new tp(c),d=p.name;p.type=p.type||"float",p.coordDim||(p.coordDim=d,p.coordDimIndex=0);var f=p.otherDims=p.otherDims||{};a.push(d),o[d]=p,null!=u[d]&&(l=!0),p.createInvertedIndices&&(s[d]=[]),0===f.itemName&&(this._nameDimIdx=h),0===f.itemId&&(this._idDimIdx=h),r&&(p.storeDimIndex=h)}if(this.dimensions=a,this._dimInfos=o,this._initGetDimensionInfo(l),this.hostModel=e,this._invertedIndicesMap=s,this._dimOmitted){var g=this._dimIdxToName=ue();k(a,function(m){g.set(o[m].storeDimIndex,m)})}}return n.prototype.getDimension=function(t){var e=this._recognizeDimIndex(t);if(null==e)return t;if(e=t,!this._dimOmitted)return this.dimensions[e];var i=this._dimIdxToName.get(e);if(null!=i)return i;var r=this._schema.getSourceDimension(e);return r?r.name:void 0},n.prototype.getDimensionIndex=function(t){var e=this._recognizeDimIndex(t);if(null!=e)return e;if(null==t)return-1;var i=this._getDimInfo(t);return i?i.storeDimIndex:this._dimOmitted?this._schema.getSourceDimensionIndex(t):-1},n.prototype._recognizeDimIndex=function(t){if("number"==typeof t||null!=t&&!isNaN(t)&&!this._getDimInfo(t)&&(!this._dimOmitted||this._schema.getSourceDimensionIndex(t)<0))return+t},n.prototype._getStoreDimIndex=function(t){return this.getDimensionIndex(t)},n.prototype.getDimensionInfo=function(t){return this._getDimInfo(this.getDimension(t))},n.prototype._initGetDimensionInfo=function(t){var e=this._dimInfos;this._getDimInfo=t?function(i){return e.hasOwnProperty(i)?e[i]:void 0}:function(i){return e[i]}},n.prototype.getDimensionsOnCoord=function(){return this._dimSummary.dataDimsOnCoord.slice()},n.prototype.mapDimension=function(t,e){var i=this._dimSummary;if(null==e)return i.encodeFirstDimNotExtra[t];var r=i.encode[t];return r?r[e]:null},n.prototype.mapDimensionsAll=function(t){return(this._dimSummary.encode[t]||[]).slice()},n.prototype.getStore=function(){return this._store},n.prototype.initData=function(t,e,i){var r,o=this;if(t instanceof lg&&(r=t),!r){var a=this.dimensions,s=eg(t)||Ft(t)?new B1(t,a.length):t;r=new lg;var l=Jr(a,function(u){return{type:o._dimInfos[u].type,property:u}});r.initData(s,l,i)}this._store=r,this._nameList=(e||[]).slice(),this._idList=[],this._nameRepeatCount={},this._doInit(0,r.count()),this._dimSummary=function(u,h){var c={},p=c.encode={},d=ue(),f=[],g=[],m={};k(u.dimensions,function(b){var w,S=u.getDimensionInfo(b),M=S.coordDim;if(M){var T=S.coordDimIndex;Hg(p,M)[T]=b,S.isExtraCoord||(d.set(M,1),"ordinal"!==(w=S.type)&&"time"!==w&&(f[0]=b),Hg(m,M)[T]=u.getDimensionIndex(S.name)),S.defaultTooltip&&g.push(b)}c1.each(function(C,A){var D=Hg(p,A),L=S.otherDims[A];null!=L&&!1!==L&&(D[L]=S.name)})});var y=[],v={};d.each(function(b,w){var S=p[w];v[w]=S[0],y=y.concat(S)}),c.dataDimsOnCoord=y,c.dataDimIndicesOnCoord=J(y,function(b){return u.getDimensionInfo(b).storeDimIndex}),c.encodeFirstDimNotExtra=v;var _=p.label;_&&_.length&&(f=_.slice());var x=p.tooltip;return x&&x.length?g=x.slice():g.length||(g=f.slice()),p.defaultedLabel=f,p.defaultedTooltip=g,c.userOutput=new pL(m,h),c}(this,this._schema),this.userOutput=this._dimSummary.userOutput},n.prototype.appendData=function(t){var e=this._store.appendData(t);this._doInit(e[0],e[1])},n.prototype.appendValues=function(t,e){var i=this._store.appendValues(t,e.length),r=i.start,o=i.end,a=this._shouldMakeIdFromName();if(this._updateOrdinalMeta(),e)for(var s=r;s<o;s++)this._nameList[s]=e[s-r],a&&Ug(this,s)},n.prototype._updateOrdinalMeta=function(){for(var t=this._store,e=this.dimensions,i=0;i<e.length;i++){var r=this._dimInfos[e[i]];r.ordinalMeta&&t.collectOrdinalMeta(r.storeDimIndex,r.ordinalMeta)}},n.prototype._shouldMakeIdFromName=function(){var t=this._store.getProvider();return null==this._idDimIdx&&t.getSource().sourceFormat!==gs&&!t.fillStorage},n.prototype._doInit=function(t,e){if(!(t>=e)){var i=this._store.getProvider();this._updateOrdinalMeta();var r=this._nameList,o=this._idList;if(i.getSource().sourceFormat===Yr&&!i.pure)for(var a=[],s=t;s<e;s++){var l=i.getItem(s,a);if(!this.hasItemOption&&mA(l)&&(this.hasItemOption=!0),l){var u=l.name;null==r[s]&&null!=u&&(r[s]=Ot(u,null));var h=l.id;null==o[s]&&null!=h&&(o[s]=Ot(h,null))}}if(this._shouldMakeIdFromName())for(s=t;s<e;s++)Ug(this,s);Vb(this)}},n.prototype.getApproximateExtent=function(t){return this._approximateExtent[t]||this._store.getDataExtent(this._getStoreDimIndex(t))},n.prototype.setApproximateExtent=function(t,e){e=this.getDimension(e),this._approximateExtent[e]=t.slice()},n.prototype.getCalculationInfo=function(t){return this._calculationInfo[t]},n.prototype.setCalculationInfo=function(t,e){Cu(t)?K(this._calculationInfo,t):this._calculationInfo[t]=e},n.prototype.getName=function(t){var e=this.getRawIndex(t),i=this._nameList[e];return null==i&&null!=this._nameDimIdx&&(i=Iu(this,this._nameDimIdx,e)),null==i&&(i=""),i},n.prototype._getCategory=function(t,e){var i=this._store.get(t,e),r=this._store.getOrdinalMeta(t);return r?r.categories[i]:i},n.prototype.getId=function(t){return np(this,this.getRawIndex(t))},n.prototype.count=function(){return this._store.count()},n.prototype.get=function(t,e){var r=this._dimInfos[t];if(r)return this._store.get(r.storeDimIndex,e)},n.prototype.getByRawIndex=function(t,e){var r=this._dimInfos[t];if(r)return this._store.getByRawIndex(r.storeDimIndex,e)},n.prototype.getIndices=function(){return this._store.getIndices()},n.prototype.getDataExtent=function(t){return this._store.getDataExtent(this._getStoreDimIndex(t))},n.prototype.getSum=function(t){return this._store.getSum(this._getStoreDimIndex(t))},n.prototype.getMedian=function(t){return this._store.getMedian(this._getStoreDimIndex(t))},n.prototype.getValues=function(t,e){var i=this,r=this._store;return Z(t)?r.getValues(Jr(t,function(o){return i._getStoreDimIndex(o)}),e):r.getValues(t)},n.prototype.hasValue=function(t){for(var e=this._dimSummary.dataDimIndicesOnCoord,i=0,r=e.length;i<r;i++)if(isNaN(this._store.get(e[i],t)))return!1;return!0},n.prototype.indexOfName=function(t){for(var e=0,i=this._store.count();e<i;e++)if(this.getName(e)===t)return e;return-1},n.prototype.getRawIndex=function(t){return this._store.getRawIndex(t)},n.prototype.indexOfRawIndex=function(t){return this._store.indexOfRawIndex(t)},n.prototype.rawIndexOf=function(t,e){var r=(t&&this._invertedIndicesMap[t])[e];return null==r||isNaN(r)?-1:r},n.prototype.indicesOfNearest=function(t,e,i){return this._store.indicesOfNearest(this._getStoreDimIndex(t),e,i)},n.prototype.each=function(t,e,i){"function"==typeof t&&(i=e,e=t,t=[]);var r=i||this,o=Jr(Tu(t),this._getStoreDimIndex,this);this._store.each(o,r?re(e,r):e)},n.prototype.filterSelf=function(t,e,i){"function"==typeof t&&(i=e,e=t,t=[]);var r=i||this,o=Jr(Tu(t),this._getStoreDimIndex,this);return this._store=this._store.filter(o,r?re(e,r):e),this},n.prototype.selectRange=function(t){var e=this,i={};return k(q(t),function(r){var o=e._getStoreDimIndex(r);i[o]=t[r]}),this._store=this._store.selectRange(i),this},n.prototype.mapArray=function(t,e,i){"function"==typeof t&&(i=e,e=t,t=[]);var r=[];return this.each(t,function(){r.push(e&&e.apply(this,arguments))},i=i||this),r},n.prototype.map=function(t,e,i,r){var o=i||r||this,a=Jr(Tu(t),this._getStoreDimIndex,this),s=ip(this);return s._store=this._store.map(a,o?re(e,o):e),s},n.prototype.modify=function(t,e,i,r){var o=i||r||this,a=Jr(Tu(t),this._getStoreDimIndex,this);this._store.modify(a,o?re(e,o):e)},n.prototype.downSample=function(t,e,i,r){var o=ip(this);return o._store=this._store.downSample(this._getStoreDimIndex(t),e,i,r),o},n.prototype.lttbDownSample=function(t,e){var i=ip(this);return i._store=this._store.lttbDownSample(this._getStoreDimIndex(t),e),i},n.prototype.getRawDataItem=function(t){return this._store.getRawDataItem(t)},n.prototype.getItemModel=function(t){var e=this.hostModel,i=this.getRawDataItem(t);return new Fe(i,e,e&&e.ecModel)},n.prototype.diff=function(t){var e=this;return new hr(t?t.getStore().getIndices():[],this.getStore().getIndices(),function(i){return np(t,i)},function(i){return np(e,i)})},n.prototype.getVisual=function(t){var e=this._visual;return e&&e[t]},n.prototype.setVisual=function(t,e){this._visual=this._visual||{},Cu(t)?K(this._visual,t):this._visual[t]=e},n.prototype.getItemVisual=function(t,e){var i=this._itemVisuals[t],r=i&&i[e];return null==r?this.getVisual(e):r},n.prototype.hasItemVisual=function(){return this._itemVisuals.length>0},n.prototype.ensureUniqueItemVisual=function(t,e){var i=this._itemVisuals,r=i[t];r||(r=i[t]={});var o=r[e];return null==o&&(Z(o=this.getVisual(e))?o=o.slice():Cu(o)&&(o=K({},o)),r[e]=o),o},n.prototype.setItemVisual=function(t,e,i){var r=this._itemVisuals[t]||{};this._itemVisuals[t]=r,Cu(e)?K(r,e):r[e]=i},n.prototype.clearAllVisual=function(){this._visual={},this._itemVisuals=[]},n.prototype.setLayout=function(t,e){if(Cu(t))for(var i in t)t.hasOwnProperty(i)&&this.setLayout(i,t[i]);else this._layout[t]=e},n.prototype.getLayout=function(t){return this._layout[t]},n.prototype.getItemLayout=function(t){return this._itemLayouts[t]},n.prototype.setItemLayout=function(t,e,i){this._itemLayouts[t]=i?K(this._itemLayouts[t]||{},e):e},n.prototype.clearItemLayouts=function(){this._itemLayouts.length=0},n.prototype.setItemGraphicEl=function(t,e){lf(this.hostModel&&this.hostModel.seriesIndex,this.dataType,t,e),this._graphicEls[t]=e},n.prototype.getItemGraphicEl=function(t){return this._graphicEls[t]},n.prototype.eachItemGraphicEl=function(t,e){k(this._graphicEls,function(i,r){i&&t&&t.call(e,i,r)})},n.prototype.cloneShallow=function(t){return t||(t=new n(this._schema?this._schema:Jr(this.dimensions,this._getDimInfo,this),this.hostModel)),Wg(t,this),t._store=this._store,t},n.prototype.wrapMethod=function(t,e){var i=this[t];"function"==typeof i&&(this.__wrappedMethods=this.__wrappedMethods||[],this.__wrappedMethods.push(t),this[t]=function(){var r=i.apply(this,arguments);return e.apply(this,[r].concat(Aa(arguments)))})},n.internalField=(Vb=function(t){var e=t._invertedIndicesMap;k(e,function(i,r){var o=t._dimInfos[r],a=o.ordinalMeta,s=t._store;if(a){i=e[r]=new gL(a.categories.length);for(var l=0;l<i.length;l++)i[l]=-1;for(l=0;l<s.count();l++)i[s.get(o.storeDimIndex,l)]=l}})},Iu=function(t,e,i){return Ot(t._getCategory(e,i),null)},np=function(t,e){var i=t._idList[e];return null==i&&null!=t._idDimIdx&&(i=Iu(t,t._idDimIdx,e)),null==i&&(i="e\0\0"+e),i},Tu=function(t){return Z(t)||(t=null!=t?[t]:[]),t},ip=function(t){var e=new n(t._schema?t._schema:Jr(t.dimensions,t._getDimInfo,t),t.hostModel);return Wg(e,t),e},Wg=function(t,e){k(mL.concat(e.__wrappedMethods||[]),function(i){e.hasOwnProperty(i)&&(t[i]=e[i])}),t.__wrappedMethods=e.__wrappedMethods,k(yL,function(i){t[i]=de(e[i])}),t._calculationInfo=K({},e._calculationInfo)},void(Ug=function(t,e){var i=t._nameList,r=t._idList,o=t._nameDimIdx,a=t._idDimIdx,s=i[e],l=r[e];if(null==s&&null!=o&&(i[e]=s=Iu(t,o,e)),null==l&&null!=a&&(r[e]=l=Iu(t,a,e)),null==l&&null!=s){var u=t._nameRepeatCount,h=u[s]=(u[s]||0)+1;l=s,h>1&&(l+="__ec__"+h),r[e]=l}})),n}();function Cs(n,t){eg(n)||(n=ng(n));var T,D,e=(t=t||{}).coordDimensions||[],i=t.dimensionsDefine||n.dimensionsDefine||[],r=ue(),o=[],a=(T=e,D=Math.max(n.dimensionsDetectedCount||1,T.length,i.length,t.dimensionsCount||0),k(T,function(L){var P;pe(L)&&(P=L.dimsDef)&&(D=Math.max(D,P.length))}),D),s=t.canOmitUnusedDimensions&&Bb(a),l=i===n.dimensionsDefine,u=l?zb(n):Rb(i),h=t.encodeDefine;!h&&t.encodeDefaulter&&(h=t.encodeDefaulter(n,a));for(var c=ue(h),p=new K1(a),d=0;d<p.length;d++)p[d]=-1;function f(M){var T=p[M];if(T<0){var C=i[M],A=pe(C)?C:{name:C},D=new tp,L=A.name;return null!=L&&null!=u.get(L)&&(D.name=D.displayName=L),null!=A.type&&(D.type=A.type),null!=A.displayName&&(D.displayName=A.displayName),p[M]=o.length,D.storeDimIndex=M,o.push(D),D}return o[T]}if(!s)for(d=0;d<a;d++)f(d);c.each(function(M,T){var C=Je(M).slice();if(1===C.length&&!Ce(C[0])&&C[0]<0)c.set(T,!1);else{var A=c.set(T,[]);k(C,function(D,L){var P=Ce(D)?u.get(D):D;null!=P&&P<a&&(A[L]=P,m(f(P),T,L))})}});var g=0;function m(M,T,C){null!=c1.get(T)?M.otherDims[T]=C:(M.coordDim=T,M.coordDimIndex=C,r.set(T,!0))}k(e,function(M){var T,C,A,D;if(Ce(M))T=M,D={};else{T=(D=M).name;var L=D.ordinalMeta;D.ordinalMeta=null,(D=K({},D)).ordinalMeta=L,C=D.dimsDef,A=D.otherDims,D.name=D.coordDim=D.coordDimIndex=D.dimsDef=D.otherDims=null}var P=c.get(T);if(!1!==P){if(!(P=Je(P)).length)for(var E=0;E<(C&&C.length||1);E++){for(;g<a&&null!=f(g).coordDim;)g++;g<a&&P.push(g++)}k(P,function(N,R){var z=f(N);if(l&&null!=D.type&&(z.type=D.type),m(ce(z,D),T,R),null==z.name&&C){var B=C[R];!pe(B)&&(B={name:B}),z.name=z.displayName=B.name,z.defaultTooltip=B.defaultTooltip}A&&ce(z.otherDims,A)})}});var y=t.generateCoord,v=t.generateCoordCount,_=null!=v;v=y?v||1:0;var x=y||"value";function b(M){null==M.name&&(M.name=M.coordDim)}if(s)k(o,function(M){b(M)}),o.sort(function(M,T){return M.storeDimIndex-T.storeDimIndex});else for(var w=0;w<a;w++){var S=f(w);null==S.coordDim&&(S.coordDim=vL(x,r,_),S.coordDimIndex=0,(!y||v<=0)&&(S.isExtraCoord=!0),v--),b(S),null!=S.type||1!==m1(n,w)&&(!S.isExtraCoord||null==S.otherDims.itemName&&null==S.otherDims.seriesName)||(S.type="ordinal")}return function(M){for(var T=ue(),C=0;C<M.length;C++){var A=M[C],D=A.name,L=T.get(D)||0;L>0&&(A.name=D+(L-1)),L++,T.set(D,L)}}(o),new Eb({source:n,dimensions:o,fullDimensionCount:a,dimensionOmitted:s})}function vL(n,t,e){var i=t.data;if(e||i.hasOwnProperty(n)){for(var r=0;i.hasOwnProperty(n+r);)r++;n+=r}return t.set(n,!0),n}var _L=function(n){this.coordSysDims=[],this.axisMap=ue(),this.categoryAxisMap=ue(),this.coordSysName=n},xL={cartesian2d:function(n,t,e,i){var r=n.getReferringComponents("xAxis",Mt).models[0],o=n.getReferringComponents("yAxis",Mt).models[0];t.coordSysDims=["x","y"],e.set("x",r),e.set("y",o),As(r)&&(i.set("x",r),t.firstCategoryDimIndex=0),As(o)&&(i.set("y",o),null==t.firstCategoryDimIndex&&(t.firstCategoryDimIndex=1))},singleAxis:function(n,t,e,i){var r=n.getReferringComponents("singleAxis",Mt).models[0];t.coordSysDims=["single"],e.set("single",r),As(r)&&(i.set("single",r),t.firstCategoryDimIndex=0)},polar:function(n,t,e,i){var r=n.getReferringComponents("polar",Mt).models[0],o=r.findAxisModel("radiusAxis"),a=r.findAxisModel("angleAxis");t.coordSysDims=["radius","angle"],e.set("radius",o),e.set("angle",a),As(o)&&(i.set("radius",o),t.firstCategoryDimIndex=0),As(a)&&(i.set("angle",a),null==t.firstCategoryDimIndex&&(t.firstCategoryDimIndex=1))},geo:function(n,t,e,i){t.coordSysDims=["lng","lat"]},parallel:function(n,t,e,i){var r=n.ecModel,o=r.getComponent("parallel",n.get("parallelIndex")),a=t.coordSysDims=o.dimensions.slice();k(o.parallelAxisIndex,function(s,l){var u=r.getComponent("parallelAxis",s),h=a[l];e.set(h,u),As(u)&&(i.set(h,u),null==t.firstCategoryDimIndex&&(t.firstCategoryDimIndex=l))})}};function As(n){return"category"===n.get("type")}function Gb(n,t,e){var i,r,o,a=(e=e||{}).byIndex,s=e.stackedCoordDimension;Nb(t.schema)?(i=(r=t.schema).dimensions,o=t.store):i=t;var l,u,h,c,p=!(!n||!n.get("stack"));if(k(i,function(v,_){Ce(v)&&(i[_]=v={name:v}),p&&!v.isExtraCoord&&(a||l||!v.ordinalMeta||(l=v),u||"ordinal"===v.type||"time"===v.type||s&&s!==v.coordDim||(u=v))}),!u||a||l||(a=!0),u){h="__\0ecstackresult_"+n.id,c="__\0ecstackedover_"+n.id,l&&(l.createInvertedIndices=!0);var d=u.coordDim,f=u.type,g=0;k(i,function(v){v.coordDim===d&&g++});var m={name:h,coordDim:d,coordDimIndex:g,type:f,isExtraCoord:!0,isCalculationCoord:!0,storeDimIndex:i.length},y={name:c,coordDim:c,coordDimIndex:g+1,type:f,isExtraCoord:!0,isCalculationCoord:!0,storeDimIndex:i.length+1};r?(o&&(m.storeDimIndex=o.ensureCalculationDimension(c,f),y.storeDimIndex=o.ensureCalculationDimension(h,f)),r.appendCalculationDimension(m),r.appendCalculationDimension(y)):(i.push(m),i.push(y))}return{stackedDimension:u&&u.name,stackedByDimension:l&&l.name,isStackedByIndex:a,stackedOverDimension:c,stackResultDimension:h}}function cr(n,t){return!!t&&t===n.getCalculationInfo("stackedDimension")}function Xg(n,t){return cr(n,t)?n.getCalculationInfo("stackResultDimension"):t}function Vi(n,t,e){e=e||{};var i,r=t.getSourceManager(),o=!1;n?(o=!0,i=ng(n)):o=(i=r.getSource()).sourceFormat===Yr;var y,v,_,x,a=function(m){var y=m.get("coordinateSystem"),v=new _L(y),_=xL[y];if(_)return _(m,v,v.axisMap,v.categoryAxisMap),v}(t),s=(y=a,_=t.get("coordinateSystem"),x=ms.get(_),y&&y.coordSysDims&&(v=J(y.coordSysDims,function(b){var w={name:b},S=y.axisMap.get(b);if(S){var M=S.get("type");w.type=ep(M)}return w})),v||(v=x&&(x.getDimensionsInfo?x.getDimensionsInfo():x.dimensions.slice())||["x","y"]),v),l=e.useEncodeDefaulter,u=Be(l)?l:l?ye(g1,s,t):null,h=Cs(i,{coordDimensions:s,generateCoord:e.generateCoord,encodeDefine:t.getEncode(),encodeDefaulter:u,canOmitUnusedDimensions:!o}),c=function(m,y,v){var _,x;return v&&k(m,function(b,w){var M=v.categoryAxisMap.get(b.coordDim);M&&(null==_&&(_=w),b.ordinalMeta=M.getOrdinalMeta(),y&&(b.createInvertedIndices=!0)),null!=b.otherDims.itemName&&(x=!0)}),x||null==_||(m[_].otherDims.itemName=0),_}(h.dimensions,e.createInvertedIndices,a),p=o?null:r.getSharedDataStore(h),d=Gb(t,{schema:h,store:p}),f=new tn(h,t);f.setCalculationInfo(d);var g=null!=c&&function(m){if(m.sourceFormat===Yr){var y=function(v){for(var _=0;_<v.length&&null==v[_];)_++;return v[_]}(m.data||[]);return null!=y&&!Z(qa(y))}}(i)?function(m,y,v,_){return _===c?v:this.defaultDimValueGetter(m,y,v,_)}:null;return f.hasItemOption=!1,f.initData(o?i:p,null,g),f}var Gi=function(){function n(t){this._setting=t||{},this._extent=[1/0,-1/0]}return n.prototype.getSetting=function(t){return this._setting[t]},n.prototype.unionExtent=function(t){var e=this._extent;t[0]<e[0]&&(e[0]=t[0]),t[1]>e[1]&&(e[1]=t[1])},n.prototype.unionExtentFromData=function(t,e){this.unionExtent(t.getApproximateExtent(e))},n.prototype.getExtent=function(){return this._extent.slice()},n.prototype.setExtent=function(t,e){var i=this._extent;isNaN(t)||(i[0]=t),isNaN(e)||(i[1]=e)},n.prototype.isInExtentRange=function(t){return this._extent[0]<=t&&this._extent[1]>=t},n.prototype.isBlank=function(){return this._isBlank},n.prototype.setBlank=function(t){this._isBlank=t},n}();Uh(Gi);var bL=0,Yg=function(){function n(t){this.categories=t.categories||[],this._needCollect=t.needCollect,this._deduplication=t.deduplication,this.uid=++bL}return n.createByAxisModel=function(t){var e=t.option,i=e.data,r=i&&J(i,wL);return new n({categories:r,needCollect:!r,deduplication:!1!==e.dedplication})},n.prototype.getOrdinal=function(t){return this._getOrCreateMap().get(t)},n.prototype.parseAndCollect=function(t){var e,i=this._needCollect;if("string"!=typeof t&&!i)return t;if(i&&!this._deduplication)return this.categories[e=this.categories.length]=t,e;var r=this._getOrCreateMap();return null==(e=r.get(t))&&(i?(this.categories[e=this.categories.length]=t,r.set(t,e)):e=NaN),e},n.prototype._getOrCreateMap=function(){return this._map||(this._map=ue(this.categories))},n}();function wL(n){return pe(n)&&null!=n.value?n.value:n+""}var Fb=Pt;function Hb(n){return hi(n)+2}function Wb(n,t,e){n[t]=Math.max(Math.min(n[t],e[1]),e[0])}function rp(n,t){return n>=t[0]&&n<=t[1]}function op(n,t){return t[1]===t[0]?.5:(n-t[0])/(t[1]-t[0])}function ap(n,t){return n*(t[1]-t[0])+t[0]}var sp=function(n){function t(e){var i=n.call(this,e)||this;i.type="ordinal";var r=i.getSetting("ordinalMeta");return r||(r=new Yg({})),Z(r)&&(r=new Yg({categories:J(r,function(o){return pe(o)?o.value:o})})),i._ordinalMeta=r,i._extent=i.getSetting("extent")||[0,r.categories.length-1],i}return G(t,n),t.prototype.parse=function(e){return"string"==typeof e?this._ordinalMeta.getOrdinal(e):Math.round(e)},t.prototype.contain=function(e){return rp(e=this.parse(e),this._extent)&&null!=this._ordinalMeta.categories[e]},t.prototype.normalize=function(e){return op(e=this._getTickNumber(this.parse(e)),this._extent)},t.prototype.scale=function(e){return e=Math.round(ap(e,this._extent)),this.getRawOrdinalNumber(e)},t.prototype.getTicks=function(){for(var e=[],i=this._extent,r=i[0];r<=i[1];)e.push({value:r}),r++;return e},t.prototype.getMinorTicks=function(e){},t.prototype.setSortInfo=function(e){if(null!=e){for(var i=e.ordinalNumbers,r=this._ordinalNumbersByTick=[],o=this._ticksByOrdinalNumber=[],a=0,s=this._ordinalMeta.categories.length,l=Math.min(s,i.length);a<l;++a){var u=i[a];r[a]=u,o[u]=a}for(var h=0;a<s;++a){for(;null!=o[h];)h++;r.push(h),o[h]=a}}else this._ordinalNumbersByTick=this._ticksByOrdinalNumber=null},t.prototype._getTickNumber=function(e){var i=this._ticksByOrdinalNumber;return i&&e>=0&&e<i.length?i[e]:e},t.prototype.getRawOrdinalNumber=function(e){var i=this._ordinalNumbersByTick;return i&&e>=0&&e<i.length?i[e]:e},t.prototype.getLabel=function(e){if(!this.isBlank()){var i=this.getRawOrdinalNumber(e.value),r=this._ordinalMeta.categories[i];return null==r?"":r+""}},t.prototype.count=function(){return this._extent[1]-this._extent[0]+1},t.prototype.unionExtentFromData=function(e,i){this.unionExtent(e.getApproximateExtent(i))},t.prototype.isInExtentRange=function(e){return e=this._getTickNumber(e),this._extent[0]<=e&&this._extent[1]>=e},t.prototype.getOrdinalMeta=function(){return this._ordinalMeta},t.prototype.niceTicks=function(){},t.prototype.niceExtent=function(){},t.type="ordinal",t}(Gi);Gi.registerClass(sp);var sa=Pt,la=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type="interval",e._interval=0,e._intervalPrecision=2,e}return G(t,n),t.prototype.parse=function(e){return e},t.prototype.contain=function(e){return rp(e,this._extent)},t.prototype.normalize=function(e){return op(e,this._extent)},t.prototype.scale=function(e){return ap(e,this._extent)},t.prototype.setExtent=function(e,i){var r=this._extent;isNaN(e)||(r[0]=parseFloat(e)),isNaN(i)||(r[1]=parseFloat(i))},t.prototype.unionExtent=function(e){var i=this._extent;e[0]<i[0]&&(i[0]=e[0]),e[1]>i[1]&&(i[1]=e[1]),this.setExtent(i[0],i[1])},t.prototype.getInterval=function(){return this._interval},t.prototype.setInterval=function(e){this._interval=e,this._niceExtent=this._extent.slice(),this._intervalPrecision=Hb(e)},t.prototype.getTicks=function(e){var i=this._interval,r=this._extent,o=this._niceExtent,a=this._intervalPrecision,s=[];if(!i)return s;r[0]<o[0]&&s.push(e?{value:sa(o[0]-i,a)}:{value:r[0]});for(var l=o[0];l<=o[1]&&(s.push({value:l}),(l=sa(l+i,a))!==s[s.length-1].value);)if(s.length>1e4)return[];var u=s.length?s[s.length-1].value:o[1];return r[1]>u&&s.push(e?{value:sa(u+i,a)}:{value:r[1]}),s},t.prototype.getMinorTicks=function(e){for(var i=this.getTicks(!0),r=[],o=this.getExtent(),a=1;a<i.length;a++){for(var l=i[a-1],u=0,h=[],c=(i[a].value-l.value)/e;u<e-1;){var p=sa(l.value+(u+1)*c);p>o[0]&&p<o[1]&&h.push(p),u++}r.push(h)}return r},t.prototype.getLabel=function(e,i){if(null==e)return"";var r=i&&i.precision;return null==r?r=hi(e.value)||0:"auto"===r&&(r=this._intervalPrecision),Vf(sa(e.value,r,!0))},t.prototype.niceTicks=function(e,i,r){e=e||5;var o=this._extent,a=o[1]-o[0];if(isFinite(a)){a<0&&(a=-a,o.reverse());var s=function(n,t,e,i){var r={},a=r.interval=Bd((n[1]-n[0])/t,!0);null!=e&&a<e&&(a=r.interval=e),null!=i&&a>i&&(a=r.interval=i);var l,u,s=r.intervalPrecision=Hb(a);return l=r.niceTickExtent=[Fb(Math.ceil(n[0]/a)*a,s),Fb(Math.floor(n[1]/a)*a,s)],u=n,!isFinite(l[0])&&(l[0]=u[0]),!isFinite(l[1])&&(l[1]=u[1]),Wb(l,0,u),Wb(l,1,u),l[0]>l[1]&&(l[0]=l[1]),r}(o,e,i,r);this._intervalPrecision=s.intervalPrecision,this._interval=s.interval,this._niceExtent=s.niceTickExtent}},t.prototype.niceExtent=function(e){var i=this._extent;if(i[0]===i[1])if(0!==i[0]){var r=i[0];e.fixMax||(i[1]+=r/2),i[0]-=r/2}else i[1]=1;isFinite(i[1]-i[0])||(i[0]=0,i[1]=1),this.niceTicks(e.splitNumber,e.minInterval,e.maxInterval);var a=this._interval;e.fixMin||(i[0]=sa(Math.floor(i[0]/a)*a)),e.fixMax||(i[1]=sa(Math.ceil(i[1]/a)*a))},t.type="interval",t}(Gi);Gi.registerClass(la);var Zg="__ec_stack_",jg="undefined"!=typeof Float32Array?Float32Array:Array;function qg(n){return n.get("stack")||Zg+n.seriesIndex}function Kg(n){return n.dim+n.index}function Ub(n,t){var e=[];return t.eachSeriesByType(n,function(i){jb(i)&&!qb(i)&&e.push(i)}),e}function $g(n){var t=function(i){var r={};k(i,function(c){var p=c.coordinateSystem.getBaseAxis();if("time"===p.type||"value"===p.type)for(var d=c.getData(),f=p.dim+"_"+p.index,g=d.getDimensionIndex(d.mapDimension(p.dim)),m=d.getStore(),y=0,v=m.count();y<v;++y){var _=m.get(g,y);r[f]?r[f].push(_):r[f]=[_]}});var o={};for(var a in r)if(r.hasOwnProperty(a)){var s=r[a];if(s){s.sort(function(c,p){return c-p});for(var l=null,u=1;u<s.length;++u){var h=s[u]-s[u-1];h>0&&(l=null===l?h:Math.min(l,h))}o[a]=l}}return o}(n),e=[];return k(n,function(i){var r,o=i.coordinateSystem.getBaseAxis(),a=o.getExtent();if("category"===o.type)r=o.getBandWidth();else if("value"===o.type||"time"===o.type){var l=t[o.dim+"_"+o.index],u=Math.abs(a[1]-a[0]),h=o.scale.getExtent(),c=Math.abs(h[1]-h[0]);r=l?u/c*l:u}else{var p=i.getData();r=Math.abs(a[1]-a[0])/p.count()}var d=ie(i.get("barWidth"),r),f=ie(i.get("barMaxWidth"),r),g=ie(i.get("barMinWidth")||1,r),m=i.get("barGap"),y=i.get("barCategoryGap");e.push({bandWidth:r,barWidth:d,barMaxWidth:f,barMinWidth:g,barGap:m,barCategoryGap:y,axisKey:Kg(o),stackId:qg(i)})}),Xb(e)}function Xb(n){var t={};k(n,function(i,r){var o=i.axisKey,a=i.bandWidth,s=t[o]||{bandWidth:a,remainedWidth:a,autoWidthCount:0,categoryGap:null,gap:"20%",stacks:{}},l=s.stacks;t[o]=s;var u=i.stackId;l[u]||s.autoWidthCount++,l[u]=l[u]||{width:0,maxWidth:0};var h=i.barWidth;h&&!l[u].width&&(l[u].width=h,h=Math.min(s.remainedWidth,h),s.remainedWidth-=h);var c=i.barMaxWidth;c&&(l[u].maxWidth=c);var p=i.barMinWidth;p&&(l[u].minWidth=p);var d=i.barGap;null!=d&&(s.gap=d);var f=i.barCategoryGap;null!=f&&(s.categoryGap=f)});var e={};return k(t,function(i,r){e[r]={};var o=i.stacks,a=i.bandWidth,s=i.categoryGap;if(null==s){var l=q(o).length;s=Math.max(35-4*l,15)+"%"}var u=ie(s,a),h=ie(i.gap,1),c=i.remainedWidth,p=i.autoWidthCount,d=(c-u)/(p+(p-1)*h);d=Math.max(d,0),k(o,function(y){var v=y.maxWidth,_=y.minWidth;if(y.width)x=y.width,v&&(x=Math.min(x,v)),_&&(x=Math.max(x,_)),y.width=x,c-=x+h*x,p--;else{var x=d;v&&v<x&&(x=Math.min(v,c)),_&&_>x&&(x=_),x!==d&&(y.width=x,c-=x+h*x,p--)}}),d=(c-u)/(p+(p-1)*h),d=Math.max(d,0);var f,g=0;k(o,function(y,v){y.width||(y.width=d),f=y,g+=y.width*(1+h)}),f&&(g-=f.width*h);var m=-g/2;k(o,function(y,v){e[r][v]=e[r][v]||{bandWidth:a,offset:m,width:y.width},m+=y.width*(1+h)})}),e}function Yb(n,t,e){if(n&&t){var i=n[Kg(t)];return null!=i&&null!=e?i[qg(e)]:i}}function Zb(n,t){var e=Ub(n,t),i=$g(e),r={};k(e,function(o){var a=o.getData(),s=o.coordinateSystem,l=s.getBaseAxis(),u=qg(o),h=i[Kg(l)][u],c=h.offset,p=h.width,d=s.getOtherAxis(l),f=o.get("barMinHeight")||0;r[u]=r[u]||[],a.setLayout({bandWidth:h.bandWidth,offset:c,size:p});for(var g=a.mapDimension(d.dim),m=a.mapDimension(l.dim),y=cr(a,g),v=d.isHorizontal(),_=Kb(0,d),x=a.getStore(),b=a.getDimensionIndex(g),w=a.getDimensionIndex(m),S=0,M=x.count();S<M;S++){var T=x.get(b,S),C=x.get(w,S),A=T>=0?"p":"n",D=_;y&&(r[u][C]||(r[u][C]={p:_,n:_}),D=r[u][C][A]);var L,P=void 0,E=void 0,N=void 0,R=void 0;v?(P=D,E=(L=s.dataToPoint([T,C]))[1]+c,N=L[0]-_,R=p,Math.abs(N)<f&&(N=(N<0?-1:1)*f),isNaN(N)||y&&(r[u][C][A]+=N)):(P=(L=s.dataToPoint([C,T]))[0]+c,E=D,N=p,R=L[1]-_,Math.abs(R)<f&&(R=(R<=0?-1:1)*f),isNaN(R)||y&&(r[u][C][A]+=R)),a.setItemLayout(S,{x:P,y:E,width:N,height:R})}})}var ML={seriesType:"bar",plan:bs(),reset:function(n){if(jb(n)&&qb(n)){var t=n.getData(),e=n.coordinateSystem,i=e.master.getRect(),r=e.getBaseAxis(),o=e.getOtherAxis(r),a=t.getDimensionIndex(t.mapDimension(o.dim)),s=t.getDimensionIndex(t.mapDimension(r.dim)),l=o.isHorizontal(),u=l?0:1,h=Yb($g([n]),r,n).width;return h>.5||(h=.5),{progress:function(c,p){for(var d,f=c.count,g=new jg(2*f),m=new jg(2*f),y=new jg(f),v=[],_=[],x=0,b=0,w=p.getStore();null!=(d=c.next());)_[u]=w.get(a,d),_[1-u]=w.get(s,d),v=e.dataToPoint(_,null),m[x]=l?i.x+i.width:v[0],g[x++]=v[0],m[x]=l?v[1]:i.y+i.height,g[x++]=v[1],y[b++]=d;p.setLayout({largePoints:g,largeDataIndices:y,largeBackgroundPoints:m,barWidth:h,valueAxisStart:Kb(0,o),backgroundStart:l?i.x:i.y,valueAxisHorizontal:l})}}}}};function jb(n){return n.coordinateSystem&&"cartesian2d"===n.coordinateSystem.type}function qb(n){return n.pipelineContext&&n.pipelineContext.large}function Kb(n,t,e){return t.toGlobalCoord(t.dataToCoord("log"===t.type?1:0))}var Qg=function(n){function t(e){var i=n.call(this,e)||this;return i.type="time",i}return G(t,n),t.prototype.getLabel=function(e){var i=this.getSetting("useUTC");return nu(e.value,K_[function(r){switch(r){case"year":case"month":return"day";case"millisecond":return"millisecond";default:return"second"}}(hs(this._minLevelUnit))]||K_.second,i,this.getSetting("locale"))},t.prototype.getFormattedLabel=function(e,i,r){var o=this.getSetting("useUTC");return function(a,s,l,u,h){var c=null;if("string"==typeof l)c=l;else if("function"==typeof l)c=l(a.value,s,{level:a.level});else{var p=K({},tu);if(a.level>0)for(var d=0;d<zf.length;++d)p[zf[d]]="{primary|"+p[zf[d]]+"}";var f=l?!1===l.inherit?l:ce(l,p):p,g=Q_(a.value,h);if(f[g])c=f[g];else if(f.inherit){for(d=$_.indexOf(g)-1;d>=0;--d)if(f[g]){c=f[g];break}c=c||p.none}if(Z(c)){var m=null==a.level?0:a.level>=0?a.level:c.length+a.level;c=c[m=Math.min(m,c.length-1)]}}return nu(new Date(a.value),c,h,u)}(e,i,r,this.getSetting("locale"),o)},t.prototype.getTicks=function(e){var r=this._extent,o=[];if(!this._interval)return o;o.push({value:r[0],level:0});var a=this.getSetting("useUTC"),s=function(l,u,h,c){var d=$_,f=0;function g(R,z,B,V,W,Y,Q){for(var U=new Date(z),j=z,ne=U[V]();j<B&&j<=c[1];)Q.push({value:j}),U[W](ne+=R),j=U.getTime();Q.push({value:j,notAdd:!0})}function m(R,z,B){var V=[],W=!z.length;if(!function(oe,ae,fe,ve){var xe=En(ae),ct=En(fe),ut=function(Oe){return J_(xe,Oe,ve)===J_(ct,Oe,ve)},Ve=function(){return ut("year")},Ne=function(){return Ve()&&ut("month")},ft=function(){return Ne()&&ut("day")},ot=function(){return ft()&&ut("hour")},nn=function(){return ot()&&ut("minute")},mn=function(){return nn()&&ut("second")};switch(oe){case"year":return Ve();case"month":return Ne();case"day":return ft();case"hour":return ot();case"minute":return nn();case"second":return mn();case"millisecond":return mn()&&ut("millisecond")}}(hs(R),c[0],c[1],h)){W&&(z=[{value:DL(new Date(c[0]),R,h)},{value:c[1]}]);for(var Y=0;Y<z.length-1;Y++){var Q=z[Y].value,U=z[Y+1].value;if(Q!==U){var j=void 0,ne=void 0,ee=void 0;switch(R){case"year":j=Math.max(1,Math.round(u/eu/365)),ne=Bf(h),ee=PD(h);break;case"half-year":case"quarter":case"month":j=TL(u),ne=cs(h),ee=e1(h);break;case"week":case"half-week":case"day":j=IL(u),ne=bc(h),ee=t1(h);break;case"half-day":case"quarter-day":case"hour":j=CL(u),ne=iu(h),ee=n1(h);break;case"minute":j=$b(u,!0),ne=wc(h),ee=i1(h);break;case"second":j=$b(u,!1),ne=Sc(h),ee=r1(h);break;case"millisecond":j=AL(u),ne=Mc(h),ee=o1(h)}g(j,Q,U,ne,ee,0,V),"year"===R&&B.length>1&&0===Y&&B.unshift({value:B[0].value-j})}}for(Y=0;Y<V.length;Y++)B.push(V[Y]);return V}}for(var y=[],v=[],_=0,x=0,b=0;b<d.length&&f++<1e4;++b){var w=hs(d[b]);if(LD(d[b])&&(m(d[b],y[y.length-1]||[],v),w!==(d[b+1]?hs(d[b+1]):null))){if(v.length){x=_,v.sort(function(R,z){return R.value-z.value});for(var S=[],M=0;M<v.length;++M){var T=v[M].value;0!==M&&v[M-1].value===T||(S.push(v[M]),T>=c[0]&&T<=c[1]&&_++)}var C=(c[1]-c[0])/u;if(_>1.5*C&&x>C/1.5||(y.push(S),_>C||l===d[b]))break}v=[]}}var A=Ke(J(y,function(R){return Ke(R,function(z){return z.value>=c[0]&&z.value<=c[1]&&!z.notAdd})}),function(R){return R.length>0}),D=[],L=A.length-1;for(b=0;b<A.length;++b)for(var P=A[b],E=0;E<P.length;++E)D.push({value:P[E].value,level:L-b});D.sort(function(R,z){return R.value-z.value});var N=[];for(b=0;b<D.length;++b)0!==b&&D[b].value===D[b-1].value||N.push(D[b]);return N}(this._minLevelUnit,this._approxInterval,a,r);return(o=o.concat(s)).push({value:r[1],level:0}),o},t.prototype.niceExtent=function(e){var i=this._extent;if(i[0]===i[1]&&(i[0]-=eu,i[1]+=eu),i[1]===-1/0&&i[0]===1/0){var r=new Date;i[1]=+new Date(r.getFullYear(),r.getMonth(),r.getDate()),i[0]=i[1]-eu}this.niceTicks(e.splitNumber,e.minInterval,e.maxInterval)},t.prototype.niceTicks=function(e,i,r){var o=this._extent;this._approxInterval=(o[1]-o[0])/(e=e||10),null!=i&&this._approxInterval<i&&(this._approxInterval=i),null!=r&&this._approxInterval>r&&(this._approxInterval=r);var s=lp.length,l=Math.min(function(u,h,c,p){for(;c<p;){var d=c+p>>>1;u[d][1]<h?c=d+1:p=d}return c}(lp,this._approxInterval,0,s),s-1);this._interval=lp[l][1],this._minLevelUnit=lp[Math.max(l-1,0)][0]},t.prototype.parse=function(e){return"number"==typeof e?e:+En(e)},t.prototype.contain=function(e){return rp(this.parse(e),this._extent)},t.prototype.normalize=function(e){return op(this.parse(e),this._extent)},t.prototype.scale=function(e){return ap(e,this._extent)},t.type="time",t}(la),lp=[["second",1e3],["minute",6e4],["hour",36e5],["quarter-day",216e5],["half-day",432e5],["day",10368e4],["half-week",3024e5],["week",6048e5],["month",26784e5],["quarter",8208e6],["half-year",q_/2],["year",q_]];function IL(n,t){return(n/=eu)>16?16:n>7.5?7:n>3.5?4:n>1.5?2:1}function TL(n){return(n/=2592e6)>6?6:n>3?3:n>2?2:1}function CL(n){return(n/=36e5)>12?12:n>6?6:n>3.5?4:n>2?2:1}function $b(n,t){return(n/=t?6e4:1e3)>30?30:n>20?20:n>15?15:n>10?10:n>5?5:n>2?2:1}function AL(n){return Bd(n,!0)}function DL(n,t,e){var i=new Date(n);switch(hs(t)){case"year":case"month":i[e1(e)](0);case"day":i[t1(e)](1);case"hour":i[n1(e)](0);case"minute":i[i1(e)](0);case"second":i[r1(e)](0),i[o1(e)](0)}return i.getTime()}Gi.registerClass(Qg);var Qb=Gi.prototype,Au=la.prototype,kL=Pt,LL=Math.floor,PL=Math.ceil,up=Math.pow,$n=Math.log,Jg=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type="log",e.base=10,e._originalScale=new la,e._interval=0,e}return G(t,n),t.prototype.getTicks=function(e){var r=this._extent,o=this._originalScale.getExtent();return J(Au.getTicks.call(this,e),function(a){var s=a.value,l=Pt(up(this.base,s));return l=s===r[0]&&this._fixMin?hp(l,o[0]):l,{value:l=s===r[1]&&this._fixMax?hp(l,o[1]):l}},this)},t.prototype.setExtent=function(e,i){var r=this.base;e=$n(e)/$n(r),i=$n(i)/$n(r),Au.setExtent.call(this,e,i)},t.prototype.getExtent=function(){var e=this.base,i=Qb.getExtent.call(this);i[0]=up(e,i[0]),i[1]=up(e,i[1]);var r=this._originalScale.getExtent();return this._fixMin&&(i[0]=hp(i[0],r[0])),this._fixMax&&(i[1]=hp(i[1],r[1])),i},t.prototype.unionExtent=function(e){this._originalScale.unionExtent(e);var i=this.base;e[0]=$n(e[0])/$n(i),e[1]=$n(e[1])/$n(i),Qb.unionExtent.call(this,e)},t.prototype.unionExtentFromData=function(e,i){this.unionExtent(e.getApproximateExtent(i))},t.prototype.niceTicks=function(e){e=e||10;var i=this._extent,r=i[1]-i[0];if(!(r===1/0||r<=0)){var o=i0(r);for(e/r*o<=.5&&(o*=10);!isNaN(o)&&Math.abs(o)<1&&Math.abs(o)>0;)o*=10;var a=[Pt(PL(i[0]/o)*o),Pt(LL(i[1]/o)*o)];this._interval=o,this._niceExtent=a}},t.prototype.niceExtent=function(e){Au.niceExtent.call(this,e),this._fixMin=e.fixMin,this._fixMax=e.fixMax},t.prototype.parse=function(e){return e},t.prototype.contain=function(e){return rp(e=$n(e)/$n(this.base),this._extent)},t.prototype.normalize=function(e){return op(e=$n(e)/$n(this.base),this._extent)},t.prototype.scale=function(e){return e=ap(e,this._extent),up(this.base,e)},t.type="log",t}(Gi),Jb=Jg.prototype;function hp(n,t){return kL(n,hi(t))}Jb.getMinorTicks=Au.getMinorTicks,Jb.getLabel=Au.getLabel,Gi.registerClass(Jg);var OL=function(){function n(t,e,i){this._prepareParams(t,e,i)}return n.prototype._prepareParams=function(t,e,i){i[1]<i[0]&&(i=[NaN,NaN]),this._dataMin=i[0],this._dataMax=i[1];var r=this._isOrdinal="ordinal"===t.type;this._needCrossZero=e.getNeedCrossZero&&e.getNeedCrossZero();var o=this._modelMinRaw=e.get("min",!0);Be(o)?this._modelMinNum=Ds(t,o({min:i[0],max:i[1]})):"dataMin"!==o&&(this._modelMinNum=Ds(t,o));var a=this._modelMaxRaw=e.get("max",!0);if(Be(a)?this._modelMaxNum=Ds(t,a({min:i[0],max:i[1]})):"dataMax"!==a&&(this._modelMaxNum=Ds(t,a)),r)this._axisDataLen=e.getCategories().length;else{var s=e.get("boundaryGap"),l=Z(s)?s:[s||0,s||0];this._boundaryGapInner="boolean"==typeof l[0]||"boolean"==typeof l[1]?[0,0]:[Wn(l[0],1),Wn(l[1],1)]}},n.prototype.calculate=function(){var t=this._isOrdinal,e=this._dataMin,i=this._dataMax,r=this._axisDataLen,o=this._boundaryGapInner,a=t?null:i-e||Math.abs(e),s="dataMin"===this._modelMinRaw?e:this._modelMinNum,l="dataMax"===this._modelMaxRaw?i:this._modelMaxNum,u=null!=s,h=null!=l;null==s&&(s=t?r?0:NaN:e-o[0]*a),null==l&&(l=t?r?r-1:NaN:i+o[1]*a),(null==s||!isFinite(s))&&(s=NaN),(null==l||!isFinite(l))&&(l=NaN);var c=An(s)||An(l)||t&&!r;this._needCrossZero&&(s>0&&l>0&&!u&&(s=0),s<0&&l<0&&!h&&(l=0));var p=this._determinedMin,d=this._determinedMax;return null!=p&&(s=p,u=!0),null!=d&&(l=d,h=!0),{min:s,max:l,minFixed:u,maxFixed:h,isBlank:c}},n.prototype.modifyDataMinMax=function(t,e){this[NL[t]]=e},n.prototype.setDeterminedMinMax=function(t,e){this[EL[t]]=e},n.prototype.freeze=function(){this.frozen=!0},n}(),EL={min:"_determinedMin",max:"_determinedMax"},NL={min:"_dataMin",max:"_dataMax"};function ew(n,t,e){var i=n.rawExtentInfo;return i||(i=new OL(n,t,e),n.rawExtentInfo=i,i)}function Ds(n,t){return null==t?null:An(t)?NaN:n.parse(t)}function tw(n,t){var e=n.type,i=ew(n,t,n.getExtent()).calculate();n.setBlank(i.isBlank);var r=i.min,o=i.max,a=t.ecModel;if(a&&"time"===e){var s=Ub("bar",a),l=!1;if(k(s,function(c){l=l||c.getBaseAxis()===t.axis}),l){var u=$g(s),h=function(c,p,d,f){var g=d.axis.getExtent(),m=g[1]-g[0],y=Yb(f,d.axis);if(void 0===y)return{min:c,max:p};var v=1/0;k(y,function(S){v=Math.min(S.offset,v)});var _=-1/0;k(y,function(S){_=Math.max(S.offset+S.width,_)}),v=Math.abs(v),_=Math.abs(_);var x=v+_,b=p-c,w=b/(1-(v+_)/m)-b;return{min:c-=w*(v/x),max:p+=w*(_/x)}}(r,o,t,u);r=h.min,o=h.max}}return{extent:[r,o],fixMin:i.minFixed,fixMax:i.maxFixed}}function eo(n,t){var e=t,i=tw(n,e),r=i.extent,o=e.get("splitNumber");n instanceof Jg&&(n.base=e.get("logBase"));var a=n.type;n.setExtent(r[0],r[1]),n.niceExtent({splitNumber:o,fixMin:i.fixMin,fixMax:i.fixMax,minInterval:"interval"===a||"time"===a?e.get("minInterval"):null,maxInterval:"interval"===a||"time"===a?e.get("maxInterval"):null});var s=e.get("interval");null!=s&&n.setInterval&&n.setInterval(s)}function Du(n,t){if(t=t||n.get("type"))switch(t){case"category":return new sp({ordinalMeta:n.getOrdinalMeta?n.getOrdinalMeta():n.getCategories(),extent:[1/0,-1/0]});case"time":return new Qg({locale:n.ecModel.getLocaleModel(),useUTC:n.ecModel.get("useUTC")});default:return new(Gi.getClass(t)||la)}}function ku(n){var t,e,o,i=n.getLabelModel().get("formatter"),r="category"===n.type?n.scale.getExtent()[0]:null;return"time"===n.scale.type?(e=i,function(o,a){return n.scale.getFormattedLabel(o,a,e)}):"string"==typeof i?(o=i,function(a){var s=n.scale.getLabel(a);return o.replace("{value}",null!=s?s:"")}):"function"==typeof i?(t=i,function(o,a){return null!=r&&(a=o.value-r),t(em(n,o),a,null!=o.level?{level:o.level}:null)}):function(o){return n.scale.getLabel(o)}}function em(n,t){return"category"===n.type?n.scale.getLabel(t):t.value}function RL(n,t){var e=t*Math.PI/180,i=n.width,r=n.height,o=i*Math.abs(Math.cos(e))+Math.abs(r*Math.sin(e)),a=i*Math.abs(Math.sin(e))+Math.abs(r*Math.cos(e));return new De(n.x,n.y,o,a)}function tm(n){var t=n.get("interval");return null==t?"auto":t}function nw(n){return"category"===n.type&&0===tm(n.getLabelModel())}function cp(n,t){var e={};return k(n.mapDimensionsAll(t),function(i){e[Xg(n,i)]=!0}),q(e)}var ks=function(){function n(){}return n.prototype.getNeedCrossZero=function(){return!this.option.scale},n.prototype.getCoordSysModel=function(){},n}(),BL=Object.freeze({__proto__:null,createList:function(n){return Vi(null,n)},getLayoutRect:Tt,dataStack:{isDimensionStacked:cr,enableDataStack:Gb,getStackedDimension:Xg},createScale:function(n,t){var e=t;t instanceof Fe||(e=new Fe(t));var i=Du(e);return i.setExtent(n[0],n[1]),eo(i,e),i},mixinAxisModelCommonMethods:function(n){ht(n,ks)},getECData:_e,createTextStyle:function(n,t){return yt(n,null,null,"normal"!==(t=t||{}).state)},createDimensions:function(n,t){return Cs(n,t).dimensions},createSymbol:xt,enableHoverEmphasis:nt}),VL=Object.freeze({__proto__:null,linearMap:Ze,round:Pt,asc:On,getPrecision:hi,getPrecisionSafe:t0,getPixelPrecision:Ed,getPercentWithPrecision:n0,MAX_SAFE_INTEGER:Nd,remRadian:Rd,isRadianAroundZero:kl,parseDate:En,quantity:i0,quantityExponent:zd,nice:Bd,quantile:Wh,reformIntervals:Vd,isNumeric:Gd,numericToNumber:Li}),GL=Object.freeze({__proto__:null,parse:En,format:nu}),FL=Object.freeze({__proto__:null,extendShape:D_,extendPath:k_,makePath:Kl,makeImage:If,mergePath:Nn,resizePath:Tf,createIcon:as,updateProps:ze,initProps:lt,getTransform:Wr,clipPointsByRect:Cf,clipRectByRect:O_,registerShape:Zn,getShapeClass:fc,Group:me,Image:It,Text:Re,Circle:Yn,Ellipse:Xl,Sector:Qt,Ring:ns,Polygon:Zt,Polyline:pn,Rect:Ee,Line:Et,BezierCurve:is,Arc:Zl,IncrementalDisplayable:jl,CompoundPath:bf,LinearGradient:rs,RadialGradient:wf,BoundingRect:De}),HL=Object.freeze({__proto__:null,addCommas:Vf,toCamelCase:Gf,normalizeCssArray:Qo,encodeHTML:In,formatTpl:Hf,getTooltipMarker:s1,formatTime:function(n,t,e){"week"!==n&&"month"!==n&&"quarter"!==n&&"half-year"!==n&&"year"!==n||(n="MM-dd\nyyyy");var i=En(t),r=e?"UTC":"",o=i["get"+r+"FullYear"](),a=i["get"+r+"Month"]()+1,s=i["get"+r+"Date"](),l=i["get"+r+"Hours"](),u=i["get"+r+"Minutes"](),h=i["get"+r+"Seconds"](),c=i["get"+r+"Milliseconds"]();return n.replace("MM",Rn(a,2)).replace("M",a).replace("yyyy",o).replace("yy",o%100+"").replace("dd",Rn(s,2)).replace("d",s).replace("hh",Rn(l,2)).replace("h",l).replace("mm",Rn(u,2)).replace("m",u).replace("ss",Rn(h,2)).replace("s",h).replace("SSS",Rn(c,3))},capitalFirst:function(n){return n&&n.charAt(0).toUpperCase()+n.substr(1)},truncateText:m0,getTextRect:function(n,t,e,i,r,o,a,s){return new Re({style:{text:n,font:t,align:e,verticalAlign:i,padding:r,rich:o,overflow:a?"truncate":null,lineHeight:s}}).getBoundingRect()}}),WL=Object.freeze({__proto__:null,map:J,each:k,indexOf:Ie,inherits:Ca,reduce:ii,filter:Ke,bind:re,curry:ye,isArray:Z,isString:Ce,isObject:pe,isFunction:Be,extend:K,defaults:ce,clone:de,merge:we}),Lu=We();function iw(n,t){var i,s,l,r=rw(n,"labels"),o=tm(t);return ow(r,o)||aw(r,o,{labels:Be(o)?lw(n,o):sw(n,i="auto"===o?null!=(l=Lu(s=n).autoInterval)?l:Lu(s).autoInterval=s.calculateCategoryInterval():o),labelCategoryInterval:i})}function rw(n,t){return Lu(n)[t]||(Lu(n)[t]=[])}function ow(n,t){for(var e=0;e<n.length;e++)if(n[e].key===t)return n[e].value}function aw(n,t,e){return n.push({key:t,value:e}),e}function sw(n,t,e){var i=ku(n),r=n.scale,o=r.getExtent(),a=n.getLabelModel(),s=[],l=Math.max((t||0)+1,1),u=o[0],h=r.count();0!==u&&l>1&&h/l>2&&(u=Math.round(Math.ceil(u/l)*l));var c=nw(n),p=a.get("showMinLabel")||c,d=a.get("showMaxLabel")||c;p&&u!==o[0]&&g(o[0]);for(var f=u;f<=o[1];f+=l)g(f);function g(m){var y={value:m};s.push(e?m:{formattedLabel:i(y),rawLabel:r.getLabel(y),tickValue:m})}return d&&f-l!==o[1]&&g(o[1]),s}function lw(n,t,e){var i=n.scale,r=ku(n),o=[];return k(i.getTicks(),function(a){var s=i.getLabel(a),l=a.value;t(a.value,s)&&o.push(e?l:{formattedLabel:r(a),rawLabel:s,tickValue:l})}),o}var uw=[0,1],Qn=function(){function n(t,e,i){this.onBand=!1,this.inverse=!1,this.dim=t,this.scale=e,this._extent=i||[0,0]}return n.prototype.contain=function(t){var e=this._extent,i=Math.min(e[0],e[1]),r=Math.max(e[0],e[1]);return t>=i&&t<=r},n.prototype.containData=function(t){return this.scale.contain(t)},n.prototype.getExtent=function(){return this._extent.slice()},n.prototype.getPixelPrecision=function(t){return Ed(t||this.scale.getExtent(),this._extent)},n.prototype.setExtent=function(t,e){var i=this._extent;i[0]=t,i[1]=e},n.prototype.dataToCoord=function(t,e){var i=this._extent,r=this.scale;return t=r.normalize(t),this.onBand&&"ordinal"===r.type&&hw(i=i.slice(),r.count()),Ze(t,uw,i,e)},n.prototype.coordToData=function(t,e){var i=this._extent,r=this.scale;this.onBand&&"ordinal"===r.type&&hw(i=i.slice(),r.count());var o=Ze(t,i,uw,e);return this.scale.scale(o)},n.prototype.pointToData=function(t,e){},n.prototype.getTicksCoords=function(t){var e=(t=t||{}).tickModel||this.getTickModel(),i=J(function(n,t){return"category"===n.type?function(e,i){var r,o,a=rw(e,"ticks"),s=tm(i),l=ow(a,s);if(l)return l;if(i.get("show")&&!e.scale.isBlank()||(r=[]),Be(s))r=lw(e,s,!0);else if("auto"===s){var u=iw(e,e.getLabelModel());o=u.labelCategoryInterval,r=J(u.labels,function(h){return h.tickValue})}else r=sw(e,o=s,!0);return aw(a,s,{ticks:r,tickCategoryInterval:o})}(n,t):{ticks:J(n.scale.getTicks(),function(e){return e.value})}}(this,e).ticks,function(r){return{coord:this.dataToCoord("ordinal"===this.scale.type?this.scale.getRawOrdinalNumber(r):r),tickValue:r}},this);return function(r,o,a,s){var l=o.length;if(r.onBand&&!a&&l){var u,h,c=r.getExtent();if(1===l)o[0].coord=c[0],u=o[1]={coord:c[0]};else{var d=(o[l-1].coord-o[0].coord)/(o[l-1].tickValue-o[0].tickValue);k(o,function(m){m.coord-=d/2}),h=1+r.scale.getExtent()[1]-o[l-1].tickValue,o.push(u={coord:o[l-1].coord+d*h})}var f=c[0]>c[1];g(o[0].coord,c[0])&&(s?o[0].coord=c[0]:o.shift()),s&&g(c[0],o[0].coord)&&o.unshift({coord:c[0]}),g(c[1],u.coord)&&(s?u.coord=c[1]:o.pop()),s&&g(u.coord,c[1])&&o.push({coord:c[1]})}function g(m,y){return m=Pt(m),y=Pt(y),f?m>y:m<y}}(this,i,e.get("alignWithLabel"),t.clamp),i},n.prototype.getMinorTicksCoords=function(){if("ordinal"===this.scale.type)return[];var t=this.model.getModel("minorTick").get("splitNumber");return t>0&&t<100||(t=5),J(this.scale.getMinorTicks(t),function(e){return J(e,function(i){return{coord:this.dataToCoord(i),tickValue:i}},this)},this)},n.prototype.getViewLabels=function(){return function(n){return"category"===n.type?function(t){var e=t.getLabelModel(),i=iw(t,e);return!e.get("show")||t.scale.isBlank()?{labels:[],labelCategoryInterval:i.labelCategoryInterval}:i}(n):function(t){var e=t.scale.getTicks(),i=ku(t);return{labels:J(e,function(r,o){return{level:r.level,formattedLabel:i(r,o),rawLabel:t.scale.getLabel(r),tickValue:r.value}})}}(n)}(this).labels},n.prototype.getLabelModel=function(){return this.model.getModel("axisLabel")},n.prototype.getTickModel=function(){return this.model.getModel("axisTick")},n.prototype.getBandWidth=function(){var t=this._extent,e=this.scale.getExtent(),i=e[1]-e[0]+(this.onBand?1:0);0===i&&(i=1);var r=Math.abs(t[1]-t[0]);return Math.abs(r)/i},n.prototype.calculateCategoryInterval=function(){return function(t){var T,C,e=(C=(T=t).getLabelModel(),{axisRotate:T.getRotate?T.getRotate():T.isHorizontal&&!T.isHorizontal()?90:0,labelRotate:C.get("rotate")||0,font:C.getFont()}),i=ku(t),r=(e.axisRotate-e.labelRotate)/180*Math.PI,o=t.scale,a=o.getExtent(),s=o.count();if(a[1]-a[0]<1)return 0;var l=1;s>40&&(l=Math.max(1,Math.floor(s/40)));for(var u=a[0],h=t.dataToCoord(u+1)-t.dataToCoord(u),c=Math.abs(h*Math.cos(r)),p=Math.abs(h*Math.sin(r)),d=0,f=0;u<=a[1];u+=l){var m,y=Cl(i({value:u}),e.font,"center","top");m=1.3*y.height,d=Math.max(d,1.3*y.width,7),f=Math.max(f,m,7)}var v=d/c,_=f/p;isNaN(v)&&(v=1/0),isNaN(_)&&(_=1/0);var x=Math.max(0,Math.floor(Math.min(v,_))),b=Lu(t.model),w=t.getExtent(),S=b.lastAutoInterval,M=b.lastTickCount;return null!=S&&null!=M&&Math.abs(S-x)<=1&&Math.abs(M-s)<=1&&S>x&&b.axisExtent0===w[0]&&b.axisExtent1===w[1]?x=S:(b.lastTickCount=s,b.lastAutoInterval=x,b.axisExtent0=w[0],b.axisExtent1=w[1]),x}(this)},n}();function hw(n,t){var e=(n[1]-n[0])/t/2;n[0]+=e,n[1]-=e}var Pu=2*Math.PI,ua=or.CMD,YL=["top","right","bottom","left"];function ZL(n,t,e,i,r){var o=e.width,a=e.height;switch(n){case"top":i.set(e.x+o/2,e.y-t),r.set(0,-1);break;case"bottom":i.set(e.x+o/2,e.y+a+t),r.set(0,1);break;case"left":i.set(e.x-t,e.y+a/2),r.set(-1,0);break;case"right":i.set(e.x+o+t,e.y+a/2),r.set(1,0)}}function jL(n,t,e,i,r,o,a,s,l){a-=n,s-=t;var u=Math.sqrt(a*a+s*s),h=(a/=u)*e+n,c=(s/=u)*e+t;if(Math.abs(i-r)%Pu<1e-4)return l[0]=h,l[1]=c,u-e;if(o){var p=i;i=Gr(r),r=Gr(p)}else i=Gr(i),r=Gr(r);i>r&&(r+=Pu);var d=Math.atan2(s,a);if(d<0&&(d+=Pu),d>=i&&d<=r||d+Pu>=i&&d+Pu<=r)return l[0]=h,l[1]=c,u-e;var f=e*Math.cos(i)+n,g=e*Math.sin(i)+t,m=e*Math.cos(r)+n,y=e*Math.sin(r)+t,v=(f-a)*(f-a)+(g-s)*(g-s),_=(m-a)*(m-a)+(y-s)*(y-s);return v<_?(l[0]=f,l[1]=g,Math.sqrt(v)):(l[0]=m,l[1]=y,Math.sqrt(_))}function pp(n,t,e,i,r,o,a,s){var l=r-n,u=o-t,h=e-n,c=i-t,p=Math.sqrt(h*h+c*c),d=(l*(h/=p)+u*(c/=p))/p;s&&(d=Math.min(Math.max(d,0),1));var f=a[0]=n+(d*=p)*h,g=a[1]=t+d*c;return Math.sqrt((f-r)*(f-r)+(g-o)*(g-o))}function cw(n,t,e,i,r,o,a){e<0&&(n+=e,e=-e),i<0&&(t+=i,i=-i);var s=n+e,l=t+i,u=a[0]=Math.min(Math.max(r,n),s),h=a[1]=Math.min(Math.max(o,t),l);return Math.sqrt((u-r)*(u-r)+(h-o)*(h-o))}var _i=[];function qL(n,t,e){var i=cw(t.x,t.y,t.width,t.height,n.x,n.y,_i);return e.set(_i[0],_i[1]),i}function KL(n,t,e){for(var i,r,o=0,a=0,s=0,l=0,u=1/0,h=t.data,c=n.x,p=n.y,d=0;d<h.length;){var f=h[d++];1===d&&(s=o=h[d],l=a=h[d+1]);var g=u;switch(f){case ua.M:o=s=h[d++],a=l=h[d++];break;case ua.L:g=pp(o,a,h[d],h[d+1],c,p,_i,!0),o=h[d++],a=h[d++];break;case ua.C:g=A0(o,a,h[d++],h[d++],h[d++],h[d++],h[d],h[d+1],c,p,_i),o=h[d++],a=h[d++];break;case ua.Q:g=k0(o,a,h[d++],h[d++],h[d],h[d+1],c,p,_i),o=h[d++],a=h[d++];break;case ua.A:var m=h[d++],y=h[d++],v=h[d++],_=h[d++],x=h[d++],b=h[d++];d+=1;var w=!!(1-h[d++]);i=Math.cos(x)*v+m,r=Math.sin(x)*_+y,d<=1&&(s=i,l=r),g=jL(m,y,_,x,x+b,w,(c-m)*_/v+m,p,_i),o=Math.cos(x+b)*v+m,a=Math.sin(x+b)*_+y;break;case ua.R:g=cw(s=o=h[d++],l=a=h[d++],h[d++],h[d++],c,p,_i);break;case ua.Z:g=pp(o,a,s,l,c,p,_i,!0),o=s,a=l}g<u&&(u=g,e.set(_i[0],_i[1]))}return u}var xi=new Se,rt=new Se,bt=new Se,Fi=new Se,Hi=new Se;function pw(n,t){if(n){var e=n.getTextGuideLine(),i=n.getTextContent();if(i&&e){var r=n.textGuideLineConfig||{},o=[[0,0],[0,0],[0,0]],a=r.candidates||YL,s=i.getBoundingRect().clone();s.applyTransform(i.getComputedTransform());var l=1/0,u=r.anchor,h=n.getComputedTransform(),c=h&&To([],h),p=t.get("length2")||0;u&&bt.copy(u);for(var d=0;d<a.length;d++){ZL(a[d],0,s,xi,Fi),Se.scaleAndAdd(rt,xi,Fi,p),rt.transform(c);var f=n.getBoundingRect(),g=u?u.distance(rt):n instanceof Le?KL(rt,n.path,bt):qL(rt,f,bt);g<l&&(l=g,rt.transform(h),bt.transform(h),bt.toArray(o[0]),rt.toArray(o[1]),xi.toArray(o[2]))}dw(o,t.get("minTurnAngle")),e.setShape({points:o})}}}var dp=[],fn=new Se;function dw(n,t){if(t<=180&&t>0){t=t/180*Math.PI,xi.fromArray(n[0]),rt.fromArray(n[1]),bt.fromArray(n[2]),Se.sub(Fi,xi,rt),Se.sub(Hi,bt,rt);var e=Fi.len(),i=Hi.len();if(!(e<.001||i<.001)){Fi.scale(1/e),Hi.scale(1/i);var r=Fi.dot(Hi);if(Math.cos(t)<r){var o=pp(rt.x,rt.y,bt.x,bt.y,xi.x,xi.y,dp,!1);fn.fromArray(dp),fn.scaleAndAdd(Hi,o/Math.tan(Math.PI-t));var a=bt.x!==rt.x?(fn.x-rt.x)/(bt.x-rt.x):(fn.y-rt.y)/(bt.y-rt.y);if(isNaN(a))return;a<0?Se.copy(fn,rt):a>1&&Se.copy(fn,bt),fn.toArray(n[1])}}}}function $L(n,t,e){if(e<=180&&e>0){e=e/180*Math.PI,xi.fromArray(n[0]),rt.fromArray(n[1]),bt.fromArray(n[2]),Se.sub(Fi,rt,xi),Se.sub(Hi,bt,rt);var i=Fi.len(),r=Hi.len();if(!(i<.001||r<.001)&&(Fi.scale(1/i),Hi.scale(1/r),Fi.dot(t)<Math.cos(e))){var o=pp(rt.x,rt.y,bt.x,bt.y,xi.x,xi.y,dp,!1);fn.fromArray(dp);var a=Math.PI/2,s=a+Math.acos(Hi.dot(t))-e;if(s>=a)Se.copy(fn,bt);else{fn.scaleAndAdd(Hi,o/Math.tan(Math.PI/2-s));var l=bt.x!==rt.x?(fn.x-rt.x)/(bt.x-rt.x):(fn.y-rt.y)/(bt.y-rt.y);if(isNaN(l))return;l<0?Se.copy(fn,rt):l>1&&Se.copy(fn,bt)}fn.toArray(n[1])}}}function fw(n,t,e,i){var r="normal"===e,o=r?n:n.ensureState(e);o.ignore=t;var a=i.get("smooth");a&&!0===a&&(a=.3),o.shape=o.shape||{},a>0&&(o.shape.smooth=a);var s=i.getModel("lineStyle").getLineStyle();r?n.useStyle(s):o.style=s}function QL(n,t){var e=t.smooth,i=t.points;if(i)if(n.moveTo(i[0][0],i[0][1]),e>0&&i.length>=3){var r=oi(i[0],i[1]),o=oi(i[1],i[2]);if(!r||!o)return n.lineTo(i[1][0],i[1][1]),void n.lineTo(i[2][0],i[2][1]);var a=Math.min(r,o)*e,s=wo([],i[1],i[0],a/r),l=wo([],i[1],i[2],a/o),u=wo([],s,l,.5);n.bezierCurveTo(s[0],s[1],s[0],s[1],u[0],u[1]),n.bezierCurveTo(l[0],l[1],l[0],l[1],i[2][0],i[2][1])}else for(var h=1;h<i.length;h++)n.lineTo(i[h][0],i[h][1])}function nm(n,t,e){var i=n.getTextGuideLine(),r=n.getTextContent();if(r){for(var o=t.normal,a=o.get("show"),s=r.ignore,l=0;l<Fl.length;l++){var u=Fl[l],h=t[u],c="normal"===u;if(h){var p=h.get("show");if((c?s:Te(r.states[u]&&r.states[u].ignore,s))||!Te(p,a)){var d=c?i:i&&i.states.normal;d&&(d.ignore=!0);continue}i||(i=new pn,n.setTextGuideLine(i),c||!s&&a||fw(i,!0,"normal",t.normal),n.stateProxy&&(i.stateProxy=n.stateProxy)),fw(i,!1,u,h)}}if(i){ce(i.style,e),i.style.fill=null;var f=o.get("showAbove");(n.textGuideLineConfig=n.textGuideLineConfig||{}).showAbove=f||!1,i.buildPath=QL}}else i&&n.removeTextGuideLine()}function im(n,t){for(var e={normal:n.getModel(t=t||"labelLine")},i=0;i<cn.length;i++){var r=cn[i];e[r]=n.getModel([r,t])}return e}function gw(n){for(var t=[],e=0;e<n.length;e++){var i=n[e];if(!i.defaultAttr.ignore){var r=i.label,o=r.getComputedTransform(),a=r.getBoundingRect(),s=!o||o[1]<1e-5&&o[2]<1e-5,l=r.style.margin||0,u=a.clone();u.applyTransform(o),u.x-=l/2,u.y-=l/2,u.width+=l,u.height+=l;var h=s?new hc(a,o):null;t.push({label:r,labelLine:i.labelLine,rect:u,localRect:a,obb:h,priority:i.priority,defaultAttr:i.defaultAttr,layoutOption:i.computedLayoutOption,axisAligned:s,transform:o})}}return t}function mw(n,t,e,i,r,o){var a=n.length;if(!(a<2)){n.sort(function(S,M){return S.rect[t]-M.rect[t]});for(var s,l=0,u=!1,h=0,c=0;c<a;c++){var p=n[c],d=p.rect;(s=d[t]-l)<0&&(d[t]-=s,p.label[t]-=s,u=!0),h+=Math.max(-s,0),l=d[t]+d[e]}h>0&&o&&x(-h/a,0,a);var f,g,m=n[0],y=n[a-1];return v(),f<0&&b(-f,.8),g<0&&b(g,.8),v(),_(f,g,1),_(g,f,-1),v(),f<0&&w(-f),g<0&&w(g),u}function v(){f=m.rect[t]-i,g=r-y.rect[t]-y.rect[e]}function _(S,M,T){if(S<0){var C=Math.min(M,-S);if(C>0){x(C*T,0,a);var A=C+S;A<0&&b(-A*T,1)}else b(-S*T,1)}}function x(S,M,T){0!==S&&(u=!0);for(var C=M;C<T;C++){var A=n[C];A.rect[t]+=S,A.label[t]+=S}}function b(S,M){for(var T=[],C=0,A=1;A<a;A++){var D=n[A-1].rect,L=Math.max(n[A].rect[t]-D[t]-D[e],0);T.push(L),C+=L}if(C){var P=Math.min(Math.abs(S)/C,M);if(S>0)for(A=0;A<a-1;A++)x(T[A]*P,0,A+1);else for(A=a-1;A>0;A--)x(-T[A-1]*P,A,a)}}function w(S){var M=S<0?-1:1;S=Math.abs(S);for(var T=Math.ceil(S/(a-1)),C=0;C<a-1;C++)if(M>0?x(T,0,C+1):x(-T,a-C-1,a),(S-=T)<=0)return}}function yw(n,t,e,i){return mw(n,"y","height",t,e,i)}function vw(n){var t=[];n.sort(function(g,m){return m.priority-g.priority});var e=new De(0,0,0,0);function i(g){if(!g.ignore){var m=g.ensureState("emphasis");null==m.ignore&&(m.ignore=!1)}g.ignore=!0}for(var r=0;r<n.length;r++){var o=n[r],a=o.axisAligned,s=o.localRect,l=o.transform,u=o.label,h=o.labelLine;e.copy(o.rect),e.width-=.1,e.height-=.1,e.x+=.05,e.y+=.05;for(var c=o.obb,p=!1,d=0;d<t.length;d++){var f=t[d];if(e.intersect(f.rect)){if(a&&f.axisAligned){p=!0;break}if(f.obb||(f.obb=new hc(f.localRect,f.transform)),c||(c=new hc(s,l)),c.intersect(f.obb)){p=!0;break}}}p?(i(u),h&&i(h)):(u.attr("ignore",o.defaultAttr.ignore),h&&h.attr("ignore",o.defaultAttr.labelGuideIgnore),t.push(o))}}function JL(n){if(n){for(var t=[],e=0;e<n.length;e++)t.push(n[e].slice());return t}}function eP(n,t){var e=n.label,i=t&&t.getTextGuideLine();return{dataIndex:n.dataIndex,dataType:n.dataType,seriesIndex:n.seriesModel.seriesIndex,text:n.label.style.text,rect:n.hostRect,labelRect:n.rect,align:e.style.align,verticalAlign:e.style.verticalAlign,labelLinePoints:JL(i&&i.shape.points)}}var _w=["align","verticalAlign","width","height","fontSize"],Vn=new ir,rm=We(),tP=We();function fp(n,t,e){for(var i=0;i<e.length;i++){var r=e[i];null!=t[r]&&(n[r]=t[r])}}var gp=["x","y","rotation"],nP=function(){function n(){this._labelList=[],this._chartViewList=[]}return n.prototype.clearLabels=function(){this._labelList=[],this._chartViewList=[]},n.prototype._addLabel=function(t,e,i,r,o){var a=r.style,s=r.__hostTarget.textConfig||{},l=r.getComputedTransform(),u=r.getBoundingRect().plain();De.applyTransform(u,u,l),l?Vn.setLocalTransform(l):(Vn.x=Vn.y=Vn.rotation=Vn.originX=Vn.originY=0,Vn.scaleX=Vn.scaleY=1);var h,c=r.__hostTarget;if(c){h=c.getBoundingRect().plain();var p=c.getComputedTransform();De.applyTransform(h,h,p)}var d=h&&c.getTextGuideLine();this._labelList.push({label:r,labelLine:d,seriesModel:i,dataIndex:t,dataType:e,layoutOption:o,computedLayoutOption:null,rect:u,hostRect:h,priority:h?h.width*h.height:0,defaultAttr:{ignore:r.ignore,labelGuideIgnore:d&&d.ignore,x:Vn.x,y:Vn.y,scaleX:Vn.scaleX,scaleY:Vn.scaleY,rotation:Vn.rotation,style:{x:a.x,y:a.y,align:a.align,verticalAlign:a.verticalAlign,width:a.width,height:a.height,fontSize:a.fontSize},cursor:r.cursor,attachedPos:s.position,attachedRot:s.rotation}})},n.prototype.addLabelsOfSeries=function(t){var e=this;this._chartViewList.push(t);var i=t.__model,r=i.get("labelLayout");(Be(r)||q(r).length)&&t.group.traverse(function(o){if(o.ignore)return!0;var a=o.getTextContent(),s=_e(o);a&&!a.disableLabelLayout&&e._addLabel(s.dataIndex,s.dataType,i,a,r)})},n.prototype.updateLayoutConfig=function(t){var e=t.getWidth(),i=t.getHeight();function r(y,v){return function(){pw(y,v)}}for(var o=0;o<this._labelList.length;o++){var a=this._labelList[o],s=a.label,l=s.__hostTarget,u=a.defaultAttr,h=void 0;h=(h="function"==typeof a.layoutOption?a.layoutOption(eP(a,l)):a.layoutOption)||{},a.computedLayoutOption=h;var c=Math.PI/180;l&&l.setTextConfig({local:!1,position:null!=h.x||null!=h.y?null:u.attachedPos,rotation:null!=h.rotate?h.rotate*c:u.attachedRot,offset:[h.dx||0,h.dy||0]});var p=!1;if(null!=h.x?(s.x=ie(h.x,e),s.setStyle("x",0),p=!0):(s.x=u.x,s.setStyle("x",u.style.x)),null!=h.y?(s.y=ie(h.y,i),s.setStyle("y",0),p=!0):(s.y=u.y,s.setStyle("y",u.style.y)),h.labelLinePoints){var d=l.getTextGuideLine();d&&(d.setShape({points:h.labelLinePoints}),p=!1)}rm(s).needsUpdateLabelLine=p,s.rotation=null!=h.rotate?h.rotate*c:u.rotation,s.scaleX=u.scaleX,s.scaleY=u.scaleY;for(var f=0;f<_w.length;f++){var g=_w[f];s.setStyle(g,null!=h[g]?h[g]:u.style[g])}if(h.draggable){if(s.draggable=!0,s.cursor="move",l){var m=a.seriesModel;null!=a.dataIndex&&(m=a.seriesModel.getData(a.dataType).getItemModel(a.dataIndex)),s.on("drag",r(l,m.getModel("labelLine")))}}else s.off("drag"),s.cursor=u.cursor}},n.prototype.layout=function(t){var i=t.getWidth(),r=t.getHeight(),o=gw(this._labelList),a=Ke(o,function(l){return"shiftX"===l.layoutOption.moveOverlap}),s=Ke(o,function(l){return"shiftY"===l.layoutOption.moveOverlap});mw(a,"x","width",0,i,void 0),yw(s,0,r),vw(Ke(o,function(l){return l.layoutOption.hideOverlap}))},n.prototype.processLabelsOverall=function(){var t=this;k(this._chartViewList,function(e){var i=e.__model,r=e.ignoreLabelLineUpdate,o=i.isAnimationEnabled();e.group.traverse(function(a){if(a.ignore&&!a.forceLabelAnimation)return!0;var s=!r,l=a.getTextContent();!s&&l&&(s=rm(l).needsUpdateLabelLine),s&&t._updateLabelLine(a,i),o&&t._animateLabels(a,i)})})},n.prototype._updateLabelLine=function(t,e){var i=t.getTextContent(),r=_e(t),o=r.dataIndex;if(i&&null!=o){var a=e.getData(r.dataType),s=a.getItemModel(o),l={},u=a.getItemVisual(o,"style"),h=a.getVisual("drawType");l.stroke=u[h];var c=s.getModel("labelLine");nm(t,im(s),l),pw(t,c)}},n.prototype._animateLabels=function(t,e){var i=t.getTextContent(),r=t.getTextGuideLine();if(i&&(t.forceLabelAnimation||!i.ignore&&!i.invisible&&!t.disableLabelAnimation&&!os(t))){var o=(f=rm(i)).oldLayout,a=_e(t),s=a.dataIndex,l={x:i.x,y:i.y,rotation:i.rotation},u=e.getData(a.dataType);if(o){i.attr(o);var h=t.prevStates;h&&(Ie(h,"select")>=0&&i.attr(f.oldLayoutSelect),Ie(h,"emphasis")>=0&&i.attr(f.oldLayoutEmphasis)),ze(i,l,e,s)}else if(i.attr(l),!ls(i).valueAnimation){var c=Te(i.style.opacity,1);i.style.opacity=0,lt(i,{style:{opacity:c}},e,s)}if(f.oldLayout=l,i.states.select){var p=f.oldLayoutSelect={};fp(p,l,gp),fp(p,i.states.select,gp)}if(i.states.emphasis){var d=f.oldLayoutEmphasis={};fp(d,l,gp),fp(d,i.states.emphasis,gp)}H_(i,s,u,e,e)}if(r&&!r.ignore&&!r.invisible){o=(f=tP(r)).oldLayout;var f,g={points:r.shape.points};o?(r.attr({shape:o}),ze(r,{shape:g},e)):(r.setShape(g),r.style.strokePercent=0,lt(r,{style:{strokePercent:1}},e)),f.oldLayout=g}},n}(),om=We();function pr(n){return document.createElementNS("http://www.w3.org/2000/svg",n)}function mp(n){var t;if(n&&"transparent"!==n){if("string"==typeof n&&n.indexOf("rgba")>-1){var e=Rt(n);e&&(n="rgb("+e[0]+","+e[1]+","+e[2]+")",t=e[3])}}else n="none";return{color:n,opacity:null==t?1:t}}function xw(n,t,e,i,r){for(var o=t.length,a=e.length,s=n.newPos,l=s-i,u=0;s+1<o&&l+1<a&&r(t[s+1],e[l+1]);)s++,l++,u++;return u&&n.components.push({count:u,added:!1,removed:!1,indices:[]}),n.newPos=s,l}function bw(n,t,e){var i=n[n.length-1];i&&i.added===t&&i.removed===e?n[n.length-1]={count:i.count+1,added:t,removed:e,indices:[]}:n.push({count:1,added:t,removed:e,indices:[]})}function iP(n){for(var t=0,e=n.length,i=0,r=0;t<e;t++){var o=n[t];if(o.removed){for(s=r;s<r+o.count;s++)o.indices.push(s);r+=o.count}else{for(var a=[],s=i;s<i+o.count;s++)a.push(s);o.indices=a,i+=o.count,o.added||(r+=o.count)}}return n}var Ou="none",yp=Math.round,ww=Math.sin,Sw=Math.cos,Mw=Math.PI,to=2*Math.PI,Iw=180/Mw;function vp(n){return yp(1e3*n)/1e3}function dr(n){return yp(1e4*n)/1e4}function Tw(n){return n<1e-4&&n>-1e-4}function am(n,t){t&&dt(n,"transform","matrix("+vp(t[0])+","+vp(t[1])+","+vp(t[2])+","+vp(t[3])+","+dr(t[4])+","+dr(t[5])+")")}function dt(n,t,e){(!e||"linear"!==e.type&&"radial"!==e.type)&&n.setAttribute(t,e)}function sm(n,t,e){var c,i=null==t.opacity?1:t.opacity;if(e instanceof It)dt(n,"opacity",i+"");else{if(null!=(c=t.fill)&&c!==Ou){var r=mp(t.fill);dt(n,"fill",r.color),dt(n,"fill-opacity",(null!=t.fillOpacity?t.fillOpacity*r.opacity*i:r.opacity*i)+"")}else dt(n,"fill",Ou);if(function(h){var c=h.stroke;return null!=c&&c!==Ou}(t)){var o=mp(t.stroke);dt(n,"stroke",o.color);var a=t.lineWidth,s=t.strokeNoScale?e.getLineScale():1;dt(n,"stroke-width",(s?a/s:0)+""),dt(n,"paint-order",t.strokeFirst?"stroke":"fill"),dt(n,"stroke-opacity",(null!=t.strokeOpacity?t.strokeOpacity*o.opacity*i:o.opacity*i)+"");var l=t.lineDash&&a>0&&gg(t.lineDash,a);if(l){var u=t.lineDashOffset;s&&1!==s&&(l=J(l,function(h){return h/s}),u&&(u=yp(u/=s))),dt(n,"stroke-dasharray",l.join(",")),dt(n,"stroke-dashoffset",(u||0)+"")}else dt(n,"stroke-dasharray",Ou);t.lineCap&&dt(n,"stroke-linecap",t.lineCap),t.lineJoin&&dt(n,"stroke-linejoin",t.lineJoin),t.miterLimit&&dt(n,"stroke-miterlimit",t.miterLimit+"")}else dt(n,"stroke",Ou)}}var aP=function(){function n(){}return n.prototype.reset=function(){this._d=[],this._str=""},n.prototype.moveTo=function(t,e){this._add("M",t,e)},n.prototype.lineTo=function(t,e){this._add("L",t,e)},n.prototype.bezierCurveTo=function(t,e,i,r,o,a){this._add("C",t,e,i,r,o,a)},n.prototype.quadraticCurveTo=function(t,e,i,r){this._add("Q",t,e,i,r)},n.prototype.arc=function(t,e,i,r,o,a){this.ellipse(t,e,i,i,0,r,o,a)},n.prototype.ellipse=function(t,e,i,r,o,a,s,l){var u=0===this._d.length,h=s-a,c=!l,p=Math.abs(h),d=Tw(p-to)||(c?h>=to:-h>=to),f=h>0?h%to:h%to+to,g=!1;g=!!d||!Tw(p)&&f>=Mw==!!c;var m=dr(t+i*Sw(a)),y=dr(e+r*ww(a));d&&(h=c?to-1e-4:1e-4-to,g=!0,u&&this._d.push("M",m,y));var v=dr(t+i*Sw(a+h)),_=dr(e+r*ww(a+h));if(isNaN(m)||isNaN(y)||isNaN(i)||isNaN(r)||isNaN(o)||isNaN(Iw)||isNaN(v)||isNaN(_))return"";this._d.push("A",dr(i),dr(r),yp(o*Iw),+g,+c,v,_)},n.prototype.rect=function(t,e,i,r){this._add("M",t,e),this._add("L",t+i,e),this._add("L",t+i,e+r),this._add("L",t,e+r),this._add("L",t,e),this._add("Z")},n.prototype.closePath=function(){this._d.length>0&&this._add("Z")},n.prototype._add=function(t,e,i,r,o,a,s,l,u){this._d.push(t);for(var h=1;h<arguments.length;h++){var c=arguments[h];if(isNaN(c))return void(this._invalid=!0);this._d.push(dr(c))}},n.prototype.generateStr=function(){this._str=this._invalid?"":this._d.join(" "),this._d=[]},n.prototype.getStr=function(){return this._str},n}(),_p={brush:function(n){var t=n.style,e=n.__svgEl;e||(e=pr("path"),n.__svgEl=e),n.path||n.createPathProxy();var i=n.path;n.shapeChanged()&&(i.beginPath(),n.buildPath(i,n.shape),n.pathUpdated());var r=i.getVersion(),o=n,a=o.__svgPathBuilder;(o.__svgPathVersion!==r||!a||n.style.strokePercent<1)&&(a||(a=o.__svgPathBuilder=new aP),a.reset(),i.rebuildPath(a,n.style.strokePercent),a.generateStr(),o.__svgPathVersion=r),dt(e,"d",a.getStr()),sm(e,t,n),am(e,n.transform)}},Cw={brush:function(n){var t=n.style,e=t.image;if(e instanceof HTMLImageElement?e=e.src:e instanceof HTMLCanvasElement&&(e=e.toDataURL()),e){var i=t.x||0,r=t.y||0,o=t.width,a=t.height,s=n.__svgEl;s||(s=pr("image"),n.__svgEl=s),e!==n.__imageSrc&&(s.setAttributeNS("http://www.w3.org/1999/xlink","href",e),n.__imageSrc=e),dt(s,"width",o+""),dt(s,"height",a+""),dt(s,"x",i+""),dt(s,"y",r+""),sm(s,t,n),am(s,n.transform)}}},sP={left:"start",right:"end",center:"middle",middle:"middle"},Aw={brush:function(n){var l,u,h,t=n.style,e=t.text;if(null!=e&&(e+=""),e&&!isNaN(t.x)&&!isNaN(t.y)){var i=n.__svgEl;i||((i=pr("text")).setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),n.__svgEl=i);var r=t.font||Po;i.style.font=r,i.textContent=e,sm(i,t,n),am(i,n.transform);var o=t.x||0,a=(l=t.y||0,u=Gh(r),"top"===(h=t.textBaseline)?l+=u/2:"bottom"===h&&(l-=u/2),l),s=sP[t.textAlign]||t.textAlign;dt(i,"dominant-baseline","central"),dt(i,"text-anchor",s),dt(i,"x",o+""),dt(i,"y",a+"")}}},xp=function(){function n(t,e,i,r,o){this.nextId=0,this._domName="_dom",this.createElement=pr,this._zrId=t,this._svgRoot=e,this._tagNames="string"==typeof i?[i]:i,this._markLabel=r,o&&(this._domName=o)}return n.prototype.getDefs=function(t){var e=this._svgRoot,i=this._svgRoot.getElementsByTagName("defs");if(0===i.length){if(t){var r=e.insertBefore(this.createElement("defs"),e.firstChild);return r.contains||(r.contains=function(o){var a=r.children;if(!a)return!1;for(var s=a.length-1;s>=0;--s)if(a[s]===o)return!0;return!1}),r}return null}return i[0]},n.prototype.doUpdate=function(t,e){if(t){var i=this.getDefs(!1);if(t[this._domName]&&i.contains(t[this._domName]))"function"==typeof e&&e(t);else{var r=this.add(t);r&&(t[this._domName]=r)}}},n.prototype.add=function(t){return null},n.prototype.addDom=function(t){var e=this.getDefs(!0);t.parentNode!==e&&e.appendChild(t)},n.prototype.removeDom=function(t){var e=this.getDefs(!1);e&&t[this._domName]&&(e.removeChild(t[this._domName]),t[this._domName]=null)},n.prototype.getDoms=function(){var t=this.getDefs(!1);if(!t)return[];var e=[];return k(this._tagNames,function(i){for(var r=t.getElementsByTagName(i),o=0;o<r.length;o++)e.push(r[o])}),e},n.prototype.markAllUnused=function(){var t=this.getDoms(),e=this;k(t,function(i){i[e._markLabel]="0"})},n.prototype.markDomUsed=function(t){t&&(t[this._markLabel]="1")},n.prototype.markDomUnused=function(t){t&&(t[this._markLabel]="0")},n.prototype.isDomUnused=function(t){return t&&"1"!==t[this._markLabel]},n.prototype.removeUnused=function(){var t=this,e=this.getDefs(!1);e&&k(this.getDoms(),function(i){t.isDomUnused(i)&&e.removeChild(i)})},n.prototype.getSvgProxy=function(t){return t instanceof Le?_p:t instanceof It?Cw:t instanceof Xo?Aw:_p},n.prototype.getSvgElement=function(t){return t.__svgEl},n}();function Dw(n){return"linear"===n.type}function kw(n){return"radial"===n.type}function Lw(n){return n&&("linear"===n.type||"radial"===n.type)}var lP=function(n){function t(e,i){return n.call(this,e,i,["linearGradient","radialGradient"],"__gradient_in_use__")||this}return G(t,n),t.prototype.addWithoutUpdate=function(e,i){if(i&&i.style){var r=this;k(["fill","stroke"],function(o){var a=i.style[o];if(Lw(a)){var s=a,l=r.getDefs(!0),u=void 0;s.__dom?(u=s.__dom,l.contains(s.__dom)||r.addDom(u)):u=r.add(s),r.markUsed(i);var h=u.getAttribute("id");e.setAttribute(o,"url(#"+h+")")}})}},t.prototype.add=function(e){var i;if(Dw(e))i=this.createElement("linearGradient");else{if(!kw(e))return Cn("Illegal gradient type."),null;i=this.createElement("radialGradient")}return e.id=e.id||this.nextId++,i.setAttribute("id","zr"+this._zrId+"-gradient-"+e.id),this.updateDom(e,i),this.addDom(i),i},t.prototype.update=function(e){if(Lw(e)){var i=this;this.doUpdate(e,function(){var r=e.__dom;if(r){var o=r.tagName,a=e.type;"linear"===a&&"linearGradient"===o||"radial"===a&&"radialGradient"===o?i.updateDom(e,e.__dom):(i.removeDom(e),i.add(e))}})}},t.prototype.updateDom=function(e,i){if(Dw(e))i.setAttribute("x1",e.x+""),i.setAttribute("y1",e.y+""),i.setAttribute("x2",e.x2+""),i.setAttribute("y2",e.y2+"");else{if(!kw(e))return void Cn("Illegal gradient type.");i.setAttribute("cx",e.x+""),i.setAttribute("cy",e.y+""),i.setAttribute("r",e.r+"")}i.setAttribute("gradientUnits",e.global?"userSpaceOnUse":"objectBoundingBox"),i.innerHTML="";for(var r=e.colorStops,o=0,a=r.length;o<a;++o){var s=this.createElement("stop");s.setAttribute("offset",100*r[o].offset+"%");var l=r[o].color;if(l.indexOf("rgba")>-1){var u=Rt(l)[3],h=Ai(l);s.setAttribute("stop-color","#"+h),s.setAttribute("stop-opacity",u+"")}else s.setAttribute("stop-color",r[o].color);i.appendChild(s)}e.__dom=i},t.prototype.markUsed=function(e){if(e.style){var i=e.style.fill;i&&i.__dom&&n.prototype.markDomUsed.call(this,i.__dom),(i=e.style.stroke)&&i.__dom&&n.prototype.markDomUsed.call(this,i.__dom)}},t}(xp);function Eu(n){return n&&(!!n.image||!!n.svgElement)}var Nu=new Ox,uP=function(n){function t(e,i){return n.call(this,e,i,["pattern"],"__pattern_in_use__")||this}return G(t,n),t.prototype.addWithoutUpdate=function(e,i){if(i&&i.style){var r=this;k(["fill","stroke"],function(o){var a=i.style[o];if(Eu(a)){var s=r.getDefs(!0),l=Nu.get(a);l?s.contains(l)||r.addDom(l):l=r.add(a),r.markUsed(i);var u=l.getAttribute("id");e.setAttribute(o,"url(#"+u+")")}})}},t.prototype.add=function(e){if(Eu(e)){var i=this.createElement("pattern");return e.id=null==e.id?this.nextId++:e.id,i.setAttribute("id","zr"+this._zrId+"-pattern-"+e.id),i.setAttribute("x","0"),i.setAttribute("y","0"),i.setAttribute("patternUnits","userSpaceOnUse"),this.updateDom(e,i),this.addDom(i),i}},t.prototype.update=function(e){if(Eu(e)){var i=this;this.doUpdate(e,function(){var r=Nu.get(e);i.updateDom(e,r)})}},t.prototype.updateDom=function(e,i){var r=e.svgElement;if(r instanceof SVGElement)r.parentNode!==i&&(i.innerHTML="",i.appendChild(r),i.setAttribute("width",e.svgWidth+""),i.setAttribute("height",e.svgHeight+""));else{var o=void 0,a=i.getElementsByTagName("image");if(a.length){if(!e.image)return void i.removeChild(a[0]);o=a[0]}else e.image&&(o=this.createElement("image"));if(o){var s=void 0,l=e.image;if("string"==typeof l?s=l:l instanceof HTMLImageElement?s=l.src:l instanceof HTMLCanvasElement&&(s=l.toDataURL()),s){o.setAttribute("href",s),o.setAttribute("x","0"),o.setAttribute("y","0");var u=Yd(s,o,{dirty:function(){}},function(c){i.setAttribute("width",c.width+""),i.setAttribute("height",c.height+"")});u&&u.width&&u.height&&(i.setAttribute("width",u.width+""),i.setAttribute("height",u.height+"")),i.appendChild(o)}}}var h="translate("+(e.x||0)+", "+(e.y||0)+") rotate("+(e.rotation||0)/Math.PI*180+") scale("+(e.scaleX||1)+", "+(e.scaleY||1)+")";i.setAttribute("patternTransform",h),Nu.set(e,i)},t.prototype.markUsed=function(e){e.style&&(Eu(e.style.fill)&&n.prototype.markDomUsed.call(this,Nu.get(e.style.fill)),Eu(e.style.stroke)&&n.prototype.markDomUsed.call(this,Nu.get(e.style.stroke)))},t}(xp);function Pw(n){var t=n.__clipPaths;return t&&t.length>0}var hP=function(n){function t(e,i){var r=n.call(this,e,i,"clipPath","__clippath_in_use__")||this;return r._refGroups={},r._keyDuplicateCount={},r}return G(t,n),t.prototype.markAllUnused=function(){n.prototype.markAllUnused.call(this);var e=this._refGroups;for(var i in e)e.hasOwnProperty(i)&&this.markDomUnused(e[i]);this._keyDuplicateCount={}},t.prototype._getClipPathGroup=function(e,i){if(Pw(e)){var r=e.__clipPaths,o=this._keyDuplicateCount,a=function(s){var l=[];if(s)for(var u=0;u<s.length;u++)l.push(s[u].id);return l.join(",")}(r);return Ex(r,i&&i.__clipPaths)&&(o[a]=o[a]||0,o[a]&&(a+="-"+o[a]),o[a]++),this._refGroups[a]||(this._refGroups[a]=this.createElement("g"))}},t.prototype.update=function(e,i){var r=this._getClipPathGroup(e,i);return r&&(this.markDomUsed(r),this.updateDom(r,e.__clipPaths)),r},t.prototype.updateDom=function(e,i){if(i&&i.length>0){var r=this.getDefs(!0),o=i[0],a=void 0,s=void 0;o._dom?(s=o._dom.getAttribute("id"),r.contains(a=o._dom)||r.appendChild(a)):(s="zr"+this._zrId+"-clip-"+this.nextId,++this.nextId,(a=this.createElement("clipPath")).setAttribute("id",s),r.appendChild(a),o._dom=a),this.getSvgProxy(o).brush(o);var l=this.getSvgElement(o);a.innerHTML="",a.appendChild(l),e.setAttribute("clip-path","url(#"+s+")"),i.length>1&&this.updateDom(a,i.slice(1))}else e&&e.setAttribute("clip-path","none")},t.prototype.markUsed=function(e){var i=this;e.__clipPaths&&k(e.__clipPaths,function(r){r._dom&&n.prototype.markDomUsed.call(i,r._dom)})},t.prototype.removeUnused=function(){n.prototype.removeUnused.call(this);var e={},i=this._refGroups;for(var r in i)if(i.hasOwnProperty(r)){var o=i[r];this.isDomUnused(o)?o.parentNode&&o.parentNode.removeChild(o):e[r]=o}this._refGroups=e},t}(xp),cP=function(n){function t(e,i){var r=n.call(this,e,i,["filter"],"__filter_in_use__","_shadowDom")||this;return r._shadowDomMap={},r._shadowDomPool=[],r}return G(t,n),t.prototype._getFromPool=function(){var e=this._shadowDomPool.pop();if(!e){(e=this.createElement("filter")).setAttribute("id","zr"+this._zrId+"-shadow-"+this.nextId++);var i=this.createElement("feDropShadow");e.appendChild(i),this.addDom(e)}return e},t.prototype.update=function(e,i){if((a=i.style)&&(a.shadowBlur||a.shadowOffsetX||a.shadowOffsetY)){var r=function(a){var s=a.style,l=a.getGlobalScale();return[s.shadowColor,(s.shadowBlur||0).toFixed(2),(s.shadowOffsetX||0).toFixed(2),(s.shadowOffsetY||0).toFixed(2),l[0],l[1]].join(",")}(i),o=i._shadowDom=this._shadowDomMap[r];o||(o=this._getFromPool(),this._shadowDomMap[r]=o),this.updateDom(e,i,o)}else this.remove(e,i);var a},t.prototype.remove=function(e,i){null!=i._shadowDom&&(i._shadowDom=null,e.removeAttribute("filter"))},t.prototype.updateDom=function(e,i,r){var o=r.children[0],a=i.style,s=i.getGlobalScale(),l=s[0],u=s[1];if(l&&u){var h=a.shadowOffsetX||0,c=a.shadowOffsetY||0,p=a.shadowBlur,d=mp(a.shadowColor);o.setAttribute("dx",h/l+""),o.setAttribute("dy",c/u+""),o.setAttribute("flood-color",d.color),o.setAttribute("flood-opacity",d.opacity+""),o.setAttribute("stdDeviation",p/2/l+" "+p/2/u),r.setAttribute("x","-100%"),r.setAttribute("y","-100%"),r.setAttribute("width","300%"),r.setAttribute("height","300%"),i._shadowDom=r;var g=r.getAttribute("id");e.setAttribute("filter","url(#"+g+")")}},t.prototype.removeUnused=function(){if(this.getDefs(!1)){var e=this._shadowDomPool,i=this._shadowDomMap;for(var r in i)i.hasOwnProperty(r)&&e.push(i[r]);this._shadowDomMap={}}},t}(xp);function bp(n){return parseInt(n,10)}function Ow(n){return n instanceof Le?_p:n instanceof It?Cw:n instanceof Xo?Aw:_p}function Ew(n,t){return t&&n&&t.parentNode!==n}function Nw(n,t,e){if(Ew(n,t)&&e){var i=e.nextSibling;i?n.insertBefore(t,i):n.appendChild(t)}}function Rw(n,t){if(Ew(n,t)){var e=n.firstChild;e?n.insertBefore(t,e):n.appendChild(t)}}function pP(n,t){t&&n&&t.parentNode===n&&n.removeChild(t)}function Ru(n){return n.__svgEl}var dP=function(){function n(t,e,i,r){this.type="svg",this.refreshHover=lm("refreshHover"),this.pathToImage=lm("pathToImage"),this.configLayer=lm("configLayer"),this.root=t,this.storage=e,this._opts=i=K({},i||{});var o=pr("svg");o.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns","http://www.w3.org/2000/svg"),o.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:xlink","http://www.w3.org/1999/xlink"),o.setAttribute("version","1.1"),o.setAttribute("baseProfile","full"),o.style.cssText="user-select:none;position:absolute;left:0;top:0;";var a=pr("g");o.appendChild(a);var s=pr("g");o.appendChild(s),this._gradientManager=new lP(r,s),this._patternManager=new uP(r,s),this._clipPathManager=new hP(r,s),this._shadowManager=new cP(r,s);var l=document.createElement("div");l.style.cssText="overflow:hidden;position:relative",this._svgDom=o,this._svgRoot=s,this._backgroundRoot=a,this._viewport=l,t.appendChild(l),l.appendChild(o),this.resize(i.width,i.height),this._visibleList=[]}return n.prototype.getType=function(){return"svg"},n.prototype.getViewportRoot=function(){return this._viewport},n.prototype.getSvgDom=function(){return this._svgDom},n.prototype.getSvgRoot=function(){return this._svgRoot},n.prototype.getViewportRootOffset=function(){var t=this.getViewportRoot();if(t)return{offsetLeft:t.offsetLeft||0,offsetTop:t.offsetTop||0}},n.prototype.refresh=function(){var t=this.storage.getDisplayList(!0);this._paintList(t)},n.prototype.setBackgroundColor=function(t){this._backgroundRoot&&this._backgroundNode&&this._backgroundRoot.removeChild(this._backgroundNode);var e=pr("rect");e.setAttribute("width",this.getWidth()),e.setAttribute("height",this.getHeight()),e.setAttribute("x",0),e.setAttribute("y",0),e.setAttribute("id",0);var i=mp(t),o=i.opacity;e.setAttribute("fill",i.color),e.setAttribute("fill-opacity",o),this._backgroundRoot.appendChild(e),this._backgroundNode=e},n.prototype.createSVGElement=function(t){return pr(t)},n.prototype.paintOne=function(t){var e=Ow(t);return e&&e.brush(t),Ru(t)},n.prototype._paintList=function(t){var e=this._gradientManager,i=this._patternManager,r=this._clipPathManager,o=this._shadowManager;e.markAllUnused(),i.markAllUnused(),r.markAllUnused(),o.markAllUnused();for(var a=this._svgRoot,s=this._visibleList,l=t.length,u=[],h=0;h<l;h++){var c=Ow(b=t[h]),p=Ru(b);b.invisible||(!b.__dirty&&p||(c&&c.brush(b),(p=Ru(b))&&b.style&&(e.update(b.style.fill),e.update(b.style.stroke),i.update(b.style.fill),i.update(b.style.stroke),o.update(p,b)),b.__dirty=0),p&&u.push(b))}var d,f,g,m,y,v=function(n,t,e){return function(i,r,o){o||(o=function(m,y){return m===y}),i=i.slice();var a=(r=r.slice()).length,s=i.length,l=1,u=a+s,h=[{newPos:-1,components:[]}],c=xw(h[0],r,i,0,o);if(h[0].newPos+1>=a&&c+1>=s){for(var p=[],d=0;d<r.length;d++)p.push(d);return[{indices:p,count:r.length,added:!1,removed:!1}]}function f(){for(var m=-1*l;m<=l;m+=2){var y,v=h[m-1],_=h[m+1],x=(_?_.newPos:0)-m;v&&(h[m-1]=void 0);var b=v&&v.newPos+1<a,w=_&&0<=x&&x<s;if(b||w){if(!b||w&&v.newPos<_.newPos?bw((y={newPos:(S=_).newPos,components:S.components.slice(0)}).components,!1,!0):((y=v).newPos++,bw(y.components,!0,!1)),x=xw(y,r,i,m,o),y.newPos+1>=a&&x+1>=s)return iP(y.components);h[m]=y}else h[m]=void 0}var S;l++}for(;l<=u;){var g=f();if(g)return g}}(n,t,void 0)}(s,u);for(h=0;h<v.length;h++)if((x=v[h]).removed)for(var _=0;_<x.count;_++)p=Ru(b=s[x.indices[_]]),Pw(b)?(g=p)&&g.parentNode&&g.parentNode.removeChild(g):pP(a,p);for(h=0;h<v.length;h++){var x;if(!(x=v[h]).removed)for(_=0;_<x.count;_++){var b=u[x.indices[_]],w=r.update(b,m);w!==y&&(d=f,w&&(d?Nw(a,w,d):Rw(a,w),f=w,d=null),y=w),p=Ru(b),d?Nw(y||a,p,d):Rw(y||a,p),d=p||d,y||(f=d),e.markUsed(b),e.addWithoutUpdate(p,b),i.markUsed(b),i.addWithoutUpdate(p,b),r.markUsed(b),m=b}}e.removeUnused(),i.removeUnused(),r.removeUnused(),o.removeUnused(),this._visibleList=u},n.prototype.resize=function(t,e){var i=this._viewport;i.style.display="none";var r=this._opts;if(null!=t&&(r.width=t),null!=e&&(r.height=e),t=this._getSize(0),e=this._getSize(1),i.style.display="",this._width!==t||this._height!==e){this._width=t,this._height=e;var o=i.style;o.width=t+"px",o.height=e+"px";var a=this._svgDom;a.setAttribute("width",t+""),a.setAttribute("height",e+"")}this._backgroundNode&&(this._backgroundNode.setAttribute("width",t),this._backgroundNode.setAttribute("height",e))},n.prototype.getWidth=function(){return this._width},n.prototype.getHeight=function(){return this._height},n.prototype._getSize=function(t){var e=this._opts,i=["width","height"][t],r=["clientWidth","clientHeight"][t],o=["paddingLeft","paddingTop"][t],a=["paddingRight","paddingBottom"][t];if(null!=e[i]&&"auto"!==e[i])return parseFloat(e[i]);var s=this.root,l=document.defaultView.getComputedStyle(s);return(s[r]||bp(l[i])||bp(s.style[i]))-(bp(l[o])||0)-(bp(l[a])||0)|0},n.prototype.dispose=function(){this.root.innerHTML="",this._svgRoot=this._backgroundRoot=this._svgDom=this._backgroundNode=this._viewport=this.storage=null},n.prototype.clear=function(){var t=this._viewport;t&&t.parentNode&&t.parentNode.removeChild(t)},n.prototype.toDataURL=function(){this.refresh();var t=this._svgDom;return"data:image/svg+xml;charset=UTF-8,"+encodeURIComponent((t.outerHTML||(t.parentNode&&t.parentNode).innerHTML).replace(/></g,">\n\r<"))},n}();function lm(n){return function(){Cn('In SVG mode painter not support method "'+n+'"')}}function fP(){return!1}function zw(n,t,e){var i=ji(),r=t.getWidth(),o=t.getHeight(),a=i.style;return a&&(a.position="absolute",a.left="0",a.top="0",a.width=r+"px",a.height=o+"px",i.setAttribute("data-zr-dom-id",n)),i.width=r*e,i.height=o*e,i}var um=function(n){function t(e,i,r){var o,a=n.call(this)||this;a.motionBlur=!1,a.lastFrameAlpha=.7,a.dpr=1,a.virtual=!1,a.config={},a.incremental=!1,a.zlevel=0,a.maxRepaintRectCount=5,a.__dirty=!0,a.__firstTimePaint=!0,a.__used=!1,a.__drawIndex=0,a.__startIndex=0,a.__endIndex=0,a.__prevStartIndex=null,a.__prevEndIndex=null,r=r||Eh,"string"==typeof e?o=zw(e,i,r):pe(e)&&(e=(o=e).id),a.id=e,a.dom=o;var s=o.style;return s&&(o.onselectstart=fP,s.webkitUserSelect="none",s.userSelect="none",s.webkitTapHighlightColor="rgba(0,0,0,0)",s["-webkit-touch-callout"]="none",s.padding="0",s.margin="0",s.borderWidth="0"),a.domBack=null,a.ctxBack=null,a.painter=i,a.config=null,a.dpr=r,a}return G(t,n),t.prototype.getElementCount=function(){return this.__endIndex-this.__startIndex},t.prototype.afterBrush=function(){this.__prevStartIndex=this.__startIndex,this.__prevEndIndex=this.__endIndex},t.prototype.initContext=function(){this.ctx=this.dom.getContext("2d"),this.ctx.dpr=this.dpr},t.prototype.setUnpainted=function(){this.__firstTimePaint=!0},t.prototype.createBackBuffer=function(){var e=this.dpr;this.domBack=zw("back-"+this.id,this.painter,e),this.ctxBack=this.domBack.getContext("2d"),1!==e&&this.ctxBack.scale(e,e)},t.prototype.createRepaintRects=function(e,i,r,o){if(this.__firstTimePaint)return this.__firstTimePaint=!1,null;var a,s=[],l=this.maxRepaintRectCount,u=!1,h=new De(0,0,0,0);function c(v){if(v.isFinite()&&!v.isZero())if(0===s.length)(_=new De(0,0,0,0)).copy(v),s.push(_);else{for(var _,x=!1,b=1/0,w=0,S=0;S<s.length;++S){var M=s[S];if(M.intersect(v)){var T=new De(0,0,0,0);T.copy(M),T.union(v),s[S]=T,x=!0;break}if(u){h.copy(v),h.union(M);var D=h.width*h.height-v.width*v.height-M.width*M.height;D<b&&(b=D,w=S)}}u&&(s[w].union(v),x=!0),!x&&((_=new De(0,0,0,0)).copy(v),s.push(_)),u||(u=s.length>=l)}}for(var p=this.__startIndex;p<this.__endIndex;++p)if(g=e[p]){var d=g.shouldBePainted(r,o,!0,!0);(m=g.__isRendered&&(1&g.__dirty||!d)?g.getPrevPaintRect():null)&&c(m);var f=d&&(1&g.__dirty||!g.__isRendered)?g.getPaintRect():null;f&&c(f)}for(p=this.__prevStartIndex;p<this.__prevEndIndex;++p){var g,m;d=(g=i[p]).shouldBePainted(r,o,!0,!0),g&&(!d||!g.__zr)&&g.__isRendered&&(m=g.getPrevPaintRect())&&c(m)}do{for(a=!1,p=0;p<s.length;)if(s[p].isZero())s.splice(p,1);else{for(var y=p+1;y<s.length;)s[p].intersect(s[y])?(a=!0,s[p].union(s[y]),s.splice(y,1)):y++;p++}}while(a);return this._paintRects=s,s},t.prototype.debugGetPaintRects=function(){return(this._paintRects||[]).slice()},t.prototype.resize=function(e,i){var r=this.dpr,o=this.dom,a=o.style,s=this.domBack;a&&(a.width=e+"px",a.height=i+"px"),o.width=e*r,o.height=i*r,s&&(s.width=e*r,s.height=i*r,1!==r&&this.ctxBack.scale(r,r))},t.prototype.clear=function(e,i,r){var o=this.dom,a=this.ctx,s=o.width,l=o.height;i=i||this.clearColor;var u=this.motionBlur&&!e,h=this.lastFrameAlpha,c=this.dpr,p=this;u&&(this.domBack||this.createBackBuffer(),this.ctxBack.globalCompositeOperation="copy",this.ctxBack.drawImage(o,0,0,s/c,l/c));var d=this.domBack;function f(g,m,y,v){if(a.clearRect(g,m,y,v),i&&"transparent"!==i){var _=void 0;tl(i)?(_=i.__canvasGradient||fg(a,i,{x:0,y:0,width:y,height:v}),i.__canvasGradient=_):nl(i)&&(_=mg(a,i,{dirty:function(){p.setUnpainted(),p.__painter.refresh()}})),a.save(),a.fillStyle=_||i,a.fillRect(g,m,y,v),a.restore()}u&&(a.save(),a.globalAlpha=h,a.drawImage(d,g,m,y,v),a.restore())}!r||u?f(0,0,s,l):r.length&&k(r,function(g){f(g.x*c,g.y*c,g.width*c,g.height*c)})},t}(_n),zu=314159;function Sp(n){return parseInt(n,10)}var gP=function(){function n(t,e,i,r){this.type="canvas",this._zlevelList=[],this._prevDisplayList=[],this._layers={},this._layerConfig={},this._needsManuallyCompositing=!1,this.type="canvas";var o=!t.nodeName||"CANVAS"===t.nodeName.toUpperCase();this._opts=i=K({},i||{}),this.dpr=i.devicePixelRatio||Eh,this._singleCanvas=o,this.root=t;var a=t.style;a&&(a.webkitTapHighlightColor="transparent",a.webkitUserSelect="none",a.userSelect="none",a["-webkit-touch-callout"]="none",t.innerHTML=""),this.storage=e;var s=this._zlevelList;this._prevDisplayList=[];var f,g,m,l=this._layers;if(o){var u=t,h=u.width,c=u.height;null!=i.width&&(h=i.width),null!=i.height&&(c=i.height),this.dpr=i.devicePixelRatio||1,u.width=h*this.dpr,u.height=c*this.dpr,this._width=h,this._height=c;var p=new um(u,this,this.dpr);p.__builtin__=!0,p.initContext(),l[314159]=p,p.zlevel=zu,s.push(zu),this._domRoot=t}else{this._width=this._getSize(0),this._height=this._getSize(1);var d=this._domRoot=(f=this._width,g=this._height,(m=document.createElement("div")).style.cssText=["position:relative","width:"+f+"px","height:"+g+"px","padding:0","margin:0","border-width:0"].join(";")+";",m);t.appendChild(d)}}return n.prototype.getType=function(){return"canvas"},n.prototype.isSingleCanvas=function(){return this._singleCanvas},n.prototype.getViewportRoot=function(){return this._domRoot},n.prototype.getViewportRootOffset=function(){var t=this.getViewportRoot();if(t)return{offsetLeft:t.offsetLeft||0,offsetTop:t.offsetTop||0}},n.prototype.refresh=function(t){var e=this.storage.getDisplayList(!0),i=this._prevDisplayList,r=this._zlevelList;this._redrawId=Math.random(),this._paintList(e,i,t,this._redrawId);for(var o=0;o<r.length;o++){var s=this._layers[r[o]];!s.__builtin__&&s.refresh&&s.refresh(0===o?this._backgroundColor:null)}return this._opts.useDirtyRect&&(this._prevDisplayList=e.slice()),this},n.prototype.refreshHover=function(){this._paintHoverList(this.storage.getDisplayList(!1))},n.prototype._paintHoverList=function(t){var e=t.length,i=this._hoverlayer;if(i&&i.clear(),e){for(var r,o={inHover:!0,viewWidth:this._width,viewHeight:this._height},a=0;a<e;a++){var s=t[a];s.__inHover&&(i||(i=this._hoverlayer=this.getLayer(1e5)),r||(r=i.ctx).save(),Kr(r,s,o,a===e-1))}r&&r.restore()}},n.prototype.getHoverLayer=function(){return this.getLayer(1e5)},n.prototype.paintOne=function(t,e){yg(t,e)},n.prototype._paintList=function(t,e,i,r){if(this._redrawId===r){i=i||!1,this._updateLayerStatus(t);var o=this._doPaintList(t,e,i),a=o.finished,s=o.needsRefreshHover;if(this._needsManuallyCompositing&&this._compositeManually(),s&&this._paintHoverList(t),a)this.eachLayer(function(u){u.afterBrush&&u.afterBrush()});else{var l=this;xl(function(){l._paintList(t,e,i,r)})}}},n.prototype._compositeManually=function(){var t=this.getLayer(zu).ctx,e=this._domRoot.width,i=this._domRoot.height;t.clearRect(0,0,e,i),this.eachBuiltinLayer(function(r){r.virtual&&t.drawImage(r.dom,0,0,e,i)})},n.prototype._doPaintList=function(t,e,i){for(var r=this,o=[],a=this._opts.useDirtyRect,s=0;s<this._zlevelList.length;s++){var u=this._layers[this._zlevelList[s]];u.__builtin__&&u!==this._hoverlayer&&(u.__dirty||i)&&o.push(u)}for(var h=!0,c=!1,p=function(g){var m,y=o[g],v=y.ctx,_=a&&y.createRepaintRects(t,e,d._width,d._height),x=i?y.__startIndex:y.__drawIndex,b=!i&&y.incremental&&Date.now,w=b&&Date.now(),S=y.zlevel===d._zlevelList[0]?d._backgroundColor:null;if(y.__startIndex===y.__endIndex)y.clear(!1,S,_);else if(x===y.__startIndex){var M=t[x];M.incremental&&M.notClear&&!i||y.clear(!1,S,_)}-1===x&&(console.error("For some unknown reason. drawIndex is -1"),x=y.__startIndex);var T=function(L){var P={inHover:!1,allClipped:!1,prevEl:null,viewWidth:r._width,viewHeight:r._height};for(m=x;m<y.__endIndex;m++){var E=t[m];if(E.__inHover&&(c=!0),r._doPaintEl(E,y,a,L,P,m===y.__endIndex-1),b&&Date.now()-w>15)break}P.prevElClipPaths&&v.restore()};if(_)if(0===_.length)m=y.__endIndex;else for(var C=d.dpr,A=0;A<_.length;++A){var D=_[A];v.save(),v.beginPath(),v.rect(D.x*C,D.y*C,D.width*C,D.height*C),v.clip(),T(D),v.restore()}else v.save(),T(),v.restore();y.__drawIndex=m,y.__drawIndex<y.__endIndex&&(h=!1)},d=this,f=0;f<o.length;f++)p(f);return ge.wxa&&k(this._layers,function(g){g&&g.ctx&&g.ctx.draw&&g.ctx.draw()}),{finished:h,needsRefreshHover:c}},n.prototype._doPaintEl=function(t,e,i,r,o,a){var s=e.ctx;if(i){var l=t.getPaintRect();(!r||l&&l.intersect(r))&&(Kr(s,t,o,a),t.setPrevPaintRect(l))}else Kr(s,t,o,a)},n.prototype.getLayer=function(t,e){this._singleCanvas&&!this._needsManuallyCompositing&&(t=zu);var i=this._layers[t];return i||((i=new um("zr_"+t,this,this.dpr)).zlevel=t,i.__builtin__=!0,this._layerConfig[t]?we(i,this._layerConfig[t],!0):this._layerConfig[t-.01]&&we(i,this._layerConfig[t-.01],!0),e&&(i.virtual=e),this.insertLayer(t,i),i.initContext()),i},n.prototype.insertLayer=function(t,e){var h,i=this._layers,r=this._zlevelList,o=r.length,a=this._domRoot,s=null,l=-1;if(i[t])Cn("ZLevel "+t+" has been used already");else if((h=e)&&(h.__builtin__||"function"==typeof h.resize&&"function"==typeof h.refresh)){if(o>0&&t>r[0]){for(l=0;l<o-1&&!(r[l]<t&&r[l+1]>t);l++);s=i[r[l]]}if(r.splice(l+1,0,t),i[t]=e,!e.virtual)if(s){var u=s.dom;u.nextSibling?a.insertBefore(e.dom,u.nextSibling):a.appendChild(e.dom)}else a.firstChild?a.insertBefore(e.dom,a.firstChild):a.appendChild(e.dom);e.__painter=this}else Cn("Layer of zlevel "+t+" is not valid")},n.prototype.eachLayer=function(t,e){for(var i=this._zlevelList,r=0;r<i.length;r++){var o=i[r];t.call(e,this._layers[o],o)}},n.prototype.eachBuiltinLayer=function(t,e){for(var i=this._zlevelList,r=0;r<i.length;r++){var o=i[r],a=this._layers[o];a.__builtin__&&t.call(e,a,o)}},n.prototype.eachOtherLayer=function(t,e){for(var i=this._zlevelList,r=0;r<i.length;r++){var o=i[r],a=this._layers[o];a.__builtin__||t.call(e,a,o)}},n.prototype.getLayers=function(){return this._layers},n.prototype._updateLayerStatus=function(t){function e(c){a&&(a.__endIndex!==c&&(a.__dirty=!0),a.__endIndex=c)}if(this.eachBuiltinLayer(function(c,p){c.__dirty=c.__used=!1}),this._singleCanvas)for(var i=1;i<t.length;i++)if((l=t[i]).zlevel!==t[i-1].zlevel||l.incremental){this._needsManuallyCompositing=!0;break}var r,o,a=null,s=0;for(o=0;o<t.length;o++){var l,u=(l=t[o]).zlevel,h=void 0;r!==u&&(r=u,s=0),l.incremental?((h=this.getLayer(u+.001,this._needsManuallyCompositing)).incremental=!0,s=1):h=this.getLayer(u+(s>0?.01:0),this._needsManuallyCompositing),h.__builtin__||Cn("ZLevel "+u+" has been used by unkown layer "+h.id),h!==a&&(h.__used=!0,h.__startIndex!==o&&(h.__dirty=!0),h.__startIndex=o,h.__drawIndex=h.incremental?-1:o,e(o),a=h),1&l.__dirty&&!l.__inHover&&(h.__dirty=!0,h.incremental&&h.__drawIndex<0&&(h.__drawIndex=o))}e(o),this.eachBuiltinLayer(function(c,p){!c.__used&&c.getElementCount()>0&&(c.__dirty=!0,c.__startIndex=c.__endIndex=c.__drawIndex=0),c.__dirty&&c.__drawIndex<0&&(c.__drawIndex=c.__startIndex)})},n.prototype.clear=function(){return this.eachBuiltinLayer(this._clearLayer),this},n.prototype._clearLayer=function(t){t.clear()},n.prototype.setBackgroundColor=function(t){this._backgroundColor=t,k(this._layers,function(e){e.setUnpainted()})},n.prototype.configLayer=function(t,e){if(e){var i=this._layerConfig;i[t]?we(i[t],e,!0):i[t]=e;for(var r=0;r<this._zlevelList.length;r++){var o=this._zlevelList[r];(o===t||o===t+.01)&&we(this._layers[o],i[t],!0)}}},n.prototype.delLayer=function(t){var e=this._layers,i=this._zlevelList,r=e[t];r&&(r.dom.parentNode.removeChild(r.dom),delete e[t],i.splice(Ie(i,t),1))},n.prototype.resize=function(t,e){if(this._domRoot.style){var i=this._domRoot;i.style.display="none";var r=this._opts;if(null!=t&&(r.width=t),null!=e&&(r.height=e),t=this._getSize(0),e=this._getSize(1),i.style.display="",this._width!==t||e!==this._height){for(var o in i.style.width=t+"px",i.style.height=e+"px",this._layers)this._layers.hasOwnProperty(o)&&this._layers[o].resize(t,e);this.refresh(!0)}this._width=t,this._height=e}else{if(null==t||null==e)return;this._width=t,this._height=e,this.getLayer(zu).resize(t,e)}return this},n.prototype.clearLayer=function(t){var e=this._layers[t];e&&e.clear()},n.prototype.dispose=function(){this.root.innerHTML="",this.root=this.storage=this._domRoot=this._layers=null},n.prototype.getRenderedCanvas=function(t){if(this._singleCanvas&&!this._compositeManually)return this._layers[314159].dom;var e=new um("image",this,(t=t||{}).pixelRatio||this.dpr);e.initContext(),e.clear(!1,t.backgroundColor||this._backgroundColor);var i=e.ctx;if(t.pixelRatio<=this.dpr){this.refresh();var r=e.dom.width,o=e.dom.height;this.eachLayer(function(c){c.__builtin__?i.drawImage(c.dom,0,0,r,o):c.renderToCanvas&&(i.save(),c.renderToCanvas(i),i.restore())})}else for(var a={inHover:!1,viewWidth:this._width,viewHeight:this._height},s=this.storage.getDisplayList(!0),l=0,u=s.length;l<u;l++)Kr(i,s[l],a,l===u-1);return e.dom},n.prototype.getWidth=function(){return this._width},n.prototype.getHeight=function(){return this._height},n.prototype._getSize=function(t){var e=this._opts,i=["width","height"][t],r=["clientWidth","clientHeight"][t],o=["paddingLeft","paddingTop"][t],a=["paddingRight","paddingBottom"][t];if(null!=e[i]&&"auto"!==e[i])return parseFloat(e[i]);var s=this.root,l=document.defaultView.getComputedStyle(s);return(s[r]||Sp(l[i])||Sp(s.style[i]))-(Sp(l[o])||0)-(Sp(l[a])||0)|0},n.prototype.pathToImage=function(t,e){e=e||this.dpr;var i=document.createElement("canvas"),r=i.getContext("2d"),o=t.getBoundingRect(),a=t.style,s=a.shadowBlur*e,l=a.shadowOffsetX*e,u=a.shadowOffsetY*e,h=t.hasStroke()?a.lineWidth:0,c=Math.max(h/2,-l+s),p=Math.max(h/2,l+s),d=Math.max(h/2,-u+s),f=Math.max(h/2,u+s),g=o.width+c+p,m=o.height+d+f;i.width=g*e,i.height=m*e,r.scale(e,e),r.clearRect(0,0,g,m),r.dpr=e;var y={x:t.x,y:t.y,scaleX:t.scaleX,scaleY:t.scaleY,rotation:t.rotation,originX:t.originX,originY:t.originY};t.x=c-o.x,t.y=d-o.y,t.rotation=0,t.scaleX=1,t.scaleY=1,t.updateTransform(),t&&Kr(r,t,{inHover:!1,viewWidth:this._width,viewHeight:this._height},!0);var v=new It({style:{x:0,y:0,image:i}});return K(t,y),v},n}(),mP=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e.hasSymbolVisual=!0,e}return G(t,n),t.prototype.getInitialData=function(e){return Vi(null,this,{useEncodeDefaulter:!0})},t.prototype.getLegendIcon=function(e){var i=new me,r=xt("line",0,e.itemHeight/2,e.itemWidth,0,e.lineStyle.stroke,!1);i.add(r),r.setStyle(e.lineStyle);var o=this.getData().getVisual("symbol"),a=this.getData().getVisual("symbolRotate"),s="none"===o?"circle":o,l=.8*e.itemHeight,u=xt(s,(e.itemWidth-l)/2,(e.itemHeight-l)/2,l,l,e.itemStyle.fill);return i.add(u),u.setStyle(e.itemStyle),u.rotation=("inherit"===e.iconRotate?a:e.iconRotate||0)*Math.PI/180,u.setOrigin([e.itemWidth/2,e.itemHeight/2]),s.indexOf("empty")>-1&&(u.style.stroke=u.style.fill,u.style.fill="#fff",u.style.lineWidth=2),i},t.type="series.line",t.dependencies=["grid","polar"],t.defaultOption={zlevel:0,z:3,coordinateSystem:"cartesian2d",legendHoverLink:!0,clip:!0,label:{position:"top"},endLabel:{show:!1,valueAnimation:!0,distance:8},lineStyle:{width:2,type:"solid"},emphasis:{scale:!0,lineStyle:{width:"bolder"}},step:!1,smooth:!1,smoothMonotone:null,symbol:"emptyCircle",symbolSize:4,symbolRotate:null,showSymbol:!0,showAllSymbol:"auto",connectNulls:!1,sampling:"none",animationEasing:"linear",progressive:0,hoverLayerThreshold:1/0,universalTransition:{divideShape:"clone"},triggerLineEvent:!1},t}(et);function Ls(n,t){var e=n.mapDimensionsAll("defaultedLabel"),i=e.length;if(1===i){var r=xs(n,t,e[0]);return null!=r?r+"":null}if(i){for(var o=[],a=0;a<e.length;a++)o.push(xs(n,t,e[a]));return o.join(" ")}}function Vw(n,t){var e=n.mapDimensionsAll("defaultedLabel");if(!Z(t))return t+"";for(var i=[],r=0;r<e.length;r++){var o=n.getDimensionIndex(e[r]);o>=0&&i.push(t[o])}return i.join(" ")}var Bu=function(n){function t(e,i,r,o){var a=n.call(this)||this;return a.updateData(e,i,r,o),a}return G(t,n),t.prototype._createSymbol=function(e,i,r,o,a){this.removeAll();var s=xt(e,-1,-1,2,2,null,a);s.attr({z2:100,culling:!0,scaleX:o[0]/2,scaleY:o[1]/2}),s.drift=yP,this._symbolType=e,this.add(s)},t.prototype.stopSymbolAnimation=function(e){this.childAt(0).stopAnimation(null,e)},t.prototype.getSymbolType=function(){return this._symbolType},t.prototype.getSymbolPath=function(){return this.childAt(0)},t.prototype.highlight=function(){zi(this.childAt(0))},t.prototype.downplay=function(){Bi(this.childAt(0))},t.prototype.setZ=function(e,i){var r=this.childAt(0);r.zlevel=e,r.z=i},t.prototype.setDraggable=function(e){var i=this.childAt(0);i.draggable=e,i.cursor=e?"move":i.cursor},t.prototype.updateData=function(e,i,r,o){this.silent=!1;var a=e.getItemVisual(i,"symbol")||"circle",s=e.hostModel,l=t.getSymbolSize(e,i),u=a!==this._symbolType,h=o&&o.disableAnimation;if(u){var c=e.getItemVisual(i,"symbolKeepAspect");this._createSymbol(a,e,i,l,c)}else{(d=this.childAt(0)).silent=!1;var p={scaleX:l[0]/2,scaleY:l[1]/2};h?d.attr(p):ze(d,p,s,i),di(d)}if(this._updateCommon(e,i,l,r,o),u){var d=this.childAt(0);h||(p={scaleX:this._sizeX,scaleY:this._sizeY,style:{opacity:d.style.opacity}},d.scaleX=d.scaleY=0,d.style.opacity=0,lt(d,p,s,i))}h&&this.childAt(0).stopAnimation("remove"),this._seriesModel=s},t.prototype._updateCommon=function(e,i,r,o,a){var s,l,u,h,c,p,d,f,g=this.childAt(0),m=e.hostModel;if(o&&(s=o.emphasisItemStyle,l=o.blurItemStyle,u=o.selectItemStyle,h=o.focus,c=o.blurScope,p=o.labelStatesModels,d=o.hoverScale,f=o.cursorStyle),!o||e.hasItemOption){var y=o&&o.itemModel?o.itemModel:e.getItemModel(i),v=y.getModel("emphasis");s=v.getModel("itemStyle").getItemStyle(),u=y.getModel(["select","itemStyle"]).getItemStyle(),l=y.getModel(["blur","itemStyle"]).getItemStyle(),h=v.get("focus"),c=v.get("blurScope"),p=Ut(y),d=v.getShallow("scale"),f=y.getShallow("cursor")}var _=e.getItemVisual(i,"symbolRotate");g.attr("rotation",(_||0)*Math.PI/180||0);var x=Ms(e.getItemVisual(i,"symbolOffset"),r);x&&(g.x=x[0],g.y=x[1]),f&&g.attr("cursor",f);var b=e.getItemVisual(i,"style"),w=b.fill;if(g instanceof It){var S=g.style;g.useStyle(K({image:S.image,x:S.x,y:S.y,width:S.width,height:S.height},b))}else g.useStyle(g.__isEmptyBrush?K({},b):b),g.style.decal=null,g.setColor(w,a&&a.symbolInnerColor),g.style.strokeNoScale=!0;var M=e.getItemVisual(i,"liftZ"),T=this._z2;null!=M?null==T&&(this._z2=g.z2,g.z2+=M):null!=T&&(g.z2=T,this._z2=null);var C=a&&a.useNameLabel;Jt(g,p,{labelFetcher:m,labelDataIndex:i,defaultText:function(L){return C?e.getName(L):Ls(e,L)},inheritColor:w,defaultOpacity:b.opacity}),this._sizeX=r[0]/2,this._sizeY=r[1]/2;var A=g.ensureState("emphasis");if(A.style=s,g.ensureState("select").style=u,g.ensureState("blur").style=l,d){var D=Math.max(1.1,3/this._sizeY);A.scaleX=this._sizeX*D,A.scaleY=this._sizeY*D}this.setSymbolScale(1),nt(this,h,c)},t.prototype.setSymbolScale=function(e){this.scaleX=this.scaleY=e},t.prototype.fadeOut=function(e,i){var r=this.childAt(0),o=this._seriesModel,a=_e(this).dataIndex,s=i&&i.animation;if(this.silent=r.silent=!0,i&&i.fadeLabel){var l=r.getTextContent();l&&Hr(l,{style:{opacity:0}},o,{dataIndex:a,removeOpt:s,cb:function(){r.removeTextContent()}})}else r.removeTextContent();Hr(r,{style:{opacity:0},scaleX:0,scaleY:0},o,{dataIndex:a,cb:e,removeOpt:s})},t.getSymbolSize=function(e,i){return mu(e.getItemVisual(i,"symbolSize"))},t}(me);function yP(n,t){this.parent.drift(n,t)}function hm(n,t,e,i){return t&&!isNaN(t[0])&&!isNaN(t[1])&&!(i.isIgnore&&i.isIgnore(e))&&!(i.clipShape&&!i.clipShape.contain(t[0],t[1]))&&"none"!==n.getItemVisual(e,"symbol")}function Gw(n){return null==n||pe(n)||(n={isIgnore:n}),n||{}}function Fw(n){var t=n.hostModel,e=t.getModel("emphasis");return{emphasisItemStyle:e.getModel("itemStyle").getItemStyle(),blurItemStyle:t.getModel(["blur","itemStyle"]).getItemStyle(),selectItemStyle:t.getModel(["select","itemStyle"]).getItemStyle(),focus:e.get("focus"),blurScope:e.get("blurScope"),hoverScale:e.get("scale"),labelStatesModels:Ut(t),cursorStyle:t.get("cursor")}}var Vu=function(){function n(t){this.group=new me,this._SymbolCtor=t||Bu}return n.prototype.updateData=function(t,e){e=Gw(e);var i=this.group,r=t.hostModel,o=this._data,a=this._SymbolCtor,s=e.disableAnimation,l=Fw(t),u={disableAnimation:s},h=e.getSymbolPoint||function(c){return t.getItemLayout(c)};o||i.removeAll(),t.diff(o).add(function(c){var p=h(c);if(hm(t,p,c,e)){var d=new a(t,c,l,u);d.setPosition(p),t.setItemGraphicEl(c,d),i.add(d)}}).update(function(c,p){var d=o.getItemGraphicEl(p),f=h(c);if(hm(t,f,c,e)){var g=t.getItemVisual(c,"symbol")||"circle",m=d&&d.getSymbolType&&d.getSymbolType();if(!d||m&&m!==g)i.remove(d),(d=new a(t,c,l,u)).setPosition(f);else{d.updateData(t,c,l,u);var y={x:f[0],y:f[1]};s?d.attr(y):ze(d,y,r)}i.add(d),t.setItemGraphicEl(c,d)}else i.remove(d)}).remove(function(c){var p=o.getItemGraphicEl(c);p&&p.fadeOut(function(){i.remove(p)})}).execute(),this._getSymbolPoint=h,this._data=t},n.prototype.isPersistent=function(){return!0},n.prototype.updateLayout=function(){var t=this,e=this._data;e&&e.eachItemGraphicEl(function(i,r){var o=t._getSymbolPoint(r);i.setPosition(o),i.markRedraw()})},n.prototype.incrementalPrepareUpdate=function(t){this._seriesScope=Fw(t),this._data=null,this.group.removeAll()},n.prototype.incrementalUpdate=function(t,e,i){function r(l){l.isGroup||(l.incremental=!0,l.ensureState("emphasis").hoverLayer=!0)}i=Gw(i);for(var o=t.start;o<t.end;o++){var a=e.getItemLayout(o);if(hm(e,a,o,i)){var s=new this._SymbolCtor(e,o,this._seriesScope);s.traverse(r),s.setPosition(a),this.group.add(s),e.setItemGraphicEl(o,s)}}},n.prototype.remove=function(t){var e=this.group,i=this._data;i&&t?i.eachItemGraphicEl(function(r){r.fadeOut(function(){e.remove(r)})}):e.removeAll()},n}();function Hw(n,t,e){var g,m,y,i=n.getBaseAxis(),r=n.getOtherAxis(i),o=(g=e,m=0,y=r.scale.getExtent(),"start"===g?m=y[0]:"end"===g?m=y[1]:y[0]>0?m=y[0]:y[1]<0&&(m=y[1]),m),a=i.dim,s=r.dim,l=t.mapDimension(s),u=t.mapDimension(a),h="x"===s||"radius"===s?1:0,c=J(n.dimensions,function(f){return t.mapDimension(f)}),p=!1,d=t.getCalculationInfo("stackResultDimension");return cr(t,c[0])&&(p=!0,c[0]=d),cr(t,c[1])&&(p=!0,c[1]=d),{dataDimsForPoint:c,valueStart:o,valueAxisDim:s,baseAxisDim:a,stacked:!!p,valueDim:l,baseDim:u,baseDataOffset:h,stackedOverDimension:t.getCalculationInfo("stackedOverDimension")}}function Ww(n,t,e,i){var r=NaN;n.stacked&&(r=e.get(e.getCalculationInfo("stackedOverDimension"),i)),isNaN(r)&&(r=n.valueStart);var o=n.baseDataOffset,a=[];return a[o]=e.get(n.baseDim,i),a[1-o]=r,t.dataToPoint(a)}var Uw="undefined"!=typeof Float32Array,vP=Uw?Float32Array:Array;function Ps(n){return Z(n)?Uw?new Float32Array(n):n:new vP(n)}var no=Math.min,io=Math.max;function ha(n,t){return isNaN(n)||isNaN(t)}function cm(n,t,e,i,r,o,a,s,l){for(var u,h,c,p,d,f,g=e,m=0;m<i;m++){var y=t[2*g],v=t[2*g+1];if(g>=r||g<0)break;if(ha(y,v)){if(l){g+=o;continue}break}if(g===e)n[o>0?"moveTo":"lineTo"](y,v),c=y,p=v;else{var _=y-u,x=v-h;if(_*_+x*x<.5){g+=o;continue}if(a>0){for(var b=g+o,w=t[2*b],S=t[2*b+1];w===y&&S===v&&m<i;)m++,w=t[2*(b+=o)],S=t[2*b+1],_=(y=t[2*(g+=o)])-u,x=(v=t[2*g+1])-h;var M=m+1;if(l)for(;ha(w,S)&&M<i;)M++,w=t[2*(b+=o)],S=t[2*b+1];var T=.5,C=0,A=0,D=void 0,L=void 0;if(M>=i||ha(w,S))d=y,f=v;else{C=w-u,A=S-h;var P=y-u,E=w-y,N=v-h,R=S-v,z=void 0,B=void 0;"x"===s?(z=Math.abs(P),B=Math.abs(E),d=y-z*a,f=v,D=y+z*a,L=v):"y"===s?(z=Math.abs(N),B=Math.abs(R),d=y,f=v-z*a,D=y,L=v+z*a):(z=Math.sqrt(P*P+N*N),d=y-C*a*(1-(T=(B=Math.sqrt(E*E+R*R))/(B+z))),f=v-A*a*(1-T),L=v+A*a*T,D=no(D=y+C*a*T,io(w,y)),L=no(L,io(S,v)),D=io(D,no(w,y)),f=v-(A=(L=io(L,no(S,v)))-v)*z/B,d=no(d=y-(C=D-y)*z/B,io(u,y)),f=no(f,io(h,v)),D=y+(C=y-(d=io(d,no(u,y))))*B/z,L=v+(A=v-(f=io(f,no(h,v))))*B/z)}n.bezierCurveTo(c,p,d,f,y,v),c=D,p=L}else n.lineTo(y,v)}u=y,h=v,g+=o}return m}var Xw=function(){this.smooth=0,this.smoothConstraint=!0},_P=function(n){function t(e){var i=n.call(this,e)||this;return i.type="ec-polyline",i}return G(t,n),t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new Xw},t.prototype.buildPath=function(e,i){var r=i.points,o=0,a=r.length/2;if(i.connectNulls){for(;a>0&&ha(r[2*a-2],r[2*a-1]);a--);for(;o<a&&ha(r[2*o],r[2*o+1]);o++);}for(;o<a;)o+=cm(e,r,o,a,a,1,i.smooth,i.smoothMonotone,i.connectNulls)+1},t.prototype.getPointOn=function(e,i){this.path||(this.createPathProxy(),this.buildPath(this.path,this.shape));for(var r,o,a=this.path.data,s=or.CMD,l="x"===i,u=[],h=0;h<a.length;){var c=void 0,p=void 0,d=void 0,f=void 0,g=void 0,m=void 0,y=void 0;switch(a[h++]){case s.M:r=a[h++],o=a[h++];break;case s.L:if(c=a[h++],p=a[h++],(y=l?(e-r)/(c-r):(e-o)/(p-o))<=1&&y>=0){var v=l?(p-o)*y+o:(c-r)*y+r;return l?[e,v]:[v,e]}r=c,o=p;break;case s.C:c=a[h++],p=a[h++],d=a[h++],f=a[h++],g=a[h++],m=a[h++];var _=l?Qd(r,c,d,g,e,u):Qd(o,p,f,m,e,u);if(_>0)for(var x=0;x<_;x++){var b=u[x];if(b<=1&&b>=0)return v=l?mt(o,p,f,m,b):mt(r,c,d,g,b),l?[e,v]:[v,e]}r=g,o=m}}},t}(Le),xP=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return G(t,n),t}(Xw),Yw=function(n){function t(e){var i=n.call(this,e)||this;return i.type="ec-polygon",i}return G(t,n),t.prototype.getDefaultShape=function(){return new xP},t.prototype.buildPath=function(e,i){var r=i.points,o=i.stackedOnPoints,a=0,s=r.length/2,l=i.smoothMonotone;if(i.connectNulls){for(;s>0&&ha(r[2*s-2],r[2*s-1]);s--);for(;a<s&&ha(r[2*a],r[2*a+1]);a++);}for(;a<s;){var u=cm(e,r,a,s,s,1,i.smooth,l,i.connectNulls);cm(e,o,a+u-1,u,s,-1,i.stackedOnSmooth,l,i.connectNulls),a+=u+1,e.closePath()}},t}(Le);function Zw(n,t,e,i,r){var o=n.getArea(),a=o.x,s=o.y,l=o.width,u=o.height,h=e.get(["lineStyle","width"])||2;a-=h/2,s-=h/2,l+=h,u+=h,a=Math.floor(a),l=Math.round(l);var c=new Ee({shape:{x:a,y:s,width:l,height:u}});if(t){var p=n.getBaseAxis(),d=p.isHorizontal(),f=p.inverse;d?(f&&(c.shape.x+=l),c.shape.width=0):(f||(c.shape.y+=u),c.shape.height=0),lt(c,{shape:{width:l,height:u,x:a,y:s}},e,null,i,"function"==typeof r?function(g){r(g,c)}:null)}return c}function jw(n,t,e){var i=n.getArea(),r=Pt(i.r0,1),o=Pt(i.r,1),a=new Qt({shape:{cx:Pt(n.cx,1),cy:Pt(n.cy,1),r0:r,r:o,startAngle:i.startAngle,endAngle:i.endAngle,clockwise:i.clockwise}});return t&&("angle"===n.getBaseAxis().dim?a.shape.endAngle=i.startAngle:a.shape.r=r,lt(a,{shape:{endAngle:i.endAngle,r:o}},e)),a}function Mp(n,t,e,i,r){return n?"polar"===n.type?jw(n,t,e):"cartesian2d"===n.type?Zw(n,t,e,i,r):null:null}function fr(n,t){return n.type===t}function qw(n,t){if(n.length===t.length){for(var e=0;e<n.length;e++)if(n[e]!==t[e])return;return!0}}function Kw(n){for(var t=1/0,e=1/0,i=-1/0,r=-1/0,o=0;o<n.length;){var a=n[o++],s=n[o++];isNaN(a)||(t=Math.min(a,t),i=Math.max(a,i)),isNaN(s)||(e=Math.min(s,e),r=Math.max(s,r))}return[[t,e],[i,r]]}function $w(n,t){var e=Kw(n),i=e[0],r=e[1],o=Kw(t),a=o[0],s=o[1];return Math.max(Math.abs(i[0]-a[0]),Math.abs(i[1]-a[1]),Math.abs(r[0]-s[0]),Math.abs(r[1]-s[1]))}function Qw(n){return"number"==typeof n?n:n?.5:0}function ro(n,t,e){for(var i=t.getBaseAxis(),r="x"===i.dim||"radius"===i.dim?0:1,o=[],a=0,s=[],l=[],u=[];a<n.length-2;a+=2)switch(u[0]=n[a+2],u[1]=n[a+3],l[0]=n[a],l[1]=n[a+1],o.push(l[0],l[1]),e){case"end":s[r]=u[r],s[1-r]=l[1-r],o.push(s[0],s[1]);break;case"middle":var c=[];s[r]=c[r]=(l[r]+u[r])/2,s[1-r]=l[1-r],c[1-r]=u[1-r],o.push(s[0],s[1]),o.push(c[0],c[1]);break;default:s[r]=l[r],s[1-r]=u[1-r],o.push(s[0],s[1])}return o.push(n[a++],n[a++]),o}function Jw(n,t){return[n[2*t],n[2*t+1]]}function eS(n){if(n.get(["endLabel","show"]))return!0;for(var t=0;t<cn.length;t++)if(n.get([cn[t],"endLabel","show"]))return!0;return!1}function pm(n,t,e,i){if(fr(t,"cartesian2d")){var r=i.getModel("endLabel"),o=r.get("valueAnimation"),a=i.getData(),s={lastFrameIndex:0},l=eS(i)?function(d,f){n._endLabelOnDuring(d,f,a,s,o,r,t)}:null,u=t.getBaseAxis().isHorizontal(),h=Zw(t,e,i,function(){var d=n._endLabel;d&&e&&null!=s.originalX&&d.attr({x:s.originalX,y:s.originalY})},l);if(!i.get("clip",!0)){var c=h.shape,p=Math.max(c.width,c.height);u?(c.y-=p,c.height+=2*p):(c.x-=p,c.width+=2*p)}return l&&l(1,h),h}return jw(t,e,i)}var SP=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return G(t,n),t.prototype.init=function(){var e=new me,i=new Vu;this.group.add(i.group),this._symbolDraw=i,this._lineGroup=e},t.prototype.render=function(e,i,r){var o=this,a=e.coordinateSystem,s=this.group,l=e.getData(),u=e.getModel("lineStyle"),h=e.getModel("areaStyle"),c=l.getLayout("points")||[],p="polar"===a.type,d=this._coordSys,f=this._symbolDraw,g=this._polyline,m=this._polygon,y=this._lineGroup,v=e.get("animation"),_=!h.isEmpty(),x=h.get("origin"),b=Hw(a,l,x),w=_&&function(Y,Q,U){if(!U.valueDim)return[];for(var j=Q.count(),ne=Ps(2*j),ee=0;ee<j;ee++){var te=Ww(U,Y,Q,ee);ne[2*ee]=te[0],ne[2*ee+1]=te[1]}return ne}(a,l,b),S=e.get("showSymbol"),M=S&&!p&&function(n,t,e){var i=n.get("showAllSymbol"),r="auto"===i;if(!i||r){var o=e.getAxesByScale("ordinal")[0];if(o&&(!r||!function(l,u){var h=l.getExtent(),c=Math.abs(h[1]-h[0])/l.scale.count();isNaN(c)&&(c=0);for(var p=u.count(),d=Math.max(1,Math.round(p/5)),f=0;f<p;f+=d)if(1.5*Bu.getSymbolSize(u,f)[l.isHorizontal()?1:0]>c)return!1;return!0}(o,t))){var a=t.mapDimension(o.dim),s={};return k(o.getViewLabels(),function(l){var u=o.scale.getRawOrdinalNumber(l.tickValue);s[u]=1}),function(l){return!s.hasOwnProperty(t.get(a,l))}}}}(e,l,a),T=this._data;T&&T.eachItemGraphicEl(function(Y,Q){Y.__temp&&(s.remove(Y),T.setItemGraphicEl(Q,null))}),S||f.remove(),s.add(y);var C,A=!p&&e.get("step");a&&a.getArea&&e.get("clip",!0)&&(null!=(C=a.getArea()).width?(C.x-=.1,C.y-=.1,C.width+=.2,C.height+=.2):C.r0&&(C.r0-=.5,C.r+=.5)),this._clipShapeForSymbol=C;var D=function(n,t,e){var i=n.getVisual("visualMeta");if(i&&i.length&&n.count()&&"cartesian2d"===t.type){for(var r,o,a=i.length-1;a>=0;a--){var s=n.getDimensionInfo(i[a].dimension);if("x"===(r=s&&s.coordDim)||"y"===r){o=i[a];break}}if(o){var l=t.getAxis(r),u=J(o.stops,function(v){return{coord:l.toGlobalCoord(l.dataToCoord(v.value)),color:v.color}}),h=u.length,c=o.outerColors.slice();h&&u[0].coord>u[h-1].coord&&(u.reverse(),c.reverse());var p=function(v,_){var x,b,w=[],S=v.length;function M(D,L,P){var E=D.coord;return{coord:P,color:er((P-E)/(L.coord-E),[D.color,L.color])}}for(var T=0;T<S;T++){var C=v[T],A=C.coord;if(A<0)x=C;else{if(A>_){b?w.push(M(b,C,_)):x&&w.push(M(x,C,0),M(x,C,_));break}x&&(w.push(M(x,C,0)),x=null),w.push(C),b=C}}return w}(u,"x"===r?e.getWidth():e.getHeight()),d=p.length;if(!d&&h)return u[0].coord<0?c[1]?c[1]:u[h-1].color:c[0]?c[0]:u[0].color;var f=p[0].coord-10,g=p[d-1].coord+10,m=g-f;if(m<.001)return"transparent";k(p,function(v){v.offset=(v.coord-f)/m}),p.push({offset:d?p[d-1].offset:.5,color:c[1]||"transparent"}),p.unshift({offset:d?p[0].offset:.5,color:c[0]||"transparent"});var y=new rs(0,0,0,0,p,!0);return y[r]=f,y[r+"2"]=g,y}}}(l,a,r)||l.getVisual("style")[l.getVisual("drawType")];if(g&&d.type===a.type&&A===this._step){_&&!m?m=this._newPolygon(c,w):m&&!_&&(y.remove(m),m=this._polygon=null),p||this._initOrUpdateEndLabel(e,a,Jo(D));var L=y.getClipPath();L?lt(L,{shape:pm(this,a,!1,e).shape},e):y.setClipPath(pm(this,a,!0,e)),S&&f.updateData(l,{isIgnore:M,clipShape:C,disableAnimation:!0,getSymbolPoint:function(Y){return[c[2*Y],c[2*Y+1]]}}),qw(this._stackedOnPoints,w)&&qw(this._points,c)||(v?this._doUpdateAnimation(l,w,a,r,A,x):(A&&(c=ro(c,a,A),w&&(w=ro(w,a,A))),g.setShape({points:c}),m&&m.setShape({points:c,stackedOnPoints:w})))}else S&&f.updateData(l,{isIgnore:M,clipShape:C,disableAnimation:!0,getSymbolPoint:function(Y){return[c[2*Y],c[2*Y+1]]}}),v&&this._initSymbolLabelAnimation(l,a,C),A&&(c=ro(c,a,A),w&&(w=ro(w,a,A))),g=this._newPolyline(c),_&&(m=this._newPolygon(c,w)),p||this._initOrUpdateEndLabel(e,a,Jo(D)),y.setClipPath(pm(this,a,!0,e));var P=e.get(["emphasis","focus"]),E=e.get(["emphasis","blurScope"]);g.useStyle(ce(u.getLineStyle(),{fill:"none",stroke:D,lineJoin:"bevel"})),Yt(g,e,"lineStyle"),g.style.lineWidth>0&&"bolder"===e.get(["emphasis","lineStyle","width"])&&(g.getState("emphasis").style.lineWidth=+g.style.lineWidth+1),_e(g).seriesIndex=e.seriesIndex,nt(g,P,E);var N=Qw(e.get("smooth")),R=e.get("smoothMonotone"),z=e.get("connectNulls");if(g.setShape({smooth:N,smoothMonotone:R,connectNulls:z}),m){var B=l.getCalculationInfo("stackedOnSeries"),V=0;m.useStyle(ce(h.getAreaStyle(),{fill:D,opacity:.7,lineJoin:"bevel",decal:l.getVisual("style").decal})),B&&(V=Qw(B.get("smooth"))),m.setShape({smooth:N,stackedOnSmooth:V,smoothMonotone:R,connectNulls:z}),Yt(m,e,"areaStyle"),_e(m).seriesIndex=e.seriesIndex,nt(m,P,E)}var W=function(Y){o._changePolyState(Y)};l.eachItemGraphicEl(function(Y){Y&&(Y.onHoverStateChange=W)}),this._polyline.onHoverStateChange=W,this._data=l,this._coordSys=a,this._stackedOnPoints=w,this._points=c,this._step=A,this._valueOrigin=x,e.get("triggerLineEvent")&&(this.packEventData(e,g),m&&this.packEventData(e,m))},t.prototype.packEventData=function(e,i){_e(i).eventData={componentType:"series",componentSubType:"line",componentIndex:e.componentIndex,seriesIndex:e.seriesIndex,seriesName:e.name,seriesType:"line"}},t.prototype.highlight=function(e,i,r,o){var a=e.getData(),s=No(a,o);if(this._changePolyState("emphasis"),!(s instanceof Array)&&null!=s&&s>=0){var l=a.getLayout("points"),u=a.getItemGraphicEl(s);if(!u){var h=l[2*s],c=l[2*s+1];if(isNaN(h)||isNaN(c)||this._clipShapeForSymbol&&!this._clipShapeForSymbol.contain(h,c))return;var p=e.get("zlevel"),d=e.get("z");(u=new Bu(a,s)).x=h,u.y=c,u.setZ(p,d);var f=u.getSymbolPath().getTextContent();f&&(f.zlevel=p,f.z=d,f.z2=this._polyline.z2+1),u.__temp=!0,a.setItemGraphicEl(s,u),u.stopSymbolAnimation(!0),this.group.add(u)}u.highlight()}else je.prototype.highlight.call(this,e,i,r,o)},t.prototype.downplay=function(e,i,r,o){var a=e.getData(),s=No(a,o);if(this._changePolyState("normal"),null!=s&&s>=0){var l=a.getItemGraphicEl(s);l&&(l.__temp?(a.setItemGraphicEl(s,null),this.group.remove(l)):l.downplay())}else je.prototype.downplay.call(this,e,i,r,o)},t.prototype._changePolyState=function(e){var i=this._polygon;nc(this._polyline,e),i&&nc(i,e)},t.prototype._newPolyline=function(e){var i=this._polyline;return i&&this._lineGroup.remove(i),i=new _P({shape:{points:e},segmentIgnoreThreshold:2,z2:10}),this._lineGroup.add(i),this._polyline=i,i},t.prototype._newPolygon=function(e,i){var r=this._polygon;return r&&this._lineGroup.remove(r),r=new Yw({shape:{points:e,stackedOnPoints:i},segmentIgnoreThreshold:2}),this._lineGroup.add(r),this._polygon=r,r},t.prototype._initSymbolLabelAnimation=function(e,i,r){var o,a,s=i.getBaseAxis(),l=s.inverse;"cartesian2d"===i.type?(o=s.isHorizontal(),a=!1):"polar"===i.type&&(o="angle"===s.dim,a=!0);var u=e.hostModel,h=u.get("animationDuration");"function"==typeof h&&(h=h(null));var c=u.get("animationDelay")||0,p="function"==typeof c?c(null):c;e.eachItemGraphicEl(function(d,f){var g=d;if(g){var y=void 0,v=void 0,_=void 0;if(r)if(a){var x=r,b=i.pointToCoord([d.x,d.y]);o?(y=x.startAngle,v=x.endAngle,_=-b[1]/180*Math.PI):(y=x.r0,v=x.r,_=b[0])}else o?(y=r.x,v=r.x+r.width,_=d.x):(y=r.y+r.height,v=r.y,_=d.y);var S=v===y?0:(_-y)/(v-y);l&&(S=1-S);var M="function"==typeof c?c(f):h*S+p,T=g.getSymbolPath(),C=T.getTextContent();g.attr({scaleX:0,scaleY:0}),g.animateTo({scaleX:1,scaleY:1},{duration:200,setToFinal:!0,delay:M}),C&&C.animateFrom({style:{opacity:0}},{duration:300,delay:M}),T.disableLabelAnimation=!0}})},t.prototype._initOrUpdateEndLabel=function(e,i,r){var h,p,d,f,g,m,o=e.getModel("endLabel");if(eS(e)){var a=e.getData(),s=this._polyline,l=this._endLabel;l||((l=this._endLabel=new Re({z2:200})).ignoreClip=!0,s.setTextContent(this._endLabel),s.disableLabelAnimation=!0);var u=function(h){for(var p,d=h.length/2;d>0&&(p=h[2*d-1],isNaN(h[2*d-2])||isNaN(p));d--);return d-1}(a.getLayout("points"));u>=0&&(Jt(s,Ut(e,"endLabel"),{inheritColor:r,labelFetcher:e,labelDataIndex:u,defaultText:function(h,c,p){return null!=p?Vw(a,p):Ls(a,h)},enableTextSetter:!0},(h=o,d=(p=i.getBaseAxis()).isHorizontal(),f=p.inverse,g=d?f?"right":"left":"center",m=d?"middle":f?"top":"bottom",{normal:{align:h.get("align")||g,verticalAlign:h.get("verticalAlign")||m}})),s.textConfig.position=null)}else this._endLabel&&(this._polyline.removeTextContent(),this._endLabel=null)},t.prototype._endLabelOnDuring=function(e,i,r,o,a,s,l){var u=this._endLabel,h=this._polyline;if(u){e<1&&null==o.originalX&&(o.originalX=u.x,o.originalY=u.y);var c=r.getLayout("points"),p=r.hostModel,d=p.get("connectNulls"),f=s.get("precision"),g=s.get("distance")||0,m=l.getBaseAxis(),y=m.isHorizontal(),v=m.inverse,_=i.shape,x=v?y?_.x:_.y+_.height:y?_.x+_.width:_.y,b=(y?g:0)*(v?-1:1),w=(y?0:-g)*(v?-1:1),S=y?"x":"y",M=function(N,R,z){for(var B,V,W=N.length/2,Y="x"===z?0:1,Q=0,U=-1,j=0;j<W;j++)if(V=N[2*j+Y],!isNaN(V)&&!isNaN(N[2*j+1-Y]))if(0!==j){if(B<=R&&V>=R||B>=R&&V<=R){U=j;break}Q=j,B=V}else B=V;return{range:[Q,U],t:(R-B)/(V-B)}}(c,x,S),T=M.range,C=T[1]-T[0],A=void 0;if(C>=1){if(C>1&&!d){var D=Jw(c,T[0]);u.attr({x:D[0]+b,y:D[1]+w}),a&&(A=p.getRawValue(T[0]))}else{(D=h.getPointOn(x,S))&&u.attr({x:D[0]+b,y:D[1]+w});var L=p.getRawValue(T[0]),P=p.getRawValue(T[1]);a&&(A=d0(r,f,L,P,M.t))}o.lastFrameIndex=T[0]}else{var E=1===e||o.lastFrameIndex>0?T[0]:0;D=Jw(c,E),a&&(A=p.getRawValue(E)),u.attr({x:D[0]+b,y:D[1]+w})}a&&ls(u).setLabelText(A)}},t.prototype._doUpdateAnimation=function(e,i,r,o,a,s){var l=this._polyline,u=this._polygon,h=e.hostModel,c=function(b,w,S,M,T,C,A,D){for(var L=function(be,Nt){var At=[];return Nt.diff(be).add(function(at){At.push({cmd:"+",idx:at})}).update(function(at,rn){At.push({cmd:"=",idx:rn,idx1:at})}).remove(function(at){At.push({cmd:"-",idx:at})}).execute(),At}(b,w),P=[],E=[],N=[],R=[],z=[],B=[],V=[],W=Hw(T,w,A),Y=b.getLayout("points")||[],Q=w.getLayout("points")||[],U=0;U<L.length;U++){var j=L[U],ne=!0,ee=void 0,te=void 0;switch(j.cmd){case"=":var oe=Y[ee=2*j.idx],ae=Y[ee+1],fe=Q[te=2*j.idx1],ve=Q[te+1];(isNaN(oe)||isNaN(ae))&&(oe=fe,ae=ve),P.push(oe,ae),E.push(fe,ve),N.push(S[ee],S[ee+1]),R.push(M[te],M[te+1]),V.push(w.getRawIndex(j.idx1));break;case"+":var xe=j.idx,ct=W.dataDimsForPoint,ut=T.dataToPoint([w.get(ct[0],xe),w.get(ct[1],xe)]);te=2*xe,P.push(ut[0],ut[1]),E.push(Q[te],Q[te+1]);var Ve=Ww(W,T,w,xe);N.push(Ve[0],Ve[1]),R.push(M[te],M[te+1]),V.push(w.getRawIndex(xe));break;case"-":ne=!1}ne&&(z.push(j),B.push(B.length))}B.sort(function(be,Nt){return V[be]-V[Nt]});var Ne=P.length,ft=Ps(Ne),ot=Ps(Ne),nn=Ps(Ne),mn=Ps(Ne),$e=[];for(U=0;U<B.length;U++){var Oe=B[U],qe=2*U,He=2*Oe;ft[qe]=P[He],ft[qe+1]=P[He+1],ot[qe]=E[He],ot[qe+1]=E[He+1],nn[qe]=N[He],nn[qe+1]=N[He+1],mn[qe]=R[He],mn[qe+1]=R[He+1],$e[U]=z[Oe]}return{current:ft,next:ot,stackedOnCurrent:nn,stackedOnNext:mn,status:$e}}(this._data,e,this._stackedOnPoints,i,this._coordSys,0,this._valueOrigin),p=c.current,d=c.stackedOnCurrent,f=c.next,g=c.stackedOnNext;if(a&&(p=ro(c.current,r,a),d=ro(c.stackedOnCurrent,r,a),f=ro(c.next,r,a),g=ro(c.stackedOnNext,r,a)),$w(p,f)>3e3||u&&$w(d,g)>3e3)return l.stopAnimation(),l.setShape({points:f}),void(u&&(u.stopAnimation(),u.setShape({points:f,stackedOnPoints:g})));l.shape.__points=c.current,l.shape.points=p;var m={shape:{points:f}};c.current!==p&&(m.shape.__points=c.next),l.stopAnimation(),ze(l,m,h),u&&(u.setShape({points:p,stackedOnPoints:d}),u.stopAnimation(),ze(u,{shape:{stackedOnPoints:g}},h),l.shape.points!==u.shape.points&&(u.shape.points=l.shape.points));for(var y=[],v=c.status,_=0;_<v.length;_++)if("="===v[_].cmd){var x=e.getItemGraphicEl(v[_].idx1);x&&y.push({el:x,ptIdx:_})}l.animators&&l.animators.length&&l.animators[0].during(function(){u&&u.dirtyShape();for(var b=l.shape.__points,w=0;w<y.length;w++){var S=y[w].el,M=2*y[w].ptIdx;S.x=b[M],S.y=b[M+1],S.markRedraw()}})},t.prototype.remove=function(e){var i=this.group,r=this._data;this._lineGroup.removeAll(),this._symbolDraw.remove(!0),r&&r.eachItemGraphicEl(function(o,a){o.__temp&&(i.remove(o),r.setItemGraphicEl(a,null))}),this._polyline=this._polygon=this._coordSys=this._points=this._stackedOnPoints=this._endLabel=this._data=null},t.type="line",t}(je);function Gu(n,t){return{seriesType:n,plan:bs(),reset:function(e){var i=e.getData(),r=e.coordinateSystem,a=t||e.pipelineContext.large;if(r){var s=J(r.dimensions,function(d){return i.mapDimension(d)}).slice(0,2),l=s.length,u=i.getCalculationInfo("stackResultDimension");cr(i,s[0])&&(s[0]=u),cr(i,s[1])&&(s[1]=u);var h=i.getStore(),c=i.getDimensionIndex(s[0]),p=i.getDimensionIndex(s[1]);return l&&{progress:function(d,f){for(var m=a&&Ps((d.end-d.start)*l),y=[],v=[],_=d.start,x=0;_<d.end;_++){var b=void 0;if(1===l){var w=h.get(c,_);b=r.dataToPoint(w,null,v)}else y[0]=h.get(c,_),y[1]=h.get(p,_),b=r.dataToPoint(y,null,v);a?(m[x++]=b[0],m[x++]=b[1]):f.setItemLayout(_,b.slice())}a&&f.setLayout("points",m)}}}}}}var MP={average:function(n){for(var t=0,e=0,i=0;i<n.length;i++)isNaN(n[i])||(t+=n[i],e++);return 0===e?NaN:t/e},sum:function(n){for(var t=0,e=0;e<n.length;e++)t+=n[e]||0;return t},max:function(n){for(var t=-1/0,e=0;e<n.length;e++)n[e]>t&&(t=n[e]);return isFinite(t)?t:NaN},min:function(n){for(var t=1/0,e=0;e<n.length;e++)n[e]<t&&(t=n[e]);return isFinite(t)?t:NaN},nearest:function(n){return n[0]}},IP=function(n){return Math.round(n.length/2)};function tS(n){return{seriesType:n,reset:function(t,e,i){var r=t.getData(),o=t.get("sampling"),a=t.coordinateSystem,s=r.count();if(s>10&&"cartesian2d"===a.type&&o){var l=a.getBaseAxis(),u=a.getOtherAxis(l),h=l.getExtent(),c=i.getDevicePixelRatio(),p=Math.abs(h[1]-h[0])*(c||1),d=Math.round(s/p);if(d>1){"lttb"===o&&t.setData(r.lttbDownSample(r.mapDimension(u.dim),1/d));var f=void 0;"string"==typeof o?f=MP[o]:"function"==typeof o&&(f=o),f&&t.setData(r.downSample(r.mapDimension(u.dim),1/d,f,IP))}}}}}var Fu=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return G(t,n),t.prototype.getInitialData=function(e,i){return Vi(null,this,{useEncodeDefaulter:!0})},t.prototype.getMarkerPosition=function(e){var i=this.coordinateSystem;if(i&&i.clampData){var r=i.dataToPoint(i.clampData(e)),o=this.getData(),a=o.getLayout("offset"),s=o.getLayout("size");return r[i.getBaseAxis().isHorizontal()?0:1]+=a+s/2,r}return[NaN,NaN]},t.type="series.__base_bar__",t.defaultOption={zlevel:0,z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,barMinHeight:0,barMinAngle:0,large:!1,largeThreshold:400,progressive:3e3,progressiveChunkMode:"mod"},t}(et);et.registerClass(Fu);var TP=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return G(t,n),t.prototype.getInitialData=function(){return Vi(null,this,{useEncodeDefaulter:!0,createInvertedIndices:!!this.get("realtimeSort",!0)||null})},t.prototype.getProgressive=function(){return!!this.get("large")&&this.get("progressive")},t.prototype.getProgressiveThreshold=function(){var e=this.get("progressiveThreshold"),i=this.get("largeThreshold");return i>e&&(e=i),e},t.prototype.brushSelector=function(e,i,r){return r.rect(i.getItemLayout(e))},t.type="series.bar",t.dependencies=["grid","polar"],t.defaultOption=Ur(Fu.defaultOption,{clip:!0,roundCap:!1,showBackground:!1,backgroundStyle:{color:"rgba(180, 180, 180, 0.2)",borderColor:null,borderWidth:0,borderType:"solid",borderRadius:0,shadowBlur:0,shadowColor:null,shadowOffsetX:0,shadowOffsetY:0,opacity:1},select:{itemStyle:{borderColor:"#212121"}},realtimeSort:!1}),t}(Fu),CP=function(){this.cx=0,this.cy=0,this.r0=0,this.r=0,this.startAngle=0,this.endAngle=2*Math.PI,this.clockwise=!0},Ip=function(n){function t(e){var i=n.call(this,e)||this;return i.type="sausage",i}return G(t,n),t.prototype.getDefaultShape=function(){return new CP},t.prototype.buildPath=function(e,i){var r=i.cx,o=i.cy,a=Math.max(i.r0||0,0),s=Math.max(i.r,0),l=.5*(s-a),u=a+l,h=i.startAngle,c=i.endAngle,p=i.clockwise,d=Math.cos(h),f=Math.sin(h),g=Math.cos(c),m=Math.sin(c);(p?c-h<2*Math.PI:h-c<2*Math.PI)&&(e.moveTo(d*a+r,f*a+o),e.arc(d*u+r,f*u+o,l,-Math.PI+h,h,!p)),e.arc(r,o,s,h,c,!p),e.moveTo(g*s+r,m*s+o),e.arc(g*u+r,m*u+o,l,c-2*Math.PI,c-Math.PI,!p),0!==a&&(e.arc(r,o,a,c,h,p),e.moveTo(d*a+r,m*a+o)),e.closePath()},t}(Le);function Tp(n,t,e){return t*Math.sin(n)*(e?-1:1)}function Cp(n,t,e){return t*Math.cos(n)*(e?1:-1)}var Ap=[0,0],dm=Math.max,fm=Math.min,AP=function(n){function t(){var e=n.call(this)||this;return e.type=t.type,e._isFirstFrame=!0,e}return G(t,n),t.prototype.render=function(e,i,r,o){this._model=e,this._removeOnRenderedListener(r),this._updateDrawMode(e);var a=e.get("coordinateSystem");("cartesian2d"===a||"polar"===a)&&(this._isLargeDraw?this._renderLarge(e,i,r):this._renderNormal(e,i,r,o))},t.prototype.incrementalPrepareRender=function(e){this._clear(),this._updateDrawMode(e),this._updateLargeClip(e)},t.prototype.incrementalRender=function(e,i){this._incrementalRenderLarge(e,i)},t.prototype._updateDrawMode=function(e){var i=e.pipelineContext.large;null!=this._isLargeDraw&&i===this._isLargeDraw||(this._isLargeDraw=i,this._clear())},t.prototype._renderNormal=function(e,i,r,o){var a,s=this.group,l=e.getData(),u=this._data,h=e.coordinateSystem,c=h.getBaseAxis();"cartesian2d"===h.type?a=c.isHorizontal():"polar"===h.type&&(a="angle"===c.dim);var p=e.isAnimationEnabled()?e:null,d=function(A,D){var L=A.get("realtimeSort",!0),P=D.getBaseAxis();if(L&&"category"===P.type&&"cartesian2d"===D.type)return{baseAxis:P,otherAxis:D.getOtherAxis(P)}}(e,h);d&&this._enableRealtimeSort(d,l,r);var f=e.get("clip",!0)||d,g=function(A,D){var L=A.getArea&&A.getArea();if(fr(A,"cartesian2d")){var P=A.getBaseAxis();if("category"!==P.type||!P.onBand){var E=D.getLayout("bandWidth");P.isHorizontal()?(L.x-=E,L.width+=2*E):(L.y-=E,L.height+=2*E)}}return L}(h,l);s.removeClipPath();var m=e.get("roundCap",!0),y=e.get("showBackground",!0),v=e.getModel("backgroundStyle"),_=v.get("borderRadius")||0,x=[],b=this._backgroundEls,w=o&&o.isInitSort,S=o&&"changeAxisOrder"===o.type;function M(A){var P,D=Dp[h.type](l,A),L=new("polar"===(P=h).type?Qt:Ee)({shape:pS(a,D,P),silent:!0,z2:0});return L.useStyle(v.getItemStyle()),"cartesian2d"===h.type&&L.setShape("r",_),x[A]=L,L}l.diff(u).add(function(A){var D=l.getItemModel(A),L=Dp[h.type](l,A,D);if(y&&M(A),l.hasValue(A)&&aS[h.type](L)){var P=!1;f&&(P=nS[h.type](g,L));var E=iS[h.type](e,l,A,L,a,p,c.model,!1,m);d&&(E.forceLabelAnimation=!0),lS(E,l,A,D,L,e,a,"polar"===h.type),w?E.attr({shape:L}):d?rS(d,p,E,L,A,a,!1,!1):lt(E,{shape:L},e,A),l.setItemGraphicEl(A,E),s.add(E),E.ignore=P}}).update(function(A,D){var L=l.getItemModel(A),P=Dp[h.type](l,A,L);if(y){var E=void 0;0===b.length?E=M(D):((E=b[D]).useStyle(v.getItemStyle()),"cartesian2d"===h.type&&E.setShape("r",_),x[A]=E);var N=Dp[h.type](l,A);ze(E,{shape:pS(a,N,h)},p,A)}var R=u.getItemGraphicEl(D);if(l.hasValue(A)&&aS[h.type](P)){var z=!1;if(f&&(z=nS[h.type](g,P))&&s.remove(R),R?di(R):R=iS[h.type](e,l,A,P,a,p,c.model,!!R,m),d&&(R.forceLabelAnimation=!0),S){var B=R.getTextContent();if(B){var V=ls(B);null!=V.prevValue&&(V.prevValue=V.value)}}S||lS(R,l,A,L,P,e,a,"polar"===h.type),w?R.attr({shape:P}):d?rS(d,p,R,P,A,a,!0,S):ze(R,{shape:P},e,A,null),l.setItemGraphicEl(A,R),R.ignore=z,s.add(R)}else s.remove(R)}).remove(function(A){var D=u.getItemGraphicEl(A);D&&ql(D,e,A)}).execute();var T=this._backgroundGroup||(this._backgroundGroup=new me);T.removeAll();for(var C=0;C<x.length;++C)T.add(x[C]);s.add(T),this._backgroundEls=x,this._data=l},t.prototype._renderLarge=function(e,i,r){this._clear(),hS(e,this.group),this._updateLargeClip(e)},t.prototype._incrementalRenderLarge=function(e,i){this._removeBackground(),hS(i,this.group,!0)},t.prototype._updateLargeClip=function(e){var i=e.get("clip",!0)?Mp(e.coordinateSystem,!1,e):null;i?this.group.setClipPath(i):this.group.removeClipPath()},t.prototype._enableRealtimeSort=function(e,i,r){var o=this;if(i.count()){var a=e.baseAxis;if(this._isFirstFrame)this._dispatchInitSort(i,e,r),this._isFirstFrame=!1;else{var s=function(l){var u=i.getItemGraphicEl(l);if(u){var h=u.shape;return(a.isHorizontal()?Math.abs(h.height):Math.abs(h.width))||0}return 0};this._onRendered=function(){o._updateSortWithinSameData(i,s,a,r)},r.getZr().on("rendered",this._onRendered)}}},t.prototype._dataSort=function(e,i,r){var o=[];return e.each(e.mapDimension(i.dim),function(a,s){var l=r(s);o.push({dataIndex:s,mappedValue:l=null==l?NaN:l,ordinalNumber:a})}),o.sort(function(a,s){return s.mappedValue-a.mappedValue}),{ordinalNumbers:J(o,function(a){return a.ordinalNumber})}},t.prototype._isOrderChangedWithinSameData=function(e,i,r){for(var o=r.scale,a=e.mapDimension(r.dim),s=Number.MAX_VALUE,l=0,u=o.getOrdinalMeta().categories.length;l<u;++l){var h=e.rawIndexOf(a,o.getRawOrdinalNumber(l)),c=h<0?Number.MIN_VALUE:i(e.indexOfRawIndex(h));if(c>s)return!0;s=c}return!1},t.prototype._isOrderDifferentInView=function(e,i){for(var r=i.scale,o=r.getExtent(),a=Math.max(0,o[0]),s=Math.min(o[1],r.getOrdinalMeta().categories.length-1);a<=s;++a)if(e.ordinalNumbers[a]!==r.getRawOrdinalNumber(a))return!0},t.prototype._updateSortWithinSameData=function(e,i,r,o){if(this._isOrderChangedWithinSameData(e,i,r)){var a=this._dataSort(e,r,i);this._isOrderDifferentInView(a,r)&&(this._removeOnRenderedListener(o),o.dispatchAction({type:"changeAxisOrder",componentType:r.dim+"Axis",axisId:r.index,sortInfo:a}))}},t.prototype._dispatchInitSort=function(e,i,r){var o=i.baseAxis,a=this._dataSort(e,o,function(s){return e.get(e.mapDimension(i.otherAxis.dim),s)});r.dispatchAction({type:"changeAxisOrder",componentType:o.dim+"Axis",isInitSort:!0,axisId:o.index,sortInfo:a})},t.prototype.remove=function(e,i){this._clear(this._model),this._removeOnRenderedListener(i)},t.prototype.dispose=function(e,i){this._removeOnRenderedListener(i)},t.prototype._removeOnRenderedListener=function(e){this._onRendered&&(e.getZr().off("rendered",this._onRendered),this._onRendered=null)},t.prototype._clear=function(e){var i=this.group,r=this._data;e&&e.isAnimationEnabled()&&r&&!this._isLargeDraw?(this._removeBackground(),this._backgroundEls=[],r.eachItemGraphicEl(function(o){ql(o,e,_e(o).dataIndex)})):i.removeAll(),this._data=null,this._isFirstFrame=!0},t.prototype._removeBackground=function(){this.group.remove(this._backgroundGroup),this._backgroundGroup=null},t.type="bar",t}(je),nS={cartesian2d:function(n,t){var e=t.width<0?-1:1,i=t.height<0?-1:1;e<0&&(t.x+=t.width,t.width=-t.width),i<0&&(t.y+=t.height,t.height=-t.height);var r=n.x+n.width,o=n.y+n.height,a=dm(t.x,n.x),s=fm(t.x+t.width,r),l=dm(t.y,n.y),u=fm(t.y+t.height,o),h=s<a,c=u<l;return t.x=h&&a>r?s:a,t.y=c&&l>o?u:l,t.width=h?0:s-a,t.height=c?0:u-l,e<0&&(t.x+=t.width,t.width=-t.width),i<0&&(t.y+=t.height,t.height=-t.height),h||c},polar:function(n,t){var e=t.r0<=t.r?1:-1;if(e<0){var i=t.r;t.r=t.r0,t.r0=i}var r=fm(t.r,n.r),o=dm(t.r0,n.r0);t.r=r,t.r0=o;var a=r-o<0;return e<0&&(i=t.r,t.r=t.r0,t.r0=i),a}},iS={cartesian2d:function(n,t,e,i,r,o,a,s,l){var u=new Ee({shape:K({},i),z2:1});return u.__dataIndex=e,u.name="item",o&&(u.shape[r?"height":"width"]=0),u},polar:function(n,t,e,i,r,o,a,s,l){var u=!r&&l?Ip:Qt,h=new u({shape:i,z2:1});h.name="item";var c,p,d=sS(r);if(h.calculateTextPosition=(c=d,p=u===Ip,function(m,y,v){var _=y.position;if(!_||_ instanceof Array)return Fh(m,y,v);var x=c(_),b=null!=y.distance?y.distance:5,w=this.shape,S=w.cx,M=w.cy,T=w.r,C=w.r0,A=(T+C)/2,D=w.startAngle,L=w.endAngle,P=(D+L)/2,E=p?Math.abs(T-C)/2:0,N=Math.cos,R=Math.sin,z=S+T*N(D),B=M+T*R(D),V="left",W="top";switch(x){case"startArc":z=S+(C-b)*N(P),B=M+(C-b)*R(P),V="center",W="top";break;case"insideStartArc":z=S+(C+b)*N(P),B=M+(C+b)*R(P),V="center",W="bottom";break;case"startAngle":z=S+A*N(D)+Tp(D,b+E,!1),B=M+A*R(D)+Cp(D,b+E,!1),V="right",W="middle";break;case"insideStartAngle":z=S+A*N(D)+Tp(D,-b+E,!1),B=M+A*R(D)+Cp(D,-b+E,!1),V="left",W="middle";break;case"middle":z=S+A*N(P),B=M+A*R(P),V="center",W="middle";break;case"endArc":z=S+(T+b)*N(P),B=M+(T+b)*R(P),V="center",W="bottom";break;case"insideEndArc":z=S+(T-b)*N(P),B=M+(T-b)*R(P),V="center",W="top";break;case"endAngle":z=S+A*N(L)+Tp(L,b+E,!0),B=M+A*R(L)+Cp(L,b+E,!0),V="left",W="middle";break;case"insideEndAngle":z=S+A*N(L)+Tp(L,-b+E,!0),B=M+A*R(L)+Cp(L,-b+E,!0),V="right",W="middle";break;default:return Fh(m,y,v)}return(m=m||{}).x=z,m.y=B,m.align=V,m.verticalAlign=W,m}),o){var f=r?"r":"endAngle",g={};h.shape[f]=r?0:i.startAngle,g[f]=i[f],(s?ze:lt)(h,{shape:g},o)}return h}};function rS(n,t,e,i,r,o,a,s){var l,u;o?(u={x:i.x,width:i.width},l={y:i.y,height:i.height}):(u={y:i.y,height:i.height},l={x:i.x,width:i.width}),s||(a?ze:lt)(e,{shape:l},t,r,null),(a?ze:lt)(e,{shape:u},t?n.baseAxis.model:null,r)}function oS(n,t){for(var e=0;e<t.length;e++)if(!isFinite(n[t[e]]))return!0;return!1}var DP=["x","y","width","height"],kP=["cx","cy","r","startAngle","endAngle"],aS={cartesian2d:function(n){return!oS(n,DP)},polar:function(n){return!oS(n,kP)}},Dp={cartesian2d:function(n,t,e){var i=n.getItemLayout(t),r=e?function(s,l){var u=s.get(["itemStyle","borderColor"]);if(!u||"none"===u)return 0;var h=s.get(["itemStyle","borderWidth"])||0,c=isNaN(l.width)?Number.MAX_VALUE:Math.abs(l.width),p=isNaN(l.height)?Number.MAX_VALUE:Math.abs(l.height);return Math.min(h,c,p)}(e,i):0,o=i.width>0?1:-1,a=i.height>0?1:-1;return{x:i.x+o*r/2,y:i.y+a*r/2,width:i.width-o*r,height:i.height-a*r}},polar:function(n,t,e){var i=n.getItemLayout(t);return{cx:i.cx,cy:i.cy,r0:i.r0,r:i.r,startAngle:i.startAngle,endAngle:i.endAngle,clockwise:i.clockwise}}};function sS(n){return function(t){var e=t?"Arc":"Angle";return function(i){switch(i){case"start":case"insideStart":case"end":case"insideEnd":return i+e;default:return i}}}(n)}function lS(n,t,e,i,r,o,a,s){var l=t.getItemVisual(e,"style");s||n.setShape("r",i.get(["itemStyle","borderRadius"])||0),n.useStyle(l);var u=i.getShallow("cursor");u&&n.attr("cursor",u);var h=s?a?r.r>=r.r0?"endArc":"startArc":r.endAngle>=r.startAngle?"endAngle":"startAngle":a?r.height>=0?"bottom":"top":r.width>=0?"right":"left",c=Ut(i);Jt(n,c,{labelFetcher:o,labelDataIndex:e,defaultText:Ls(o.getData(),e),inheritColor:l.fill,defaultOpacity:l.opacity,defaultOutsidePosition:h});var p=n.getTextContent();if(s&&p){var d=i.get(["label","position"]);n.textConfig.inside="middle"===d||null,function(g,m,y,v){if("number"!=typeof v)if(Z(m))g.setTextConfig({rotation:0});else{var _,x=g.shape,b=x.clockwise?x.startAngle:x.endAngle,w=x.clockwise?x.endAngle:x.startAngle,S=(b+w)/2,M=y(m);switch(M){case"startArc":case"insideStartArc":case"middle":case"insideEndArc":case"endArc":_=S;break;case"startAngle":case"insideStartAngle":_=b;break;case"endAngle":case"insideEndAngle":_=w;break;default:return void g.setTextConfig({rotation:0})}var T=1.5*Math.PI-_;"middle"===M&&T>Math.PI/2&&T<1.5*Math.PI&&(T-=Math.PI),g.setTextConfig({rotation:T})}else g.setTextConfig({rotation:v})}(n,"outside"===d?h:d,sS(a),i.get(["label","rotate"]))}F_(p,c,o.getRawValue(e),function(g){return Vw(t,g)});var g,f=i.getModel(["emphasis"]);nt(n,f.get("focus"),f.get("blurScope")),Yt(n,i),null!=(g=r).startAngle&&null!=g.endAngle&&g.startAngle===g.endAngle&&(n.style.fill="none",n.style.stroke="none",k(n.states,function(g){g.style&&(g.style.fill=g.style.stroke="none")}))}var LP=function(){},uS=function(n){function t(e){var i=n.call(this,e)||this;return i.type="largeBar",i}return G(t,n),t.prototype.getDefaultShape=function(){return new LP},t.prototype.buildPath=function(e,i){for(var r=i.points,o=this.__startPoint,a=this.__baseDimIdx,s=0;s<r.length;s+=2)o[a]=r[s+a],e.moveTo(o[0],o[1]),e.lineTo(r[s],r[s+1])},t}(Le);function hS(n,t,e){var i=n.getData(),r=[],o=i.getLayout("valueAxisHorizontal")?1:0;r[1-o]=i.getLayout("valueAxisStart");var d,f,g,m,y,a=i.getLayout("largeDataIndices"),s=i.getLayout("barWidth"),l=n.getModel("backgroundStyle");if(n.get("showBackground",!0)){var u=i.getLayout("largeBackgroundPoints"),h=[];h[1-o]=i.getLayout("backgroundStart");var c=new uS({shape:{points:u},incremental:!!e,silent:!0,z2:0});c.__startPoint=h,c.__baseDimIdx=o,c.__largeDataIndices=a,c.__barWidth=s,d=c,g=i,m=(f=l).get("borderColor")||f.get("color"),y=f.getItemStyle(),d.useStyle(y),d.style.fill=null,d.style.stroke=m,d.style.lineWidth=g.getLayout("barWidth"),t.add(c)}var p=new uS({shape:{points:i.getLayout("largePoints")},incremental:!!e});p.__startPoint=r,p.__baseDimIdx=o,p.__largeDataIndices=a,p.__barWidth=s,t.add(p),function(d,f,g){var m=g.getVisual("style");d.useStyle(K({},m)),d.style.fill=null,d.style.stroke=m.fill,d.style.lineWidth=g.getLayout("barWidth")}(p,0,i),_e(p).seriesIndex=n.seriesIndex,n.get("silent")||(p.on("mousedown",cS),p.on("mousemove",cS))}var cS=cu(function(n){var t=function(e,i,r){var o=e.__baseDimIdx,a=1-o,s=e.shape.points,l=e.__largeDataIndices,u=Math.abs(e.__barWidth/2),h=e.__startPoint[a];Ap[0]=i,Ap[1]=r;for(var c=Ap[o],p=Ap[1-o],d=c-u,f=c+u,g=0,m=s.length/2;g<m;g++){var y=2*g,v=s[y+o],_=s[y+a];if(v>=d&&v<=f&&(h<=_?p>=h&&p<=_:p>=_&&p<=h))return l[g]}return-1}(this,n.offsetX,n.offsetY);_e(this).dataIndex=t>=0?t:null},30,!1);function pS(n,t,e){if(fr(e,"cartesian2d")){var i=t,r=e.getArea();return{x:n?i.x:r.x,y:n?r.y:i.y,width:n?i.width:r.width,height:n?r.height:i.height}}var o=t;return{cx:(r=e.getArea()).cx,cy:r.cy,r0:n?r.r0:o.r0,r:n?r.r:o.r,startAngle:n?o.startAngle:0,endAngle:n?o.endAngle:2*Math.PI}}var kp=2*Math.PI,dS=Math.PI/180;function fS(n,t){return Tt(n.getBoxLayoutParams(),{width:t.getWidth(),height:t.getHeight()})}function gS(n,t){var e=fS(n,t),i=n.get("center"),r=n.get("radius");Z(r)||(r=[0,r]),Z(i)||(i=[i,i]);var o=ie(e.width,t.getWidth()),a=ie(e.height,t.getHeight()),s=Math.min(o,a);return{cx:ie(i[0],o)+e.x,cy:ie(i[1],a)+e.y,r0:ie(r[0],s/2),r:ie(r[1],s/2)}}function PP(n,t,e){t.eachSeriesByType(n,function(i){var r=i.getData(),o=r.mapDimension("value"),a=fS(i,e),s=gS(i,e),l=s.cx,u=s.cy,h=s.r,c=s.r0,p=-i.get("startAngle")*dS,d=i.get("minAngle")*dS,f=0;r.each(o,function(C){!isNaN(C)&&f++});var g=r.getSum(o),m=Math.PI/(g||f)*2,y=i.get("clockwise"),v=i.get("roseType"),_=i.get("stillShowZeroSum"),x=r.getDataExtent(o);x[0]=0;var b=kp,w=0,S=p,M=y?1:-1;if(r.setLayout({viewRect:a,r:h}),r.each(o,function(C,A){var D;if(isNaN(C))r.setItemLayout(A,{angle:NaN,startAngle:NaN,endAngle:NaN,clockwise:y,cx:l,cy:u,r0:c,r:v?NaN:h});else{(D="area"!==v?0===g&&_?m:C*m:kp/f)<d?(D=d,b-=d):w+=C;var L=S+M*D;r.setItemLayout(A,{angle:D,startAngle:S,endAngle:L,clockwise:y,cx:l,cy:u,r0:c,r:v?Ze(C,x,[c,h]):h}),S=L}}),b<kp&&f)if(b<=.001){var T=kp/f;r.each(o,function(C,A){if(!isNaN(C)){var D=r.getItemLayout(A);D.angle=T,D.startAngle=p+M*A*T,D.endAngle=p+M*(A+1)*T}})}else m=b/w,S=p,r.each(o,function(C,A){if(!isNaN(C)){var D=r.getItemLayout(A),L=D.angle===d?d:C*m;D.startAngle=S,D.endAngle=S+M*L,S+=M*L}})})}function Hu(n){return{seriesType:n,reset:function(t,e){var i=e.findComponents({mainType:"legend"});if(i&&i.length){var r=t.getData();r.filterSelf(function(o){for(var a=r.getName(o),s=0;s<i.length;s++)if(!i[s].isSelected(a))return!1;return!0})}}}}var OP=Math.PI/180;function mS(n,t,e,i,r,o,a,s,l,u){if(!(n.length<2)){for(var h=n.length,c=0;c<h;c++)"outer"===n[c].position&&"labelLine"===n[c].labelAlignTo&&(n[c].linePoints[1][0]+=n[c].label.x-u,n[c].label.x=u);yw(n,l,l+a)&&function(f){for(var g={list:[],maxY:0},m={list:[],maxY:0},y=0;y<f.length;y++)if("none"===f[y].labelAlignTo){var v=f[y],_=v.label.y>e?m:g,x=Math.abs(v.label.y-e);if(x>_.maxY){var b=v.label.x-t-v.len2*r,w=i+v.len,S=Math.abs(b)<w?Math.sqrt(x*x/(1-b*b/w/w)):w;_.rB=S,_.maxY=x}_.list.push(v)}d(g),d(m)}(n)}function d(f){for(var g=f.rB,m=g*g,y=0;y<f.list.length;y++){var v=f.list[y],_=Math.abs(v.label.y-e),x=i+v.len,b=x*x,w=Math.sqrt((1-Math.abs(_*_/m))*b);v.label.x=t+(w+v.len2)*r}}}function yS(n){return"center"===n.position}function Os(n,t,e){var i=n.get("borderRadius");return null==i?e?{innerCornerRadius:0,cornerRadius:0}:null:(Z(i)||(i=[i,i]),{innerCornerRadius:Wn(i[0],t.r0),cornerRadius:Wn(i[1],t.r)})}var NP=function(n){function t(e,i,r){var o=n.call(this)||this;o.z2=2;var a=new Re;return o.setTextContent(a),o.updateData(e,i,r,!0),o}return G(t,n),t.prototype.updateData=function(e,i,r,o){var a=this,s=e.hostModel,l=e.getItemModel(i),u=l.getModel("emphasis"),h=e.getItemLayout(i),c=K(Os(l.getModel("itemStyle"),h,!0),h);if(isNaN(c.startAngle))a.setShape(c);else{o?(a.setShape(c),"scale"===s.getShallow("animationType")?(a.shape.r=h.r0,lt(a,{shape:{r:h.r}},s,i)):null!=r?(a.setShape({startAngle:r,endAngle:r}),lt(a,{shape:{startAngle:h.startAngle,endAngle:h.endAngle}},s,i)):(a.shape.endAngle=h.startAngle,ze(a,{shape:{endAngle:h.endAngle}},s,i))):(di(a),ze(a,{shape:c},s,i)),a.useStyle(e.getItemVisual(i,"style")),Yt(a,l);var p=(h.startAngle+h.endAngle)/2,d=s.get("selectedOffset"),f=Math.cos(p)*d,g=Math.sin(p)*d,m=l.getShallow("cursor");m&&a.attr("cursor",m),this._updateLabel(s,e,i),a.ensureState("emphasis").shape=wa({r:h.r+(u.get("scale")&&u.get("scaleSize")||0)},Os(u.getModel("itemStyle"),h)),K(a.ensureState("select"),{x:f,y:g,shape:Os(l.getModel(["select","itemStyle"]),h)}),K(a.ensureState("blur"),{shape:Os(l.getModel(["blur","itemStyle"]),h)});var y=a.getTextGuideLine(),v=a.getTextContent();y&&K(y.ensureState("select"),{x:f,y:g}),K(v.ensureState("select"),{x:f,y:g}),nt(this,u.get("focus"),u.get("blurScope"))}},t.prototype._updateLabel=function(e,i,r){var o=this,a=i.getItemModel(r),s=a.getModel("labelLine"),l=i.getItemVisual(r,"style"),u=l&&l.fill,h=l&&l.opacity;Jt(o,Ut(a),{labelFetcher:i.hostModel,labelDataIndex:r,inheritColor:u,defaultOpacity:h,defaultText:e.getFormattedLabel(r,"normal")||i.getName(r)});var c=o.getTextContent();o.setTextConfig({position:null,rotation:null}),c.attr({z2:10});var p=e.get(["label","position"]);if("outside"!==p&&"outer"!==p)o.removeTextGuideLine();else{var d=this.getTextGuideLine();d||(d=new pn,this.setTextGuideLine(d)),nm(this,im(a),{stroke:u,opacity:qt(s.get(["lineStyle","opacity"]),h,1)})}},t}(Qt),RP=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.ignoreLabelLineUpdate=!0,e}return G(t,n),t.prototype.init=function(){var e=new me;this._sectorGroup=e},t.prototype.render=function(e,i,r,o){var a,s=e.getData(),l=this._data,u=this.group;if(!l&&s.count()>0){for(var h=s.getItemLayout(0),c=1;isNaN(h&&h.startAngle)&&c<s.count();++c)h=s.getItemLayout(c);h&&(a=h.startAngle)}if(this._emptyCircleSector&&u.remove(this._emptyCircleSector),0===s.count()&&e.get("showEmptyCircle")){var p=new Qt({shape:gS(e,r)});p.useStyle(e.getModel("emptyCircleStyle").getItemStyle()),this._emptyCircleSector=p,u.add(p)}s.diff(l).add(function(d){var f=new NP(s,d,a);s.setItemGraphicEl(d,f),u.add(f)}).update(function(d,f){var g=l.getItemGraphicEl(f);g.updateData(s,d,a),g.off("click"),u.add(g),s.setItemGraphicEl(d,g)}).remove(function(d){ql(l.getItemGraphicEl(d),e,d)}).execute(),function(n){var t,e,i=n.getData(),r=[],o=!1,a=(n.get("minShowLabelAngle")||0)*OP,s=i.getLayout("viewRect"),l=i.getLayout("r"),u=s.width,h=s.x,c=s.y,p=s.height;function d(b){b.ignore=!0}i.each(function(b){var w=i.getItemGraphicEl(b),S=w.shape,M=w.getTextContent(),T=w.getTextGuideLine(),C=i.getItemModel(b),A=C.getModel("label"),D=A.get("position")||C.get(["emphasis","label","position"]),L=A.get("distanceToLabelLine"),P=A.get("alignTo"),E=ie(A.get("edgeDistance"),u),N=A.get("bleedMargin"),R=C.getModel("labelLine"),z=R.get("length");z=ie(z,u);var B=R.get("length2");if(B=ie(B,u),Math.abs(S.endAngle-S.startAngle)<a)return k(M.states,d),void(M.ignore=!0);if(function(ot){if(!ot.ignore)return!0;for(var nn in ot.states)if(!1===ot.states[nn].ignore)return!0;return!1}(M)){var V,W,Y,Q,U=(S.startAngle+S.endAngle)/2,j=Math.cos(U),ne=Math.sin(U);t=S.cx,e=S.cy;var ee,te="inside"===D||"inner"===D;if("center"===D)V=S.cx,W=S.cy,Q="center";else{var oe=(te?(S.r+S.r0)/2*j:S.r*j)+t,ae=(te?(S.r+S.r0)/2*ne:S.r*ne)+e;if(V=oe+3*j,W=ae+3*ne,!te){var fe=oe+j*(z+l-S.r),ve=ae+ne*(z+l-S.r),xe=fe+(j<0?-1:1)*B;V="edge"===P?j<0?h+E:h+u-E:xe+(j<0?-L:L),W=ve,Y=[[oe,ae],[fe,ve],[xe,ve]]}Q=te?"center":"edge"===P?j>0?"right":"left":j>0?"left":"right"}var ct=A.get("rotate");if("number"==typeof ct)ee=ct*(Math.PI/180);else if("center"===D)ee=0;else{var ut=j<0?-U+Math.PI:-U;"radial"===ct||!0===ct?ee=ut:"tangential"===ct&&"outside"!==D&&"outer"!==D?(ee=ut+Math.PI/2)>Math.PI/2&&(ee-=Math.PI):ee=0}if(o=!!ee,M.x=V,M.y=W,M.rotation=ee,M.setStyle({verticalAlign:"middle"}),te){M.setStyle({align:Q});var Ve=M.states.select;Ve&&(Ve.x+=M.x,Ve.y+=M.y)}else{var Ne=M.getBoundingRect().clone();Ne.applyTransform(M.getComputedTransform());var ft=(M.style.margin||0)+2.1;Ne.y-=ft/2,Ne.height+=ft,r.push({label:M,labelLine:T,position:D,len:z,len2:B,minTurnAngle:R.get("minTurnAngle"),maxSurfaceAngle:R.get("maxSurfaceAngle"),surfaceNormal:new Se(j,ne),linePoints:Y,textAlign:Q,labelDistance:L,labelAlignTo:P,edgeDistance:E,bleedMargin:N,rect:Ne})}w.setTextConfig({inside:te})}}),!o&&n.get("avoidLabelOverlap")&&function(b,w,S,M,T,C,A,D){for(var L=[],P=[],E=Number.MAX_VALUE,N=-Number.MAX_VALUE,R=0;R<b.length;R++){var z=b[R].label;yS(b[R])||(z.x<w?(E=Math.min(E,z.x),L.push(b[R])):(N=Math.max(N,z.x),P.push(b[R])))}for(mS(P,w,S,M,1,0,C,0,D,N),mS(L,w,S,M,-1,0,C,0,D,E),R=0;R<b.length;R++){var B=b[R];if(z=B.label,!yS(B)){var V=B.linePoints;if(V){var Q,W="edge"===B.labelAlignTo,Y=B.rect.width;(Q=W?z.x<w?V[2][0]-B.labelDistance-A-B.edgeDistance:A+T-B.edgeDistance-V[2][0]-B.labelDistance:z.x<w?z.x-A-B.bleedMargin:A+T-z.x-B.bleedMargin)<B.rect.width&&(B.label.style.width=Q,"edge"===B.labelAlignTo&&(Y=Q));var U=V[1][0]-V[2][0];W?V[2][0]=z.x<w?A+B.edgeDistance+Y+B.labelDistance:A+T-B.edgeDistance-Y-B.labelDistance:(V[2][0]=z.x<w?z.x+B.labelDistance:z.x-B.labelDistance,V[1][0]=V[2][0]+U),V[1][1]=V[2][1]=z.y}}}}(r,t,e,l,u,p,h,c);for(var f=0;f<r.length;f++){var g=r[f],m=g.label,y=g.labelLine,v=isNaN(m.x)||isNaN(m.y);if(m){m.setStyle({align:g.textAlign}),v&&(k(m.states,d),m.ignore=!0);var _=m.states.select;_&&(_.x+=m.x,_.y+=m.y)}if(y){var x=g.linePoints;v||!x?(k(y.states,d),y.ignore=!0):(dw(x,g.minTurnAngle),$L(x,g.surfaceNormal,g.maxSurfaceAngle),y.setShape({points:x}),m.__hostTarget.textGuideLineConfig={anchor:new Se(x[0][0],x[0][1])})}}}(e),"expansion"!==e.get("animationTypeUpdate")&&(this._data=s)},t.prototype.dispose=function(){},t.prototype.containPoint=function(e,i){var r=i.getData().getItemLayout(0);if(r){var o=e[0]-r.cx,a=e[1]-r.cy,s=Math.sqrt(o*o+a*a);return s<=r.r&&s>=r.r0}},t.type="pie",t}(je);function Es(n,t,e){t=Z(t)&&{coordDimensions:t}||K({encodeDefine:n.getEncode()},t);var i=n.getSource(),r=Cs(i,t).dimensions,o=new tn(r,n);return o.initData(i,e),o}var Wu=function(){function n(t,e){this._getDataWithEncodedVisual=t,this._getRawData=e}return n.prototype.getAllNames=function(){var t=this._getRawData();return t.mapArray(t.getName)},n.prototype.containName=function(t){return this._getRawData().indexOfName(t)>=0},n.prototype.indexOfName=function(t){return this._getDataWithEncodedVisual().indexOfName(t)},n.prototype.getItemVisual=function(t,e){return this._getDataWithEncodedVisual().getItemVisual(t,e)},n}(),zP=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return G(t,n),t.prototype.init=function(e){n.prototype.init.apply(this,arguments),this.legendVisualProvider=new Wu(re(this.getData,this),re(this.getRawData,this)),this._defaultLabelLine(e)},t.prototype.mergeOption=function(){n.prototype.mergeOption.apply(this,arguments)},t.prototype.getInitialData=function(){return Es(this,{coordDimensions:["value"],encodeDefaulter:ye(Xf,this)})},t.prototype.getDataParams=function(e){var i=this.getData(),r=n.prototype.getDataParams.call(this,e),o=[];return i.each(i.mapDimension("value"),function(a){o.push(a)}),r.percent=n0(o,e,i.hostModel.get("percentPrecision")),r.$vars.push("percent"),r},t.prototype._defaultLabelLine=function(e){Eo(e,"labelLine",["show"]);var i=e.labelLine,r=e.emphasis.labelLine;i.show=i.show&&e.label.show,r.show=r.show&&e.emphasis.label.show},t.type="series.pie",t.defaultOption={zlevel:0,z:2,legendHoverLink:!0,colorBy:"data",center:["50%","50%"],radius:[0,"75%"],clockwise:!0,startAngle:90,minAngle:0,minShowLabelAngle:0,selectedOffset:10,percentPrecision:2,stillShowZeroSum:!0,left:0,top:0,right:0,bottom:0,width:null,height:null,label:{rotate:0,show:!0,overflow:"truncate",position:"outer",alignTo:"none",edgeDistance:"25%",bleedMargin:10,distanceToLabelLine:5},labelLine:{show:!0,length:15,length2:15,smooth:!1,minTurnAngle:90,maxSurfaceAngle:90,lineStyle:{width:1,type:"solid"}},itemStyle:{borderWidth:1,borderJoin:"round"},showEmptyCircle:!0,emptyCircleStyle:{color:"lightgray",opacity:1},labelLayout:{hideOverlap:!0},emphasis:{scale:!0,scaleSize:5},avoidLabelOverlap:!0,animationType:"expansion",animationDuration:1e3,animationTypeUpdate:"transition",animationEasingUpdate:"cubicInOut",animationDurationUpdate:500,animationEasing:"cubicInOut"},t}(et),BP=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e.hasSymbolVisual=!0,e}return G(t,n),t.prototype.getInitialData=function(e,i){return Vi(null,this,{useEncodeDefaulter:!0})},t.prototype.getProgressive=function(){var e=this.option.progressive;return null==e?this.option.large?5e3:this.get("progressive"):e},t.prototype.getProgressiveThreshold=function(){var e=this.option.progressiveThreshold;return null==e?this.option.large?1e4:this.get("progressiveThreshold"):e},t.prototype.brushSelector=function(e,i,r){return r.point(i.getItemLayout(e))},t.type="series.scatter",t.dependencies=["grid","polar","geo","singleAxis","calendar"],t.defaultOption={coordinateSystem:"cartesian2d",zlevel:0,z:2,legendHoverLink:!0,symbolSize:10,large:!1,largeThreshold:2e3,itemStyle:{opacity:.8},emphasis:{scale:!0},clip:!0,select:{itemStyle:{borderColor:"#212121"}},universalTransition:{divideShape:"clone"}},t}(et),VP=function(){},gm=function(n){function t(e){return n.call(this,e)||this}return G(t,n),t.prototype.getDefaultShape=function(){return new VP},t.prototype.buildPath=function(e,i){var r=i.points,o=i.size,a=this.symbolProxy,s=a.shape,l=e.getContext?e.getContext():e;if(l&&o[0]<4)this._ctx=l;else{this._ctx=null;for(var u=0;u<r.length;){var h=r[u++],c=r[u++];isNaN(h)||isNaN(c)||this.softClipShape&&!this.softClipShape.contain(h,c)||(s.x=h-o[0]/2,s.y=c-o[1]/2,s.width=o[0],s.height=o[1],a.buildPath(e,s,!0))}}},t.prototype.afterBrush=function(){var e=this.shape,i=e.points,r=e.size,o=this._ctx;if(o)for(var a=0;a<i.length;){var s=i[a++],l=i[a++];isNaN(s)||isNaN(l)||this.softClipShape&&!this.softClipShape.contain(s,l)||o.fillRect(s-r[0]/2,l-r[1]/2,r[0],r[1])}},t.prototype.findDataIndex=function(e,i){for(var r=this.shape,o=r.points,a=r.size,s=Math.max(a[0],4),l=Math.max(a[1],4),u=o.length/2-1;u>=0;u--){var h=2*u,c=o[h]-s/2,p=o[h+1]-l/2;if(e>=c&&i>=p&&e<=c+s&&i<=p+l)return u}return-1},t}(Le),GP=function(){function n(){this.group=new me}return n.prototype.isPersistent=function(){return!this._incremental},n.prototype.updateData=function(t,e){this.group.removeAll();var i=new gm({rectHover:!0,cursor:"default"});i.setShape({points:t.getLayout("points")}),this._setCommon(i,t,!1,e),this.group.add(i),this._incremental=null},n.prototype.updateLayout=function(t){if(!this._incremental){var e=t.getLayout("points");this.group.eachChild(function(i){null!=i.startIndex&&(e=new Float32Array(e.buffer,4*i.startIndex*2,2*(i.endIndex-i.startIndex))),i.setShape("points",e)})}},n.prototype.incrementalPrepareUpdate=function(t){this.group.removeAll(),this._clearIncremental(),t.count()>2e6?(this._incremental||(this._incremental=new jl({silent:!0})),this.group.add(this._incremental)):this._incremental=null},n.prototype.incrementalUpdate=function(t,e,i){var r;this._incremental?(r=new gm,this._incremental.addDisplayable(r,!0)):((r=new gm({rectHover:!0,cursor:"default",startIndex:t.start,endIndex:t.end})).incremental=!0,this.group.add(r)),r.setShape({points:e.getLayout("points")}),this._setCommon(r,e,!!this._incremental,i)},n.prototype._setCommon=function(t,e,i,r){var o=e.hostModel;r=r||{};var a=e.getVisual("symbolSize");t.setShape("size",a instanceof Array?a:[a,a]),t.softClipShape=r.clipShape||null,t.symbolProxy=xt(e.getVisual("symbol"),0,0,0,0),t.setColor=t.symbolProxy.setColor;var s=t.shape.size[0]<4;t.useStyle(o.getModel("itemStyle").getItemStyle(s?["color","shadowBlur","shadowColor"]:["color"]));var l=e.getVisual("style"),u=l&&l.fill;if(u&&t.setColor(u),!i){var h=_e(t);h.seriesIndex=o.seriesIndex,t.on("mousemove",function(c){h.dataIndex=null;var p=t.findDataIndex(c.offsetX,c.offsetY);p>=0&&(h.dataIndex=p+(t.startIndex||0))})}},n.prototype.remove=function(){this._clearIncremental(),this._incremental=null,this.group.removeAll()},n.prototype._clearIncremental=function(){var t=this._incremental;t&&t.clearDisplaybles()},n}(),FP=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return G(t,n),t.prototype.render=function(e,i,r){var o=e.getData();this._updateSymbolDraw(o,e).updateData(o,{clipShape:this._getClipShape(e)}),this._finished=!0},t.prototype.incrementalPrepareRender=function(e,i,r){var o=e.getData();this._updateSymbolDraw(o,e).incrementalPrepareUpdate(o),this._finished=!1},t.prototype.incrementalRender=function(e,i,r){this._symbolDraw.incrementalUpdate(e,i.getData(),{clipShape:this._getClipShape(i)}),this._finished=e.end===i.getData().count()},t.prototype.updateTransform=function(e,i,r){var o=e.getData();if(this.group.dirty(),!this._finished||o.count()>1e4||!this._symbolDraw.isPersistent())return{update:!0};var a=Gu("").reset(e,i,r);a.progress&&a.progress({start:0,end:o.count(),count:o.count()},o),this._symbolDraw.updateLayout(o)},t.prototype._getClipShape=function(e){var i=e.coordinateSystem,r=i&&i.getArea&&i.getArea();return e.get("clip",!0)?r:null},t.prototype._updateSymbolDraw=function(e,i){var r=this._symbolDraw,o=i.pipelineContext.large;return r&&o===this._isLargeDraw||(r&&r.remove(),r=this._symbolDraw=o?new GP:new Vu,this._isLargeDraw=o,this.group.removeAll()),this.group.add(r.group),r},t.prototype.remove=function(e,i){this._symbolDraw&&this._symbolDraw.remove(!0),this._symbolDraw=null},t.prototype.dispose=function(){},t.type="scatter",t}(je),HP=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return G(t,n),t.type="grid",t.dependencies=["xAxis","yAxis"],t.layoutMode="box",t.defaultOption={show:!1,zlevel:0,z:0,left:"10%",top:60,right:"10%",bottom:70,containLabel:!1,backgroundColor:"rgba(0,0,0,0)",borderWidth:1,borderColor:"#ccc"},t}(Pe),mm=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return G(t,n),t.prototype.getCoordSysModel=function(){return this.getReferringComponents("grid",Mt).models[0]},t.type="cartesian2dAxis",t}(Pe);ht(mm,ks);var vS={show:!0,zlevel:0,z:0,inverse:!1,name:"",nameLocation:"end",nameRotate:null,nameTruncate:{maxWidth:null,ellipsis:"...",placeholder:"."},nameTextStyle:{},nameGap:15,silent:!1,triggerEvent:!1,tooltip:{show:!1},axisPointer:{},axisLine:{show:!0,onZero:!0,onZeroAxisIndex:null,lineStyle:{color:"#6E7079",width:1,type:"solid"},symbol:["none","none"],symbolSize:[10,15]},axisTick:{show:!0,inside:!1,length:5,lineStyle:{width:1}},axisLabel:{show:!0,inside:!1,rotate:0,showMinLabel:null,showMaxLabel:null,margin:8,fontSize:12},splitLine:{show:!0,lineStyle:{color:["#E0E6F1"],width:1,type:"solid"}},splitArea:{show:!1,areaStyle:{color:["rgba(250,250,250,0.2)","rgba(210,219,238,0.2)"]}}},WP=we({boundaryGap:!0,deduplication:null,splitLine:{show:!1},axisTick:{alignWithLabel:!1,interval:"auto"},axisLabel:{interval:"auto"}},vS),ym=we({boundaryGap:[0,0],axisLine:{show:"auto"},axisTick:{show:"auto"},splitNumber:5,minorTick:{show:!1,splitNumber:5,length:3,lineStyle:{}},minorSplitLine:{show:!1,lineStyle:{color:"#F4F7FD",width:1}}},vS),_S={category:WP,value:ym,time:we({scale:!0,splitNumber:6,axisLabel:{showMinLabel:!1,showMaxLabel:!1,rich:{primary:{fontWeight:"bold"}}},splitLine:{show:!1}},ym),log:ce({scale:!0,logBase:10},ym)},UP={value:1,category:1,time:1,log:1};function Ns(n,t,e,i){k(UP,function(r,o){var a=we(we({},_S[o],!0),i,!0),s=function(l){function u(){var h=null!==l&&l.apply(this,arguments)||this;return h.type=t+"Axis."+o,h}return G(u,l),u.prototype.mergeDefaultAndTheme=function(h,c){var p=ru(this),d=p?ps(h):{};we(h,c.getTheme().get(o+"Axis")),we(h,this.getDefaultOption()),h.type=xS(h),p&&Xr(h,d,p)},u.prototype.optionUpdated=function(){"category"===this.option.type&&(this.__ordinalMeta=Yg.createByAxisModel(this))},u.prototype.getCategories=function(h){var c=this.option;if("category"===c.type)return h?c.data:this.__ordinalMeta.categories},u.prototype.getOrdinalMeta=function(){return this.__ordinalMeta},u.type=t+"Axis."+o,u.defaultOption=a,u}(e);n.registerComponentModel(s)}),n.registerSubTypeDefaulter(t+"Axis",xS)}function xS(n){return n.type||(n.data?"category":"value")}var XP=function(){function n(t){this.type="cartesian",this._dimList=[],this._axes={},this.name=t||""}return n.prototype.getAxis=function(t){return this._axes[t]},n.prototype.getAxes=function(){return J(this._dimList,function(t){return this._axes[t]},this)},n.prototype.getAxesByScale=function(t){return t=t.toLowerCase(),Ke(this.getAxes(),function(e){return e.scale.type===t})},n.prototype.addAxis=function(t){var e=t.dim;this._axes[e]=t,this._dimList.push(e)},n}(),vm=["x","y"];function bS(n){return"interval"===n.type||"time"===n.type}var YP=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type="cartesian2d",e.dimensions=vm,e}return G(t,n),t.prototype.calcAffineTransform=function(){this._transform=this._invTransform=null;var e=this.getAxis("x").scale,i=this.getAxis("y").scale;if(bS(e)&&bS(i)){var r=e.getExtent(),o=i.getExtent(),a=this.dataToPoint([r[0],o[0]]),s=this.dataToPoint([r[1],o[1]]),l=r[1]-r[0],u=o[1]-o[0];if(l&&u){var h=(s[0]-a[0])/l,c=(s[1]-a[1])/u,f=this._transform=[h,0,0,c,a[0]-r[0]*h,a[1]-o[0]*c];this._invTransform=To([],f)}}},t.prototype.getBaseAxis=function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAxis("x")},t.prototype.containPoint=function(e){var i=this.getAxis("x"),r=this.getAxis("y");return i.contain(i.toLocalCoord(e[0]))&&r.contain(r.toLocalCoord(e[1]))},t.prototype.containData=function(e){return this.getAxis("x").containData(e[0])&&this.getAxis("y").containData(e[1])},t.prototype.dataToPoint=function(e,i,r){r=r||[];var o=e[0],a=e[1];if(this._transform&&null!=o&&isFinite(o)&&null!=a&&isFinite(a))return wt(r,e,this._transform);var s=this.getAxis("x"),l=this.getAxis("y");return r[0]=s.toGlobalCoord(s.dataToCoord(o,i)),r[1]=l.toGlobalCoord(l.dataToCoord(a,i)),r},t.prototype.clampData=function(e,i){var r=this.getAxis("x").scale,o=this.getAxis("y").scale,a=r.getExtent(),s=o.getExtent(),l=r.parse(e[0]),u=o.parse(e[1]);return(i=i||[])[0]=Math.min(Math.max(Math.min(a[0],a[1]),l),Math.max(a[0],a[1])),i[1]=Math.min(Math.max(Math.min(s[0],s[1]),u),Math.max(s[0],s[1])),i},t.prototype.pointToData=function(e,i){var r=[];if(this._invTransform)return wt(r,e,this._invTransform);var o=this.getAxis("x"),a=this.getAxis("y");return r[0]=o.coordToData(o.toLocalCoord(e[0]),i),r[1]=a.coordToData(a.toLocalCoord(e[1]),i),r},t.prototype.getOtherAxis=function(e){return this.getAxis("x"===e.dim?"y":"x")},t.prototype.getArea=function(){var e=this.getAxis("x").getGlobalExtent(),i=this.getAxis("y").getGlobalExtent(),r=Math.min(e[0],e[1]),o=Math.min(i[0],i[1]),a=Math.max(e[0],e[1])-r,s=Math.max(i[0],i[1])-o;return new De(r,o,a,s)},t}(XP),ZP=function(n){function t(e,i,r,o,a){var s=n.call(this,e,i,r)||this;return s.index=0,s.type=o||"value",s.position=a||"bottom",s}return G(t,n),t.prototype.isHorizontal=function(){var e=this.position;return"top"===e||"bottom"===e},t.prototype.getGlobalExtent=function(e){var i=this.getExtent();return i[0]=this.toGlobalCoord(i[0]),i[1]=this.toGlobalCoord(i[1]),e&&i[0]>i[1]&&i.reverse(),i},t.prototype.pointToData=function(e,i){return this.coordToData(this.toLocalCoord(e["x"===this.dim?0:1]),i)},t.prototype.setCategorySortInfo=function(e){if("category"!==this.type)return!1;this.model.option.categorySortInfo=e,this.scale.setSortInfo(e)},t}(Qn);function _m(n,t,e){e=e||{};var i=n.coordinateSystem,r=t.axis,o={},a=r.getAxesOnZeroOf()[0],s=r.position,l=a?"onZero":s,u=r.dim,h=i.getRect(),c=[h.x,h.x+h.width,h.y,h.y+h.height],p={left:0,right:1,top:0,bottom:1,onZero:2},d=t.get("offset")||0,f="x"===u?[c[2]-d,c[3]+d]:[c[0]-d,c[1]+d];if(a){var g=a.toGlobalCoord(a.dataToCoord(0));f[p.onZero]=Math.max(Math.min(g,f[1]),f[0])}o.position=["y"===u?f[p[l]]:c[0],"x"===u?f[p[l]]:c[3]],o.rotation=Math.PI/2*("x"===u?0:1),o.labelDirection=o.tickDirection=o.nameDirection={top:-1,bottom:1,left:-1,right:1}[s],o.labelOffset=a?f[p[s]]-f[p.onZero]:0,t.get(["axisTick","inside"])&&(o.tickDirection=-o.tickDirection),st(e.labelInside,t.get(["axisLabel","inside"]))&&(o.labelDirection=-o.labelDirection);var m=t.get(["axisLabel","rotate"]);return o.labelRotate="top"===l?-m:m,o.z2=1,o}function wS(n){return"cartesian2d"===n.get("coordinateSystem")}function SS(n){var t={xAxisModel:null,yAxisModel:null};return k(t,function(e,i){var r=i.replace(/Model$/,""),o=n.getReferringComponents(r,Mt).models[0];t[i]=o}),t}var jP=function(){function n(t,e,i){this.type="grid",this._coordsMap={},this._coordsList=[],this._axesMap={},this._axesList=[],this.axisPointerEnabled=!0,this.dimensions=vm,this._initCartesian(t,e,i),this.model=t}return n.prototype.getRect=function(){return this._rect},n.prototype.update=function(t,e){var i=this._axesMap;this._updateScale(t,this.model),k(i.x,function(o){eo(o.scale,o.model)}),k(i.y,function(o){eo(o.scale,o.model)});var r={};k(i.x,function(o){MS(i,"y",o,r)}),k(i.y,function(o){MS(i,"x",o,r)}),this.resize(this.model,e)},n.prototype.resize=function(t,e,i){var r=t.getBoxLayoutParams(),o=!i&&t.get("containLabel"),a=Tt(r,{width:e.getWidth(),height:e.getHeight()});this._rect=a;var s=this._axesList;function l(){k(s,function(u){var d,f,g,m,h=u.isHorizontal(),c=h?[0,a.width]:[0,a.height],p=u.inverse?1:0;u.setExtent(c[p],c[1-p]),f=h?a.x:a.y,g=(d=u).getExtent(),m=g[0]+g[1],d.toGlobalCoord="x"===d.dim?function(y){return y+f}:function(y){return m-y+f},d.toLocalCoord="x"===d.dim?function(y){return y-f}:function(y){return m-y+f}})}l(),o&&(k(s,function(u){if(!u.model.get(["axisLabel","inside"])){var h=function(d){var g=d.scale;if(d.model.get(["axisLabel","show"])&&!g.isBlank()){var m,y,v=g.getExtent();y=g instanceof sp?g.count():(m=g.getTicks()).length;var _,x=d.getLabelModel(),b=ku(d),w=1;y>40&&(w=Math.ceil(y/40));for(var S=0;S<y;S+=w){var M=b(m?m[S]:{value:v[0]+S},S),T=RL(x.getTextRect(M),x.get("rotate")||0);_?_.union(T):_=T}return _}}(u);if(h){var c=u.isHorizontal()?"height":"width",p=u.model.get(["axisLabel","margin"]);a[c]-=h[c]+p,"top"===u.position?a.y+=h.height+p:"left"===u.position&&(a.x+=h.width+p)}}}),l()),k(this._coordsList,function(u){u.calcAffineTransform()})},n.prototype.getAxis=function(t,e){var i=this._axesMap[t];if(null!=i)return i[e||0]},n.prototype.getAxes=function(){return this._axesList.slice()},n.prototype.getCartesian=function(t,e){if(null!=t&&null!=e)return this._coordsMap["x"+t+"y"+e];pe(t)&&(e=t.yAxisIndex,t=t.xAxisIndex);for(var r=0,o=this._coordsList;r<o.length;r++)if(o[r].getAxis("x").index===t||o[r].getAxis("y").index===e)return o[r]},n.prototype.getCartesians=function(){return this._coordsList.slice()},n.prototype.convertToPixel=function(t,e,i){var r=this._findConvertTarget(e);return r.cartesian?r.cartesian.dataToPoint(i):r.axis?r.axis.toGlobalCoord(r.axis.dataToCoord(i)):null},n.prototype.convertFromPixel=function(t,e,i){var r=this._findConvertTarget(e);return r.cartesian?r.cartesian.pointToData(i):r.axis?r.axis.coordToData(r.axis.toLocalCoord(i)):null},n.prototype._findConvertTarget=function(t){var e,i,r=t.seriesModel,o=t.xAxisModel||r&&r.getReferringComponents("xAxis",Mt).models[0],a=t.yAxisModel||r&&r.getReferringComponents("yAxis",Mt).models[0],s=t.gridModel;return r?Ie(this._coordsList,e=r.coordinateSystem)<0&&(e=null):o&&a?e=this.getCartesian(o.componentIndex,a.componentIndex):o?i=this.getAxis("x",o.componentIndex):a?i=this.getAxis("y",a.componentIndex):s&&s.coordinateSystem===this&&(e=this._coordsList[0]),{cartesian:e,axis:i}},n.prototype.containPoint=function(t){var e=this._coordsList[0];if(e)return e.containPoint(t)},n.prototype._initCartesian=function(t,e,i){var r=this,o=this,a={left:!1,right:!1,top:!1,bottom:!1},s={x:{},y:{}},l={x:0,y:0};if(e.eachComponent("xAxis",u("x"),this),e.eachComponent("yAxis",u("y"),this),!l.x||!l.y)return this._axesMap={},void(this._axesList=[]);function u(h){return function(c,p){if(xm(c,t)){var d=c.get("position");"x"===h?"top"!==d&&"bottom"!==d&&(d=a.bottom?"top":"bottom"):"left"!==d&&"right"!==d&&(d=a.left?"right":"left"),a[d]=!0;var f=new ZP(h,Du(c),[0,0],c.get("type"),d);f.onBand="category"===f.type&&c.get("boundaryGap"),f.inverse=c.get("inverse"),c.axis=f,f.model=c,f.grid=o,f.index=p,o._axesList.push(f),s[h][p]=f,l[h]++}}}this._axesMap=s,k(s.x,function(h,c){k(s.y,function(p,d){var f="x"+c+"y"+d,g=new YP(f);g.master=r,g.model=t,r._coordsMap[f]=g,r._coordsList.push(g),g.addAxis(h),g.addAxis(p)})})},n.prototype._updateScale=function(t,e){function i(r,o){k(cp(r,o.dim),function(a){o.scale.unionExtentFromData(r,a)})}k(this._axesList,function(r){if(r.scale.setExtent(1/0,-1/0),"category"===r.type){var o=r.model.get("categorySortInfo");r.scale.setSortInfo(o)}}),t.eachSeries(function(r){if(wS(r)){var o=SS(r),a=o.xAxisModel,s=o.yAxisModel;if(!xm(a,e)||!xm(s,e))return;var l=this.getCartesian(a.componentIndex,s.componentIndex),u=r.getData(),h=l.getAxis("x"),c=l.getAxis("y");"list"===u.type&&(i(u,h),i(u,c))}},this)},n.prototype.getTooltipAxes=function(t){var e=[],i=[];return k(this.getCartesians(),function(r){var o=null!=t&&"auto"!==t?r.getAxis(t):r.getBaseAxis(),a=r.getOtherAxis(o);Ie(e,o)<0&&e.push(o),Ie(i,a)<0&&i.push(a)}),{baseAxes:e,otherAxes:i}},n.create=function(t,e){var i=[];return t.eachComponent("grid",function(r,o){var a=new n(r,t,e);a.name="grid_"+o,a.resize(r,e,!0),r.coordinateSystem=a,i.push(a)}),t.eachSeries(function(r){if(wS(r)){var o=SS(r),a=o.xAxisModel,s=o.yAxisModel,l=a.getCoordSysModel();r.coordinateSystem=l.coordinateSystem.getCartesian(a.componentIndex,s.componentIndex)}}),i},n.dimensions=vm,n}();function xm(n,t){return n.getCoordSysModel()===t}function MS(n,t,e,i){e.getAxesOnZeroOf=function(){return r?[r]:[]};var r,o=n[t],a=e.model,s=a.get(["axisLine","onZero"]),l=a.get(["axisLine","onZeroAxisIndex"]);if(s){if(null!=l)IS(o[l])&&(r=o[l]);else for(var u in o)if(o.hasOwnProperty(u)&&IS(o[u])&&!i[h(o[u])]){r=o[u];break}r&&(i[h(r)]=!0)}function h(c){return c.dim+"_"+c.index}}function IS(n){return n&&"category"!==n.type&&"time"!==n.type&&function(t){var e=t.scale.getExtent(),i=e[0],r=e[1];return!(i>0&&r>0||i<0&&r<0)}(n)}var oo=Math.PI,gn=function(){function n(t,e){this.group=new me,this.opt=e,this.axisModel=t,ce(e,{labelOffset:0,nameDirection:1,tickDirection:1,labelDirection:1,silent:!0,handleAutoShown:function(){return!0}});var i=new me({x:e.position[0],y:e.position[1],rotation:e.rotation});i.updateTransform(),this._transformGroup=i}return n.prototype.hasBuilder=function(t){return!!TS[t]},n.prototype.add=function(t){TS[t](this.opt,this.axisModel,this.group,this._transformGroup)},n.prototype.getGroup=function(){return this.group},n.innerTextLayout=function(t,e,i){var r,o,a=Rd(e-t);return kl(a)?(o=i>0?"top":"bottom",r="center"):kl(a-oo)?(o=i>0?"bottom":"top",r="center"):(o="middle",r=a>0&&a<oo?i>0?"right":"left":i>0?"left":"right"),{rotation:a,textAlign:r,textVerticalAlign:o}},n.makeAxisEventDataBase=function(t){var e={componentType:t.mainType,componentIndex:t.componentIndex};return e[t.mainType+"Index"]=t.componentIndex,e},n.isLabelSilent=function(t){var e=t.get("tooltip");return t.get("silent")||!(t.get("triggerEvent")||e&&e.show)},n}(),TS={axisLine:function(n,t,e,i){var r=t.get(["axisLine","show"]);if("auto"===r&&n.handleAutoShown&&(r=n.handleAutoShown("axisLine")),r){var o=t.axis.getExtent(),a=i.transform,s=[o[0],0],l=[o[1],0];a&&(wt(s,s,a),wt(l,l,a));var u=K({lineCap:"round"},t.getModel(["axisLine","lineStyle"]).getLineStyle()),h=new Et({subPixelOptimize:!0,shape:{x1:s[0],y1:s[1],x2:l[0],y2:l[1]},style:u,strokeContainThreshold:n.strokeContainThreshold||5,silent:!0,z2:1});h.anid="line",e.add(h);var c=t.get(["axisLine","symbol"]);if(null!=c){var p=t.get(["axisLine","symbolSize"]);"string"==typeof c&&(c=[c,c]),"string"!=typeof p&&"number"!=typeof p||(p=[p,p]);var d=Ms(t.get(["axisLine","symbolOffset"])||0,p),f=p[0],g=p[1];k([{rotate:n.rotation+Math.PI/2,offset:d[0],r:0},{rotate:n.rotation-Math.PI/2,offset:d[1],r:Math.sqrt((s[0]-l[0])*(s[0]-l[0])+(s[1]-l[1])*(s[1]-l[1]))}],function(m,y){if("none"!==c[y]&&null!=c[y]){var v=xt(c[y],-f/2,-g/2,f,g,u.stroke,!0),_=m.r+m.offset;v.attr({rotation:m.rotate,x:s[0]+_*Math.cos(n.rotation),y:s[1]-_*Math.sin(n.rotation),silent:!0,z2:11}),e.add(v)}})}}},axisTickLabel:function(n,t,e,i){var r=function(a,s,l,u){var h=l.axis,c=l.getModel("axisTick"),p=c.get("show");if("auto"===p&&u.handleAutoShown&&(p=u.handleAutoShown("axisTick")),p&&!h.scale.isBlank()){for(var d=c.getModel("lineStyle"),f=u.tickDirection*c.get("length"),g=DS(h.getTicksCoords(),s.transform,f,ce(d.getLineStyle(),{stroke:l.get(["axisLine","lineStyle","color"])}),"ticks"),m=0;m<g.length;m++)a.add(g[m]);return g}}(e,i,t,n),o=function(a,s,l,u){var h=l.axis;if(st(u.axisLabelShow,l.get(["axisLabel","show"]))&&!h.scale.isBlank()){var c=l.getModel("axisLabel"),p=c.get("margin"),d=h.getViewLabels(),f=(st(u.labelRotate,c.get("rotate"))||0)*oo/180,g=gn.innerTextLayout(u.rotation,f,u.labelDirection),m=l.getCategories&&l.getCategories(!0),y=[],v=gn.isLabelSilent(l),_=l.get("triggerEvent");return k(d,function(x,b){var w="ordinal"===h.scale.type?h.scale.getRawOrdinalNumber(x.tickValue):x.tickValue,S=x.formattedLabel,M=x.rawLabel,T=c;if(m&&m[w]){var C=m[w];pe(C)&&C.textStyle&&(T=new Fe(C.textStyle,c,l.ecModel))}var A=T.getTextColor()||l.get(["axisLine","lineStyle","color"]),D=h.dataToCoord(w),L=new Re({x:D,y:u.labelOffset+u.labelDirection*p,rotation:g.rotation,silent:v,z2:10+(x.level||0),style:yt(T,{text:S,align:T.getShallow("align",!0)||g.textAlign,verticalAlign:T.getShallow("verticalAlign",!0)||T.getShallow("baseline",!0)||g.textVerticalAlign,fill:"function"==typeof A?A("category"===h.type?M:"value"===h.type?w+"":w,b):A})});if(L.anid="label_"+w,_){var P=gn.makeAxisEventDataBase(l);P.targetType="axisLabel",P.value=M,_e(L).eventData=P}s.add(L),L.updateTransform(),y.push(L),a.add(L),L.decomposeTransform()}),y}}(e,i,t,n);(function(a,s,l){if(!nw(a.axis)){var u=a.get(["axisLabel","showMinLabel"]),h=a.get(["axisLabel","showMaxLabel"]),c=(s=s||[])[0],p=s[1],d=s[s.length-1],f=s[s.length-2],g=(l=l||[])[0],m=l[1],y=l[l.length-1],v=l[l.length-2];!1===u?(Jn(c),Jn(g)):CS(c,p)&&(u?(Jn(p),Jn(m)):(Jn(c),Jn(g))),!1===h?(Jn(d),Jn(y)):CS(f,d)&&(h?(Jn(f),Jn(v)):(Jn(d),Jn(y)))}})(t,o,r),function(a,s,l,u){var h=l.axis,c=l.getModel("minorTick");if(c.get("show")&&!h.scale.isBlank()){var p=h.getMinorTicksCoords();if(p.length)for(var d=c.getModel("lineStyle"),f=u*c.get("length"),g=ce(d.getLineStyle(),ce(l.getModel("axisTick").getLineStyle(),{stroke:l.get(["axisLine","lineStyle","color"])})),m=0;m<p.length;m++)for(var y=DS(p[m],s.transform,f,g,"minorticks_"+m),v=0;v<y.length;v++)a.add(y[v])}}(e,i,t,n.tickDirection),t.get(["axisLabel","hideOverlap"])&&vw(gw(J(o,function(a){return{label:a,priority:a.z2,defaultAttr:{ignore:a.ignore}}})))},axisName:function(n,t,e,i){var w,M,T,C,A,D,L,r=st(n.axisName,t.get("name"));if(r){var o,a,s=t.get("nameLocation"),l=n.nameDirection,u=t.getModel("nameTextStyle"),h=t.get("nameGap")||0,c=t.axis.getExtent(),p=c[0]>c[1]?-1:1,d=["start"===s?c[0]-p*h:"end"===s?c[1]+p*h:(c[0]+c[1])/2,AS(s)?n.labelOffset+l*h:0],f=t.get("nameRotate");null!=f&&(f=f*oo/180),AS(s)?o=gn.innerTextLayout(n.rotation,null!=f?f:n.rotation,l):(w=s,M=c,A=Rd((f||0)-n.rotation),D=M[0]>M[1],L="start"===w&&!D||"start"!==w&&D,kl(A-oo/2)?(C=L?"bottom":"top",T="center"):kl(A-1.5*oo)?(C=L?"top":"bottom",T="center"):(C="middle",T=A<1.5*oo&&A>oo/2?L?"left":"right":L?"right":"left"),o={rotation:A,textAlign:T,textVerticalAlign:C},null!=(a=n.axisNameAvailableWidth)&&(a=Math.abs(a/Math.sin(o.rotation)),!isFinite(a)&&(a=null)));var g=u.getFont(),m=t.get("nameTruncate",!0)||{},y=m.ellipsis,v=st(n.nameTruncateMaxWidth,m.maxWidth,a),_=new Re({x:d[0],y:d[1],rotation:o.rotation,silent:gn.isLabelSilent(t),style:yt(u,{text:r,font:g,overflow:"truncate",width:v,ellipsis:y,fill:u.getTextColor()||t.get(["axisLine","lineStyle","color"]),align:u.get("align")||o.textAlign,verticalAlign:u.get("verticalAlign")||o.textVerticalAlign}),z2:1});if(ss({el:_,componentModel:t,itemName:r}),_.__fullText=r,_.anid="name",t.get("triggerEvent")){var x=gn.makeAxisEventDataBase(t);x.targetType="axisName",x.name=r,_e(_).eventData=x}i.add(_),_.updateTransform(),e.add(_),_.decomposeTransform()}}};function Jn(n){n&&(n.ignore=!0)}function CS(n,t){var e=n&&n.getBoundingRect().clone(),i=t&&t.getBoundingRect().clone();if(e&&i){var r=Sl([]);return Or(r,r,-n.rotation),e.applyTransform(ki([],r,n.getLocalTransform())),i.applyTransform(ki([],r,t.getLocalTransform())),e.intersect(i)}}function AS(n){return"middle"===n||"center"===n}function DS(n,t,e,i,r){for(var o=[],a=[],s=[],l=0;l<n.length;l++){var u=n[l].coord;a[0]=u,a[1]=0,s[0]=u,s[1]=e,t&&(wt(a,a,t),wt(s,s,t));var h=new Et({subPixelOptimize:!0,shape:{x1:a[0],y1:a[1],x2:s[0],y2:s[1]},style:i,z2:2,autoBatch:!0,silent:!0});h.anid=r+"_"+n[l].tickValue,o.push(h)}return o}function bm(n,t){return"all"===n||Z(n)&&Ie(n,t)>=0||n===t}function KP(n){var t=wm(n);if(t){var e=t.axisPointerModel,i=t.axis.scale,r=e.option,o=e.get("status"),a=e.get("value");null!=a&&(a=i.parse(a));var s=Sm(e);null==o&&(r.status=s?"show":"hide");var l=i.getExtent().slice();l[0]>l[1]&&l.reverse(),(null==a||a>l[1])&&(a=l[1]),a<l[0]&&(a=l[0]),r.value=a,s&&(r.status=t.axis.scale.isBlank()?"hide":"show")}}function wm(n){var t=(n.ecModel.getComponent("axisPointer")||{}).coordSysAxesInfo;return t&&t.axesInfo[Uu(n)]}function Sm(n){return!!n.get(["handle","show"])}function Uu(n){return n.type+"||"+n.id}var kS={},ca=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return G(t,n),t.prototype.render=function(e,i,r,o){this.axisPointerClass&&KP(e),n.prototype.render.apply(this,arguments),this._doUpdateAxisPointerClass(e,r,!0)},t.prototype.updateAxisPointer=function(e,i,r,o){this._doUpdateAxisPointerClass(e,r,!1)},t.prototype.remove=function(e,i){var r=this._axisPointer;r&&r.remove(i)},t.prototype.dispose=function(e,i){this._disposeAxisPointer(i),n.prototype.dispose.apply(this,arguments)},t.prototype._doUpdateAxisPointerClass=function(e,i,r){var l,o=t.getAxisPointerClass(this.axisPointerClass);if(o){var a=(l=wm(e))&&l.axisPointerModel;a?(this._axisPointer||(this._axisPointer=new o)).render(e,a,i,r):this._disposeAxisPointer(i)}},t.prototype._disposeAxisPointer=function(e){this._axisPointer&&this._axisPointer.dispose(e),this._axisPointer=null},t.registerAxisPointerClass=function(e,i){kS[e]=i},t.getAxisPointerClass=function(e){return e&&kS[e]},t.type="axis",t}(it),Mm=We();function LS(n,t,e,i){var r=e.axis;if(!r.scale.isBlank()){var o=e.getModel("splitArea"),a=o.getModel("areaStyle"),s=a.get("color"),l=i.coordinateSystem.getRect(),u=r.getTicksCoords({tickModel:o,clamp:!0});if(u.length){var h=s.length,c=Mm(n).splitAreaColors,p=ue(),d=0;if(c)for(var f=0;f<u.length;f++){var g=c.get(u[f].tickValue);if(null!=g){d=(g+(h-1)*f)%h;break}}var m=r.toGlobalCoord(u[0].coord),y=a.getAreaStyle();for(s=Z(s)?s:[s],f=1;f<u.length;f++){var v=r.toGlobalCoord(u[f].coord),_=void 0,x=void 0,b=void 0,w=void 0;r.isHorizontal()?(x=l.y,w=l.height,m=(_=m)+(b=v-_)):(_=l.x,b=l.width,m=(x=m)+(w=v-x));var S=u[f-1].tickValue;null!=S&&p.set(S,d),t.add(new Ee({anid:null!=S?"area_"+S:null,shape:{x:_,y:x,width:b,height:w},style:ce({fill:s[d]},y),autoBatch:!0,silent:!0})),d=(d+1)%h}Mm(n).splitAreaColors=p}}}function PS(n){Mm(n).splitAreaColors=null}var $P=["axisLine","axisTickLabel","axisName"],QP=["splitArea","splitLine","minorSplitLine"],OS=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e.axisPointerClass="CartesianAxisPointer",e}return G(t,n),t.prototype.render=function(e,i,r,o){this.group.removeAll();var a=this._axisGroup;if(this._axisGroup=new me,this.group.add(this._axisGroup),e.get("show")){var s=e.getCoordSysModel(),l=_m(s,e),u=new gn(e,K({handleAutoShown:function(h){for(var c=s.coordinateSystem.getCartesians(),p=0;p<c.length;p++){var d=c[p].getOtherAxis(e.axis).type;if("value"===d||"log"===d)return!0}return!1}},l));k($P,u.add,u),this._axisGroup.add(u.getGroup()),k(QP,function(h){e.get([h,"show"])&&JP[h](this,this._axisGroup,e,s)},this),o&&"changeAxisOrder"===o.type&&o.isInitSort||$l(a,this._axisGroup,e),n.prototype.render.call(this,e,i,r,o)}},t.prototype.remove=function(){PS(this)},t.type="cartesianAxis",t}(ca),JP={splitLine:function(n,t,e,i){var r=e.axis;if(!r.scale.isBlank()){var o=e.getModel("splitLine"),a=o.getModel("lineStyle"),s=a.get("color");s=Z(s)?s:[s];for(var l=i.coordinateSystem.getRect(),u=r.isHorizontal(),h=0,c=r.getTicksCoords({tickModel:o}),p=[],d=[],f=a.getLineStyle(),g=0;g<c.length;g++){var m=r.toGlobalCoord(c[g].coord);u?(p[0]=m,p[1]=l.y,d[0]=m,d[1]=l.y+l.height):(p[0]=l.x,p[1]=m,d[0]=l.x+l.width,d[1]=m);var y=h++%s.length;t.add(new Et({anid:null!=c[g].tickValue?"line_"+c[g].tickValue:null,subPixelOptimize:!0,autoBatch:!0,shape:{x1:p[0],y1:p[1],x2:d[0],y2:d[1]},style:ce({stroke:s[y]},f),silent:!0}))}}},minorSplitLine:function(n,t,e,i){var r=e.axis,o=e.getModel("minorSplitLine").getModel("lineStyle"),a=i.coordinateSystem.getRect(),s=r.isHorizontal(),l=r.getMinorTicksCoords();if(l.length)for(var u=[],h=[],c=o.getLineStyle(),p=0;p<l.length;p++)for(var d=0;d<l[p].length;d++){var f=r.toGlobalCoord(l[p][d].coord);s?(u[0]=f,u[1]=a.y,h[0]=f,h[1]=a.y+a.height):(u[0]=a.x,u[1]=f,h[0]=a.x+a.width,h[1]=f),t.add(new Et({anid:"minor_line_"+l[p][d].tickValue,subPixelOptimize:!0,autoBatch:!0,shape:{x1:u[0],y1:u[1],x2:h[0],y2:h[1]},style:c,silent:!0}))}},splitArea:function(n,t,e,i){LS(n,t,e,i)}},ES=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return G(t,n),t.type="xAxis",t}(OS),eO=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=ES.type,e}return G(t,n),t.type="yAxis",t}(OS),tO=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type="grid",e}return G(t,n),t.prototype.render=function(e,i){this.group.removeAll(),e.get("show")&&this.group.add(new Ee({shape:e.coordinateSystem.getRect(),style:ce({fill:e.get("backgroundColor")},e.getItemStyle()),silent:!0,z2:-1}))},t.type="grid",t}(it),NS={offset:0};function RS(n){n.registerComponentView(tO),n.registerComponentModel(HP),n.registerCoordinateSystem("cartesian2d",jP),Ns(n,"x",mm,NS),Ns(n,"y",mm,NS),n.registerComponentView(ES),n.registerComponentView(eO),n.registerPreprocessor(function(t){t.xAxis&&t.yAxis&&!t.grid&&(t.grid={})})}function nO(n){n.eachSeriesByType("radar",function(t){var e=t.getData(),i=[],r=t.coordinateSystem;if(r){var o=r.getIndicatorAxes();k(o,function(a,s){e.each(e.mapDimension(o[s].dim),function(l,u){i[u]=i[u]||[];var h=r.dataToPoint(l,s);i[u][s]=zS(h)?h:BS(r)})}),e.each(function(a){var s=el(i[a],function(l){return zS(l)})||BS(r);i[a].push(s.slice()),e.setItemLayout(a,i[a])})}})}function zS(n){return!isNaN(n[0])&&!isNaN(n[1])}function BS(n){return[n.cx,n.cy]}function iO(n){var t=n.polar;if(t){Z(t)||(t=[t]);var e=[];k(t,function(i,r){i.indicator?(i.type&&!i.shape&&(i.shape=i.type),n.radar=n.radar||[],Z(n.radar)||(n.radar=[n.radar]),n.radar.push(i)):e.push(i)}),n.polar=e}k(n.series,function(i){i&&"radar"===i.type&&i.polarIndex&&(i.radarIndex=i.polarIndex)})}var rO=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return G(t,n),t.prototype.render=function(e,i,r){var o=e.coordinateSystem,a=this.group,s=e.getData(),l=this._data;function u(p,d){var f=p.getItemVisual(d,"symbol")||"circle";if("none"!==f){var g=mu(p.getItemVisual(d,"symbolSize")),m=xt(f,-1,-1,2,2),y=p.getItemVisual(d,"symbolRotate")||0;return m.attr({style:{strokeNoScale:!0},z2:100,scaleX:g[0]/2,scaleY:g[1]/2,rotation:y*Math.PI/180||0}),m}}function h(p,d,f,g,m,y){f.removeAll();for(var v=0;v<d.length-1;v++){var _=u(g,m);_&&(_.__dimIdx=v,p[v]?(_.setPosition(p[v]),Jl[y?"initProps":"updateProps"](_,{x:d[v][0],y:d[v][1]},e,m)):_.setPosition(d[v]),f.add(_))}}function c(p){return J(p,function(d){return[o.cx,o.cy]})}s.diff(l).add(function(p){var d=s.getItemLayout(p);if(d){var f=new Zt,g=new pn,m={shape:{points:d}};f.shape.points=c(d),g.shape.points=c(d),lt(f,m,e,p),lt(g,m,e,p);var y=new me,v=new me;y.add(g),y.add(f),y.add(v),h(g.shape.points,d,v,s,p,!0),s.setItemGraphicEl(p,y)}}).update(function(p,d){var f=l.getItemGraphicEl(d),g=f.childAt(0),m=f.childAt(1),y=f.childAt(2),v={shape:{points:s.getItemLayout(p)}};v.shape.points&&(h(g.shape.points,v.shape.points,y,s,p,!1),di(m),di(g),ze(g,v,e),ze(m,v,e),s.setItemGraphicEl(p,f))}).remove(function(p){a.remove(l.getItemGraphicEl(p))}).execute(),s.eachItemGraphicEl(function(p,d){var f=s.getItemModel(d),g=p.childAt(0),m=p.childAt(1),y=p.childAt(2),v=s.getItemVisual(d,"style"),_=v.fill;a.add(p),g.useStyle(ce(f.getModel("lineStyle").getLineStyle(),{fill:"none",stroke:_})),Yt(g,f,"lineStyle"),Yt(m,f,"areaStyle");var x=f.getModel("areaStyle"),b=x.isEmpty()&&x.parentModel.isEmpty();m.ignore=b,k(["emphasis","select","blur"],function(M){var T=f.getModel([M,"areaStyle"]),C=T.isEmpty()&&T.parentModel.isEmpty();m.ensureState(M).ignore=C&&b}),m.useStyle(ce(x.getAreaStyle(),{fill:_,opacity:.7,decal:v.decal}));var w=f.getModel("emphasis"),S=w.getModel("itemStyle").getItemStyle();y.eachChild(function(M){if(M instanceof It){var T=M.style;M.useStyle(K({image:T.image,x:T.x,y:T.y,width:T.width,height:T.height},v))}else M.useStyle(v),M.setColor(_),M.style.strokeNoScale=!0;M.ensureState("emphasis").style=de(S);var C=s.getStore().get(s.getDimensionIndex(M.__dimIdx),d);(null==C||isNaN(C))&&(C=""),Jt(M,Ut(f),{labelFetcher:s.hostModel,labelDataIndex:d,labelDimIndex:M.__dimIdx,defaultText:C,inheritColor:_,defaultOpacity:v.opacity})}),nt(p,w.get("focus"),w.get("blurScope"))}),this._data=s},t.prototype.remove=function(){this.group.removeAll(),this._data=null},t.type="radar",t}(je),oO=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e.hasSymbolVisual=!0,e}return G(t,n),t.prototype.init=function(e){n.prototype.init.apply(this,arguments),this.legendVisualProvider=new Wu(re(this.getData,this),re(this.getRawData,this))},t.prototype.getInitialData=function(e,i){return Es(this,{generateCoord:"indicator_",generateCoordCount:1/0})},t.prototype.formatTooltip=function(e,i,r){var o=this.getData(),a=this.coordinateSystem.getIndicatorAxes(),s=this.getData().getName(e),l=""===s?this.name:s,u=lx(this,e);return Bt("section",{header:l,sortBlocks:!0,blocks:J(a,function(h){var c=o.get(o.mapDimension(h.dim),e);return Bt("nameValue",{markerType:"subItem",markerColor:u,name:h.name,value:c,sortParam:c})})})},t.prototype.getTooltipPosition=function(e){if(null!=e)for(var i=this.getData(),r=this.coordinateSystem,o=i.getValues(J(r.dimensions,function(u){return i.mapDimension(u)}),e),a=0,s=o.length;a<s;a++)if(!isNaN(o[a])){var l=r.getIndicatorAxes();return r.coordToPoint(l[a].dataToCoord(o[a]),a)}},t.type="series.radar",t.dependencies=["radar"],t.defaultOption={zlevel:0,z:2,colorBy:"data",coordinateSystem:"radar",legendHoverLink:!0,radarIndex:0,lineStyle:{width:2,type:"solid",join:"round"},label:{position:"top"},symbolSize:8},t}(et),Xu=_S.value;function Lp(n,t){return ce({show:t},n)}var aO=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return G(t,n),t.prototype.optionUpdated=function(){var e=this.get("boundaryGap"),i=this.get("splitNumber"),r=this.get("scale"),o=this.get("axisLine"),a=this.get("axisTick"),s=this.get("axisLabel"),l=this.get("axisName"),u=this.get(["axisName","show"]),h=this.get(["axisName","formatter"]),c=this.get("axisNameGap"),p=this.get("triggerEvent"),d=J(this.get("indicator")||[],function(f){null!=f.max&&f.max>0&&!f.min?f.min=0:null!=f.min&&f.min<0&&!f.max&&(f.max=0);var g=l;null!=f.color&&(g=ce({color:f.color},l));var m=we(de(f),{boundaryGap:e,splitNumber:i,scale:r,axisLine:o,axisTick:a,axisLabel:s,name:f.text,nameLocation:"end",nameGap:c,nameTextStyle:g,triggerEvent:p},!1);if(u||(m.name=""),"string"==typeof h){var y=m.name;m.name=h.replace("{value}",null!=y?y:"")}else"function"==typeof h&&(m.name=h(m.name,m));var v=new Fe(m,null,this.ecModel);return ht(v,ks.prototype),v.mainType="radar",v.componentIndex=this.componentIndex,v},this);this._indicatorModels=d},t.prototype.getIndicatorModels=function(){return this._indicatorModels},t.type="radar",t.defaultOption={zlevel:0,z:0,center:["50%","50%"],radius:"75%",startAngle:90,axisName:{show:!0},boundaryGap:[0,0],splitNumber:5,axisNameGap:15,scale:!1,shape:"polygon",axisLine:we({lineStyle:{color:"#bbb"}},Xu.axisLine),axisLabel:Lp(Xu.axisLabel,!1),axisTick:Lp(Xu.axisTick,!1),splitLine:Lp(Xu.splitLine,!0),splitArea:Lp(Xu.splitArea,!0),indicator:[]},t}(Pe),sO=["axisLine","axisTickLabel","axisName"],lO=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return G(t,n),t.prototype.render=function(e,i,r){this.group.removeAll(),this._buildAxes(e),this._buildSplitLineAndArea(e)},t.prototype._buildAxes=function(e){var i=e.coordinateSystem;k(J(i.getIndicatorAxes(),function(r){return new gn(r.model,{position:[i.cx,i.cy],rotation:r.angle,labelDirection:-1,tickDirection:-1,nameDirection:1})}),function(r){k(sO,r.add,r),this.group.add(r.getGroup())},this)},t.prototype._buildSplitLineAndArea=function(e){var i=e.coordinateSystem,r=i.getIndicatorAxes();if(r.length){var o=e.get("shape"),a=e.getModel("splitLine"),s=e.getModel("splitArea"),l=a.getModel("lineStyle"),u=s.getModel("areaStyle"),h=a.get("show"),c=s.get("show"),p=l.get("color"),d=u.get("color"),f=Z(p)?p:[p],g=Z(d)?d:[d],m=[],y=[];if("circle"===o)for(var v=r[0].getTicksCoords(),_=i.cx,x=i.cy,b=0;b<v.length;b++)h&&m[L(m,f,b)].push(new Yn({shape:{cx:_,cy:x,r:v[b].coord}})),c&&b<v.length-1&&y[L(y,g,b)].push(new ns({shape:{cx:_,cy:x,r0:v[b].coord,r:v[b+1].coord}}));else{var w,S=J(r,function(P,E){var N=P.getTicksCoords();return w=null==w?N.length-1:Math.min(N.length-1,w),J(N,function(R){return i.coordToPoint(R.coord,E)})}),M=[];for(b=0;b<=w;b++){for(var T=[],C=0;C<r.length;C++)T.push(S[C][b]);T[0]&&T.push(T[0].slice()),h&&m[L(m,f,b)].push(new pn({shape:{points:T}})),c&&M&&y[L(y,g,b-1)].push(new Zt({shape:{points:T.concat(M)}})),M=T.slice().reverse()}}var A=l.getLineStyle(),D=u.getAreaStyle();k(y,function(P,E){this.group.add(Nn(P,{style:ce({stroke:"none",fill:g[E%g.length]},D),silent:!0}))},this),k(m,function(P,E){this.group.add(Nn(P,{style:ce({fill:"none",stroke:f[E%f.length]},A),silent:!0}))},this)}function L(P,E,N){var R=N%E.length;return P[R]=P[R]||[],R}},t.type="radar",t}(it),uO=function(n){function t(e,i,r){var o=n.call(this,e,i,r)||this;return o.type="value",o.angle=0,o.name="",o}return G(t,n),t}(Qn),hO=function(){function n(t,e,i){this.dimensions=[],this._model=t,this._indicatorAxes=J(t.getIndicatorModels(),function(r,o){var a="indicator_"+o,s=new uO(a,new la);return s.name=r.get("name"),s.model=r,r.axis=s,this.dimensions.push(a),s},this),this.resize(t,i)}return n.prototype.getIndicatorAxes=function(){return this._indicatorAxes},n.prototype.dataToPoint=function(t,e){return this.coordToPoint(this._indicatorAxes[e].dataToCoord(t),e)},n.prototype.coordToPoint=function(t,e){var i=this._indicatorAxes[e].angle;return[this.cx+t*Math.cos(i),this.cy-t*Math.sin(i)]},n.prototype.pointToData=function(t){var e=t[0]-this.cx,i=t[1]-this.cy,r=Math.sqrt(e*e+i*i);e/=r,i/=r;for(var o,a=Math.atan2(-i,e),s=1/0,l=-1,u=0;u<this._indicatorAxes.length;u++){var h=this._indicatorAxes[u],c=Math.abs(a-h.angle);c<s&&(o=h,l=u,s=c)}return[l,+(o&&o.coordToData(r))]},n.prototype.resize=function(t,e){var i=t.get("center"),r=e.getWidth(),o=e.getHeight(),a=Math.min(r,o)/2;this.cx=ie(i[0],r),this.cy=ie(i[1],o),this.startAngle=t.get("startAngle")*Math.PI/180;var s=t.get("radius");"string"!=typeof s&&"number"!=typeof s||(s=[0,s]),this.r0=ie(s[0],a),this.r=ie(s[1],a),k(this._indicatorAxes,function(l,u){l.setExtent(this.r0,this.r);var h=this.startAngle+u*Math.PI*2/this._indicatorAxes.length;h=Math.atan2(Math.sin(h),Math.cos(h)),l.angle=h},this)},n.prototype.update=function(t,e){var i=this._indicatorAxes,r=this._model;k(i,function(s){s.scale.setExtent(1/0,-1/0)}),t.eachSeriesByType("radar",function(s,l){if("radar"===s.get("coordinateSystem")&&t.getComponent("radar",s.get("radarIndex"))===r){var u=s.getData();k(i,function(h){h.scale.unionExtentFromData(u,u.mapDimension(h.dim))})}},this);var o=r.get("splitNumber");function a(s){var l=Math.pow(10,Math.floor(Math.log(s)/Math.LN10)),u=s/l;return 2===u?u=5:u*=2,u*l}k(i,function(s,l){var u=tw(s.scale,s.model).extent;eo(s.scale,s.model);var h=s.model,c=s.scale,p=Ds(c,h.get("min",!0)),d=Ds(c,h.get("max",!0)),f=c.getInterval();if(null!=p&&null!=d)c.setExtent(+p,+d),c.setInterval((d-p)/o);else if(null!=p){var g=void 0;do{c.setExtent(+p,g=p+f*o),c.setInterval(f),f=a(f)}while(g<u[1]&&isFinite(g)&&isFinite(u[1]))}else if(null!=d){var m=void 0;do{c.setExtent(m=d-f*o,+d),c.setInterval(f),f=a(f)}while(m>u[0]&&isFinite(m)&&isFinite(u[0]))}else c.getTicks().length-1>o&&(f=a(f)),m=Pt((g=Math.ceil(u[1]/f)*f)-f*o),c.setExtent(m,g),c.setInterval(f)})},n.prototype.convertToPixel=function(t,e,i){return console.warn("Not implemented."),null},n.prototype.convertFromPixel=function(t,e,i){return console.warn("Not implemented."),null},n.prototype.containPoint=function(t){return console.warn("Not implemented."),!1},n.create=function(t,e){var i=[];return t.eachComponent("radar",function(r){var o=new n(r,t,e);i.push(o),r.coordinateSystem=o}),t.eachSeriesByType("radar",function(r){"radar"===r.get("coordinateSystem")&&(r.coordinateSystem=i[r.get("radarIndex")||0])}),i},n.dimensions=[],n}();function cO(n){n.registerCoordinateSystem("radar",hO),n.registerComponentModel(aO),n.registerComponentView(lO),n.registerVisual({seriesType:"radar",reset:function(t){var e=t.getData();e.each(function(i){e.setItemVisual(i,"legendIcon","roundRect")}),e.setVisual("legendIcon","roundRect")}})}var VS="\0_ec_interaction_mutex";function GS(n,t){return!!Im(n)[t]}function Im(n){return n[VS]||(n[VS]={})}vi({type:"takeGlobalCursor",event:"globalCursorTaken",update:"update"},function(){});var Yu=function(n){function t(e){var i=n.call(this)||this;i._zr=e;var r=re(i._mousedownHandler,i),o=re(i._mousemoveHandler,i),a=re(i._mouseupHandler,i),s=re(i._mousewheelHandler,i),l=re(i._pinchHandler,i);return i.enable=function(u,h){this.disable(),this._opt=ce(de(h)||{},{zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!1,preventDefaultMouseMove:!0}),null==u&&(u=!0),!0!==u&&"move"!==u&&"pan"!==u||(e.on("mousedown",r),e.on("mousemove",o),e.on("mouseup",a)),!0!==u&&"scale"!==u&&"zoom"!==u||(e.on("mousewheel",s),e.on("pinch",l))},i.disable=function(){e.off("mousedown",r),e.off("mousemove",o),e.off("mouseup",a),e.off("mousewheel",s),e.off("pinch",l)},i}return G(t,n),t.prototype.isDragging=function(){return this._dragging},t.prototype.isPinching=function(){return this._pinching},t.prototype.setPointerChecker=function(e){this.pointerChecker=e},t.prototype.dispose=function(){this.disable()},t.prototype._mousedownHandler=function(e){if(!(ul(e)||e.target&&e.target.draggable)){var i=e.offsetX,r=e.offsetY;this.pointerChecker&&this.pointerChecker(e,i,r)&&(this._x=i,this._y=r,this._dragging=!0)}},t.prototype._mousemoveHandler=function(e){if(this._dragging&&Pp("moveOnMouseMove",e,this._opt)&&"pinch"!==e.gestureEvent&&!GS(this._zr,"globalPan")){var i=e.offsetX,r=e.offsetY,o=this._x,a=this._y,s=i-o,l=r-a;this._x=i,this._y=r,this._opt.preventDefaultMouseMove&&Gn(e.event),FS(this,"pan","moveOnMouseMove",e,{dx:s,dy:l,oldX:o,oldY:a,newX:i,newY:r,isAvailableBehavior:null})}},t.prototype._mouseupHandler=function(e){ul(e)||(this._dragging=!1)},t.prototype._mousewheelHandler=function(e){var i=Pp("zoomOnMouseWheel",e,this._opt),r=Pp("moveOnMouseWheel",e,this._opt),o=e.wheelDelta,a=Math.abs(o),s=e.offsetX,l=e.offsetY;if(0!==o&&(i||r)){if(i){var u=a>3?1.4:a>1?1.2:1.1;Tm(this,"zoom","zoomOnMouseWheel",e,{scale:o>0?u:1/u,originX:s,originY:l,isAvailableBehavior:null})}if(r){var h=Math.abs(o);Tm(this,"scrollMove","moveOnMouseWheel",e,{scrollDelta:(o>0?1:-1)*(h>3?.4:h>1?.15:.05),originX:s,originY:l,isAvailableBehavior:null})}}},t.prototype._pinchHandler=function(e){GS(this._zr,"globalPan")||Tm(this,"zoom",null,e,{scale:e.pinchScale>1?1.1:1/1.1,originX:e.pinchX,originY:e.pinchY,isAvailableBehavior:null})},t}(_n);function Tm(n,t,e,i,r){n.pointerChecker&&n.pointerChecker(i,r.originX,r.originY)&&(Gn(i.event),FS(n,t,e,i,r))}function FS(n,t,e,i,r){r.isAvailableBehavior=re(Pp,null,e,i),n.trigger(t,r)}function Pp(n,t,e){var i=e[n];return!n||i&&(!Ce(i)||t.event[i+"Key"])}function Cm(n,t,e){var i=n.target;i.x+=t,i.y+=e,i.dirty()}function Am(n,t,e,i){var r=n.target,o=n.zoomLimit,a=n.zoom=n.zoom||1;if(a*=t,o){var s=o.min||0;a=Math.max(Math.min(o.max||1/0,a),s)}var u=a/n.zoom;n.zoom=a,r.x-=(e-r.x)*(u-1),r.y-=(i-r.y)*(u-1),r.scaleX*=u,r.scaleY*=u,r.dirty()}var pO={axisPointer:1,tooltip:1,brush:1};function Op(n,t,e){var i=t.getComponentByElement(n.topTarget),r=i&&i.coordinateSystem;return i&&i!==e&&!pO.hasOwnProperty(i.mainType)&&r&&r.model!==e}var Dm=["rect","circle","line","ellipse","polygon","polyline","path"],dO=ue(Dm),fO=ue(Dm.concat(["g"])),gO=ue(Dm.concat(["g"])),HS=We();function Ep(n){var t=n.getItemStyle(),e=n.get("areaColor");return null!=e&&(t.fill=e),t}var WS=function(){function n(t){var e=new me;this.uid=us("ec_map_draw"),this._controller=new Yu(t.getZr()),this._controllerHost={target:e},this.group=e,e.add(this._regionsGroup=new me),e.add(this._svgGroup=new me)}return n.prototype.draw=function(t,e,i,r,o){var a="geo"===t.mainType,s=t.getData&&t.getData();a&&e.eachComponent({mainType:"series",subType:"map"},function(m){s||m.getHostGeoModel()!==t||(s=m.getData())});var l=t.coordinateSystem,u=this._regionsGroup,h=this.group,c=l.getTransformInfo(),p=c.raw,d=c.roam;!u.childAt(0)||o?(h.x=d.x,h.y=d.y,h.scaleX=d.scaleX,h.scaleY=d.scaleY,h.dirty()):ze(h,d,t);var f=s&&s.getVisual("visualMeta")&&s.getVisual("visualMeta").length>0,g={api:i,geo:l,mapOrGeoModel:t,data:s,isVisualEncodedByVisualMap:f,isGeo:a,transformInfoRaw:p};"geoJSON"===l.resourceType?this._buildGeoJSON(g):"geoSVG"===l.resourceType&&this._buildSVG(g),this._updateController(t,e,i),this._updateMapSelectHandler(t,u,i,r)},n.prototype._buildGeoJSON=function(t){var e=this._regionsGroupByName=ue(),i=ue(),r=this._regionsGroup,o=t.transformInfoRaw,a=t.mapOrGeoModel,s=t.data,l=function(u){return[u[0]*o.scaleX+o.x,u[1]*o.scaleY+o.y]};r.removeAll(),k(t.geo.regions,function(u){var h=u.name,c=e.get(h),p=i.get(h)||{},d=p.dataIdx,f=p.regionModel;c||(c=e.set(h,new me),r.add(c),d=s?s.indexOfName(h):null,f=t.isGeo?a.getRegionModel(h):s?s.getItemModel(d):null,i.set(h,{dataIdx:d,regionModel:f}));var g=new bf({segmentIgnoreThreshold:1,shape:{paths:[]}});c.add(g),k(u.geometries,function(y){if("polygon"===y.type){for(var v=[],_=0;_<y.exterior.length;++_)v.push(l(y.exterior[_]));for(g.shape.paths.push(new Zt({segmentIgnoreThreshold:1,shape:{points:v}})),_=0;_<(y.interiors?y.interiors.length:0);++_){for(var x=y.interiors[_],b=[],w=0;w<x.length;++w)b.push(l(x[w]));g.shape.paths.push(new Zt({segmentIgnoreThreshold:1,shape:{points:b}}))}}}),US(t,g,d,f),g instanceof ci&&(g.culling=!0);var m=l(u.getCenter());XS(t,g,h,f,a,d,m)}),e.each(function(u,h){var c=i.get(h),d=c.regionModel;YS(t,u,h,d,a,c.dataIdx),ZS(t,u,h,d,a),jS(t,u,h,d,a)},this)},n.prototype._buildSVG=function(t){var e=t.geo.map,i=t.transformInfoRaw;this._svgGroup.x=i.x,this._svgGroup.y=i.y,this._svgGroup.scaleX=i.scaleX,this._svgGroup.scaleY=i.scaleY,this._svgResourceChanged(e)&&(this._freeSVG(),this._useSVG(e));var r=this._svgDispatcherMap=ue(),o=!1;k(this._svgGraphicRecord.named,function(a){var s=a.name,l=t.mapOrGeoModel,u=t.data,h=a.svgNodeTagLower,c=a.el,p=u?u.indexOfName(s):null,d=l.getRegionModel(s);null!=dO.get(h)&&c instanceof ci&&US(t,c,p,d),c instanceof ci&&(c.culling=!0),c.z2EmphasisLift=0,a.namedFrom||(null!=gO.get(h)&&XS(t,c,s,d,l,p,null),YS(t,c,s,d,l,p),ZS(t,c,s,d,l),null!=fO.get(h)&&("self"===jS(t,c,s,d,l)&&(o=!0),(r.get(s)||r.set(s,[])).push(c)))},this),this._enableBlurEntireSVG(o,t)},n.prototype._enableBlurEntireSVG=function(t,e){if(t&&e.isGeo){var i=e.mapOrGeoModel.getModel(["blur","itemStyle"]).getItemStyle().opacity;this._svgGraphicRecord.root.traverse(function(r){if(!r.isGroup){jo(r);var o=r.ensureState("blur").style||{};null==o.opacity&&null!=i&&(o.opacity=i),r.ensureState("emphasis")}})}},n.prototype.remove=function(){this._regionsGroup.removeAll(),this._regionsGroupByName=null,this._svgGroup.removeAll(),this._freeSVG(),this._controller.dispose(),this._controllerHost=null},n.prototype.findHighDownDispatchers=function(t,e){if(null==t)return[];var i=e.coordinateSystem;if("geoJSON"===i.resourceType){var r=this._regionsGroupByName;if(r){var o=r.get(t);return o?[o]:[]}}else if("geoSVG"===i.resourceType)return this._svgDispatcherMap&&this._svgDispatcherMap.get(t)||[]},n.prototype._svgResourceChanged=function(t){return this._svgMapName!==t},n.prototype._useSVG=function(t){var e=Xc(t);if(e&&"geoSVG"===e.type){var i=e.useGraphic(this.uid);this._svgGroup.add(i.root),this._svgGraphicRecord=i,this._svgMapName=t}},n.prototype._freeSVG=function(){var t=this._svgMapName;if(null!=t){var e=Xc(t);e&&"geoSVG"===e.type&&e.freeGraphic(this.uid),this._svgGraphicRecord=null,this._svgDispatcherMap=null,this._svgGroup.removeAll(),this._svgMapName=null}},n.prototype._updateController=function(t,e,i){var r=t.coordinateSystem,o=this._controller,a=this._controllerHost;a.zoomLimit=t.get("scaleLimit"),a.zoom=r.getZoom(),o.enable(t.get("roam")||!1);var s=t.mainType;function l(){var u={type:"geoRoam",componentType:s};return u[s+"Id"]=t.id,u}o.off("pan").on("pan",function(u){this._mouseDownFlag=!1,Cm(a,u.dx,u.dy),i.dispatchAction(K(l(),{dx:u.dx,dy:u.dy}))},this),o.off("zoom").on("zoom",function(u){this._mouseDownFlag=!1,Am(a,u.scale,u.originX,u.originY),i.dispatchAction(K(l(),{zoom:u.scale,originX:u.originX,originY:u.originY}))},this),o.setPointerChecker(function(u,h,c){return r.containPoint([h,c])&&!Op(u,i,t)})},n.prototype.resetForLabelLayout=function(){this.group.traverse(function(t){var e=t.getTextContent();e&&(e.ignore=HS(e).ignore)})},n.prototype._updateMapSelectHandler=function(t,e,i,r){var o=this;e.off("mousedown"),e.off("click"),t.get("selectedMode")&&(e.on("mousedown",function(){o._mouseDownFlag=!0}),e.on("click",function(a){o._mouseDownFlag&&(o._mouseDownFlag=!1)}))},n}();function US(n,t,e,i){var r=i.getModel("itemStyle"),o=i.getModel(["emphasis","itemStyle"]),a=i.getModel(["blur","itemStyle"]),s=i.getModel(["select","itemStyle"]),l=Ep(r),u=Ep(o),h=Ep(s),c=Ep(a),p=n.data;if(p){var d=p.getItemVisual(e,"style"),f=p.getItemVisual(e,"decal");n.isVisualEncodedByVisualMap&&d.fill&&(l.fill=d.fill),f&&(l.decal=vu(f,n.api))}t.setStyle(l),t.style.strokeNoScale=!0,t.ensureState("emphasis").style=u,t.ensureState("select").style=h,t.ensureState("blur").style=c,jo(t)}function XS(n,t,e,i,r,o,a){var s=n.data,l=n.isGeo,u=s&&isNaN(s.get(s.mapDimension("value"),o)),h=s&&s.getItemLayout(o);if(l||u||h&&h.showLabel){var c=l?e:o,p=void 0;(!s||o>=0)&&(p=r);var d=a?{normal:{align:"center",verticalAlign:"middle"}}:null;Jt(t,Ut(i),{labelFetcher:p,labelDataIndex:c,defaultText:e},d);var f=t.getTextContent();if(f&&(HS(f).ignore=f.ignore,t.textConfig&&a)){var g=t.getBoundingRect().clone();t.textConfig.layoutRect=g,t.textConfig.position=[(a[0]-g.x)/g.width*100+"%",(a[1]-g.y)/g.height*100+"%"]}t.disableLabelAnimation=!0}else t.removeTextContent(),t.removeTextConfig(),t.disableLabelAnimation=null}function YS(n,t,e,i,r,o){n.data?n.data.setItemGraphicEl(o,t):_e(t).eventData={componentType:"geo",componentIndex:r.componentIndex,geoIndex:r.componentIndex,name:e,region:i&&i.option||{}}}function ZS(n,t,e,i,r){n.data||ss({el:t,componentModel:r,itemName:e,itemTooltipOption:i.get("tooltip")})}function jS(n,t,e,i,r){t.highDownSilentOnTouch=!!r.get("selectedMode");var l,u,h,o=i.getModel("emphasis"),a=o.get("focus");return nt(t,a,o.get("blurScope")),n.isGeo&&(l=r,u=e,(h=_e(t)).componentMainType=l.mainType,h.componentIndex=l.componentIndex,h.componentHighDownName=u),a}var mO=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return G(t,n),t.prototype.render=function(e,i,r,o){if(!o||"mapToggleSelect"!==o.type||o.from!==this.uid){var a=this.group;if(a.removeAll(),!e.getHostGeoModel()){if(this._mapDraw&&o&&"geoRoam"===o.type&&this._mapDraw.resetForLabelLayout(),o&&"geoRoam"===o.type&&"series"===o.componentType&&o.seriesId===e.id)(s=this._mapDraw)&&a.add(s.group);else if(e.needsDrawMap){var s=this._mapDraw||new WS(r);a.add(s.group),s.draw(e,i,r,this,o),this._mapDraw=s}else this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null;e.get("showLegendSymbol")&&i.getComponent("legend")&&this._renderSymbols(e,i,r)}}},t.prototype.remove=function(){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null,this.group.removeAll()},t.prototype.dispose=function(){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null},t.prototype._renderSymbols=function(e,i,r){var o=e.originalData,a=this.group;o.each(o.mapDimension("value"),function(s,l){if(!isNaN(s)){var u=o.getItemLayout(l);if(u&&u.point){var h=u.point,c=u.offset,p=new Yn({style:{fill:e.getData().getVisual("style").fill},shape:{cx:h[0]+9*c,cy:h[1],r:3},silent:!0,z2:8+(c?0:11)});if(!c){var d=e.mainSeries.getData(),f=o.getName(l),g=d.indexOfName(f),m=o.getItemModel(l),y=m.getModel("label"),v=d.getItemGraphicEl(g);Jt(p,Ut(m),{labelFetcher:{getFormattedLabel:function(_,x){return e.getFormattedLabel(g,x)}}}),p.disableLabelAnimation=!0,y.get("position")||p.setTextConfig({position:"bottom"}),v.onHoverStateChange=function(_){nc(p,_)}}a.add(p)}}})},t.type="map",t}(je),yO=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e.needsDrawMap=!1,e.seriesGroup=[],e.getTooltipPosition=function(i){if(null!=i){var r=this.getData().getName(i),o=this.coordinateSystem,a=o.getRegion(r);return a&&o.dataToPoint(a.getCenter())}},e}return G(t,n),t.prototype.getInitialData=function(e){for(var i=Es(this,{coordDimensions:["value"],encodeDefaulter:ye(Xf,this)}),r=ue(),o=[],a=0,s=i.count();a<s;a++){var l=i.getName(a);r.set(l,!0)}return k(Sg(this.getMapType(),this.option.nameMap,this.option.nameProperty).regions,function(u){var h=u.name;r.get(h)||o.push(h)}),i.appendValues([],o),i},t.prototype.getHostGeoModel=function(){var e=this.option.geoIndex;return null!=e?this.ecModel.getComponent("geo",e):null},t.prototype.getMapType=function(){return(this.getHostGeoModel()||this).option.map},t.prototype.getRawValue=function(e){var i=this.getData();return i.get(i.mapDimension("value"),e)},t.prototype.getRegionModel=function(e){var i=this.getData();return i.getItemModel(i.indexOfName(e))},t.prototype.formatTooltip=function(e,i,r){for(var o=this.getData(),a=this.getRawValue(e),s=o.getName(e),l=this.seriesGroup,u=[],h=0;h<l.length;h++){var c=l[h].originalData.indexOfName(s),p=o.mapDimension("value");isNaN(l[h].originalData.get(p,c))||u.push(l[h].name)}return Bt("section",{header:u.join(", "),noHeader:!u.length,blocks:[Bt("nameValue",{name:s,value:a})]})},t.prototype.setZoom=function(e){this.option.zoom=e},t.prototype.setCenter=function(e){this.option.center=e},t.prototype.getLegendIcon=function(e){var i=e.icon||"roundRect",r=xt(i,0,0,e.itemWidth,e.itemHeight,e.itemStyle.fill);return r.setStyle(e.itemStyle),r.style.stroke="none",i.indexOf("empty")>-1&&(r.style.stroke=r.style.fill,r.style.fill="#fff",r.style.lineWidth=2),r},t.type="series.map",t.dependencies=["geo"],t.layoutMode="box",t.defaultOption={zlevel:0,z:2,coordinateSystem:"geo",map:"",left:"center",top:"center",aspectScale:null,showLegendSymbol:!0,boundingCoords:null,center:null,zoom:1,scaleLimit:null,selectedMode:!0,label:{show:!1,color:"#000"},itemStyle:{borderWidth:.5,borderColor:"#444",areaColor:"#eee"},emphasis:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{areaColor:"rgba(255,215,0,0.8)"}},select:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{color:"rgba(255,215,0,0.8)"}},nameProperty:"name"},t}(et);function vO(n){var t={};n.eachSeriesByType("map",function(e){var i=e.getHostGeoModel(),r=i?"o"+i.id:"i"+e.getMapType();(t[r]=t[r]||[]).push(e)}),k(t,function(e,i){for(var r,o,a,s=(r=J(e,function(u){return u.getData()}),o=e[0].get("mapValueCalculation"),a={},k(r,function(u){u.each(u.mapDimension("value"),function(h,c){var p="ec-"+u.getName(c);a[p]=a[p]||[],isNaN(h)||a[p].push(h)})}),r[0].map(r[0].mapDimension("value"),function(u,h){for(var c="ec-"+r[0].getName(h),p=0,d=1/0,f=-1/0,g=a[c].length,m=0;m<g;m++)d=Math.min(d,a[c][m]),f=Math.max(f,a[c][m]),p+=a[c][m];return 0===g?NaN:"min"===o?d:"max"===o?f:"average"===o?p/g:p})),l=0;l<e.length;l++)e[l].originalData=e[l].getData();for(l=0;l<e.length;l++)e[l].seriesGroup=e,e[l].needsDrawMap=0===l&&!e[l].getHostGeoModel(),e[l].setData(s.cloneShallow()),e[l].mainSeries=e[0]})}function _O(n){var t={};n.eachSeriesByType("map",function(e){var i=e.getMapType();if(!e.getHostGeoModel()&&!t[i]){var r={};k(e.seriesGroup,function(a){var s=a.coordinateSystem,l=a.originalData;a.get("showLegendSymbol")&&n.getComponent("legend")&&l.each(l.mapDimension("value"),function(u,h){var c=l.getName(h),p=s.getRegion(c);if(p&&!isNaN(u)){var d=r[c]||0,f=s.dataToPoint(p.getCenter());r[c]=d+1,l.setItemLayout(h,{point:f,offset:d})}})});var o=e.getData();o.each(function(a){var s=o.getName(a),l=o.getItemLayout(a)||{};l.showLabel=!r[s],o.setItemLayout(a,l)}),t[i]=!0}})}var qS=wt,Rs=function(n){function t(e){var i=n.call(this)||this;return i.type="view",i.dimensions=["x","y"],i._roamTransformable=new ir,i._rawTransformable=new ir,i.name=e,i}return G(t,n),t.prototype.setBoundingRect=function(e,i,r,o){return this._rect=new De(e,i,r,o),this._rect},t.prototype.getBoundingRect=function(){return this._rect},t.prototype.setViewRect=function(e,i,r,o){this._transformTo(e,i,r,o),this._viewRect=new De(e,i,r,o)},t.prototype._transformTo=function(e,i,r,o){var a=this.getBoundingRect(),s=this._rawTransformable;s.transform=a.calculateTransform(new De(e,i,r,o));var l=s.parent;s.parent=null,s.decomposeTransform(),s.parent=l,this._updateTransform()},t.prototype.setCenter=function(e){e&&(this._center=e,this._updateCenterAndZoom())},t.prototype.setZoom=function(e){e=e||1;var i=this.zoomLimit;i&&(null!=i.max&&(e=Math.min(i.max,e)),null!=i.min&&(e=Math.max(i.min,e))),this._zoom=e,this._updateCenterAndZoom()},t.prototype.getDefaultCenter=function(){var e=this.getBoundingRect();return[e.x+e.width/2,e.y+e.height/2]},t.prototype.getCenter=function(){return this._center||this.getDefaultCenter()},t.prototype.getZoom=function(){return this._zoom||1},t.prototype.getRoamTransform=function(){return this._roamTransformable.getLocalTransform()},t.prototype._updateCenterAndZoom=function(){var e=this._rawTransformable.getLocalTransform(),i=this._roamTransformable,r=this.getDefaultCenter(),o=this.getCenter(),a=this.getZoom();o=wt([],o,e),r=wt([],r,e),i.originX=o[0],i.originY=o[1],i.x=r[0]-o[0],i.y=r[1]-o[1],i.scaleX=i.scaleY=a,this._updateTransform()},t.prototype._updateTransform=function(){var e=this._roamTransformable,i=this._rawTransformable;i.parent=e,e.updateTransform(),i.updateTransform(),Nh(this.transform||(this.transform=[]),i.transform||[1,0,0,1,0,0]),this._rawTransform=i.getLocalTransform(),this.invTransform=this.invTransform||[],To(this.invTransform,this.transform),this.decomposeTransform()},t.prototype.getTransformInfo=function(){var e=this._rawTransformable,i=this._roamTransformable,r=new ir;return r.transform=i.transform,r.decomposeTransform(),{roam:{x:r.x,y:r.y,scaleX:r.scaleX,scaleY:r.scaleY},raw:{x:e.x,y:e.y,scaleX:e.scaleX,scaleY:e.scaleY}}},t.prototype.getViewRect=function(){return this._viewRect},t.prototype.getViewRectAfterRoam=function(){var e=this.getBoundingRect().clone();return e.applyTransform(this.transform),e},t.prototype.dataToPoint=function(e,i,r){var o=i?this._rawTransform:this.transform;return r=r||[],o?qS(r,e,o):Dt(r,e)},t.prototype.pointToData=function(e){var i=this.invTransform;return i?qS([],e,i):[e[0],e[1]]},t.prototype.convertToPixel=function(e,i,r){var o=KS(i);return o===this?o.dataToPoint(r):null},t.prototype.convertFromPixel=function(e,i,r){var o=KS(i);return o===this?o.pointToData(r):null},t.prototype.containPoint=function(e){return this.getViewRectAfterRoam().contain(e[0],e[1])},t.dimensions=["x","y"],t}(ir);function KS(n){var t=n.seriesModel;return t?t.coordinateSystem:null}var xO={geoJSON:{aspectScale:.75,invertLongitute:!0},geoSVG:{aspectScale:1,invertLongitute:!1}},$S=["lng","lat"],km=function(n){function t(e,i,r){var o=n.call(this,e)||this;o.dimensions=$S,o.type="geo",o._nameCoordMap=ue(),o.map=i;var a=Sg(i,r.nameMap,r.nameProperty),s=Xc(i);o.resourceType=s?s.type:null;var l=xO[s.type];o._regionsMap=a.regionsMap,o._invertLongitute=l.invertLongitute,o.regions=a.regions,o.aspectScale=Te(r.aspectScale,l.aspectScale);var u=a.boundingRect;return o.setBoundingRect(u.x,u.y,u.width,u.height),o}return G(t,n),t.prototype._transformTo=function(e,i,r,o){var a=this.getBoundingRect(),s=this._invertLongitute;a=a.clone(),s&&(a.y=-a.y-a.height);var l=this._rawTransformable;l.transform=a.calculateTransform(new De(e,i,r,o));var u=l.parent;l.parent=null,l.decomposeTransform(),l.parent=u,s&&(l.scaleY=-l.scaleY),this._updateTransform()},t.prototype.getRegion=function(e){return this._regionsMap.get(e)},t.prototype.getRegionByCoord=function(e){for(var i=this.regions,r=0;r<i.length;r++){var o=i[r];if("geoJSON"===o.type&&o.contain(e))return i[r]}},t.prototype.addGeoCoord=function(e,i){this._nameCoordMap.set(e,i)},t.prototype.getGeoCoord=function(e){var i=this._regionsMap.get(e);return this._nameCoordMap.get(e)||i&&i.getCenter()},t.prototype.dataToPoint=function(e,i,r){if("string"==typeof e&&(e=this.getGeoCoord(e)),e)return Rs.prototype.dataToPoint.call(this,e,i,r)},t.prototype.convertToPixel=function(e,i,r){var o=QS(i);return o===this?o.dataToPoint(r):null},t.prototype.convertFromPixel=function(e,i,r){var o=QS(i);return o===this?o.pointToData(r):null},t}(Rs);function QS(n){var t=n.geoModel,e=n.seriesModel;return t?t.coordinateSystem:e?e.coordinateSystem||(e.getReferringComponents("geo",Mt).models[0]||{}).coordinateSystem:null}function JS(n,t){var e=n.get("boundingCoords");if(null!=e){var i=e[0],r=e[1];isNaN(i[0])||isNaN(i[1])||isNaN(r[0])||isNaN(r[1])||this.setBoundingRect(i[0],i[1],r[0]-i[0],r[1]-i[1])}var o,a,s,l=this.getBoundingRect(),u=n.get("layoutCenter"),h=n.get("layoutSize"),c=t.getWidth(),p=t.getHeight(),d=l.width/l.height*this.aspectScale,f=!1;if(u&&h&&(o=[ie(u[0],c),ie(u[1],p)],a=ie(h,Math.min(c,p)),isNaN(o[0])||isNaN(o[1])||isNaN(a)||(f=!0)),f)s={},d>1?(s.width=a,s.height=a/d):(s.height=a,s.width=a*d),s.y=o[1]-s.height/2,s.x=o[0]-s.width/2;else{var g=n.getBoxLayoutParams();g.aspect=d,s=Tt(g,{width:c,height:p})}this.setViewRect(s.x,s.y,s.width,s.height),this.setCenter(n.get("center")),this.setZoom(n.get("zoom"))}ht(km,Rs);var eM=new(function(){function n(){this.dimensions=$S}return n.prototype.create=function(t,e){var i=[];t.eachComponent("geo",function(o,a){var s=o.get("map"),l=new km(s+a,s,{nameMap:o.get("nameMap"),nameProperty:o.get("nameProperty"),aspectScale:o.get("aspectScale")});l.zoomLimit=o.get("scaleLimit"),i.push(l),o.coordinateSystem=l,l.model=o,l.resize=JS,l.resize(o,e)}),t.eachSeries(function(o){if("geo"===o.get("coordinateSystem")){var a=o.get("geoIndex")||0;o.coordinateSystem=i[a]}});var r={};return t.eachSeriesByType("map",function(o){if(!o.getHostGeoModel()){var a=o.getMapType();r[a]=r[a]||[],r[a].push(o)}}),k(r,function(o,a){var s=J(o,function(u){return u.get("nameMap")}),l=new km(a,a,{nameMap:Ta(s),nameProperty:o[0].get("nameProperty"),aspectScale:o[0].get("aspectScale")});l.zoomLimit=st.apply(null,J(o,function(u){return u.get("scaleLimit")})),i.push(l),l.resize=JS,l.resize(o[0],e),k(o,function(u){var h;u.coordinateSystem=l,h=l,k(u.get("geoCoord"),function(p,d){h.addGeoCoord(d,p)})})}),i},n.prototype.getFilledRegions=function(t,e,i,r){for(var o=(t||[]).slice(),a=ue(),s=0;s<o.length;s++)a.set(o[s].name,o[s]);return k(Sg(e,i,r).regions,function(l){var u=l.name;!a.get(u)&&o.push({name:u})}),o},n}()),bO=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return G(t,n),t.prototype.init=function(e,i,r){var o=Xc(e.map);if(o&&"geoJSON"===o.type){var a=e.itemStyle=e.itemStyle||{};"color"in a||(a.color="#eee")}this.mergeDefaultAndTheme(e,r),Eo(e,"label",["show"])},t.prototype.optionUpdated=function(){var e=this,i=this.option;i.regions=eM.getFilledRegions(i.regions,i.map,i.nameMap,i.nameProperty);var r={};this._optionModelMap=ii(i.regions||[],function(o,a){var s=a.name;return s&&(o.set(s,new Fe(a,e,e.ecModel)),a.selected&&(r[s]=!0)),o},ue()),i.selectedMap||(i.selectedMap=r)},t.prototype.getRegionModel=function(e){return this._optionModelMap.get(e)||new Fe(null,this,this.ecModel)},t.prototype.getFormattedLabel=function(e,i){var o=this.getRegionModel(e).get("normal"===i?["label","formatter"]:["emphasis","label","formatter"]),a={name:e};return"function"==typeof o?(a.status=i,o(a)):"string"==typeof o?o.replace("{a}",null!=e?e:""):void 0},t.prototype.setZoom=function(e){this.option.zoom=e},t.prototype.setCenter=function(e){this.option.center=e},t.prototype.select=function(e){var i=this.option,r=i.selectedMode;r&&("multiple"!==r&&(i.selectedMap=null),(i.selectedMap||(i.selectedMap={}))[e]=!0)},t.prototype.unSelect=function(e){var i=this.option.selectedMap;i&&(i[e]=!1)},t.prototype.toggleSelected=function(e){this[this.isSelected(e)?"unSelect":"select"](e)},t.prototype.isSelected=function(e){var i=this.option.selectedMap;return!(!i||!i[e])},t.type="geo",t.layoutMode="box",t.defaultOption={zlevel:0,z:0,show:!0,left:"center",top:"center",aspectScale:null,silent:!1,map:"",boundingCoords:null,center:null,zoom:1,scaleLimit:null,label:{show:!1,color:"#000"},itemStyle:{borderWidth:.5,borderColor:"#444"},emphasis:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{color:"rgba(255,215,0,0.8)"}},select:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{color:"rgba(255,215,0,0.8)"}},regions:[]},t}(Pe);function Lm(n,t,e){var i=n.getZoom(),r=n.getCenter(),o=t.zoom,a=n.dataToPoint(r);if(null!=t.dx&&null!=t.dy&&(a[0]-=t.dx,a[1]-=t.dy,n.setCenter(n.pointToData(a))),null!=o){if(e){var s=e.min||0;o=Math.max(Math.min(i*o,e.max||1/0),s)/i}n.scaleX*=o,n.scaleY*=o;var h=(t.originY-n.y)*(o-1);n.x-=(t.originX-n.x)*(o-1),n.y-=h,n.updateTransform(),n.setCenter(n.pointToData(a)),n.setZoom(o*i)}return{center:n.getCenter(),zoom:n.getZoom()}}var wO=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e.focusBlurEnabled=!0,e}return G(t,n),t.prototype.init=function(e,i){this._api=i},t.prototype.render=function(e,i,r,o){if(this._model=e,!e.get("show"))return this._mapDraw&&this._mapDraw.remove(),void(this._mapDraw=null);this._mapDraw||(this._mapDraw=new WS(r));var a=this._mapDraw;a.draw(e,i,r,this,o),a.group.on("click",this._handleRegionClick,this),a.group.silent=e.get("silent"),this.group.add(a.group),this.updateSelectStatus(e,i,r)},t.prototype._handleRegionClick=function(e){var i;Ss(e.target,function(r){return null!=(i=_e(r).eventData)},!0),i&&this._api.dispatchAction({type:"geoToggleSelect",geoId:this._model.id,name:i.name})},t.prototype.updateSelectStatus=function(e,i,r){var o=this;this._mapDraw.group.traverse(function(a){var s=_e(a).eventData;if(s)return o._model.isSelected(s.name)?r.enterSelect(a):r.leaveSelect(a),!0})},t.prototype.findHighDownDispatchers=function(e){return this._mapDraw&&this._mapDraw.findHighDownDispatchers(e,this._model)},t.prototype.dispose=function(){this._mapDraw&&this._mapDraw.remove()},t.type="geo",t}(it);function tM(n){function t(e,i){i.update="geo:updateSelectStatus",n.registerAction(i,function(r,o){var a={},s=[];return o.eachComponent({mainType:"geo",query:r},function(l){l[e](r.name),k(l.coordinateSystem.regions,function(h){a[h.name]=l.isSelected(h.name)||!1});var u=[];k(a,function(h,c){a[c]&&u.push(c)}),s.push({geoIndex:l.componentIndex,name:u})}),{selected:a,allSelected:s,name:r.name}})}n.registerCoordinateSystem("geo",eM),n.registerComponentModel(bO),n.registerComponentView(wO),t("toggleSelected",{type:"geoToggleSelect",event:"geoselectchanged"}),t("select",{type:"geoSelect",event:"geoselected"}),t("unSelect",{type:"geoUnSelect",event:"geounselected"}),n.registerAction({type:"geoRoam",event:"geoRoam",update:"updateTransform"},function(e,i){var r=e.componentType||"series";i.eachComponent({mainType:r,query:e},function(o){var a=o.coordinateSystem;if("geo"===a.type){var s=Lm(a,e,o.get("scaleLimit"));o.setCenter&&o.setCenter(s.center),o.setZoom&&o.setZoom(s.zoom),"series"===r&&k(o.seriesGroup,function(l){l.setCenter(s.center),l.setZoom(s.zoom)})}})})}function SO(n,t){var e=n.isExpand?n.children:[],i=n.parentNode.children,r=n.hierNode.i?i[n.hierNode.i-1]:null;if(e.length){!function(a){for(var s=a.children,l=s.length,u=0,h=0;--l>=0;){var c=s[l];c.hierNode.prelim+=u,c.hierNode.modifier+=u,u+=c.hierNode.shift+(h+=c.hierNode.change)}}(n);var o=(e[0].hierNode.prelim+e[e.length-1].hierNode.prelim)/2;r?(n.hierNode.prelim=r.hierNode.prelim+t(n,r),n.hierNode.modifier=n.hierNode.prelim-o):n.hierNode.prelim=o}else r&&(n.hierNode.prelim=r.hierNode.prelim+t(n,r));n.parentNode.hierNode.defaultAncestor=function(a,s,l,u){if(s){for(var h=a,c=a,p=c.parentNode.children[0],d=s,f=h.hierNode.modifier,g=c.hierNode.modifier,m=p.hierNode.modifier,y=d.hierNode.modifier;d=Pm(d),c=Om(c),d&&c;){h=Pm(h),p=Om(p),h.hierNode.ancestor=a;var v=d.hierNode.prelim+y-c.hierNode.prelim-g+u(d,c);v>0&&(TO(IO(d,a,l),a,v),g+=v,f+=v),y+=d.hierNode.modifier,g+=c.hierNode.modifier,f+=h.hierNode.modifier,m+=p.hierNode.modifier}d&&!Pm(h)&&(h.hierNode.thread=d,h.hierNode.modifier+=y-f),c&&!Om(p)&&(p.hierNode.thread=c,p.hierNode.modifier+=g-m,l=a)}return l}(n,r,n.parentNode.hierNode.defaultAncestor||i[0],t)}function MO(n){n.setLayout({x:n.hierNode.prelim+n.parentNode.hierNode.modifier},!0),n.hierNode.modifier+=n.parentNode.hierNode.modifier}function nM(n){return arguments.length?n:CO}function Zu(n,t){return n-=Math.PI/2,{x:t*Math.cos(n),y:t*Math.sin(n)}}function Pm(n){var t=n.children;return t.length&&n.isExpand?t[t.length-1]:n.hierNode.thread}function Om(n){var t=n.children;return t.length&&n.isExpand?t[0]:n.hierNode.thread}function IO(n,t,e){return n.hierNode.ancestor.parentNode===t.parentNode?n.hierNode.ancestor:e}function TO(n,t,e){var i=e/(t.hierNode.i-n.hierNode.i);t.hierNode.change-=i,t.hierNode.shift+=e,t.hierNode.modifier+=e,t.hierNode.prelim+=e,n.hierNode.change+=i}function CO(n,t){return n.parentNode===t.parentNode?1:2}var AO=function(){this.parentPoint=[],this.childPoints=[]},DO=function(n){function t(e){return n.call(this,e)||this}return G(t,n),t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new AO},t.prototype.buildPath=function(e,i){var r=i.childPoints,o=r.length,a=i.parentPoint,s=r[0],l=r[o-1];if(1===o)return e.moveTo(a[0],a[1]),void e.lineTo(s[0],s[1]);var u=i.orient,h="TB"===u||"BT"===u?0:1,c=1-h,p=ie(i.forkPosition,1),d=[];d[h]=a[h],d[c]=a[c]+(l[c]-a[c])*p,e.moveTo(a[0],a[1]),e.lineTo(d[0],d[1]),e.moveTo(s[0],s[1]),d[h]=s[h],e.lineTo(d[0],d[1]),d[h]=l[h],e.lineTo(d[0],d[1]),e.lineTo(l[0],l[1]);for(var f=1;f<o-1;f++){var g=r[f];e.moveTo(g[0],g[1]),d[h]=g[h],e.lineTo(d[0],d[1])}},t}(Le),kO=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e._mainGroup=new me,e}return G(t,n),t.prototype.init=function(e,i){this._controller=new Yu(i.getZr()),this._controllerHost={target:this.group},this.group.add(this._mainGroup)},t.prototype.render=function(e,i,r){var o=e.getData(),a=e.layoutInfo,s=this._mainGroup;"radial"===e.get("layout")?(s.x=a.x+a.width/2,s.y=a.y+a.height/2):(s.x=a.x,s.y=a.y),this._updateViewCoordSys(e),this._updateController(e,i,r);var l=this._data;o.diff(l).add(function(u){iM(o,u)&&rM(o,u,null,s,e)}).update(function(u,h){var c=l.getItemGraphicEl(h);iM(o,u)?rM(o,u,c,s,e):c&&sM(l,h,c,s,e)}).remove(function(u){var h=l.getItemGraphicEl(u);h&&sM(l,u,h,s,e)}).execute(),this._nodeScaleRatio=e.get("nodeScaleRatio"),this._updateNodeAndLinkScale(e),!0===e.get("expandAndCollapse")&&o.eachItemGraphicEl(function(u,h){u.off("click").on("click",function(){r.dispatchAction({type:"treeExpandAndCollapse",seriesId:e.id,dataIndex:h})})}),this._data=o},t.prototype._updateViewCoordSys=function(e){var i=e.getData(),r=[];i.each(function(h){var c=i.getItemLayout(h);!c||isNaN(c.x)||isNaN(c.y)||r.push([+c.x,+c.y])});var o=[],a=[];Rl(r,o,a);var s=this._min,l=this._max;a[0]-o[0]==0&&(o[0]=s?s[0]:o[0]-1,a[0]=l?l[0]:a[0]+1),a[1]-o[1]==0&&(o[1]=s?s[1]:o[1]-1,a[1]=l?l[1]:a[1]+1);var u=e.coordinateSystem=new Rs;u.zoomLimit=e.get("scaleLimit"),u.setBoundingRect(o[0],o[1],a[0]-o[0],a[1]-o[1]),u.setCenter(e.get("center")),u.setZoom(e.get("zoom")),this.group.attr({x:u.x,y:u.y,scaleX:u.scaleX,scaleY:u.scaleY}),this._min=o,this._max=a},t.prototype._updateController=function(e,i,r){var o=this,a=this._controller,s=this._controllerHost,l=this.group;a.setPointerChecker(function(u,h,c){var p=l.getBoundingRect();return p.applyTransform(l.transform),p.contain(h,c)&&!Op(u,r,e)}),a.enable(e.get("roam")),s.zoomLimit=e.get("scaleLimit"),s.zoom=e.coordinateSystem.getZoom(),a.off("pan").off("zoom").on("pan",function(u){Cm(s,u.dx,u.dy),r.dispatchAction({seriesId:e.id,type:"treeRoam",dx:u.dx,dy:u.dy})}).on("zoom",function(u){Am(s,u.scale,u.originX,u.originY),r.dispatchAction({seriesId:e.id,type:"treeRoam",zoom:u.scale,originX:u.originX,originY:u.originY}),o._updateNodeAndLinkScale(e),r.updateLabelLayout()})},t.prototype._updateNodeAndLinkScale=function(e){var i=e.getData(),r=this._getNodeGlobalScale(e);i.eachItemGraphicEl(function(o,a){o.setSymbolScale(r)})},t.prototype._getNodeGlobalScale=function(e){var i=e.coordinateSystem;if("view"!==i.type)return 1;var r=this._nodeScaleRatio,o=i.scaleX||1;return((i.getZoom()-1)*r+1)/o},t.prototype.dispose=function(){this._controller&&this._controller.dispose(),this._controllerHost=null},t.prototype.remove=function(){this._mainGroup.removeAll(),this._data=null},t.type="tree",t}(je);function iM(n,t){var e=n.getItemLayout(t);return e&&!isNaN(e.x)&&!isNaN(e.y)}function rM(n,t,e,i,r){var o=!e,a=n.tree.getNodeByDataIndex(t),s=a.getModel(),l=a.getVisual("style").fill,u=!1===a.isExpand&&0!==a.children.length?l:"#fff",h=n.tree.root,c=a.parentNode===h?a:a.parentNode||a,p=n.getItemGraphicEl(c.dataIndex),d=c.getLayout(),f=p?{x:p.__oldX,y:p.__oldY,rawX:p.__radialOldRawX,rawY:p.__radialOldRawY}:d,g=a.getLayout();o?((e=new Bu(n,t,null,{symbolInnerColor:u,useNameLabel:!0})).x=f.x,e.y=f.y):e.updateData(n,t,null,{symbolInnerColor:u,useNameLabel:!0}),e.__radialOldRawX=e.__radialRawX,e.__radialOldRawY=e.__radialRawY,e.__radialRawX=g.rawX,e.__radialRawY=g.rawY,i.add(e),n.setItemGraphicEl(t,e),e.__oldX=e.x,e.__oldY=e.y,ze(e,{x:g.x,y:g.y},r);var m=e.getSymbolPath();if("radial"===r.get("layout")){var y=h.children[0],v=y.getLayout(),_=y.children.length,x=void 0,b=void 0;if(g.x===v.x&&!0===a.isExpand){var w={x:(y.children[0].getLayout().x+y.children[_-1].getLayout().x)/2,y:(y.children[0].getLayout().y+y.children[_-1].getLayout().y)/2};(x=Math.atan2(w.y-v.y,w.x-v.x))<0&&(x=2*Math.PI+x),(b=w.x<v.x)&&(x-=Math.PI)}else(x=Math.atan2(g.y-v.y,g.x-v.x))<0&&(x=2*Math.PI+x),0===a.children.length||0!==a.children.length&&!1===a.isExpand?(b=g.x<v.x)&&(x-=Math.PI):(b=g.x>v.x)||(x-=Math.PI);var S=b?"left":"right",M=s.getModel("label"),T=M.get("rotate"),C=T*(Math.PI/180),A=m.getTextContent();A&&(m.setTextConfig({position:M.get("position")||S,rotation:null==T?-x:C,origin:"center"}),A.setStyle("verticalAlign","middle"))}var D=s.get(["emphasis","focus"]),L="ancestor"===D?a.getAncestorsIndices():"descendant"===D?a.getDescendantIndices():null;L&&(_e(e).focus=L),function(P,E,N,R,z,B,V,W){var Y=E.getModel(),Q=P.get("edgeShape"),U=P.get("layout"),j=P.getOrient(),ne=P.get(["lineStyle","curveness"]),ee=P.get("edgeForkPosition"),te=Y.getModel("lineStyle").getLineStyle(),oe=R.__edge;if("curve"===Q)E.parentNode&&E.parentNode!==N&&(oe||(oe=R.__edge=new is({shape:Em(U,j,ne,z,z)})),ze(oe,{shape:Em(U,j,ne,B,V)},P));else if("polyline"===Q&&"orthogonal"===U&&E!==N&&E.children&&0!==E.children.length&&!0===E.isExpand){for(var ae=E.children,fe=[],ve=0;ve<ae.length;ve++){var xe=ae[ve].getLayout();fe.push([xe.x,xe.y])}oe||(oe=R.__edge=new DO({shape:{parentPoint:[V.x,V.y],childPoints:[[V.x,V.y]],orient:j,forkPosition:ee}})),ze(oe,{shape:{parentPoint:[V.x,V.y],childPoints:fe}},P)}oe&&(oe.useStyle(ce({strokeNoScale:!0,fill:null},te)),Yt(oe,Y,"lineStyle"),jo(oe),W.add(oe))}(r,a,h,e,f,d,g,i),e.__edge&&(e.onHoverStateChange=function(P){if("blur"!==P){var E=a.parentNode&&n.getItemGraphicEl(a.parentNode.dataIndex);E&&1===E.hoverState||nc(e.__edge,P)}})}function oM(n,t,e,i,r){var o=aM(t.tree.root,n),a=o.source,s=o.sourceLayout,l=t.getItemGraphicEl(n.dataIndex);if(l){var u=t.getItemGraphicEl(a.dataIndex).__edge,h=l.__edge||(!1===a.isExpand||1===a.children.length?u:void 0),c=i.get("edgeShape"),p=i.get("layout"),d=i.get("orient"),f=i.get(["lineStyle","curveness"]);h&&("curve"===c?Hr(h,{shape:Em(p,d,f,s,s),style:{opacity:0}},i,{cb:function(){e.remove(h)},removeOpt:r}):"polyline"===c&&"orthogonal"===i.get("layout")&&Hr(h,{shape:{parentPoint:[s.x,s.y],childPoints:[[s.x,s.y]]},style:{opacity:0}},i,{cb:function(){e.remove(h)},removeOpt:r}))}}function aM(n,t){for(var e,i=t.parentNode===n?t:t.parentNode||t;null==(e=i.getLayout());)i=i.parentNode===n?i:i.parentNode||i;return{source:i,sourceLayout:e}}function sM(n,t,e,i,r){var o=n.tree.getNodeByDataIndex(t),a=aM(n.tree.root,o).sourceLayout,s={duration:r.get("animationDurationUpdate"),easing:r.get("animationEasingUpdate")};Hr(e,{x:a.x+1,y:a.y+1},r,{cb:function(){i.remove(e),n.setItemGraphicEl(t,null)},removeOpt:s}),e.fadeOut(null,{fadeLabel:!0,animation:s}),o.children.forEach(function(l){oM(l,n,i,r,s)}),oM(o,n,i,r,s)}function Em(n,t,e,i,r){var o,a,s,l,u,h,c,p;if("radial"===n){h=r.rawX,p=r.rawY;var d=Zu(u=i.rawX,c=i.rawY),f=Zu(u,c+(p-c)*e),g=Zu(h,p+(c-p)*e),m=Zu(h,p);return{x1:d.x||0,y1:d.y||0,x2:m.x||0,y2:m.y||0,cpx1:f.x||0,cpy1:f.y||0,cpx2:g.x||0,cpy2:g.y||0}}return u=i.x,c=i.y,h=r.x,p=r.y,"LR"!==t&&"RL"!==t||(o=u+(h-u)*e,a=c,s=h+(u-h)*e,l=p),"TB"!==t&&"BT"!==t||(o=u,a=c+(p-c)*e,s=h,l=p+(c-p)*e),{x1:u,y1:c,x2:h,y2:p,cpx1:o,cpy1:a,cpx2:s,cpy2:l}}var ei=We();function lM(n){var t=n.mainData,e=n.datas;e||(e={main:t},n.datasAttr={main:"data"}),n.datas=n.mainData=null,uM(t,e,n),k(e,function(i){k(t.TRANSFERABLE_METHODS,function(r){i.wrapMethod(r,ye(LO,n))})}),t.wrapMethod("cloneShallow",ye(OO,n)),k(t.CHANGABLE_METHODS,function(i){t.wrapMethod(i,ye(PO,n))}),vt(e[t.dataType]===t)}function LO(n,t){if(ei(this).mainData===this){var e=K({},ei(this).datas);e[this.dataType]=t,uM(t,e,n)}else Nm(t,this.dataType,ei(this).mainData,n);return t}function PO(n,t){return n.struct&&n.struct.update(),t}function OO(n,t){return k(ei(t).datas,function(e,i){e!==t&&Nm(e.cloneShallow(),i,t,n)}),t}function EO(n){var t=ei(this).mainData;return null==n||null==t?t:ei(t).datas[n]}function NO(){var n=ei(this).mainData;return null==n?[{data:n}]:J(q(ei(n).datas),function(t){return{type:t,data:ei(n).datas[t]}})}function uM(n,t,e){ei(n).datas={},k(t,function(i,r){Nm(i,r,n,e)})}function Nm(n,t,e,i){ei(e).datas[t]=n,ei(n).mainData=e,n.dataType=t,i.struct&&(n[i.structAttr]=i.struct,i.struct[i.datasAttr[t]]=n),n.getLinkedData=EO,n.getLinkedDataAll=NO}var RO=function(){function n(t,e){this.depth=0,this.height=0,this.dataIndex=-1,this.children=[],this.viewChildren=[],this.isExpand=!1,this.name=t||"",this.hostTree=e}return n.prototype.isRemoved=function(){return this.dataIndex<0},n.prototype.eachNode=function(t,e,i){"function"==typeof t&&(i=e,e=t,t=null),Ce(t=t||{})&&(t={order:t});var r,o=t.order||"preorder",a=this[t.attr||"children"];"preorder"===o&&(r=e.call(i,this));for(var s=0;!r&&s<a.length;s++)a[s].eachNode(t,e,i);"postorder"===o&&e.call(i,this)},n.prototype.updateDepthAndHeight=function(t){var e=0;this.depth=t;for(var i=0;i<this.children.length;i++){var r=this.children[i];r.updateDepthAndHeight(t+1),r.height>e&&(e=r.height)}this.height=e+1},n.prototype.getNodeById=function(t){if(this.getId()===t)return this;for(var e=0,i=this.children,r=i.length;e<r;e++){var o=i[e].getNodeById(t);if(o)return o}},n.prototype.contains=function(t){if(t===this)return!0;for(var e=0,i=this.children,r=i.length;e<r;e++){var o=i[e].contains(t);if(o)return o}},n.prototype.getAncestors=function(t){for(var e=[],i=t?this:this.parentNode;i;)e.push(i),i=i.parentNode;return e.reverse(),e},n.prototype.getAncestorsIndices=function(){for(var t=[],e=this;e;)t.push(e.dataIndex),e=e.parentNode;return t.reverse(),t},n.prototype.getDescendantIndices=function(){var t=[];return this.eachNode(function(e){t.push(e.dataIndex)}),t},n.prototype.getValue=function(t){var e=this.hostTree.data;return e.getStore().get(e.getDimensionIndex(t||"value"),this.dataIndex)},n.prototype.setLayout=function(t,e){this.dataIndex>=0&&this.hostTree.data.setItemLayout(this.dataIndex,t,e)},n.prototype.getLayout=function(){return this.hostTree.data.getItemLayout(this.dataIndex)},n.prototype.getModel=function(t){if(!(this.dataIndex<0))return this.hostTree.data.getItemModel(this.dataIndex).getModel(t)},n.prototype.getLevelModel=function(){return(this.hostTree.levelModels||[])[this.depth]},n.prototype.setVisual=function(t,e){this.dataIndex>=0&&this.hostTree.data.setItemVisual(this.dataIndex,t,e)},n.prototype.getVisual=function(t){return this.hostTree.data.getItemVisual(this.dataIndex,t)},n.prototype.getRawIndex=function(){return this.hostTree.data.getRawIndex(this.dataIndex)},n.prototype.getId=function(){return this.hostTree.data.getId(this.dataIndex)},n.prototype.getChildIndex=function(){if(this.parentNode){for(var t=this.parentNode.children,e=0;e<t.length;++e)if(t[e]===this)return e;return-1}return-1},n.prototype.isAncestorOf=function(t){for(var e=t.parentNode;e;){if(e===this)return!0;e=e.parentNode}return!1},n.prototype.isDescendantOf=function(t){return t!==this&&t.isAncestorOf(this)},n}(),Rm=function(){function n(t){this.type="tree",this._nodes=[],this.hostModel=t}return n.prototype.eachNode=function(t,e,i){this.root.eachNode(t,e,i)},n.prototype.getNodeByDataIndex=function(t){var e=this.data.getRawIndex(t);return this._nodes[e]},n.prototype.getNodeById=function(t){return this.root.getNodeById(t)},n.prototype.update=function(){for(var t=this.data,e=this._nodes,i=0,r=e.length;i<r;i++)e[i].dataIndex=-1;for(i=0,r=t.count();i<r;i++)e[t.getRawIndex(i)].dataIndex=i},n.prototype.clearLayouts=function(){this.data.clearItemLayouts()},n.createTree=function(t,e,i){var r=new n(e),o=[],a=1;(function u(h,c){var p=h.value;a=Math.max(a,Z(p)?p.length:1),o.push(h);var m,y,d=new RO(Ot(h.name,""),r);c?(m=d).parentNode!==(y=c)&&(y.children.push(m),m.parentNode=y):r.root=d,r._nodes.push(d);var f=h.children;if(f)for(var g=0;g<f.length;g++)u(f[g],d)})(t),r.root.updateDepthAndHeight(0);var s=Cs(o,{coordDimensions:["value"],dimensionsCount:a}).dimensions,l=new tn(s,e);return l.initData(o),i&&i(l),lM({mainData:l,struct:r,structAttr:"tree"}),r.update(),r},n}();function ju(n,t,e){if(n&&Ie(t,n.type)>=0){var i=e.getData().tree.root,r=n.targetNode;if("string"==typeof r&&(r=i.getNodeById(r)),r&&i.contains(r))return{node:r};var o=n.targetNodeId;if(null!=o&&(r=i.getNodeById(o)))return{node:r}}}function hM(n){for(var t=[];n;)(n=n.parentNode)&&t.push(n);return t.reverse()}function zm(n,t){return Ie(hM(n),t)>=0}function Np(n,t){for(var e=[];n;){var i=n.dataIndex;e.push({name:n.name,dataIndex:i,value:t.getRawValue(i)}),n=n.parentNode}return e.reverse(),e}var zO=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.hasSymbolVisual=!0,e.ignoreStyleOnData=!0,e}return G(t,n),t.prototype.getInitialData=function(e){var i={name:e.name,children:e.data},o=new Fe(e.leaves||{},this,this.ecModel),a=Rm.createTree(i,this,function(u){u.wrapMethod("getItemModel",function(h,c){var p=a.getNodeByDataIndex(c);return p&&p.children.length&&p.isExpand||(h.parentModel=o),h})}),s=0;a.eachNode("preorder",function(u){u.depth>s&&(s=u.depth)});var l=e.expandAndCollapse&&e.initialTreeDepth>=0?e.initialTreeDepth:s;return a.root.eachNode("preorder",function(u){var h=u.hostTree.data.getRawDataItem(u.dataIndex);u.isExpand=h&&null!=h.collapsed?!h.collapsed:u.depth<=l}),a.data},t.prototype.getOrient=function(){var e=this.get("orient");return"horizontal"===e?e="LR":"vertical"===e&&(e="TB"),e},t.prototype.setZoom=function(e){this.option.zoom=e},t.prototype.setCenter=function(e){this.option.center=e},t.prototype.formatTooltip=function(e,i,r){for(var o=this.getData().tree,a=o.root.children[0],s=o.getNodeByDataIndex(e),l=s.getValue(),u=s.name;s&&s!==a;)u=s.parentNode.name+"."+u,s=s.parentNode;return Bt("nameValue",{name:u,value:l,noValue:isNaN(l)||null==l})},t.prototype.getDataParams=function(e){var i=n.prototype.getDataParams.apply(this,arguments),r=this.getData().tree.getNodeByDataIndex(e);return i.treeAncestors=Np(r,this),i},t.type="series.tree",t.layoutMode="box",t.defaultOption={zlevel:0,z:2,coordinateSystem:"view",left:"12%",top:"12%",right:"12%",bottom:"12%",layout:"orthogonal",edgeShape:"curve",edgeForkPosition:"50%",roam:!1,nodeScaleRatio:.4,center:null,zoom:1,orient:"LR",symbol:"emptyCircle",symbolSize:7,expandAndCollapse:!0,initialTreeDepth:2,lineStyle:{color:"#ccc",width:1.5,curveness:.5},itemStyle:{color:"lightsteelblue",borderWidth:1.5},label:{show:!0},animationEasing:"linear",animationDuration:700,animationDurationUpdate:500},t}(et);function qu(n,t){for(var e,i=[n];e=i.pop();)if(t(e),e.isExpand){var r=e.children;if(r.length)for(var o=r.length-1;o>=0;o--)i.push(r[o])}}function BO(n,t){n.eachSeriesByType("tree",function(e){!function(i,r){var S,o=(S=r,Tt(i.getBoxLayoutParams(),{width:S.getWidth(),height:S.getHeight()}));i.layoutInfo=o;var a=i.get("layout"),s=0,l=0,u=null;"radial"===a?(s=2*Math.PI,l=Math.min(o.height,o.width)/2,u=nM(function(w,S){return(w.parentNode===S.parentNode?1:2)/w.depth})):(s=o.width,l=o.height,u=nM());var h=i.getData().tree.root,c=h.children[0];if(c){(function(w){var S=w;S.hierNode={defaultAncestor:null,ancestor:S,prelim:0,modifier:0,change:0,shift:0,i:0,thread:null};for(var M,T,C=[S];M=C.pop();)if(T=M.children,M.isExpand&&T.length)for(var A=T.length-1;A>=0;A--){var D=T[A];D.hierNode={defaultAncestor:null,ancestor:D,prelim:0,modifier:0,change:0,shift:0,i:A,thread:null},C.push(D)}})(h),function(w,S,M){for(var T,C=[w],A=[];T=C.pop();)if(A.push(T),T.isExpand){var D=T.children;if(D.length)for(var L=0;L<D.length;L++)C.push(D[L])}for(;T=A.pop();)S(T,M)}(c,SO,u),h.hierNode.modifier=-c.hierNode.prelim,qu(c,MO);var p=c,d=c,f=c;qu(c,function(w){var S=w.getLayout().x;S<p.getLayout().x&&(p=w),S>d.getLayout().x&&(d=w),w.depth>f.depth&&(f=w)});var g=p===d?1:u(p,d)/2,m=g-p.getLayout().x,y=0,v=0,_=0,x=0;if("radial"===a)y=s/(d.getLayout().x+g+m),v=l/(f.depth-1||1),qu(c,function(w){var S=Zu(_=(w.getLayout().x+m)*y,x=(w.depth-1)*v);w.setLayout({x:S.x,y:S.y,rawX:_,rawY:x},!0)});else{var b=i.getOrient();"RL"===b||"LR"===b?(v=l/(d.getLayout().x+g+m),y=s/(f.depth-1||1),qu(c,function(w){x=(w.getLayout().x+m)*v,w.setLayout({x:_="LR"===b?(w.depth-1)*y:s-(w.depth-1)*y,y:x},!0)})):"TB"!==b&&"BT"!==b||(y=s/(d.getLayout().x+g+m),v=l/(f.depth-1||1),qu(c,function(w){_=(w.getLayout().x+m)*y,w.setLayout({x:_,y:x="TB"===b?(w.depth-1)*v:l-(w.depth-1)*v},!0)}))}}}(e,t)})}function VO(n){n.eachSeriesByType("tree",function(t){var e=t.getData();e.tree.eachNode(function(i){var r=i.getModel().getModel("itemStyle").getItemStyle();K(e.ensureUniqueItemVisual(i.dataIndex,"style"),r)})})}var GO=function(){},cM=["treemapZoomToNode","treemapRender","treemapMove"];function pM(n){var t=n.getData().tree,e={};t.eachNode(function(i){for(var r=i;r&&r.depth>1;)r=r.parentNode;var o=qf(n.ecModel,r.name||r.dataIndex+"",e);i.setVisual("decal",o)})}var FO=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e.preventUsingHoverLayer=!0,e}return G(t,n),t.prototype.getInitialData=function(e,i){var r={name:e.name,children:e.data};dM(r);var o=e.levels||[],a=this.designatedVisualItemStyle={},s=new Fe({itemStyle:a},this,i),l=J((o=e.levels=function(h,c){var p,d,f=Je(c.get("color")),g=Je(c.get(["aria","decal","decals"]));if(f){k(h=h||[],function(y){var v=new Fe(y),_=v.get("color"),x=v.get("decal");(v.get(["itemStyle","color"])||_&&"none"!==_)&&(p=!0),(v.get(["itemStyle","decal"])||x&&"none"!==x)&&(d=!0)});var m=h[0]||(h[0]={});return p||(m.color=f.slice()),!d&&g&&(m.decal=g.slice()),h}}(o,i))||[],function(h){return new Fe(h,s,i)},this),u=Rm.createTree(r,this,function(h){h.wrapMethod("getItemModel",function(c,p){var d=u.getNodeByDataIndex(p);return c.parentModel=(d?l[d.depth]:null)||s,c})});return u.data},t.prototype.optionUpdated=function(){this.resetViewRoot()},t.prototype.formatTooltip=function(e,i,r){var o=this.getData(),a=this.getRawValue(e);return Bt("nameValue",{name:o.getName(e),value:a})},t.prototype.getDataParams=function(e){var i=n.prototype.getDataParams.apply(this,arguments),r=this.getData().tree.getNodeByDataIndex(e);return i.treeAncestors=Np(r,this),i.treePathInfo=i.treeAncestors,i},t.prototype.setLayoutInfo=function(e){this.layoutInfo=this.layoutInfo||{},K(this.layoutInfo,e)},t.prototype.mapIdToIndex=function(e){var i=this._idIndexMap;i||(i=this._idIndexMap=ue(),this._idIndexMapCount=0);var r=i.get(e);return null==r&&i.set(e,r=this._idIndexMapCount++),r},t.prototype.getViewRoot=function(){return this._viewRoot},t.prototype.resetViewRoot=function(e){e?this._viewRoot=e:e=this._viewRoot;var i=this.getRawData().tree.root;e&&(e===i||i.contains(e))||(this._viewRoot=i)},t.prototype.enableAriaDecal=function(){pM(this)},t.type="series.treemap",t.layoutMode="box",t.defaultOption={progressive:0,left:"center",top:"middle",width:"80%",height:"80%",sort:!0,clipWindow:"origin",squareRatio:.5*(1+Math.sqrt(5)),leafDepth:null,drillDownIcon:"\u25b6",zoomToNodeRatio:.1024,roam:!0,nodeClick:"zoomToNode",animation:!0,animationDurationUpdate:900,animationEasing:"quinticInOut",breadcrumb:{show:!0,height:22,left:"center",top:"bottom",emptyItemWidth:25,itemStyle:{color:"rgba(0,0,0,0.7)",textStyle:{color:"#fff"}}},label:{show:!0,distance:0,padding:5,position:"inside",color:"#fff",overflow:"truncate"},upperLabel:{show:!1,position:[0,"50%"],height:20,overflow:"truncate",verticalAlign:"middle"},itemStyle:{color:null,colorAlpha:null,colorSaturation:null,borderWidth:0,gapWidth:0,borderColor:"#fff",borderColorSaturation:null},emphasis:{upperLabel:{show:!0,position:[0,"50%"],ellipsis:!0,verticalAlign:"middle"}},visualDimension:0,visualMin:null,visualMax:null,color:[],colorAlpha:null,colorSaturation:null,colorMappingBy:"index",visibleMin:10,childrenVisibleMin:null,levels:[]},t}(et);function dM(n){var t=0;k(n.children,function(i){dM(i);var r=i.value;Z(r)&&(r=r[0]),t+=r});var e=n.value;Z(e)&&(e=e[0]),(null==e||isNaN(e))&&(e=t),e<0&&(e=0),Z(n.value)?n.value[0]=e:n.value=e}var HO=function(){function n(t){this.group=new me,t.add(this.group)}return n.prototype.render=function(t,e,i,r){var o=t.getModel("breadcrumb"),a=this.group;if(a.removeAll(),o.get("show")&&i){var s=o.getModel("itemStyle"),l=s.getModel("textStyle"),u={pos:{left:o.get("left"),right:o.get("right"),top:o.get("top"),bottom:o.get("bottom")},box:{width:e.getWidth(),height:e.getHeight()},emptyItemWidth:o.get("emptyItemWidth"),totalWidth:0,renderList:[]};this._prepare(i,u,l),this._renderContent(t,u,s,l,r),Ac(a,u.pos,u.box)}},n.prototype._prepare=function(t,e,i){for(var r=t;r;r=r.parentNode){var o=Ot(r.getModel().get("name"),""),a=i.getTextRect(o),s=Math.max(a.width+16,e.emptyItemWidth);e.totalWidth+=s+8,e.renderList.push({node:r,text:o,width:s})}},n.prototype._renderContent=function(t,e,i,r,o){for(var a,s,l,u,h,c,p,d,f,g=0,m=e.emptyItemWidth,y=t.get(["breadcrumb","height"]),v=(h=(s=e.box).height,c=ie((a=e.pos).left,u=s.width),p=ie(a.top,h),d=ie(a.right,u),f=ie(a.bottom,h),(isNaN(c)||isNaN(parseFloat(a.left)))&&(c=0),(isNaN(d)||isNaN(parseFloat(a.right)))&&(d=u),(isNaN(p)||isNaN(parseFloat(a.top)))&&(p=0),(isNaN(f)||isNaN(parseFloat(a.bottom)))&&(f=h),l=Qo(l||0),{width:Math.max(d-c-l[1]-l[3],0),height:Math.max(f-p-l[0]-l[2],0)}),_=e.totalWidth,x=e.renderList,b=x.length-1;b>=0;b--){var w=x[b],S=w.node,M=w.width,T=w.text;_>v.width&&(_-=M-m,M=m,T=null);var C=new Zt({shape:{points:WO(g,0,M,y,b===x.length-1,0===b)},style:ce(i.getItemStyle(),{lineJoin:"bevel"}),textContent:new Re({style:{text:T,fill:r.getTextColor(),font:r.getFont()}}),textConfig:{position:"inside"},z2:1e5,onclick:ye(o,S)});C.disableLabelAnimation=!0,this.group.add(C),UO(C,t,S),g+=M+8}},n.prototype.remove=function(){this.group.removeAll()},n}();function WO(n,t,e,i,r,o){var a=[[r?n:n-5,t],[n+e,t],[n+e,t+i],[r?n:n-5,t+i]];return!o&&a.splice(2,0,[n+e+5,t+i/2]),!r&&a.push([n,t+i/2]),a}function UO(n,t,e){_e(n).eventData={componentType:"series",componentSubType:"treemap",componentIndex:t.componentIndex,seriesIndex:t.seriesIndex,seriesName:t.name,seriesType:"treemap",selfType:"breadcrumb",nodeData:{dataIndex:e&&e.dataIndex,name:e&&e.name},treePathInfo:e&&Np(e,t)}}var XO=function(){function n(){this._storage=[],this._elExistsMap={}}return n.prototype.add=function(t,e,i,r,o){return!this._elExistsMap[t.id]&&(this._elExistsMap[t.id]=!0,this._storage.push({el:t,target:e,duration:i,delay:r,easing:o}),!0)},n.prototype.finished=function(t){return this._finishedCallback=t,this},n.prototype.start=function(){for(var t=this,e=this._storage.length,i=function(){--e<=0&&(t._storage.length=0,t._elExistsMap={},t._finishedCallback&&t._finishedCallback())},r=0,o=this._storage.length;r<o;r++){var a=this._storage[r];a.el.animateTo(a.target,{duration:a.duration,delay:a.delay,easing:a.easing,setToFinal:!0,done:i,aborted:i})}return this},n}(),Bm=me,fM=Ee,mM="upperLabel",pa=zo([["fill","color"],["stroke","strokeColor"],["lineWidth","strokeWidth"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"]]),yM=function(n){var t=pa(n);return t.stroke=t.fill=t.lineWidth=null,t},Rp=We(),YO=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e._state="ready",e._storage={nodeGroup:[],background:[],content:[]},e}return G(t,n),t.prototype.render=function(e,i,r,o){if(!(Ie(i.findComponents({mainType:"series",subType:"treemap",query:o}),e)<0)){this.seriesModel=e,this.api=r,this.ecModel=i;var a=ju(o,["treemapZoomToNode","treemapRootToNode"],e),s=o&&o.type,l=e.layoutInfo,u=!this._oldTree,h=this._storage,c="treemapRootToNode"===s&&a&&h?{rootNodeGroup:h.nodeGroup[a.node.getRawIndex()],direction:o.direction}:null,p=this._giveContainerGroup(l),d=e.get("animation"),f=this._doRender(p,e,c);!d||u||s&&"treemapZoomToNode"!==s&&"treemapRootToNode"!==s?f.renderFinally():this._doAnimation(p,f,e,c),this._resetController(r),this._renderBreadcrumb(e,r,a)}},t.prototype._giveContainerGroup=function(e){var i=this._containerGroup;return i||(i=this._containerGroup=new Bm,this._initEvents(i),this.group.add(i)),i.x=e.x,i.y=e.y,i},t.prototype._doRender=function(e,i,r){var o=i.getData().tree,a=this._oldTree,s={nodeGroup:[],background:[],content:[]},l={nodeGroup:[],background:[],content:[]},u=this._storage,h=[];!function d(f,g,m,y,v){function _(b){return b.getId()}function x(b,w){var S=null!=b?f[b]:null,M=null!=w?g[w]:null,T=function(d,f,g,m){return function(y,v,_,x,b,w,S,M,T,C){if(S){var A=S.getLayout(),D=y.getData(),L=S.getModel();if(D.setItemGraphicEl(S.dataIndex,null),A&&A.isInView){var P=A.width,E=A.height,N=A.borderWidth,R=A.invisible,z=S.getRawIndex(),B=M&&M.getRawIndex(),V=S.viewChildren,W=A.upperHeight,Y=V&&V.length,Q=L.getModel("itemStyle"),U=L.getModel(["emphasis","itemStyle"]),j=L.getModel(["blur","itemStyle"]),ne=L.getModel(["select","itemStyle"]),ee=Q.get("borderRadius")||0,te=ot("nodeGroup",Bm);if(te){if(T.add(te),te.x=A.x||0,te.y=A.y||0,te.markRedraw(),Rp(te).nodeWidth=P,Rp(te).nodeHeight=E,A.isAboveViewRoot)return te;var oe=ot("background",fM,C,20);oe&&function($e,Oe,qe){var He=_e(Oe);if(He.dataIndex=S.dataIndex,He.seriesIndex=y.seriesIndex,Oe.setShape({x:0,y:0,width:P,height:E,r:ee}),R)Ve(Oe);else{Oe.invisible=!1;var be=S.getVisual("style"),Nt=be.stroke,At=yM(Q);At.fill=Nt;var at=pa(U);at.fill=U.get("borderColor");var rn=pa(j);rn.fill=j.get("borderColor");var _r=pa(ne);_r.fill=ne.get("borderColor"),qe?Ne(Oe,Nt,be.opacity,{x:N,y:0,width:P-2*N,height:W}):Oe.removeTextContent(),Oe.setStyle(At),Oe.ensureState("emphasis").style=at,Oe.ensureState("blur").style=rn,Oe.ensureState("select").style=_r,jo(Oe)}$e.add(Oe)}(te,oe,Y&&A.upperLabelHeight);var ae=L.get(["emphasis","focus"]),fe=L.get(["emphasis","blurScope"]),ve="ancestor"===ae?S.getAncestorsIndices():"descendant"===ae?S.getDescendantIndices():ae;if(Y)ic(te)&&Ja(te,!1),oe&&(Ja(oe,!0),D.setItemGraphicEl(S.dataIndex,oe),ff(oe,ve,fe));else{var xe=ot("content",fM,C,30);xe&&function($e,Oe){var qe=_e(Oe);qe.dataIndex=S.dataIndex,qe.seriesIndex=y.seriesIndex;var He=Math.max(P-2*N,0),be=Math.max(E-2*N,0);if(Oe.culling=!0,Oe.setShape({x:N,y:N,width:He,height:be,r:ee}),R)Ve(Oe);else{Oe.invisible=!1;var Nt=S.getVisual("style"),At=Nt.fill,at=yM(Q);at.fill=At,at.decal=Nt.decal;var rn=pa(U),_r=pa(j),$s=pa(ne);Ne(Oe,At,Nt.opacity,null),Oe.setStyle(at),Oe.ensureState("emphasis").style=rn,Oe.ensureState("blur").style=_r,Oe.ensureState("select").style=$s,jo(Oe)}$e.add(Oe)}(te,xe),oe.disableMorphing=!0,oe&&ic(oe)&&Ja(oe,!1),Ja(te,!0),D.setItemGraphicEl(S.dataIndex,te),ff(te,ve,fe)}return te}}}function Ve($e){!$e.invisible&&w.push($e)}function Ne($e,Oe,qe,He){var be=L.getModel(He?mM:"label"),Nt=Ot(L.get("name"),null),At=be.getShallow("show");Jt($e,Ut(L,He?mM:"label"),{defaultText:At?Nt:null,inheritColor:Oe,defaultOpacity:qe,labelFetcher:y,labelDataIndex:S.dataIndex});var at=$e.getTextContent();if(at){var rn=at.style,_r=_o(rn.padding||0);He&&($e.setTextConfig({layoutRect:He}),at.disableLabelLayout=!0),at.beforeUpdate=function(){var q2=Math.max((He?He.width:$e.shape.width)-_r[1]-_r[3],0),K2=Math.max((He?He.height:$e.shape.height)-_r[0]-_r[2],0);rn.width===q2&&rn.height===K2||at.setStyle({width:q2,height:K2})},rn.truncateMinChar=2,rn.lineOverflow="truncate",ft(rn,He,A);var $s=at.getState("emphasis");ft($s?$s.style:null,He,A)}}function ft($e,Oe,qe){var He=$e?$e.text:null;if(!Oe&&qe.isLeafRoot&&null!=He){var be=y.get("drillDownIcon",!0);$e.text=be?be+" "+He:He}}function ot($e,Oe,qe,He){var be=null!=B&&_[$e][B],Nt=b[$e];return be?(_[$e][B]=null,function($e,Oe){var qe=$e[z]={};Oe instanceof Bm?(qe.oldX=Oe.x,qe.oldY=Oe.y):qe.oldShape=K({},Oe.shape)}(Nt,be)):R||((be=new Oe)instanceof ci&&(be.z2=100*qe+He),function($e,Oe){var qe=$e[z]={},He=S.parentNode,be=Oe instanceof me;if(He&&(!x||"drillDown"===x.direction)){var Nt=0,At=0,at=b.background[He.getRawIndex()];!x&&at&&at.oldShape&&(Nt=at.oldShape.width,At=at.oldShape.height),be?(qe.oldX=0,qe.oldY=At):qe.oldShape={x:Nt,y:At,width:0,height:0}}qe.fadein=!be}(Nt,be)),v[$e][z]=be}}(i,l,u,r,s,h,d,f,g,m)}(S,M,m,v);T&&d(S&&S.viewChildren||[],M&&M.viewChildren||[],T,y,v+1)}y?(g=f,k(f,function(b,w){!b.isRemoved()&&x(w,w)})):new hr(g,f,_,_).add(x).update(x).remove(ye(x,null)).execute()}(o.root?[o.root]:[],a&&a.root?[a.root]:[],e,o===a||!a,0);var d,f,p=(f={nodeGroup:[],background:[],content:[]},(d=u)&&k(d,function(g,m){var y=f[m];k(g,function(v){v&&(y.push(v),Rp(v).willDelete=!0)})}),f);return this._oldTree=o,this._storage=l,{lastsForAnimation:s,willDeleteEls:p,renderFinally:function(){k(p,function(d){k(d,function(f){f.parent&&f.parent.remove(f)})}),k(h,function(d){d.invisible=!0,d.dirty()})}}},t.prototype._doAnimation=function(e,i,r,o){var a=r.get("animationDurationUpdate"),s=r.get("animationEasing"),l=(Be(a)?0:a)||0,u=(Be(s)?null:s)||"cubicOut",h=new XO;k(i.willDeleteEls,function(c,p){k(c,function(d,f){if(!d.invisible){var g,m=d.parent,y=Rp(m);if(o&&"drillDown"===o.direction)g=m===o.rootNodeGroup?{shape:{x:0,y:0,width:y.nodeWidth,height:y.nodeHeight},style:{opacity:0}}:{style:{opacity:0}};else{var v=0,_=0;y.willDelete||(v=y.nodeWidth/2,_=y.nodeHeight/2),g="nodeGroup"===p?{x:v,y:_,style:{opacity:0}}:{shape:{x:v,y:_,width:0,height:0},style:{opacity:0}}}g&&h.add(d,g,l,0,u)}})}),k(this._storage,function(c,p){k(c,function(d,f){var g=i.lastsForAnimation[p][f],m={};g&&(d instanceof me?null!=g.oldX&&(m.x=d.x,m.y=d.y,d.x=g.oldX,d.y=g.oldY):(g.oldShape&&(m.shape=K({},d.shape),d.setShape(g.oldShape)),g.fadein?(d.setStyle("opacity",0),m.style={opacity:1}):1!==d.style.opacity&&(m.style={opacity:1})),h.add(d,m,l,0,u))})},this),this._state="animating",h.finished(re(function(){this._state="ready",i.renderFinally()},this)).start()},t.prototype._resetController=function(e){var i=this._controller;i||((i=this._controller=new Yu(e.getZr())).enable(this.seriesModel.get("roam")),i.on("pan",re(this._onPan,this)),i.on("zoom",re(this._onZoom,this)));var r=new De(0,0,e.getWidth(),e.getHeight());i.setPointerChecker(function(o,a,s){return r.contain(a,s)})},t.prototype._clearController=function(){var e=this._controller;e&&(e.dispose(),e=null)},t.prototype._onPan=function(e){if("animating"!==this._state&&(Math.abs(e.dx)>3||Math.abs(e.dy)>3)){var i=this.seriesModel.getData().tree.root;if(!i)return;var r=i.getLayout();if(!r)return;this.api.dispatchAction({type:"treemapMove",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:r.x+e.dx,y:r.y+e.dy,width:r.width,height:r.height}})}},t.prototype._onZoom=function(e){var i=e.originX,r=e.originY;if("animating"!==this._state){var o=this.seriesModel.getData().tree.root;if(!o)return;var a=o.getLayout();if(!a)return;var s=new De(a.x,a.y,a.width,a.height),l=this.seriesModel.layoutInfo,u=[1,0,0,1,0,0];ui(u,u,[-(i-=l.x),-(r-=l.y)]),Rh(u,u,[e.scale,e.scale]),ui(u,u,[i,r]),s.applyTransform(u),this.api.dispatchAction({type:"treemapRender",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:s.x,y:s.y,width:s.width,height:s.height}})}},t.prototype._initEvents=function(e){var i=this;e.on("click",function(r){if("ready"===i._state){var o=i.seriesModel.get("nodeClick",!0);if(o){var a=i.findTarget(r.offsetX,r.offsetY);if(a){var s=a.node;if(s.getLayout().isLeafRoot)i._rootToNode(a);else if("zoomToNode"===o)i._zoomToNode(a);else if("link"===o){var l=s.hostTree.data.getItemModel(s.dataIndex),u=l.get("link",!0),h=l.get("target",!0)||"blank";u&&Tc(u,h)}}}}},this)},t.prototype._renderBreadcrumb=function(e,i,r){var o=this;r||(r=null!=e.get("leafDepth",!0)?{node:e.getViewRoot()}:this.findTarget(i.getWidth()/2,i.getHeight()/2))||(r={node:e.getData().tree.root}),(this._breadcrumb||(this._breadcrumb=new HO(this.group))).render(e,i,r.node,function(a){"animating"!==o._state&&(zm(e.getViewRoot(),a)?o._rootToNode({node:a}):o._zoomToNode({node:a}))})},t.prototype.remove=function(){this._clearController(),this._containerGroup&&this._containerGroup.removeAll(),this._storage={nodeGroup:[],background:[],content:[]},this._state="ready",this._breadcrumb&&this._breadcrumb.remove()},t.prototype.dispose=function(){this._clearController()},t.prototype._zoomToNode=function(e){this.api.dispatchAction({type:"treemapZoomToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:e.node})},t.prototype._rootToNode=function(e){this.api.dispatchAction({type:"treemapRootToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:e.node})},t.prototype.findTarget=function(e,i){var r;return this.seriesModel.getViewRoot().eachNode({attr:"viewChildren",order:"preorder"},function(o){var a=this._storage.background[o.getRawIndex()];if(a){var s=a.transformCoordToLocal(e,i),l=a.shape;if(!(l.x<=s[0]&&s[0]<=l.x+l.width&&l.y<=s[1]&&s[1]<=l.y+l.height))return!1;r={node:o,offsetX:s[0],offsetY:s[1]}}},this),r},t.type="treemap",t}(je),Ku=k,ZO=pe,Vt=function(){function n(t){var e=t.mappingMethod,i=t.type,r=this.option=de(t);this.type=i,this.mappingMethod=e,this._normalizeData=jO[e];var a,s,o=n.visualHandlers[i];this.applyVisual=o.applyVisual,this.getColorMapper=o.getColorMapper,this._normalizedToVisual=o._normalizedToVisual[e],"piecewise"===e?(Gm(r),s=(a=r).pieceList,a.hasSpecialVisual=!1,k(s,function(l,u){l.originIndex=u,null!=l.visual&&(a.hasSpecialVisual=!0)})):"category"===e?r.categories?function(a){var s=a.categories,l=a.categoryMap={},u=a.visual;if(Ku(s,function(p,d){l[p]=d}),!Z(u)){var h=[];pe(u)?Ku(u,function(p,d){var f=l[d];h[null!=f?f:-1]=p}):h[-1]=u,u=_M(a,h)}for(var c=s.length-1;c>=0;c--)null==u[c]&&(delete l[s[c]],s.pop())}(r):Gm(r,!0):(vt("linear"!==e||r.dataExtent),Gm(r))}return n.prototype.mapValueToVisual=function(t){var e=this._normalizeData(t);return this._normalizedToVisual(e,t)},n.prototype.getNormalizer=function(){return re(this._normalizeData,this)},n.listVisualTypes=function(){return q(n.visualHandlers)},n.isValidType=function(t){return n.visualHandlers.hasOwnProperty(t)},n.eachVisual=function(t,e,i){pe(t)?k(t,e,i):e.call(i,t)},n.mapVisual=function(t,e,i){var r,o=Z(t)?[]:pe(t)?{}:(r=!0,null);return n.eachVisual(t,function(a,s){var l=e.call(i,a,s);r?o=l:o[s]=l}),o},n.retrieveVisuals=function(t){var e,i={};return t&&Ku(n.visualHandlers,function(r,o){t.hasOwnProperty(o)&&(i[o]=t[o],e=!0)}),e?i:null},n.prepareVisualTypes=function(t){if(Z(t))t=t.slice();else{if(!ZO(t))return[];var e=[];Ku(t,function(i,r){e.push(r)}),t=e}return t.sort(function(i,r){return"color"===r&&"color"!==i&&0===i.indexOf("color")?1:-1}),t},n.dependsOn=function(t,e){return"color"===e?!(!t||0!==t.indexOf(e)):t===e},n.findPieceIndex=function(t,e,i){for(var r,o=1/0,a=0,s=e.length;a<s;a++){var l=e[a].value;if(null!=l){if(l===t||"string"==typeof l&&l===t+"")return a;i&&p(l,a)}}for(a=0,s=e.length;a<s;a++){var u=e[a],h=u.interval,c=u.close;if(h){if(h[0]===-1/0){if(Bp(c[1],t,h[1]))return a}else if(h[1]===1/0){if(Bp(c[0],h[0],t))return a}else if(Bp(c[0],h[0],t)&&Bp(c[1],t,h[1]))return a;i&&p(h[0],a),i&&p(h[1],a)}}if(i)return t===1/0?e.length-1:t===-1/0?0:r;function p(d,f){var g=Math.abs(d-t);g<o&&(o=g,r=f)}},n.visualHandlers={color:{applyVisual:$u("color"),getColorMapper:function(){var t=this.option;return re("category"===t.mappingMethod?function(e,i){return!i&&(e=this._normalizeData(e)),Qu.call(this,e)}:function(e,i,r){var o=!!r;return!i&&(e=this._normalizeData(e)),r=Ji(e,t.parsedVisual,r),o?r:bn(r,"rgba")},this)},_normalizedToVisual:{linear:function(t){return bn(Ji(t,this.option.parsedVisual),"rgba")},category:Qu,piecewise:function(t,e){var i=Hm.call(this,e);return null==i&&(i=bn(Ji(t,this.option.parsedVisual),"rgba")),i},fixed:da}},colorHue:zp(function(t,e){return tr(t,e)}),colorSaturation:zp(function(t,e){return tr(t,null,e)}),colorLightness:zp(function(t,e){return tr(t,null,null,e)}),colorAlpha:zp(function(t,e){return Ar(t,e)}),decal:{applyVisual:$u("decal"),_normalizedToVisual:{linear:null,category:Qu,piecewise:null,fixed:null}},opacity:{applyVisual:$u("opacity"),_normalizedToVisual:Fm([0,1])},liftZ:{applyVisual:$u("liftZ"),_normalizedToVisual:{linear:da,category:da,piecewise:da,fixed:da}},symbol:{applyVisual:function(t,e,i){i("symbol",this.mapValueToVisual(t))},_normalizedToVisual:{linear:vM,category:Qu,piecewise:function(t,e){var i=Hm.call(this,e);return null==i&&(i=vM.call(this,t)),i},fixed:da}},symbolSize:{applyVisual:$u("symbolSize"),_normalizedToVisual:Fm([0,1])}},n}();function Gm(n,t){var e=n.visual,i=[];pe(e)?Ku(e,function(r){i.push(r)}):null!=e&&i.push(e),t||1!==i.length||{color:1,symbol:1}.hasOwnProperty(n.type)||(i[1]=i[0]),_M(n,i)}function zp(n){return{applyVisual:function(t,e,i){var r=this.mapValueToVisual(t);i("color",n(e("color"),r))},_normalizedToVisual:Fm([0,1])}}function vM(n){var t=this.option.visual;return t[Math.round(Ze(n,[0,1],[0,t.length-1],!0))]||{}}function $u(n){return function(t,e,i){i(n,this.mapValueToVisual(t))}}function Qu(n){var t=this.option.visual;return t[this.option.loop&&-1!==n?n%t.length:n]}function da(){return this.option.visual[0]}function Fm(n){return{linear:function(t){return Ze(t,n,this.option.visual,!0)},category:Qu,piecewise:function(t,e){var i=Hm.call(this,e);return null==i&&(i=Ze(t,n,this.option.visual,!0)),i},fixed:da}}function Hm(n){var t=this.option,e=t.pieceList;if(t.hasSpecialVisual){var i=e[Vt.findPieceIndex(n,e)];if(i&&i.visual)return i.visual[this.type]}}function _M(n,t){return n.visual=t,"color"===n.type&&(n.parsedVisual=J(t,function(e){return Rt(e)})),t}var jO={linear:function(n){return Ze(n,this.option.dataExtent,[0,1],!0)},piecewise:function(n){var t=this.option.pieceList,e=Vt.findPieceIndex(n,t,!0);if(null!=e)return Ze(e,[0,t.length-1],[0,1],!0)},category:function(n){var t=this.option.categories?this.option.categoryMap[n]:n;return null==t?-1:t},fixed:yn};function Bp(n,t,e){return n?t<=e:t<e}var xM=We(),qO={seriesType:"treemap",reset:function(n){var t=n.getData().tree.root;t.isRemoved()||bM(t,{},n.getViewRoot().getAncestors(),n)}};function bM(n,t,e,i){var g,m,y,v,_,r=n.getModel(),o=n.getLayout(),a=n.hostTree.data;if(o&&!o.invisible&&o.isInView){var s,l=r.getModel("itemStyle"),u=(g=l,y=i,v=K({},m=t),_=y.designatedVisualItemStyle,k(["color","colorAlpha","colorSaturation"],function(x){_[x]=m[x];var b=g.get(x);_[x]=null,null!=b&&(v[x]=b)}),v),h=a.ensureUniqueItemVisual(n.dataIndex,"style"),c=l.get("borderColor"),p=l.get("borderColorSaturation");null!=p&&(c=function(g,m){return null!=m?tr(m,null,null,g):null}(p,s=wM(u))),h.stroke=c;var d=n.viewChildren;if(d&&d.length){var f=function(g,m,y,v,_,x){if(x&&x.length){var b=Um(m,"color")||null!=_.color&&"none"!==_.color&&(Um(m,"colorAlpha")||Um(m,"colorSaturation"));if(b){var w=m.get("visualMin"),S=m.get("visualMax"),M=y.dataExtent.slice();null!=w&&w<M[0]&&(M[0]=w),null!=S&&S>M[1]&&(M[1]=S);var T=m.get("colorMappingBy"),C={type:b.name,dataExtent:M,visual:b.range};"color"!==C.type||"index"!==T&&"id"!==T?C.mappingMethod="linear":(C.mappingMethod="category",C.loop=!0);var A=new Vt(C);return xM(A).drColorMappingBy=T,A}}}(0,r,o,0,u,d);k(d,function(g,m){if(g.depth>=e.length||g===e[g.depth]){var y=function(v,_,x,b,w,S){var M=K({},_);if(w){var T=w.type,C="color"===T&&xM(w).drColorMappingBy,A="index"===C?b:"id"===C?S.mapIdToIndex(x.getId()):x.getValue(v.get("visualDimension"));M[T]=w.mapValueToVisual(A)}return M}(r,u,g,m,f,i);bM(g,y,e,i)}})}else s=wM(u),h.fill=s}}function wM(n){var t=Wm(n,"color");if(t){var e=Wm(n,"colorAlpha"),i=Wm(n,"colorSaturation");return i&&(t=tr(t,null,null,i)),e&&(t=Ar(t,e)),t}}function Wm(n,t){var e=n[t];if(null!=e&&"none"!==e)return e}function Um(n,t){var e=n.get(t);return Z(e)&&e.length?{name:t,range:e}:null}var Ju=Math.max,Vp=Math.min,SM=st,Xm=k,MM=["itemStyle","borderWidth"],KO=["itemStyle","gapWidth"],$O=["upperLabel","show"],QO=["upperLabel","height"],JO={seriesType:"treemap",reset:function(n,t,e,i){var r=e.getWidth(),o=e.getHeight(),a=n.option,s=Tt(n.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()}),l=a.size||[],u=ie(SM(s.width,l[0]),r),h=ie(SM(s.height,l[1]),o),c=i&&i.type,p=ju(i,["treemapZoomToNode","treemapRootToNode"],n),d="treemapRender"===c||"treemapMove"===c?i.rootRect:null,f=n.getViewRoot(),g=hM(f);if("treemapMove"!==c){var m="treemapZoomToNode"===c?function(b,w,S,M,T){var C,A=(w||{}).node,D=[M,T];if(!A||A===S)return D;for(var L=M*T,P=L*b.option.zoomToNodeRatio;C=A.parentNode;){for(var E=0,N=C.children,R=0,z=N.length;R<z;R++)E+=N[R].getValue();var B=A.getValue();if(0===B)return D;P*=E/B;var V=C.getModel(),W=V.get(MM);(P+=4*W*W+(3*W+Math.max(W,AM(V)))*Math.pow(P,.5))>Nd&&(P=Nd),A=C}P<L&&(P=L);var Y=Math.pow(P/L,.5);return[M*Y,T*Y]}(n,p,f,u,h):d?[d.width,d.height]:[u,h],y=a.sort;y&&"asc"!==y&&"desc"!==y&&(y="desc");var v={squareRatio:a.squareRatio,sort:y,leafDepth:a.leafDepth};f.hostTree.clearLayouts();var _={x:0,y:0,width:m[0],height:m[1],area:m[0]*m[1]};f.setLayout(_),IM(f,v,!1,0),_=f.getLayout(),Xm(g,function(b,w){var S=(g[w+1]||f).getValue();b.setLayout(K({dataExtent:[S,S],borderWidth:0,upperHeight:0},_))})}var x=n.getData().tree.root;x.setLayout(function(b,w,S){if(w)return{x:w.x,y:w.y};var M={x:0,y:0};if(!S)return M;var T=S.node,C=T.getLayout();if(!C)return M;for(var A=[C.width/2,C.height/2],D=T;D;){var L=D.getLayout();A[0]+=L.x,A[1]+=L.y,D=D.parentNode}return{x:b.width/2-A[0],y:b.height/2-A[1]}}(s,d,p),!0),n.setLayoutInfo(s),CM(x,new De(-s.x,-s.y,r,o),g,f,0)}};function IM(n,t,e,i){var r,o;if(!n.isRemoved()){var a=n.getLayout();r=a.width,o=a.height;var s=n.getModel(),l=s.get(MM),u=s.get(KO)/2,h=AM(s),c=Math.max(l,h),p=l-u,d=c-u;n.setLayout({borderWidth:l,upperHeight:c,upperLabelHeight:h},!0);var f=(r=Ju(r-2*p,0))*(o=Ju(o-p-d,0)),g=function(T,C,A,D,L,P){var E=T.children||[],N=D.sort;"asc"!==N&&"desc"!==N&&(N=null);var Y,Q,R=null!=D.leafDepth&&D.leafDepth<=P;if(L&&!R)return T.viewChildren=[];Y=E=Ke(E,function(Y){return!Y.isRemoved()}),(Q=N)&&Y.sort(function(U,j){var ne="asc"===Q?U.getValue()-j.getValue():j.getValue()-U.getValue();return 0===ne?"asc"===Q?U.dataIndex-j.dataIndex:j.dataIndex-U.dataIndex:ne});var z=function(Y,Q,U){for(var j=0,ne=0,ee=Q.length;ne<ee;ne++)j+=Q[ne].getValue();var te,oe=Y.get("visualDimension");return Q&&Q.length?"value"===oe&&U?(te=[Q[Q.length-1].getValue(),Q[0].getValue()],"asc"===U&&te.reverse()):(te=[1/0,-1/0],Xm(Q,function(ae){var fe=ae.getValue(oe);fe<te[0]&&(te[0]=fe),fe>te[1]&&(te[1]=fe)})):te=[NaN,NaN],{sum:j,dataExtent:te}}(C,E,N);if(0===z.sum)return T.viewChildren=[];if(z.sum=function(Y,Q,U,j,ne){if(!j)return U;for(var ee=Y.get("visibleMin"),te=ne.length,oe=te,ae=te-1;ae>=0;ae--){var fe=ne["asc"===j?te-ae-1:ae].getValue();fe/U*Q<ee&&(oe=ae,U-=fe)}return ne.splice("asc"===j?0:oe,te-oe),U}(C,A,z.sum,N,E),0===z.sum)return T.viewChildren=[];for(var B=0,V=E.length;B<V;B++){var W=E[B].getValue()/z.sum*A;E[B].setLayout({area:W})}return R&&(E.length&&T.setLayout({isLeafRoot:!0},!0),E.length=0),T.viewChildren=E,T.setLayout({dataExtent:z.dataExtent},!0),E}(n,s,f,t,e,i);if(g.length){var m={x:p,y:d,width:r,height:o},y=Vp(r,o),v=1/0,_=[];_.area=0;for(var x=0,b=g.length;x<b;){var w=g[x];_.push(w),_.area+=w.getLayout().area;var S=eE(_,y,t.squareRatio);S<=v?(x++,v=S):(_.area-=_.pop().getLayout().area,TM(_,y,m,u,!1),y=Vp(m.width,m.height),_.length=_.area=0,v=1/0)}if(_.length&&TM(_,y,m,u,!0),!e){var M=s.get("childrenVisibleMin");null!=M&&f<M&&(e=!0)}for(x=0,b=g.length;x<b;x++)IM(g[x],t,e,i+1)}}}function eE(n,t,e){for(var i=0,r=1/0,o=0,a=void 0,s=n.length;o<s;o++)(a=n[o].getLayout().area)&&(a<r&&(r=a),a>i&&(i=a));var l=n.area*n.area,u=t*t*e;return l?Ju(u*i/l,l/(u*r)):1/0}function TM(n,t,e,i,r){var o=t===e.width?0:1,a=1-o,s=["x","y"],l=["width","height"],u=e[s[o]],h=t?n.area/t:0;(r||h>e[l[a]])&&(h=e[l[a]]);for(var c=0,p=n.length;c<p;c++){var d=n[c],f={},g=h?d.getLayout().area/h:0,m=f[l[a]]=Ju(h-2*i,0),y=e[s[o]]+e[l[o]]-u,v=c===p-1||y<g?y:g,_=f[l[o]]=Ju(v-2*i,0);f[s[a]]=e[s[a]]+Vp(i,m/2),f[s[o]]=u+Vp(i,_/2),u+=v,d.setLayout(f,!0)}e[s[a]]+=h,e[l[a]]-=h}function CM(n,t,e,i,r){var o=n.getLayout(),a=e[r],s=a&&a===n;if(!(a&&!s||r===e.length&&n!==i)){n.setLayout({isInView:!0,invisible:!s&&!t.intersect(o),isAboveViewRoot:s},!0);var l=new De(t.x-o.x,t.y-o.y,t.width,t.height);Xm(n.viewChildren||[],function(u){CM(u,l,e,i,r+1)})}}function AM(n){return n.get($O)?n.get(QO):0}function tE(n){var t=n.findComponents({mainType:"legend"});t&&t.length&&n.eachSeriesByType("graph",function(e){var i=e.getCategoriesData(),r=e.getGraph().data,o=i.mapArray(i.getName);r.filterSelf(function(a){var s=r.getItemModel(a).getShallow("category");if(null!=s){"number"==typeof s&&(s=o[s]);for(var l=0;l<t.length;l++)if(!t[l].isSelected(s))return!1}return!0})})}function nE(n){var t={};n.eachSeriesByType("graph",function(e){var i=e.getCategoriesData(),r=e.getData(),o={};i.each(function(a){var s=i.getName(a);o["ec-"+s]=a;var l=i.getItemModel(a),u=l.getModel("itemStyle").getItemStyle();u.fill||(u.fill=e.getColorFromPalette(s,t)),i.setItemVisual(a,"style",u);for(var h=["symbol","symbolSize","symbolKeepAspect"],c=0;c<h.length;c++){var p=l.getShallow(h[c],!0);null!=p&&i.setItemVisual(a,h[c],p)}}),i.count()&&r.each(function(a){var s=r.getItemModel(a).getShallow("category");if(null!=s){"string"==typeof s&&(s=o["ec-"+s]);var l=i.getItemVisual(s,"style");K(r.ensureUniqueItemVisual(a,"style"),l);for(var u=["symbol","symbolSize","symbolKeepAspect"],h=0;h<u.length;h++)r.setItemVisual(a,u[h],i.getItemVisual(s,u[h]))}})})}function Gp(n){return n instanceof Array||(n=[n,n]),n}function iE(n){n.eachSeriesByType("graph",function(t){var e=t.getGraph(),i=t.getEdgeData(),r=Gp(t.get("edgeSymbol")),o=Gp(t.get("edgeSymbolSize"));i.setVisual("fromSymbol",r&&r[0]),i.setVisual("toSymbol",r&&r[1]),i.setVisual("fromSymbolSize",o&&o[0]),i.setVisual("toSymbolSize",o&&o[1]),i.setVisual("style",t.getModel("lineStyle").getLineStyle()),i.each(function(a){var s=i.getItemModel(a),l=e.getEdgeByIndex(a),u=Gp(s.getShallow("symbol",!0)),h=Gp(s.getShallow("symbolSize",!0)),c=s.getModel("lineStyle").getLineStyle(),p=i.ensureUniqueItemVisual(a,"style");switch(K(p,c),p.stroke){case"source":var d=l.node1.getVisual("style");p.stroke=d&&d.fill;break;case"target":d=l.node2.getVisual("style"),p.stroke=d&&d.fill}u[0]&&l.setVisual("fromSymbol",u[0]),u[1]&&l.setVisual("toSymbol",u[1]),h[0]&&l.setVisual("fromSymbolSize",h[0]),h[1]&&l.setVisual("toSymbolSize",h[1])})})}var Fp=function(n){return n.get("autoCurveness")||null},DM=function(n,t){var e=Fp(n),i=20,r=[];if("number"==typeof e)i=e;else if(Z(e))return void(n.__curvenessList=e);t>i&&(i=t);var o=i%2?i+2:i+3;r=[];for(var a=0;a<o;a++)r.push((a%2?a+1:a)/10*(a%2?-1:1));n.__curvenessList=r},eh=function(n,t,e){var i=[n.id,n.dataIndex].join("."),r=[t.id,t.dataIndex].join(".");return[e.uid,i,r].join("--\x3e")},kM=function(n){var t=n.split("--\x3e");return[t[0],t[2],t[1]].join("--\x3e")},Zm=function(n,t){var e=t.__edgeMap;return e[n]?e[n].length:0};function jm(n,t,e,i){var r=Fp(t),o=Z(r);if(!r)return null;var m,y,v,a=(v=eh((m=n).node1,m.node2,y=t),y.__edgeMap[v]);if(!a)return null;for(var s=-1,l=0;l<a.length;l++)if(a[l]===e){s=l;break}var u=function(m,y){return Zm(eh(m.node1,m.node2,y),y)+Zm(eh(m.node2,m.node1,y),y)}(n,t);DM(t,u),n.lineStyle=n.lineStyle||{};var h=eh(n.node1,n.node2,t),c=t.__curvenessList,p=o||u%2?0:1;if(a.isForward)return c[p+s];var d=kM(h),f=Zm(d,t),g=c[s+f+p];return i?o?r&&0===r[0]?(f+p)%2?g:-g:((f%2?0:1)+p)%2?g:-g:(f+p)%2?g:-g:c[s+f+p]}function LM(n){var t=n.coordinateSystem;if(!t||"view"===t.type){var e=n.getGraph();e.eachNode(function(i){var r=i.getModel();i.setLayout([+r.get("x"),+r.get("y")])}),PM(e,n)}}function PM(n,t){n.eachEdge(function(e,i){var r=qt(e.getModel().get(["lineStyle","curveness"]),-jm(e,t,i,!0),0),o=vn(e.node1.getLayout()),a=vn(e.node2.getLayout()),s=[o,a];+r&&s.push([(o[0]+a[0])/2-(o[1]-a[1])*r,(o[1]+a[1])/2-(a[0]-o[0])*r]),e.setLayout(s)})}function rE(n,t){n.eachSeriesByType("graph",function(e){var i=e.get("layout"),r=e.coordinateSystem;if(r&&"view"!==r.type){var o=e.getData(),a=[];k(r.dimensions,function(p){a=a.concat(o.mapDimensionsAll(p))});for(var s=0;s<o.count();s++){for(var l=[],u=!1,h=0;h<a.length;h++){var c=o.get(a[h],s);isNaN(c)||(u=!0),l.push(c)}o.setItemLayout(s,u?r.dataToPoint(l):[NaN,NaN])}PM(o.graph,e)}else i&&"none"!==i||LM(e)})}function th(n){var t=n.coordinateSystem;if("view"!==t.type)return 1;var e=n.option.nodeScaleRatio,i=t.scaleX;return((t.getZoom()-1)*e+1)/i}function nh(n){var t=n.getVisual("symbolSize");return t instanceof Array&&(t=(t[0]+t[1])/2),+t}var OM=Math.PI,qm=[];function EM(n,t){var e=n.coordinateSystem;if(!e||"view"===e.type){var i=e.getBoundingRect(),r=n.getData(),o=r.graph,a=i.width/2+i.x,s=i.height/2+i.y,l=Math.min(i.width,i.height)/2,u=r.count();r.setLayout({cx:a,cy:s}),u&&(oE[t](n,o,r,l,a,s,u),o.eachEdge(function(h,c){var p,d=qt(h.getModel().get(["lineStyle","curveness"]),jm(h,n,c),0),f=vn(h.node1.getLayout()),g=vn(h.node2.getLayout());+d&&(p=[a*(d*=3)+(f[0]+g[0])/2*(1-d),s*d+(f[1]+g[1])/2*(1-d)]),h.setLayout([f,g,p])}))}}var oE={value:function(n,t,e,i,r,o,a){var s=0,l=e.getSum("value"),u=2*Math.PI/(l||a);t.eachNode(function(h){var c=h.getValue("value"),p=u*(l?c:1)/2;s+=p,h.setLayout([i*Math.cos(s)+r,i*Math.sin(s)+o]),s+=p})},symbolSize:function(n,t,e,i,r,o,a){var s=0;qm.length=a;var l=th(n);t.eachNode(function(c){var p=nh(c);isNaN(p)&&(p=2),p<0&&(p=0),p*=l;var d=Math.asin(p/2/i);isNaN(d)&&(d=OM/2),qm[c.dataIndex]=d,s+=2*d});var u=(2*OM-s)/a/2,h=0;t.eachNode(function(c){var p=u+qm[c.dataIndex];h+=p,c.setLayout([i*Math.cos(h)+r,i*Math.sin(h)+o]),h+=p})}};function aE(n){n.eachSeriesByType("graph",function(t){"circular"===t.get("layout")&&EM(t,"symbolSize")})}var zs=br;function sE(n){n.eachSeriesByType("graph",function(t){var e=t.coordinateSystem;if(!e||"view"===e.type)if("force"===t.get("layout")){var i=t.preservedPoints||{},r=t.getGraph(),o=r.data,a=r.edgeData,s=t.getModel("force"),l=s.get("initLayout");t.preservedPoints?o.each(function(_){var x=o.getId(_);o.setItemLayout(_,i[x]||[NaN,NaN])}):l&&"none"!==l?"circular"===l&&EM(t,"value"):LM(t);var u=o.getDataExtent("value"),h=a.getDataExtent("value"),c=s.get("repulsion"),p=s.get("edgeLength"),d=Z(c)?c:[c,c],f=Z(p)?p:[p,p];f=[f[1],f[0]];var g=o.mapArray("value",function(_,x){var b=o.getItemLayout(x),w=Ze(_,u,d);return isNaN(w)&&(w=(d[0]+d[1])/2),{w,rep:w,fixed:o.getItemModel(x).get("fixed"),p:!b||isNaN(b[0])||isNaN(b[1])?null:b}}),m=a.mapArray("value",function(_,x){var b=r.getEdgeByIndex(x),w=Ze(_,h,f);isNaN(w)&&(w=(f[0]+f[1])/2);var S=b.getModel(),M=qt(b.getModel().get(["lineStyle","curveness"]),-jm(b,t,x,!0),0);return{n1:g[b.node1.dataIndex],n2:g[b.node2.dataIndex],d:w,curveness:M,ignoreForceLayout:S.get("ignoreForceLayout")}}),y=e.getBoundingRect(),v=function(_,x,b){for(var w=_,S=x,M=b.rect,T=M.width,C=M.height,A=[M.x+T/2,M.y+C/2],D=null==b.gravity?.1:b.gravity,L=0;L<w.length;L++){var P=w[L];P.p||(P.p=Kt(T*(Math.random()-.5)+A[0],C*(Math.random()-.5)+A[1])),P.pp=vn(P.p),P.edges=null}var E,N,R=null==b.friction?.6:b.friction,z=R;return{warmUp:function(){z=.8*R},setFixed:function(B){w[B].fixed=!0},setUnfixed:function(B){w[B].fixed=!1},beforeStep:function(B){E=B},afterStep:function(B){N=B},step:function(B){E&&E(w,S);for(var V=[],W=w.length,Y=0;Y<S.length;Y++){var Q=S[Y];if(!Q.ignoreForceLayout){var U=Q.n1;Mi(V,(te=Q.n2).p,U.p);var j=wr(V)-Q.d,ne=te.w/(U.w+te.w);isNaN(ne)&&(ne=0),Mr(V,V),!U.fixed&&zs(U.p,U.p,V,ne*j*z),!te.fixed&&zs(te.p,te.p,V,-(1-ne)*j*z)}}for(Y=0;Y<W;Y++)(fe=w[Y]).fixed||(Mi(V,A,fe.p),zs(fe.p,fe.p,V,D*z));for(Y=0;Y<W;Y++){U=w[Y];for(var ee=Y+1;ee<W;ee++){var te;Mi(V,(te=w[ee]).p,U.p),0===(j=wr(V))&&(rl(V,Math.random()-.5,Math.random()-.5),j=1);var oe=(U.rep+te.rep)/j/j;!U.fixed&&zs(U.pp,U.pp,V,oe),!te.fixed&&zs(te.pp,te.pp,V,-oe)}}var ae=[];for(Y=0;Y<W;Y++){var fe;(fe=w[Y]).fixed||(Mi(ae,fe.p,fe.pp),zs(fe.p,fe.p,ae,z),Dt(fe.pp,fe.p))}var ve=(z*=.992)<.01;N&&N(w,S,ve),B&&B(ve)}}}(g,m,{rect:y,gravity:s.get("gravity"),friction:s.get("friction")});v.beforeStep(function(_,x){for(var b=0,w=_.length;b<w;b++)_[b].fixed&&Dt(_[b].p,r.getNodeByIndex(b).getLayout())}),v.afterStep(function(_,x,b){for(var w=0,S=_.length;w<S;w++)_[w].fixed||r.getNodeByIndex(w).setLayout(_[w].p),i[o.getId(w)]=_[w].p;for(w=0,S=x.length;w<S;w++){var M=x[w],T=r.getEdgeByIndex(w),C=M.n1.p,A=M.n2.p,D=T.getLayout();(D=D?D.slice():[])[0]=D[0]||[],D[1]=D[1]||[],Dt(D[0],C),Dt(D[1],A),+M.curveness&&(D[2]=[(C[0]+A[0])/2-(C[1]-A[1])*M.curveness,(C[1]+A[1])/2-(A[0]-C[0])*M.curveness]),T.setLayout(D)}}),t.forceLayout=v,t.preservedPoints=i,v.step()}else t.forceLayout=null})}function lE(n,t){var e=[];return n.eachSeriesByType("graph",function(i){var m,y,r=i.get("coordinateSystem");if(!r||"view"===r){var o=i.getData(),a=[],s=[];Rl(o.mapArray(function(g){var m=o.getItemModel(g);return[+m.get("x"),+m.get("y")]}),a,s),s[0]-a[0]==0&&(s[0]+=1,a[0]-=1),s[1]-a[1]==0&&(s[1]+=1,a[1]-=1);var l=(s[0]-a[0])/(s[1]-a[1]),u=(m=t,y=l,Tt(K(i.getBoxLayoutParams(),{aspect:y}),{width:m.getWidth(),height:m.getHeight()}));isNaN(l)&&(a=[u.x,u.y],s=[u.x+u.width,u.y+u.height]);var h=s[0]-a[0],c=s[1]-a[1],p=u.width,d=u.height,f=i.coordinateSystem=new Rs;f.zoomLimit=i.get("scaleLimit"),f.setBoundingRect(a[0],a[1],h,c),f.setViewRect(u.x,u.y,p,d),f.setCenter(i.get("center")),f.setZoom(i.get("zoom")),e.push(f)}}),e}var NM=Et.prototype,Km=is.prototype,RM=function(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.percent=1};function $m(n){return isNaN(+n.cpx1)||isNaN(+n.cpy1)}!function(n){G(function(){return null!==n&&n.apply(this,arguments)||this},n)}(RM);var uE=function(n){function t(e){var i=n.call(this,e)||this;return i.type="ec-line",i}return G(t,n),t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new RM},t.prototype.buildPath=function(e,i){$m(i)?NM.buildPath.call(this,e,i):Km.buildPath.call(this,e,i)},t.prototype.pointAt=function(e){return $m(this.shape)?NM.pointAt.call(this,e):Km.pointAt.call(this,e)},t.prototype.tangentAt=function(e){var i=this.shape,r=$m(i)?[i.x2-i.x1,i.y2-i.y1]:Km.tangentAt.call(this,e);return Mr(r,r)},t}(Le),Qm=["fromSymbol","toSymbol"];function zM(n){return"_"+n+"Type"}function BM(n,t,e){var i=t.getItemVisual(e,n);if(i&&"none"!==i){var r=t.getItemVisual(e,n+"Size"),o=t.getItemVisual(e,n+"Rotate"),a=t.getItemVisual(e,n+"Offset"),s=t.getItemVisual(e,n+"KeepAspect"),l=mu(r),u=Ms(a||0,l),h=xt(i,-l[0]/2+u[0],-l[1]/2+u[1],l[0],l[1],null,s);return h.__specifiedRotation=null==o||isNaN(o)?void 0:+o*Math.PI/180||0,h.name=n,h}}function Jm(n,t){n.x1=t[0][0],n.y1=t[0][1],n.x2=t[1][0],n.y2=t[1][1],n.percent=1;var e=t[2];e?(n.cpx1=e[0],n.cpy1=e[1]):(n.cpx1=NaN,n.cpy1=NaN)}var ey=function(n){function t(e,i,r){var o=n.call(this)||this;return o._createLine(e,i,r),o}return G(t,n),t.prototype._createLine=function(e,i,r){var s,l,o=e.hostModel,a=(s=e.getItemLayout(i),Jm((l=new uE({name:"line",subPixelOptimize:!0})).shape,s),l);a.shape.percent=0,lt(a,{shape:{percent:1}},o,i),this.add(a),k(Qm,function(s){var l=BM(s,e,i);this.add(l),this[zM(s)]=e.getItemVisual(i,s)},this),this._updateCommonStl(e,i,r)},t.prototype.updateData=function(e,i,r){var o=e.hostModel,a=this.childOfName("line"),s=e.getItemLayout(i),l={shape:{}};Jm(l.shape,s),ze(a,l,o,i),k(Qm,function(u){var h=e.getItemVisual(i,u),c=zM(u);if(this[c]!==h){this.remove(this.childOfName(u));var p=BM(u,e,i);this.add(p)}this[c]=h},this),this._updateCommonStl(e,i,r)},t.prototype.getLinePath=function(){return this.childAt(0)},t.prototype._updateCommonStl=function(e,i,r){var o=e.hostModel,a=this.childOfName("line"),s=r&&r.emphasisLineStyle,l=r&&r.blurLineStyle,u=r&&r.selectLineStyle,h=r&&r.labelStatesModels;if(!r||e.hasItemOption){var c=e.getItemModel(i);s=c.getModel(["emphasis","lineStyle"]).getLineStyle(),l=c.getModel(["blur","lineStyle"]).getLineStyle(),u=c.getModel(["select","lineStyle"]).getLineStyle(),h=Ut(c)}var p=e.getItemVisual(i,"style"),d=p.stroke;a.useStyle(p),a.style.fill=null,a.style.strokeNoScale=!0,a.ensureState("emphasis").style=s,a.ensureState("blur").style=l,a.ensureState("select").style=u,k(Qm,function(v){var _=this.childOfName(v);if(_){_.setColor(d),_.style.opacity=p.opacity;for(var x=0;x<cn.length;x++){var b=cn[x],w=a.getState(b);if(w){var S=w.style||{},M=_.ensureState(b),T=M.style||(M.style={});null!=S.stroke&&(T[_.__isEmptyBrush?"stroke":"fill"]=S.stroke),null!=S.opacity&&(T.opacity=S.opacity)}}_.markRedraw()}},this);var f=o.getRawValue(i);Jt(this,h,{labelDataIndex:i,labelFetcher:{getFormattedLabel:function(v,_){return o.getFormattedLabel(v,_,e.dataType)}},inheritColor:d||"#000",defaultOpacity:p.opacity,defaultText:(null==f?e.getName(i):isFinite(f)?Pt(f):f)+""});var g=this.getTextContent();if(g){var m=h.normal;g.__align=g.style.align,g.__verticalAlign=g.style.verticalAlign,g.__position=m.get("position")||"middle";var y=m.get("distance");Z(y)||(y=[y,y]),g.__labelDistance=y}this.setTextConfig({position:null,local:!0,inside:!1}),nt(this)},t.prototype.highlight=function(){zi(this)},t.prototype.downplay=function(){Bi(this)},t.prototype.updateLayout=function(e,i){this.setLinePoints(e.getItemLayout(i))},t.prototype.setLinePoints=function(e){var i=this.childOfName("line");Jm(i.shape,e),i.dirty()},t.prototype.beforeUpdate=function(){var e=this,i=e.childOfName("fromSymbol"),r=e.childOfName("toSymbol"),o=e.getTextContent();if(i||r||o&&!o.ignore){for(var a=1,s=this.parent;s;)s.scaleX&&(a/=s.scaleX),s=s.parent;var l=e.childOfName("line");if(this.__dirty||l.__dirty){var u=l.shape.percent,h=l.pointAt(0),c=l.pointAt(u),p=Mi([],c,h);if(Mr(p,p),i&&(i.setPosition(h),T(i,0),i.scaleX=i.scaleY=a*u,i.markRedraw()),r&&(r.setPosition(c),T(r,1),r.scaleX=r.scaleY=a*u,r.markRedraw()),o&&!o.ignore){o.x=o.y=0,o.originX=o.originY=0;var d=void 0,f=void 0,g=o.__labelDistance,m=g[0]*a,y=g[1]*a,v=u/2,_=l.tangentAt(v),x=[_[1],-_[0]],b=l.pointAt(v);x[1]>0&&(x[0]=-x[0],x[1]=-x[1]);var w=_[0]<0?-1:1;if("start"!==o.__position&&"end"!==o.__position){var S=-Math.atan2(_[1],_[0]);c[0]<h[0]&&(S=Math.PI+S),o.rotation=S}var M=void 0;switch(o.__position){case"insideStartTop":case"insideMiddleTop":case"insideEndTop":case"middle":M=-y,f="bottom";break;case"insideStartBottom":case"insideMiddleBottom":case"insideEndBottom":M=y,f="top";break;default:M=0,f="middle"}switch(o.__position){case"end":o.x=p[0]*m+c[0],o.y=p[1]*y+c[1],d=p[0]>.8?"left":p[0]<-.8?"right":"center",f=p[1]>.8?"top":p[1]<-.8?"bottom":"middle";break;case"start":o.x=-p[0]*m+h[0],o.y=-p[1]*y+h[1],d=p[0]>.8?"right":p[0]<-.8?"left":"center",f=p[1]>.8?"bottom":p[1]<-.8?"top":"middle";break;case"insideStartTop":case"insideStart":case"insideStartBottom":o.x=m*w+h[0],o.y=h[1]+M,d=_[0]<0?"right":"left",o.originX=-m*w,o.originY=-M;break;case"insideMiddleTop":case"insideMiddle":case"insideMiddleBottom":case"middle":o.x=b[0],o.y=b[1]+M,d="center",o.originY=-M;break;case"insideEndTop":case"insideEnd":case"insideEndBottom":o.x=-m*w+c[0],o.y=c[1]+M,d=_[0]>=0?"right":"left",o.originX=m*w,o.originY=-M}o.scaleX=o.scaleY=a,o.setStyle({verticalAlign:o.__verticalAlign||f,align:o.__align||d})}}}function T(C,A){var D=C.__specifiedRotation;if(null==D){var L=l.tangentAt(A);C.attr("rotation",(1===A?-1:1)*Math.PI/2-Math.atan2(L[1],L[0]))}else C.attr("rotation",D)}},t}(me),ty=function(){function n(t){this.group=new me,this._LineCtor=t||ey}return n.prototype.isPersistent=function(){return!0},n.prototype.updateData=function(t){var e=this,i=this,r=i.group,o=i._lineData;i._lineData=t,o||r.removeAll();var a=VM(t);t.diff(o).add(function(s){e._doAdd(t,s,a)}).update(function(s,l){e._doUpdate(o,t,l,s,a)}).remove(function(s){r.remove(o.getItemGraphicEl(s))}).execute()},n.prototype.updateLayout=function(){var t=this._lineData;t&&t.eachItemGraphicEl(function(e,i){e.updateLayout(t,i)},this)},n.prototype.incrementalPrepareUpdate=function(t){this._seriesScope=VM(t),this._lineData=null,this.group.removeAll()},n.prototype.incrementalUpdate=function(t,e){function i(a){var s;a.isGroup||(s=a).animators&&s.animators.length>0||(a.incremental=!0,a.ensureState("emphasis").hoverLayer=!0)}for(var r=t.start;r<t.end;r++)if(ny(e.getItemLayout(r))){var o=new this._LineCtor(e,r,this._seriesScope);o.traverse(i),this.group.add(o),e.setItemGraphicEl(r,o)}},n.prototype.remove=function(){this.group.removeAll()},n.prototype._doAdd=function(t,e,i){if(ny(t.getItemLayout(e))){var r=new this._LineCtor(t,e,i);t.setItemGraphicEl(e,r),this.group.add(r)}},n.prototype._doUpdate=function(t,e,i,r,o){var a=t.getItemGraphicEl(i);ny(e.getItemLayout(r))?(a?a.updateData(e,r,o):a=new this._LineCtor(e,r,o),e.setItemGraphicEl(r,a),this.group.add(a)):this.group.remove(a)},n}();function VM(n){var t=n.hostModel;return{lineStyle:t.getModel("lineStyle").getLineStyle(),emphasisLineStyle:t.getModel(["emphasis","lineStyle"]).getLineStyle(),blurLineStyle:t.getModel(["blur","lineStyle"]).getLineStyle(),selectLineStyle:t.getModel(["select","lineStyle"]).getLineStyle(),labelStatesModels:Ut(t)}}function GM(n){return isNaN(n[0])||isNaN(n[1])}function ny(n){return!GM(n[0])&&!GM(n[1])}var iy=[],ry=[],oy=[],Bs=Wt,ay=Ti,FM=Math.abs;function HM(n,t,e){for(var i,r=n[0],o=n[1],a=n[2],s=1/0,l=e*e,u=.1,h=.1;h<=.9;h+=.1)iy[0]=Bs(r[0],o[0],a[0],h),iy[1]=Bs(r[1],o[1],a[1],h),(d=FM(ay(iy,t)-l))<s&&(s=d,i=h);for(var c=0;c<32;c++){var p=i+u;ry[0]=Bs(r[0],o[0],a[0],i),ry[1]=Bs(r[1],o[1],a[1],i),oy[0]=Bs(r[0],o[0],a[0],p),oy[1]=Bs(r[1],o[1],a[1],p);var d=ay(ry,t)-l;if(FM(d)<.01)break;var f=ay(oy,t)-l;u/=2,d<0?f>=0?i+=u:i-=u:f>=0?i-=u:i+=u}return i}function sy(n,t){var e=[],i=Nl,r=[[],[],[]],o=[[],[]],a=[];t/=2,n.eachEdge(function(s,l){var u=s.getLayout(),h=s.getVisual("fromSymbol"),c=s.getVisual("toSymbol");u.__original||(u.__original=[vn(u[0]),vn(u[1])],u[2]&&u.__original.push(vn(u[2])));var p=u.__original;if(null!=u[2]){if(Dt(r[0],p[0]),Dt(r[1],p[2]),Dt(r[2],p[1]),h&&"none"!==h){var d=nh(s.node1),f=HM(r,p[0],d*t);i(r[0][0],r[1][0],r[2][0],f,e),r[0][0]=e[3],r[1][0]=e[4],i(r[0][1],r[1][1],r[2][1],f,e),r[0][1]=e[3],r[1][1]=e[4]}c&&"none"!==c&&(d=nh(s.node2),f=HM(r,p[1],d*t),i(r[0][0],r[1][0],r[2][0],f,e),r[1][0]=e[1],r[2][0]=e[2],i(r[0][1],r[1][1],r[2][1],f,e),r[1][1]=e[1],r[2][1]=e[2]),Dt(u[0],r[0]),Dt(u[1],r[2]),Dt(u[2],r[1])}else Dt(o[0],p[0]),Dt(o[1],p[1]),Mi(a,o[1],o[0]),Mr(a,a),h&&"none"!==h&&(d=nh(s.node1),br(o[0],o[0],a,d*t)),c&&"none"!==c&&(d=nh(s.node2),br(o[1],o[1],a,-d*t)),Dt(u[0],o[0]),Dt(u[1],o[1])})}function WM(n){return"view"===n.type}var hE=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return G(t,n),t.prototype.init=function(e,i){var r=new Vu,o=new ty,a=this.group;this._controller=new Yu(i.getZr()),this._controllerHost={target:a},a.add(r.group),a.add(o.group),this._symbolDraw=r,this._lineDraw=o,this._firstRender=!0},t.prototype.render=function(e,i,r){var o=this,a=e.coordinateSystem;this._model=e;var s=this._symbolDraw,l=this._lineDraw,u=this.group;if(WM(a)){var h={x:a.x,y:a.y,scaleX:a.scaleX,scaleY:a.scaleY};this._firstRender?u.attr(h):ze(u,h,e)}sy(e.getGraph(),th(e));var c=e.getData();s.updateData(c);var p=e.getEdgeData();l.updateData(p),this._updateNodeAndLinkScale(),this._updateController(e,i,r),clearTimeout(this._layoutTimeout);var d=e.forceLayout,f=e.get(["force","layoutAnimation"]);d&&this._startForceLayoutIteration(d,f),c.graph.eachNode(function(v){var _=v.dataIndex,x=v.getGraphicEl(),b=v.getModel();x.off("drag").off("dragend");var w=b.get("draggable");w&&x.on("drag",function(){d&&(d.warmUp(),!o._layouting&&o._startForceLayoutIteration(d,f),d.setFixed(_),c.setItemLayout(_,[x.x,x.y]))}).on("dragend",function(){d&&d.setUnfixed(_)}),x.setDraggable(w&&!!d),"adjacency"===b.get(["emphasis","focus"])&&(_e(x).focus=v.getAdjacentDataIndices())}),c.graph.eachEdge(function(v){var _=v.getGraphicEl();"adjacency"===v.getModel().get(["emphasis","focus"])&&(_e(_).focus={edge:[v.dataIndex],node:[v.node1.dataIndex,v.node2.dataIndex]})});var g="circular"===e.get("layout")&&e.get(["circular","rotateLabel"]),m=c.getLayout("cx"),y=c.getLayout("cy");c.eachItemGraphicEl(function(v,_){var x=c.getItemModel(_).get(["label","rotate"])||0,b=v.getSymbolPath();if(g){var w=c.getItemLayout(_),S=Math.atan2(w[1]-y,w[0]-m);S<0&&(S=2*Math.PI+S);var M=w[0]<m;M&&(S-=Math.PI);var T=M?"left":"right";b.setTextConfig({rotation:-S,position:T,origin:"center"});var C=b.ensureState("emphasis");K(C.textConfig||(C.textConfig={}),{position:T})}else b.setTextConfig({rotation:x*=Math.PI/180})}),this._firstRender=!1},t.prototype.dispose=function(){this._controller&&this._controller.dispose(),this._controllerHost=null},t.prototype._startForceLayoutIteration=function(e,i){var r=this;!function o(){e.step(function(a){r.updateLayout(r._model),(r._layouting=!a)&&(i?r._layoutTimeout=setTimeout(o,16):o())})}()},t.prototype._updateController=function(e,i,r){var o=this,a=this._controller,s=this._controllerHost,l=this.group;a.setPointerChecker(function(u,h,c){var p=l.getBoundingRect();return p.applyTransform(l.transform),p.contain(h,c)&&!Op(u,r,e)}),WM(e.coordinateSystem)?(a.enable(e.get("roam")),s.zoomLimit=e.get("scaleLimit"),s.zoom=e.coordinateSystem.getZoom(),a.off("pan").off("zoom").on("pan",function(u){Cm(s,u.dx,u.dy),r.dispatchAction({seriesId:e.id,type:"graphRoam",dx:u.dx,dy:u.dy})}).on("zoom",function(u){Am(s,u.scale,u.originX,u.originY),r.dispatchAction({seriesId:e.id,type:"graphRoam",zoom:u.scale,originX:u.originX,originY:u.originY}),o._updateNodeAndLinkScale(),sy(e.getGraph(),th(e)),o._lineDraw.updateLayout(),r.updateLabelLayout()})):a.disable()},t.prototype._updateNodeAndLinkScale=function(){var e=this._model,i=e.getData(),r=th(e);i.eachItemGraphicEl(function(o,a){o.setSymbolScale(r)})},t.prototype.updateLayout=function(e){sy(e.getGraph(),th(e)),this._symbolDraw.updateLayout(),this._lineDraw.updateLayout()},t.prototype.remove=function(e,i){this._symbolDraw&&this._symbolDraw.remove(),this._lineDraw&&this._lineDraw.remove()},t.type="graph",t}(je);function Vs(n){return"_EC_"+n}var cE=function(){function n(t){this.type="graph",this.nodes=[],this.edges=[],this._nodesMap={},this._edgesMap={},this._directed=t||!1}return n.prototype.isDirected=function(){return this._directed},n.prototype.addNode=function(t,e){var i=this._nodesMap;if(!i[Vs(t=null==t?""+e:""+t)]){var r=new fa(t,e);return r.hostGraph=this,this.nodes.push(r),i[Vs(t)]=r,r}},n.prototype.getNodeByIndex=function(t){var e=this.data.getRawIndex(t);return this.nodes[e]},n.prototype.getNodeById=function(t){return this._nodesMap[Vs(t)]},n.prototype.addEdge=function(t,e,i){var r=this._nodesMap,o=this._edgesMap;if("number"==typeof t&&(t=this.nodes[t]),"number"==typeof e&&(e=this.nodes[e]),t instanceof fa||(t=r[Vs(t)]),e instanceof fa||(e=r[Vs(e)]),t&&e){var a=t.id+"-"+e.id,s=new UM(t,e,i);return s.hostGraph=this,this._directed&&(t.outEdges.push(s),e.inEdges.push(s)),t.edges.push(s),t!==e&&e.edges.push(s),this.edges.push(s),o[a]=s,s}},n.prototype.getEdgeByIndex=function(t){var e=this.edgeData.getRawIndex(t);return this.edges[e]},n.prototype.getEdge=function(t,e){t instanceof fa&&(t=t.id),e instanceof fa&&(e=e.id);var i=this._edgesMap;return this._directed?i[t+"-"+e]:i[t+"-"+e]||i[e+"-"+t]},n.prototype.eachNode=function(t,e){for(var i=this.nodes,r=i.length,o=0;o<r;o++)i[o].dataIndex>=0&&t.call(e,i[o],o)},n.prototype.eachEdge=function(t,e){for(var i=this.edges,r=i.length,o=0;o<r;o++)i[o].dataIndex>=0&&i[o].node1.dataIndex>=0&&i[o].node2.dataIndex>=0&&t.call(e,i[o],o)},n.prototype.breadthFirstTraverse=function(t,e,i,r){if(e instanceof fa||(e=this._nodesMap[Vs(e)]),e){for(var o="out"===i?"outEdges":"in"===i?"inEdges":"edges",a=0;a<this.nodes.length;a++)this.nodes[a].__visited=!1;if(!t.call(r,e,null))for(var s=[e];s.length;){var l=s.shift(),u=l[o];for(a=0;a<u.length;a++){var h=u[a],c=h.node1===l?h.node2:h.node1;if(!c.__visited){if(t.call(r,c,l))return;s.push(c),c.__visited=!0}}}}},n.prototype.update=function(){for(var t=this.data,e=this.edgeData,i=this.nodes,r=this.edges,o=0,a=i.length;o<a;o++)i[o].dataIndex=-1;for(o=0,a=t.count();o<a;o++)i[t.getRawIndex(o)].dataIndex=o;for(e.filterSelf(function(s){var l=r[e.getRawIndex(s)];return l.node1.dataIndex>=0&&l.node2.dataIndex>=0}),o=0,a=r.length;o<a;o++)r[o].dataIndex=-1;for(o=0,a=e.count();o<a;o++)r[e.getRawIndex(o)].dataIndex=o},n.prototype.clone=function(){for(var t=new n(this._directed),e=this.nodes,i=this.edges,r=0;r<e.length;r++)t.addNode(e[r].id,e[r].dataIndex);for(r=0;r<i.length;r++){var o=i[r];t.addEdge(o.node1.id,o.node2.id,o.dataIndex)}return t},n}(),fa=function(){function n(t,e){this.inEdges=[],this.outEdges=[],this.edges=[],this.dataIndex=-1,this.id=null==t?"":t,this.dataIndex=null==e?-1:e}return n.prototype.degree=function(){return this.edges.length},n.prototype.inDegree=function(){return this.inEdges.length},n.prototype.outDegree=function(){return this.outEdges.length},n.prototype.getModel=function(t){if(!(this.dataIndex<0))return this.hostGraph.data.getItemModel(this.dataIndex).getModel(t)},n.prototype.getAdjacentDataIndices=function(){for(var t={edge:[],node:[]},e=0;e<this.edges.length;e++){var i=this.edges[e];i.dataIndex<0||(t.edge.push(i.dataIndex),t.node.push(i.node1.dataIndex,i.node2.dataIndex))}return t},n}(),UM=function(){function n(t,e,i){this.dataIndex=-1,this.node1=t,this.node2=e,this.dataIndex=null==i?-1:i}return n.prototype.getModel=function(t){if(!(this.dataIndex<0))return this.hostGraph.edgeData.getItemModel(this.dataIndex).getModel(t)},n.prototype.getAdjacentDataIndices=function(){return{edge:[this.dataIndex],node:[this.node1.dataIndex,this.node2.dataIndex]}},n}();function XM(n,t){return{getValue:function(e){var i=this[n][t];return i.getStore().get(i.getDimensionIndex(e||"value"),this.dataIndex)},setVisual:function(e,i){this.dataIndex>=0&&this[n][t].setItemVisual(this.dataIndex,e,i)},getVisual:function(e){return this[n][t].getItemVisual(this.dataIndex,e)},setLayout:function(e,i){this.dataIndex>=0&&this[n][t].setItemLayout(this.dataIndex,e,i)},getLayout:function(){return this[n][t].getItemLayout(this.dataIndex)},getGraphicEl:function(){return this[n][t].getItemGraphicEl(this.dataIndex)},getRawIndex:function(){return this[n][t].getRawIndex(this.dataIndex)}}}function YM(n,t,e,i,r){for(var o=new cE(i),a=0;a<n.length;a++)o.addNode(st(n[a].id,n[a].name,a),a);var s=[],l=[],u=0;for(a=0;a<t.length;a++){var h=t[a],c=h.source,p=h.target;o.addEdge(c,p,u)&&(l.push(h),s.push(st(Ot(h.id,null),c+" > "+p)),u++)}var d,f=e.get("coordinateSystem");if("cartesian2d"===f||"polar"===f)d=Vi(n,e);else{var g=ms.get(f),m=g&&g.dimensions||[];Ie(m,"value")<0&&m.concat(["value"]);var y=Cs(n,{coordDimensions:m,encodeDefine:e.getEncode()}).dimensions;(d=new tn(y,e)).initData(n)}var v=new tn(["value"],e);return v.initData(l,s),r&&r(d,v),lM({mainData:d,struct:o,structAttr:"graph",datas:{node:d,edge:v},datasAttr:{node:"data",edge:"edgeData"}}),o.update(),o}ht(fa,XM("hostGraph","data")),ht(UM,XM("hostGraph","edgeData"));var pE=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e.hasSymbolVisual=!0,e}return G(t,n),t.prototype.init=function(e){n.prototype.init.apply(this,arguments);var i=this;function r(){return i._categoriesData}this.legendVisualProvider=new Wu(r,r),this.fillDataTextStyle(e.edges||e.links),this._updateCategoriesData()},t.prototype.mergeOption=function(e){n.prototype.mergeOption.apply(this,arguments),this.fillDataTextStyle(e.edges||e.links),this._updateCategoriesData()},t.prototype.mergeDefaultAndTheme=function(e){n.prototype.mergeDefaultAndTheme.apply(this,arguments),Eo(e,"edgeLabel",["show"])},t.prototype.getInitialData=function(e,i){var r,o=e.edges||e.links||[],a=e.data||e.nodes||[],s=this;if(a&&o){Fp(r=this)&&(r.__curvenessList=[],r.__edgeMap={},DM(r));var l=YM(a,o,this,!0,function(u,h){u.wrapMethod("getItemModel",function(f){var g=s._categoriesModels[f.getShallow("category")];return g&&(g.parentModel=f.parentModel,f.parentModel=g),f});var c=Fe.prototype.getModel;function p(f,g){var m=c.call(this,f,g);return m.resolveParentPath=d,m}function d(f){if(f&&("label"===f[0]||"label"===f[1])){var g=f.slice();return"label"===f[0]?g[0]="edgeLabel":"label"===f[1]&&(g[1]="edgeLabel"),g}return f}h.wrapMethod("getItemModel",function(f){return f.resolveParentPath=d,f.getModel=p,f})});return k(l.edges,function(u){!function(h,c,p,d){if(Fp(p)){var f=eh(h,c,p),g=p.__edgeMap,m=g[kM(f)];g[f]&&!m?g[f].isForward=!0:m&&g[f]&&(m.isForward=!0,g[f].isForward=!1),g[f]=g[f]||[],g[f].push(d)}}(u.node1,u.node2,this,u.dataIndex)},this),l.data}},t.prototype.getGraph=function(){return this.getData().graph},t.prototype.getEdgeData=function(){return this.getGraph().edgeData},t.prototype.getCategoriesData=function(){return this._categoriesData},t.prototype.formatTooltip=function(e,i,r){if("edge"===r){var o=this.getData(),a=this.getDataParams(e,r),s=o.graph.getEdgeByIndex(e),l=o.getName(s.node1.dataIndex),u=o.getName(s.node2.dataIndex),h=[];return null!=l&&h.push(l),null!=u&&h.push(u),Bt("nameValue",{name:h.join(" > "),value:a.value,noValue:null==a.value})}return hx({series:this,dataIndex:e,multipleSeries:i})},t.prototype._updateCategoriesData=function(){var e=J(this.option.categories||[],function(r){return null!=r.value?r:K({value:0},r)}),i=new tn(["value"],this);i.initData(e),this._categoriesData=i,this._categoriesModels=i.mapArray(function(r){return i.getItemModel(r)})},t.prototype.setZoom=function(e){this.option.zoom=e},t.prototype.setCenter=function(e){this.option.center=e},t.prototype.isAnimationEnabled=function(){return n.prototype.isAnimationEnabled.call(this)&&!("force"===this.get("layout")&&this.get(["force","layoutAnimation"]))},t.type="series.graph",t.dependencies=["grid","polar","geo","singleAxis","calendar"],t.defaultOption={zlevel:0,z:2,coordinateSystem:"view",legendHoverLink:!0,layout:null,circular:{rotateLabel:!1},force:{initLayout:null,repulsion:[0,50],gravity:.1,friction:.6,edgeLength:30,layoutAnimation:!0},left:"center",top:"center",symbol:"circle",symbolSize:10,edgeSymbol:["none","none"],edgeSymbolSize:10,edgeLabel:{position:"middle",distance:5},draggable:!1,roam:!1,center:null,zoom:1,nodeScaleRatio:.6,label:{show:!1,formatter:"{b}"},itemStyle:{},lineStyle:{color:"#aaa",width:1,opacity:.5},emphasis:{scale:!0,label:{show:!0}},select:{itemStyle:{borderColor:"#212121"}}},t}(et),dE={type:"graphRoam",event:"graphRoam",update:"none"},fE=function(){this.angle=0,this.width=10,this.r=10,this.x=0,this.y=0},gE=function(n){function t(e){var i=n.call(this,e)||this;return i.type="pointer",i}return G(t,n),t.prototype.getDefaultShape=function(){return new fE},t.prototype.buildPath=function(e,i){var r=Math.cos,o=Math.sin,a=i.r,s=i.width,l=i.angle,u=i.x-r(l)*s*(s>=a/3?1:2),h=i.y-o(l)*s*(s>=a/3?1:2);l=i.angle-Math.PI/2,e.moveTo(u,h),e.lineTo(i.x+r(l)*s,i.y+o(l)*s),e.lineTo(i.x+r(i.angle)*a,i.y+o(i.angle)*a),e.lineTo(i.x-r(l)*s,i.y-o(l)*s),e.lineTo(u,h)},t}(Le);function Hp(n,t){var e=null==n?"":n+"";return t&&("string"==typeof t?e=t.replace("{value}",e):"function"==typeof t&&(e=t(n))),e}var ly=2*Math.PI,mE=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return G(t,n),t.prototype.render=function(e,i,r){this.group.removeAll();var s,l,u,h,c,p,o=e.get(["axisLine","lineStyle","color"]),a=(l=r,u=(s=e).get("center"),h=l.getWidth(),c=l.getHeight(),p=Math.min(h,c),{cx:ie(u[0],l.getWidth()),cy:ie(u[1],l.getHeight()),r:ie(s.get("radius"),p/2)});this._renderMain(e,i,r,o,a),this._data=e.getData()},t.prototype.dispose=function(){},t.prototype._renderMain=function(e,i,r,o,a){for(var s=this.group,l=e.get("clockwise"),u=-e.get("startAngle")/180*Math.PI,h=-e.get("endAngle")/180*Math.PI,c=e.getModel("axisLine"),p=c.get("roundCap")?Ip:Qt,d=c.get("show"),f=c.getModel("lineStyle"),g=f.get("width"),m=(h-u)%ly||h===u?(h-u)%ly:ly,y=u,v=0;d&&v<o.length;v++){var _=new p({shape:{startAngle:y,endAngle:h=u+m*Math.min(Math.max(o[v][0],0),1),cx:a.cx,cy:a.cy,clockwise:l,r0:a.r-g,r:a.r},silent:!0});_.setStyle({fill:o[v][1]}),_.setStyle(f.getLineStyle(["color","width"])),s.add(_),y=h}var x=function(w){if(w<=0)return o[0][1];var S;for(S=0;S<o.length;S++)if(o[S][0]>=w&&(0===S?0:o[S-1][0])<w)return o[S][1];return o[S-1][1]};if(!l){var b=u;u=h,h=b}this._renderTicks(e,i,r,x,a,u,h,l,g),this._renderTitleAndDetail(e,i,r,x,a),this._renderAnchor(e,a),this._renderPointer(e,i,r,x,a,u,h,l,g)},t.prototype._renderTicks=function(e,i,r,o,a,s,l,u,h){for(var c,p,d=this.group,f=a.cx,g=a.cy,m=a.r,y=+e.get("min"),v=+e.get("max"),_=e.getModel("splitLine"),x=e.getModel("axisTick"),b=e.getModel("axisLabel"),w=e.get("splitNumber"),S=x.get("splitNumber"),M=ie(_.get("length"),m),T=ie(x.get("length"),m),C=s,A=(l-s)/w,D=A/S,L=_.getModel("lineStyle").getLineStyle(),P=x.getModel("lineStyle").getLineStyle(),E=_.get("distance"),N=0;N<=w;N++){if(c=Math.cos(C),p=Math.sin(C),_.get("show")){var R=new Et({shape:{x1:c*(m-(z=E?E+h:h))+f,y1:p*(m-z)+g,x2:c*(m-M-z)+f,y2:p*(m-M-z)+g},style:L,silent:!0});"auto"===L.stroke&&R.setStyle({stroke:o(N/w)}),d.add(R)}if(b.get("show")){var z=b.get("distance")+E,B=Hp(Pt(N/w*(v-y)+y),b.get("formatter")),V=o(N/w);d.add(new Re({style:yt(b,{text:B,x:c*(m-M-z)+f,y:p*(m-M-z)+g,verticalAlign:p<-.8?"top":p>.8?"bottom":"middle",align:c<-.4?"left":c>.4?"right":"center"},{inheritColor:V}),silent:!0}))}if(x.get("show")&&N!==w){z=(z=x.get("distance"))?z+h:h;for(var W=0;W<=S;W++){c=Math.cos(C),p=Math.sin(C);var Y=new Et({shape:{x1:c*(m-z)+f,y1:p*(m-z)+g,x2:c*(m-T-z)+f,y2:p*(m-T-z)+g},silent:!0,style:P});"auto"===P.stroke&&Y.setStyle({stroke:o((N+W/S)/w)}),d.add(Y),C+=D}C-=D}else C+=A}},t.prototype._renderPointer=function(e,i,r,o,a,s,l,u,h){var c=this.group,p=this._data,d=this._progressEls,f=[],g=e.get(["pointer","show"]),m=e.getModel("progress"),y=m.get("show"),v=e.getData(),_=v.mapDimension("value"),x=+e.get("min"),b=+e.get("max"),w=[x,b],S=[s,l];function M(C,A){var D,L=v.getItemModel(C).getModel("pointer"),P=ie(L.get("width"),a.r),E=ie(L.get("length"),a.r),N=e.get(["pointer","icon"]),R=L.get("offsetCenter"),z=ie(R[0],a.r),B=ie(R[1],a.r),V=L.get("keepAspect");return(D=N?xt(N,z-P/2,B-E,P,E,null,V):new gE({shape:{angle:-Math.PI/2,width:P,r:E,x:z,y:B}})).rotation=-(A+Math.PI/2),D.x=a.cx,D.y=a.cy,D}function T(C,A){var D=m.get("roundCap")?Ip:Qt,L=m.get("overlap"),P=L?m.get("width"):h/v.count(),R=new D({shape:{startAngle:s,endAngle:A,cx:a.cx,cy:a.cy,clockwise:u,r0:L?a.r-P:a.r-(C+1)*P,r:L?a.r:a.r-C*P}});return L&&(R.z2=b-v.get(_,C)%b),R}(y||g)&&(v.diff(p).add(function(C){if(g){var A=M(C,s);lt(A,{rotation:-(Ze(v.get(_,C),w,S,!0)+Math.PI/2)},e),c.add(A),v.setItemGraphicEl(C,A)}if(y){var D=T(C,s),L=m.get("clip");lt(D,{shape:{endAngle:Ze(v.get(_,C),w,S,L)}},e),c.add(D),lf(e.seriesIndex,v.dataType,C,D),f[C]=D}}).update(function(C,A){if(g){var D=p.getItemGraphicEl(A),L=D?D.rotation:s,P=M(C,L);P.rotation=L,ze(P,{rotation:-(Ze(v.get(_,C),w,S,!0)+Math.PI/2)},e),c.add(P),v.setItemGraphicEl(C,P)}if(y){var E=d[A],N=T(C,E?E.shape.endAngle:s),R=m.get("clip");ze(N,{shape:{endAngle:Ze(v.get(_,C),w,S,R)}},e),c.add(N),lf(e.seriesIndex,v.dataType,C,N),f[C]=N}}).execute(),v.each(function(C){var A=v.getItemModel(C),D=A.getModel("emphasis");if(g){var L=v.getItemGraphicEl(C),P=v.getItemVisual(C,"style"),E=P.fill;if(L instanceof It){var N=L.style;L.useStyle(K({image:N.image,x:N.x,y:N.y,width:N.width,height:N.height},P))}else L.useStyle(P),"pointer"!==L.type&&L.setColor(E);L.setStyle(A.getModel(["pointer","itemStyle"]).getItemStyle()),"auto"===L.style.fill&&L.setStyle("fill",o(Ze(v.get(_,C),w,[0,1],!0))),L.z2EmphasisLift=0,Yt(L,A),nt(L,D.get("focus"),D.get("blurScope"))}if(y){var R=f[C];R.useStyle(v.getItemVisual(C,"style")),R.setStyle(A.getModel(["progress","itemStyle"]).getItemStyle()),R.z2EmphasisLift=0,Yt(R,A),nt(R,D.get("focus"),D.get("blurScope"))}}),this._progressEls=f)},t.prototype._renderAnchor=function(e,i){var r=e.getModel("anchor");if(r.get("show")){var o=r.get("size"),a=r.get("icon"),s=r.get("offsetCenter"),l=r.get("keepAspect"),u=xt(a,i.cx-o/2+ie(s[0],i.r),i.cy-o/2+ie(s[1],i.r),o,o,null,l);u.z2=r.get("showAbove")?1:0,u.setStyle(r.getModel("itemStyle").getItemStyle()),this.group.add(u)}},t.prototype._renderTitleAndDetail=function(e,i,r,o,a){var s=this,l=e.getData(),u=l.mapDimension("value"),h=+e.get("min"),c=+e.get("max"),p=new me,d=[],f=[],g=e.isAnimationEnabled(),m=e.get(["pointer","showAbove"]);l.diff(this._data).add(function(y){d[y]=new Re({silent:!0}),f[y]=new Re({silent:!0})}).update(function(y,v){d[y]=s._titleEls[v],f[y]=s._detailEls[v]}).execute(),l.each(function(y){var v=l.getItemModel(y),_=l.get(u,y),x=new me,b=o(Ze(_,[h,c],[0,1],!0)),w=v.getModel("title");if(w.get("show")){var S=w.get("offsetCenter"),M=a.cx+ie(S[0],a.r),T=a.cy+ie(S[1],a.r);(R=d[y]).attr({z2:m?0:2,style:yt(w,{x:M,y:T,text:l.getName(y),align:"center",verticalAlign:"middle"},{inheritColor:b})}),x.add(R)}var C=v.getModel("detail");if(C.get("show")){var A=C.get("offsetCenter"),D=a.cx+ie(A[0],a.r),L=a.cy+ie(A[1],a.r),P=ie(C.get("width"),a.r),E=ie(C.get("height"),a.r),N=e.get(["progress","show"])?l.getItemVisual(y,"style").fill:b,R=f[y],z=C.get("formatter");R.attr({z2:m?0:2,style:yt(C,{x:D,y:L,text:Hp(_,z),width:isNaN(P)?null:P,height:isNaN(E)?null:E,align:"center",verticalAlign:"middle"},{inheritColor:N})}),F_(R,{normal:C},_,function(B){return Hp(B,z)}),g&&H_(R,y,l,e,{getFormattedLabel:function(B,V,W,Y,Q,U){return Hp(U?U.interpolatedValue:_,z)}}),x.add(R)}p.add(x)}),this.group.add(p),this._titleEls=d,this._detailEls=f},t.type="gauge",t}(je),yE=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e.visualStyleAccessPath="itemStyle",e}return G(t,n),t.prototype.getInitialData=function(e,i){return Es(this,["value"])},t.type="series.gauge",t.defaultOption={zlevel:0,z:2,colorBy:"data",center:["50%","50%"],legendHoverLink:!0,radius:"75%",startAngle:225,endAngle:-45,clockwise:!0,min:0,max:100,splitNumber:10,axisLine:{show:!0,roundCap:!1,lineStyle:{color:[[1,"#E6EBF8"]],width:10}},progress:{show:!1,overlap:!0,width:10,roundCap:!1,clip:!0},splitLine:{show:!0,length:10,distance:10,lineStyle:{color:"#63677A",width:3,type:"solid"}},axisTick:{show:!0,splitNumber:5,length:6,distance:10,lineStyle:{color:"#63677A",width:1,type:"solid"}},axisLabel:{show:!0,distance:15,color:"#464646",fontSize:12},pointer:{icon:null,offsetCenter:[0,0],show:!0,showAbove:!0,length:"60%",width:6,keepAspect:!1},anchor:{show:!1,showAbove:!1,size:6,icon:"circle",offsetCenter:[0,0],keepAspect:!1,itemStyle:{color:"#fff",borderWidth:0,borderColor:"#5470c6"}},title:{show:!0,offsetCenter:[0,"20%"],color:"#464646",fontSize:16,valueAnimation:!1},detail:{show:!0,backgroundColor:"rgba(0,0,0,0)",borderWidth:0,borderColor:"#ccc",width:100,height:null,padding:[5,10],offsetCenter:[0,"40%"],color:"#464646",fontSize:30,fontWeight:"bold",lineHeight:30,valueAnimation:!1}},t}(et),vE=["itemStyle","opacity"],_E=function(n){function t(e,i){var r=n.call(this)||this,o=r,a=new pn,s=new Re;return o.setTextContent(s),r.setTextGuideLine(a),r.updateData(e,i,!0),r}return G(t,n),t.prototype.updateData=function(e,i,r){var o=this,a=e.hostModel,s=e.getItemModel(i),l=e.getItemLayout(i),u=s.getModel("emphasis"),h=s.get(vE);h=null==h?1:h,r||di(o),o.useStyle(e.getItemVisual(i,"style")),o.style.lineJoin="round",r?(o.setShape({points:l.points}),o.style.opacity=0,lt(o,{style:{opacity:h}},a,i)):ze(o,{style:{opacity:h},shape:{points:l.points}},a,i),Yt(o,s),this._updateLabel(e,i),nt(this,u.get("focus"),u.get("blurScope"))},t.prototype._updateLabel=function(e,i){var r=this,o=this.getTextGuideLine(),a=r.getTextContent(),s=e.hostModel,l=e.getItemModel(i),u=e.getItemLayout(i).label,h=e.getItemVisual(i,"style"),c=h.fill;Jt(a,Ut(l),{labelFetcher:e.hostModel,labelDataIndex:i,defaultOpacity:h.opacity,defaultText:e.getName(i)},{normal:{align:u.textAlign,verticalAlign:u.verticalAlign}}),r.setTextConfig({local:!0,inside:!!u.inside,insideStroke:c,outsideFill:c});var p=u.linePoints;o.setShape({points:p}),r.textGuideLineConfig={anchor:p?new Se(p[0][0],p[0][1]):null},ze(a,{style:{x:u.x,y:u.y}},s,i),a.attr({rotation:u.rotation,originX:u.x,originY:u.y,z2:10}),nm(r,im(l),{stroke:c})},t}(Zt),xE=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e.ignoreLabelLineUpdate=!0,e}return G(t,n),t.prototype.render=function(e,i,r){var o=e.getData(),a=this._data,s=this.group;o.diff(a).add(function(l){var u=new _E(o,l);o.setItemGraphicEl(l,u),s.add(u)}).update(function(l,u){var h=a.getItemGraphicEl(u);h.updateData(o,l),s.add(h),o.setItemGraphicEl(l,h)}).remove(function(l){ql(a.getItemGraphicEl(l),e,l)}).execute(),this._data=o},t.prototype.remove=function(){this.group.removeAll(),this._data=null},t.prototype.dispose=function(){},t.type="funnel",t}(je),bE=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return G(t,n),t.prototype.init=function(e){n.prototype.init.apply(this,arguments),this.legendVisualProvider=new Wu(re(this.getData,this),re(this.getRawData,this)),this._defaultLabelLine(e)},t.prototype.getInitialData=function(e,i){return Es(this,{coordDimensions:["value"],encodeDefaulter:ye(Xf,this)})},t.prototype._defaultLabelLine=function(e){Eo(e,"labelLine",["show"]);var i=e.labelLine,r=e.emphasis.labelLine;i.show=i.show&&e.label.show,r.show=r.show&&e.emphasis.label.show},t.prototype.getDataParams=function(e){var i=this.getData(),r=n.prototype.getDataParams.call(this,e),o=i.mapDimension("value"),a=i.getSum(o);return r.percent=a?+(i.get(o,e)/a*100).toFixed(2):0,r.$vars.push("percent"),r},t.type="series.funnel",t.defaultOption={zlevel:0,z:2,legendHoverLink:!0,colorBy:"data",left:80,top:60,right:80,bottom:60,minSize:"0%",maxSize:"100%",sort:"descending",orient:"vertical",gap:0,funnelAlign:"center",label:{show:!0,position:"outer"},labelLine:{show:!0,length:20,lineStyle:{width:1}},itemStyle:{borderColor:"#fff",borderWidth:1},emphasis:{label:{show:!0}},select:{itemStyle:{borderColor:"#212121"}}},t}(et);function wE(n,t){n.eachSeriesByType("funnel",function(e){var P,i=e.getData(),r=i.mapDimension("value"),o=e.get("sort"),a=(P=t,Tt(e.getBoxLayoutParams(),{width:P.getWidth(),height:P.getHeight()})),s=e.get("orient"),l=a.width,u=a.height,h=function(L,P){for(var E=L.mapDimension("value"),N=L.mapArray(E,function(W){return W}),R=[],z="ascending"===P,B=0,V=L.count();B<V;B++)R[B]=B;return"function"==typeof P?R.sort(P):"none"!==P&&R.sort(function(W,Y){return z?N[W]-N[Y]:N[Y]-N[W]}),R}(i,o),c=a.x,p=a.y,d="horizontal"===s?[ie(e.get("minSize"),u),ie(e.get("maxSize"),u)]:[ie(e.get("minSize"),l),ie(e.get("maxSize"),l)],f=i.getDataExtent(r),g=e.get("min"),m=e.get("max");null==g&&(g=Math.min(f[0],0)),null==m&&(m=f[1]);var y=e.get("funnelAlign"),v=e.get("gap"),_=(("horizontal"===s?l:u)-v*(i.count()-1))/i.count(),x=function(L,P){if("horizontal"===s){var E=Ze(i.get(r,L)||0,[g,m],d,!0),N=void 0;switch(y){case"top":N=p;break;case"center":N=p+(u-E)/2;break;case"bottom":N=p+(u-E)}return[[P,N],[P,N+E]]}var R,z=Ze(i.get(r,L)||0,[g,m],d,!0);switch(y){case"left":R=c;break;case"center":R=c+(l-z)/2;break;case"right":R=c+l-z}return[[R,P],[R+z,P]]};"ascending"===o&&(_=-_,v=-v,"horizontal"===s?c+=l:p+=u,h=h.reverse());for(var b=0;b<h.length;b++){var w=h[b],S=h[b+1],M=i.getItemModel(w);if("horizontal"===s){var T=M.get(["itemStyle","width"]);null==T?T=_:(T=ie(T,l),"ascending"===o&&(T=-T));var C=x(w,c),A=x(S,c+T);c+=T+v,i.setItemLayout(w,{points:C.concat(A.slice().reverse())})}else{var D=M.get(["itemStyle","height"]);null==D?D=_:(D=ie(D,u),"ascending"===o&&(D=-D)),C=x(w,p),A=x(S,p+D),p+=D+v,i.setItemLayout(w,{points:C.concat(A.slice().reverse())})}}!function(L){var P=L.hostModel.get("orient");L.each(function(E){var N,R,z,B,V=L.getItemModel(E),W=V.getModel("label").get("position"),Y=V.getModel("labelLine"),Q=L.getItemLayout(E),U=Q.points,j="inner"===W||"inside"===W||"center"===W||"insideLeft"===W||"insideRight"===W;if(j)"insideLeft"===W?(R=(U[0][0]+U[3][0])/2+5,z=(U[0][1]+U[3][1])/2,N="left"):"insideRight"===W?(R=(U[1][0]+U[2][0])/2-5,z=(U[1][1]+U[2][1])/2,N="right"):(R=(U[0][0]+U[1][0]+U[2][0]+U[3][0])/4,z=(U[0][1]+U[1][1]+U[2][1]+U[3][1])/4,N="center"),B=[[R,z],[R,z]];else{var ne=void 0,ee=void 0,te=void 0,oe=void 0,ae=Y.get("length");"left"===W?(ee=(U[3][1]+U[0][1])/2,R=(te=(ne=(U[3][0]+U[0][0])/2)-ae)-5,N="right"):"right"===W?(ee=(U[1][1]+U[2][1])/2,R=(te=(ne=(U[1][0]+U[2][0])/2)+ae)+5,N="left"):"top"===W?(ne=(U[3][0]+U[0][0])/2,z=(oe=(ee=(U[3][1]+U[0][1])/2)-ae)-5,N="center"):"bottom"===W?(ne=(U[1][0]+U[2][0])/2,z=(oe=(ee=(U[1][1]+U[2][1])/2)+ae)+5,N="center"):"rightTop"===W?(ne="horizontal"===P?U[3][0]:U[1][0],ee="horizontal"===P?U[3][1]:U[1][1],"horizontal"===P?(z=(oe=ee-ae)-5,N="center"):(R=(te=ne+ae)+5,N="top")):"rightBottom"===W?(ne=U[2][0],ee=U[2][1],"horizontal"===P?(z=(oe=ee+ae)+5,N="center"):(R=(te=ne+ae)+5,N="bottom")):"leftTop"===W?(ne=U[0][0],ee="horizontal"===P?U[0][1]:U[1][1],"horizontal"===P?(z=(oe=ee-ae)-5,N="center"):(R=(te=ne-ae)-5,N="right")):"leftBottom"===W?(ne="horizontal"===P?U[1][0]:U[3][0],ee="horizontal"===P?U[1][1]:U[2][1],"horizontal"===P?(z=(oe=ee+ae)+5,N="center"):(R=(te=ne-ae)-5,N="right")):(ne=(U[1][0]+U[2][0])/2,ee=(U[1][1]+U[2][1])/2,"horizontal"===P?(z=(oe=ee+ae)+5,N="center"):(R=(te=ne+ae)+5,N="left")),"horizontal"===P?R=te=ne:z=oe=ee,B=[[ne,ee],[te,oe]]}Q.label={linePoints:B,x:R,y:z,verticalAlign:"middle",textAlign:N,inside:j}})}(i)})}var SE=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e._dataGroup=new me,e._initialized=!1,e}return G(t,n),t.prototype.init=function(){this.group.add(this._dataGroup)},t.prototype.render=function(e,i,r,o){var d,f,m,y,v,_,a=this._dataGroup,s=e.getData(),l=this._data,u=e.coordinateSystem,h=u.dimensions,c=qM(e);if(s.diff(l).add(function(d){uy(jM(s,a,d,h,u),s,d,c)}).update(function(d,f){var g=l.getItemGraphicEl(f),m=ZM(s,d,h,u);s.setItemGraphicEl(d,g),ze(g,{shape:{points:m}},e,d),di(g),uy(g,s,d,c)}).remove(function(d){var f=l.getItemGraphicEl(d);a.remove(f)}).execute(),!this._initialized){this._initialized=!0;var p=(f=e,m=(d=u).model,y=d.getRect(),v=new Ee({shape:{x:y.x,y:y.y,width:y.width,height:y.height}}),_="horizontal"===m.get("layout")?"width":"height",v.setShape(_,0),lt(v,{shape:{width:y.width,height:y.height}},f,function(){setTimeout(function(){a.removeClipPath()})}),v);a.setClipPath(p)}this._data=s},t.prototype.incrementalPrepareRender=function(e,i,r){this._initialized=!0,this._data=null,this._dataGroup.removeAll()},t.prototype.incrementalRender=function(e,i,r){for(var o=i.getData(),a=i.coordinateSystem,s=a.dimensions,l=qM(i),u=e.start;u<e.end;u++){var h=jM(o,this._dataGroup,u,s,a);h.incremental=!0,uy(h,o,u,l)}},t.prototype.remove=function(){this._dataGroup&&this._dataGroup.removeAll(),this._data=null},t.type="parallel",t}(je);function ZM(n,t,e,i){for(var r,o=[],a=0;a<e.length;a++){var s=e[a],l=n.get(n.mapDimension(s),t);r=l,("category"===i.getAxis(s).type?null==r:null==r||isNaN(r))||o.push(i.dataToPoint(l,s))}return o}function jM(n,t,e,i,r){var o=ZM(n,e,i,r),a=new pn({shape:{points:o},z2:10});return t.add(a),n.setItemGraphicEl(e,a),a}function qM(n){var t=n.get("smooth",!0);return!0===t&&(t=.3),An(t=Li(t))&&(t=0),{smooth:t}}function uy(n,t,e,i){n.useStyle(t.getItemVisual(e,"style")),n.style.fill=null,n.setShape("smooth",i.smooth);var r=t.getItemModel(e),o=r.getModel("emphasis");Yt(n,r,"lineStyle"),nt(n,o.get("focus"),o.get("blurScope"))}var ME=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e.visualStyleAccessPath="lineStyle",e.visualDrawType="stroke",e}return G(t,n),t.prototype.getInitialData=function(e,i){return Vi(null,this,{useEncodeDefaulter:re(IE,null,this)})},t.prototype.getRawIndicesByActiveState=function(e){var i=this.coordinateSystem,r=this.getData(),o=[];return i.eachActiveState(r,function(a,s){e===a&&o.push(r.getRawIndex(s))}),o},t.type="series.parallel",t.dependencies=["parallel"],t.defaultOption={zlevel:0,z:2,coordinateSystem:"parallel",parallelIndex:0,label:{show:!1},inactiveOpacity:.05,activeOpacity:1,lineStyle:{width:1,opacity:.45,type:"solid"},emphasis:{label:{show:!1}},progressive:500,smooth:!1,animationEasing:"linear"},t}(et);function IE(n){var t=n.ecModel.getComponent("parallel",n.get("parallelIndex"));if(t){var e={};return k(t.dimensions,function(i){var r=+i.replace("dim","");e[i]=r}),e}}var TE=["lineStyle","opacity"],CE={seriesType:"parallel",reset:function(n,t){var e=n.coordinateSystem,i={normal:n.get(["lineStyle","opacity"]),active:n.get("activeOpacity"),inactive:n.get("inactiveOpacity")};return{progress:function(r,o){e.eachActiveState(o,function(a,s){var l=i[a];if("normal"===a&&o.hasItemOption){var u=o.getItemModel(s).get(TE,!0);null!=u&&(l=u)}o.ensureUniqueItemVisual(s,"style").opacity=l},r.start,r.end)}}}};function AE(n){(function(t){if(!t.parallel){var e=!1;k(t.series,function(i){i&&"parallel"===i.type&&(e=!0)}),e&&(t.parallel=[{}])}})(n),function(t){k(Je(t.parallelAxis),function(e){if(pe(e)){var i=e.parallelIndex||0,r=Je(t.parallel)[i];r&&r.parallelAxisDefault&&we(e,r.parallelAxisDefault,!1)}})}(n)}var DE=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return G(t,n),t.prototype.render=function(e,i,r){this._model=e,this._api=r,this._handlers||(this._handlers={},k(kE,function(o,a){r.getZr().on(a,this._handlers[a]=re(o,this))},this)),pu(this,"_throttledDispatchExpand",e.get("axisExpandRate"),"fixRate")},t.prototype.dispose=function(e,i){k(this._handlers,function(r,o){i.getZr().off(o,r)}),this._handlers=null},t.prototype._throttledDispatchExpand=function(e){this._dispatchExpand(e)},t.prototype._dispatchExpand=function(e){e&&this._api.dispatchAction(K({type:"parallelAxisExpand"},e))},t.type="parallel",t}(it),kE={mousedown:function(n){hy(this,"click")&&(this._mouseDownPoint=[n.offsetX,n.offsetY])},mouseup:function(n){var t=this._mouseDownPoint;if(hy(this,"click")&&t){var e=[n.offsetX,n.offsetY];if(Math.pow(t[0]-e[0],2)+Math.pow(t[1]-e[1],2)>5)return;var i=this._model.coordinateSystem.getSlidedAxisExpandWindow([n.offsetX,n.offsetY]);"none"!==i.behavior&&this._dispatchExpand({axisExpandWindow:i.axisExpandWindow})}this._mouseDownPoint=null},mousemove:function(n){if(!this._mouseDownPoint&&hy(this,"mousemove")){var t=this._model,e=t.coordinateSystem.getSlidedAxisExpandWindow([n.offsetX,n.offsetY]),i=e.behavior;"jump"===i&&this._throttledDispatchExpand.debounceNextCall(t.get("axisExpandDebounce")),this._throttledDispatchExpand("none"===i?null:{axisExpandWindow:e.axisExpandWindow,animation:"jump"===i?null:{duration:0}})}}};function hy(n,t){var e=n._model;return e.get("axisExpandable")&&e.get("axisExpandTriggerOn")===t}var LE=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return G(t,n),t.prototype.init=function(){n.prototype.init.apply(this,arguments),this.mergeOption({})},t.prototype.mergeOption=function(e){e&&we(this.option,e,!0),this._initDimensions()},t.prototype.contains=function(e,i){var r=e.get("parallelIndex");return null!=r&&i.getComponent("parallel",r)===this},t.prototype.setAxisExpand=function(e){k(["axisExpandable","axisExpandCenter","axisExpandCount","axisExpandWidth","axisExpandWindow"],function(i){e.hasOwnProperty(i)&&(this.option[i]=e[i])},this)},t.prototype._initDimensions=function(){var e=this.dimensions=[],i=this.parallelAxisIndex=[];k(Ke(this.ecModel.queryComponents({mainType:"parallelAxis"}),function(r){return(r.get("parallelIndex")||0)===this.componentIndex},this),function(r){e.push("dim"+r.get("dim")),i.push(r.componentIndex)})},t.type="parallel",t.dependencies=["parallelAxis"],t.layoutMode="box",t.defaultOption={zlevel:0,z:0,left:80,top:60,right:80,bottom:60,layout:"horizontal",axisExpandable:!1,axisExpandCenter:null,axisExpandCount:0,axisExpandWidth:50,axisExpandRate:17,axisExpandDebounce:50,axisExpandSlideTriggerArea:[-.15,.05,.4],axisExpandTriggerOn:"click",parallelAxisDefault:null},t}(Pe),PE=function(n){function t(e,i,r,o,a){var s=n.call(this,e,i,r)||this;return s.type=o||"value",s.axisIndex=a,s}return G(t,n),t.prototype.isHorizontal=function(){return"horizontal"!==this.coordinateSystem.getModel().get("layout")},t}(Qn);function ga(n,t,e,i,r,o){n=n||0;var a=e[1]-e[0];if(null!=r&&(r=Gs(r,[0,a])),null!=o&&(o=Math.max(o,null!=r?r:0)),"all"===i){var s=Math.abs(t[1]-t[0]);s=Gs(s,[0,a]),r=o=Gs(s,[r,o]),i=0}t[0]=Gs(t[0],e),t[1]=Gs(t[1],e);var l=cy(t,i);t[i]+=n;var u,h=r||0,c=e.slice();return l.sign<0?c[0]+=h:c[1]-=h,t[i]=Gs(t[i],c),u=cy(t,i),null!=r&&(u.sign!==l.sign||u.span<r)&&(t[1-i]=t[i]+l.sign*r),u=cy(t,i),null!=o&&u.span>o&&(t[1-i]=t[i]+u.sign*o),t}function cy(n,t){var e=n[t]-n[1-t];return{span:Math.abs(e),sign:e>0?-1:e<0?1:t?-1:1}}function Gs(n,t){return Math.min(null!=t[1]?t[1]:1/0,Math.max(null!=t[0]?t[0]:-1/0,n))}var py=k,KM=Math.min,$M=Math.max,QM=Math.floor,OE=Math.ceil,JM=Pt,EE=Math.PI,NE=function(){function n(t,e,i){this.type="parallel",this._axesMap=ue(),this._axesLayout={},this.dimensions=t.dimensions,this._model=t,this._init(t,e,i)}return n.prototype._init=function(t,e,i){var o=t.parallelAxisIndex;py(t.dimensions,function(a,s){var l=o[s],u=e.getComponent("parallelAxis",l),h=this._axesMap.set(a,new PE(a,Du(u),[0,0],u.get("type"),l));h.onBand="category"===h.type&&u.get("boundaryGap"),h.inverse=u.get("inverse"),u.axis=h,h.model=u,h.coordinateSystem=u.coordinateSystem=this},this)},n.prototype.update=function(t,e){this._updateAxesFromSeries(this._model,t)},n.prototype.containPoint=function(t){var e=this._makeLayoutInfo(),i=e.axisBase,r=e.layoutBase,o=e.pixelDimIndex,a=t[1-o],s=t[o];return a>=i&&a<=i+e.axisLength&&s>=r&&s<=r+e.layoutLength},n.prototype.getModel=function(){return this._model},n.prototype._updateAxesFromSeries=function(t,e){e.eachSeries(function(i){if(t.contains(i,e)){var r=i.getData();py(this.dimensions,function(o){var a=this._axesMap.get(o);a.scale.unionExtentFromData(r,r.mapDimension(o)),eo(a.scale,a.model)},this)}},this)},n.prototype.resize=function(t,e){this._rect=Tt(t.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()}),this._layoutAxes()},n.prototype.getRect=function(){return this._rect},n.prototype._makeLayoutInfo=function(){var t,e=this._model,i=this._rect,r=["x","y"],o=["width","height"],a=e.get("layout"),s="horizontal"===a?0:1,l=i[o[s]],u=[0,l],h=this.dimensions.length,c=Wp(e.get("axisExpandWidth"),u),p=Wp(e.get("axisExpandCount")||0,[0,h]),d=e.get("axisExpandable")&&h>3&&h>p&&p>1&&c>0&&l>0,f=e.get("axisExpandWindow");f?(t=Wp(f[1]-f[0],u),f[1]=f[0]+t):(t=Wp(c*(p-1),u),(f=[c*(e.get("axisExpandCenter")||QM(h/2))-t/2])[1]=f[0]+t);var g=(l-t)/(h-p);g<3&&(g=0);var m=[QM(JM(f[0]/c,1))+1,OE(JM(f[1]/c,1))-1];return{layout:a,pixelDimIndex:s,layoutBase:i[r[s]],layoutLength:l,axisBase:i[r[1-s]],axisLength:i[o[1-s]],axisExpandable:d,axisExpandWidth:c,axisCollapseWidth:g,axisExpandWindow:f,axisCount:h,winInnerIndices:m,axisExpandWindow0Pos:g/c*f[0]}},n.prototype._layoutAxes=function(){var t=this._rect,e=this._axesMap,i=this.dimensions,r=this._makeLayoutInfo(),o=r.layout;e.each(function(a){var s=[0,r.axisLength],l=a.inverse?1:0;a.setExtent(s[l],s[1-l])}),py(i,function(a,s){var l=(r.axisExpandable?zE:RE)(s,r),u={horizontal:{x:l.position,y:r.axisLength},vertical:{x:0,y:l.position}},c=[u[o].x+t.x,u[o].y+t.y],p={horizontal:EE/2,vertical:0}[o],d=[1,0,0,1,0,0];Or(d,d,p),ui(d,d,c),this._axesLayout[a]={position:c,rotation:p,transform:d,axisNameAvailableWidth:l.axisNameAvailableWidth,axisLabelShow:l.axisLabelShow,nameTruncateMaxWidth:l.nameTruncateMaxWidth,tickDirection:1,labelDirection:1}},this)},n.prototype.getAxis=function(t){return this._axesMap.get(t)},n.prototype.dataToPoint=function(t,e){return this.axisCoordToPoint(this._axesMap.get(e).dataToCoord(t),e)},n.prototype.eachActiveState=function(t,e,i,r){null==i&&(i=0),null==r&&(r=t.count());var o=this._axesMap,a=this.dimensions,s=[],l=[];k(a,function(g){s.push(t.mapDimension(g)),l.push(o.get(g).model)});for(var u=this.hasAxisBrushed(),h=i;h<r;h++){var c=void 0;if(u){c="active";for(var p=t.getValues(s,h),d=0,f=a.length;d<f;d++)if("inactive"===l[d].getActiveState(p[d])){c="inactive";break}}else c="normal";e(c,h)}},n.prototype.hasAxisBrushed=function(){for(var t=this.dimensions,e=this._axesMap,i=!1,r=0,o=t.length;r<o;r++)"normal"!==e.get(t[r]).model.getActiveState()&&(i=!0);return i},n.prototype.axisCoordToPoint=function(t,e){return fi([t,0],this._axesLayout[e].transform)},n.prototype.getAxisLayout=function(t){return de(this._axesLayout[t])},n.prototype.getSlidedAxisExpandWindow=function(t){var e=this._makeLayoutInfo(),i=e.pixelDimIndex,r=e.axisExpandWindow.slice(),o=r[1]-r[0],a=[0,e.axisExpandWidth*(e.axisCount-1)];if(!this.containPoint(t))return{behavior:"none",axisExpandWindow:r};var s,l=t[i]-e.layoutBase-e.axisExpandWindow0Pos,u="slide",h=e.axisCollapseWidth,c=this._model.get("axisExpandSlideTriggerArea"),p=null!=c[0];if(h)p&&h&&l<o*c[0]?(u="jump",s=l-o*c[2]):p&&h&&l>o*(1-c[0])?(u="jump",s=l-o*(1-c[2])):(s=l-o*c[1])>=0&&(s=l-o*(1-c[1]))<=0&&(s=0),(s*=e.axisExpandWidth/h)?ga(s,r,a,"all"):u="none";else{var d=r[1]-r[0];(r=[$M(0,a[1]*l/d-d/2)])[1]=KM(a[1],r[0]+d),r[0]=r[1]-d}return{axisExpandWindow:r,behavior:u}},n}();function Wp(n,t){return KM($M(n,t[0]),t[1])}function RE(n,t){var e=t.layoutLength/(t.axisCount-1);return{position:e*n,axisNameAvailableWidth:e,axisLabelShow:!0}}function zE(n,t){var e,i,o=t.axisExpandWidth,s=t.axisCollapseWidth,l=t.winInnerIndices,u=s,h=!1;return n<l[0]?(e=n*s,i=s):n<=l[1]?(e=t.axisExpandWindow0Pos+n*o-t.axisExpandWindow[0],u=o,h=!0):(e=t.layoutLength-(t.axisCount-1-n)*s,i=s),{position:e,axisNameAvailableWidth:u,axisLabelShow:h,nameTruncateMaxWidth:i}}var BE={create:function(n,t){var e=[];return n.eachComponent("parallel",function(i,r){var o=new NE(i,n,t);o.name="parallel_"+r,o.resize(i,t),i.coordinateSystem=o,o.model=i,e.push(o)}),n.eachSeries(function(i){if("parallel"===i.get("coordinateSystem")){var r=i.getReferringComponents("parallel",Mt).models[0];i.coordinateSystem=r.coordinateSystem}}),e}},dy=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e.activeIntervals=[],e}return G(t,n),t.prototype.getAreaSelectStyle=function(){return zo([["fill","color"],["lineWidth","borderWidth"],["stroke","borderColor"],["width","width"],["opacity","opacity"]])(this.getModel("areaSelectStyle"))},t.prototype.setActiveIntervals=function(e){var i=this.activeIntervals=de(e);if(i)for(var r=i.length-1;r>=0;r--)On(i[r])},t.prototype.getActiveState=function(e){var i=this.activeIntervals;if(!i.length)return"normal";if(null==e||isNaN(+e))return"inactive";if(1===i.length){var r=i[0];if(r[0]<=e&&e<=r[1])return"active"}else for(var o=0,a=i.length;o<a;o++)if(i[o][0]<=e&&e<=i[o][1])return"active";return"inactive"},t}(Pe);ht(dy,ks);var ma=!0,ih=Math.min,Fs=Math.max,VE=Math.pow,GE={w:[0,0],e:[0,1],n:[1,0],s:[1,1]},FE={w:"ew",e:"ew",n:"ns",s:"ns",ne:"nesw",sw:"nesw",nw:"nwse",se:"nwse"},tI={brushStyle:{lineWidth:2,stroke:"rgba(210,219,238,0.3)",fill:"#D2DBEE"},transformable:!0,brushMode:"single",removeOnClick:!1},HE=0,fy=function(n){function t(e){var i=n.call(this)||this;return i._track=[],i._covers=[],i._handlers={},i._zr=e,i.group=new me,i._uid="brushController_"+HE++,k(UE,function(r,o){this._handlers[o]=re(r,this)},i),i}return G(t,n),t.prototype.enableBrush=function(e){return this._brushType&&this._doDisableBrush(),e.brushType&&this._doEnableBrush(e),this},t.prototype._doEnableBrush=function(e){var a,i=this._zr;this._enableGlobalPan||(a=this._uid,Im(i).globalPan=a),k(this._handlers,function(r,o){i.on(o,r)}),this._brushType=e.brushType,this._brushOption=we(de(tI),e,!0)},t.prototype._doDisableBrush=function(){var r,o,a,e=this._zr;r="globalPan",o=this._uid,(a=Im(e))[r]===o&&(a[r]=null),k(this._handlers,function(i,r){e.off(r,i)}),this._brushType=this._brushOption=null},t.prototype.setPanels=function(e){if(e&&e.length){var i=this._panels={};k(e,function(r){i[r.panelId]=de(r)})}else this._panels=null;return this},t.prototype.mount=function(e){this._enableGlobalPan=(e=e||{}).enableGlobalPan;var i=this.group;return this._zr.add(i),i.attr({x:e.x||0,y:e.y||0,rotation:e.rotation||0,scaleX:e.scaleX||1,scaleY:e.scaleY||1}),this._transform=i.getLocalTransform(),this},t.prototype.updateCovers=function(e){e=J(e,function(u){return we(de(tI),u,!0)});var i=this._covers,r=this._covers=[],o=this,a=this._creatingCover;return new hr(i,e,function(u,h){return s(u.__brushOption,h)},s).add(l).update(l).remove(function(u){i[u]!==a&&o.group.remove(i[u])}).execute(),this;function s(u,h){return(null!=u.id?u.id:"\0-brush-index-"+h)+"-"+u.brushType}function l(u,h){var c=e[u];if(null!=h&&i[h]===a)r[u]=i[h];else{var p=r[u]=null!=h?(i[h].__brushOption=c,i[h]):iI(o,nI(o,c));gy(o,p)}}},t.prototype.unmount=function(){return this.enableBrush(!1),vy(this),this._zr.remove(this.group),this},t.prototype.dispose=function(){this.unmount(),this.off()},t}(_n);function nI(n,t){var e=Up[t.brushType].createCover(n,t);return e.__brushOption=t,oI(e,t),n.group.add(e),e}function iI(n,t){var e=my(t);return e.endCreating&&(e.endCreating(n,t),oI(t,t.__brushOption)),t}function rI(n,t){var e=t.__brushOption;my(t).updateCoverShape(n,t,e.range,e)}function oI(n,t){var e=t.z;null==e&&(e=1e4),n.traverse(function(i){i.z=e,i.z2=e})}function gy(n,t){my(t).updateCommon(n,t),rI(n,t)}function my(n){return Up[n.__brushOption.brushType]}function yy(n,t,e){var i,r=n._panels;if(!r)return ma;var o=n._transform;return k(r,function(a){a.isTargetByCursor(t,e,o)&&(i=a)}),i}function aI(n,t){var e=n._panels;if(!e)return ma;var i=t.__brushOption.panelId;return null!=i?e[i]:ma}function vy(n){var t=n._covers,e=t.length;return k(t,function(i){n.group.remove(i)},n),t.length=0,!!e}function ya(n,t){var e=J(n._covers,function(i){var r=i.__brushOption,o=de(r.range);return{brushType:r.brushType,panelId:r.panelId,range:o}});n.trigger("brush",{areas:e,isEnd:!!t.isEnd,removeOnClick:!!t.removeOnClick})}function sI(n){var t=n.length-1;return t<0&&(t=0),[n[0],n[t]]}function lI(n,t,e,i){var r=new me;return r.add(new Ee({name:"main",style:xy(e),silent:!0,draggable:!0,cursor:"move",drift:ye(cI,n,t,r,["n","s","w","e"]),ondragend:ye(ya,t,{isEnd:!0})})),k(i,function(o){r.add(new Ee({name:o.join(""),style:{opacity:0},draggable:!0,silent:!0,invisible:!0,drift:ye(cI,n,t,r,o),ondragend:ye(ya,t,{isEnd:!0})}))}),r}function uI(n,t,e,i){var r=i.brushStyle.lineWidth||0,o=Fs(r,6),a=e[0][0],s=e[1][0],l=a-r/2,u=s-r/2,h=e[0][1],c=e[1][1],p=h-o+r/2,d=c-o+r/2,f=h-a,g=c-s,m=f+r,y=g+r;gr(n,t,"main",a,s,f,g),i.transformable&&(gr(n,t,"w",l,u,o,y),gr(n,t,"e",p,u,o,y),gr(n,t,"n",l,u,m,o),gr(n,t,"s",l,d,m,o),gr(n,t,"nw",l,u,o,o),gr(n,t,"ne",p,u,o,o),gr(n,t,"sw",l,d,o,o),gr(n,t,"se",p,d,o,o))}function _y(n,t){var e=t.__brushOption,i=e.transformable,r=t.childAt(0);r.useStyle(xy(e)),r.attr({silent:!i,cursor:i?"move":"default"}),k([["w"],["e"],["n"],["s"],["s","e"],["s","w"],["n","e"],["n","w"]],function(o){var l,u,h,a=t.childOfName(o.join("")),s=1===o.length?by(n,o[0]):(("e"===(h=[by(l=n,(u=o)[0]),by(l,u[1])])[0]||"w"===h[0])&&h.reverse(),h.join(""));a&&a.attr({silent:!i,invisible:!i,cursor:i?FE[s]+"-resize":null})})}function gr(n,t,e,i,r,o,a){var l,u,h,s=t.childOfName(e);s&&s.setShape((l=wy(n,t,[[i,r],[i+o,r+a]]),{x:u=ih(l[0][0],l[1][0]),y:h=ih(l[0][1],l[1][1]),width:Fs(l[0][0],l[1][0])-u,height:Fs(l[0][1],l[1][1])-h}))}function xy(n){return ce({strokeNoScale:!0},n.brushStyle)}function hI(n,t,e,i){var r=[ih(n,e),ih(t,i)],o=[Fs(n,e),Fs(t,i)];return[[r[0],o[0]],[r[1],o[1]]]}function by(n,t){return{left:"w",right:"e",top:"n",bottom:"s"}[mc({w:"left",e:"right",n:"top",s:"bottom"}[t],(e=n,Wr(e.group)))];var e}function cI(n,t,e,i,r,o){var a=e.__brushOption,s=n.toRectRange(a.range),l=pI(t,r,o);k(i,function(u){var h=GE[u];s[h[0]][h[1]]+=l[h[0]]}),a.range=n.fromRectRange(hI(s[0][0],s[1][0],s[0][1],s[1][1])),gy(t,e),ya(t,{isEnd:!1})}function WE(n,t,e,i){var r=t.__brushOption.range,o=pI(n,e,i);k(r,function(a){a[0]+=o[0],a[1]+=o[1]}),gy(n,t),ya(n,{isEnd:!1})}function pI(n,t,e){var i=n.group,r=i.transformCoordToLocal(t,e),o=i.transformCoordToLocal(0,0);return[r[0]-o[0],r[1]-o[1]]}function wy(n,t,e){var i=aI(n,t);return i&&i!==ma?i.clipPath(e,n._transform):de(e)}function Sy(n){var t=n.event;t.preventDefault&&t.preventDefault()}function My(n,t,e){return n.childOfName("main").contain(t,e)}function dI(n,t,e,i){var r,o=n._creatingCover,a=n._creatingPanel,s=n._brushOption;if(n._track.push(e.slice()),function(h){var c=h._track;if(!c.length)return!1;var p=c[c.length-1],d=c[0],f=p[0]-d[0],g=p[1]-d[1];return VE(f*f+g*g,.5)>6}(n)||o){if(a&&!o){"single"===s.brushMode&&vy(n);var l=de(s);l.brushType=fI(l.brushType,a),l.panelId=a===ma?null:a.panelId,o=n._creatingCover=nI(n,l),n._covers.push(o)}if(o){var u=Up[fI(n._brushType,a)];o.__brushOption.range=u.getCreatingRange(wy(n,o,n._track)),i&&(iI(n,o),u.updateCommon(n,o)),rI(n,o),r={isEnd:i}}}else i&&"single"===s.brushMode&&s.removeOnClick&&yy(n,t,e)&&vy(n)&&(r={isEnd:i,removeOnClick:!0});return r}function fI(n,t){return"auto"===n?t.defaultBrushType:n}var UE={mousedown:function(n){if(this._dragging)gI(this,n);else if(!n.target||!n.target.draggable){Sy(n);var t=this.group.transformCoordToLocal(n.offsetX,n.offsetY);this._creatingCover=null,(this._creatingPanel=yy(this,n,t))&&(this._dragging=!0,this._track=[t.slice()])}},mousemove:function(n){var i=this.group.transformCoordToLocal(n.offsetX,n.offsetY);if(function(o,a,s){if(o._brushType&&(g=a.offsetY,m=o._zr,!((f=a.offsetX)<0||f>m.getWidth()||g<0||g>m.getHeight()))){var l=o._zr,u=o._covers,h=yy(o,a,s);if(!o._dragging)for(var c=0;c<u.length;c++){var p=u[c].__brushOption;if(h&&(h===ma||p.panelId===h.panelId)&&Up[p.brushType].contain(u[c],s[0],s[1]))return}h&&l.setCursorStyle("crosshair")}var f,g,m}(this,n,i),this._dragging){Sy(n);var r=dI(this,n,i,!1);r&&ya(this,r)}},mouseup:function(n){gI(this,n)}};function gI(n,t){if(n._dragging){Sy(t);var r=n.group.transformCoordToLocal(t.offsetX,t.offsetY),o=dI(n,t,r,!0);n._dragging=!1,n._track=[],n._creatingCover=null,o&&ya(n,o)}}var Up={lineX:mI(0),lineY:mI(1),rect:{createCover:function(n,t){function e(i){return i}return lI({toRectRange:e,fromRectRange:e},n,t,[["w"],["e"],["n"],["s"],["s","e"],["s","w"],["n","e"],["n","w"]])},getCreatingRange:function(n){var t=sI(n);return hI(t[1][0],t[1][1],t[0][0],t[0][1])},updateCoverShape:function(n,t,e,i){uI(n,t,e,i)},updateCommon:_y,contain:My},polygon:{createCover:function(n,t){var e=new me;return e.add(new pn({name:"main",style:xy(t),silent:!0})),e},getCreatingRange:function(n){return n},endCreating:function(n,t){t.remove(t.childAt(0)),t.add(new Zt({name:"main",draggable:!0,drift:ye(WE,n,t),ondragend:ye(ya,n,{isEnd:!0})}))},updateCoverShape:function(n,t,e,i){t.childAt(0).setShape({points:wy(n,t,e)})},updateCommon:_y,contain:My}};function mI(n){return{createCover:function(t,e){return lI({toRectRange:function(i){var r=[i,[0,100]];return n&&r.reverse(),r},fromRectRange:function(i){return i[n]}},t,e,[[["w"],["e"]],[["n"],["s"]]][n])},getCreatingRange:function(t){var e=sI(t);return[ih(e[0][n],e[1][n]),Fs(e[0][n],e[1][n])]},updateCoverShape:function(t,e,i,r){var o,a=aI(t,e);if(a!==ma&&a.getLinearBrushOtherExtent)o=a.getLinearBrushOtherExtent(n);else{var s=t._zr;o=[0,[s.getWidth(),s.getHeight()][1-n]]}var l=[i,o];n&&l.reverse(),uI(t,e,l,r)},updateCommon:_y,contain:My}}function yI(n){return n=Iy(n),function(t){return Cf(t,n)}}function vI(n,t){return n=Iy(n),function(e){var i=null!=t?t:e,o=i?n.x:n.y;return[o,o+((i?n.width:n.height)||0)]}}function _I(n,t,e){var i=Iy(n);return function(r,o){return i.contain(o[0],o[1])&&!Op(r,t,e)}}function Iy(n){return De.create(n)}var XE=["axisLine","axisTickLabel","axisName"],YE=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return G(t,n),t.prototype.init=function(e,i){n.prototype.init.apply(this,arguments),(this._brushController=new fy(i.getZr())).on("brush",re(this._onBrush,this))},t.prototype.render=function(e,i,r,o){if(f=e,!(m=o)||"axisAreaSelect"!==m.type||i.findComponents({mainType:"parallelAxis",query:m})[0]!==f){this.axisModel=e,this.api=r,this.group.removeAll();var a=this._axisGroup;if(this._axisGroup=new me,this.group.add(this._axisGroup),e.get("show")){var s=function(f,g){return g.getComponent("parallel",f.get("parallelIndex"))}(e,i),l=s.coordinateSystem,u=e.getAreaSelectStyle(),h=u.width,p=K({strokeContainThreshold:h},l.getAxisLayout(e.axis.dim)),d=new gn(e,p);k(XE,d.add,d),this._axisGroup.add(d.getGroup()),this._refreshBrushController(p,u,e,s,h,r),$l(a,this._axisGroup,e)}}var f,m},t.prototype._refreshBrushController=function(e,i,r,o,a,s){var p,d,l=r.axis.getExtent(),u=l[1]-l[0],h=Math.min(30,.1*Math.abs(u)),c=De.create({x:l[0],y:-a/2,width:u,height:a});c.x-=h,c.width+=2*h,this._brushController.mount({enableGlobalPan:!0,rotation:e.rotation,x:e.position[0],y:e.position[1]}).setPanels([{panelId:"pl",clipPath:yI(c),isTargetByCursor:_I(c,s,o),getLinearBrushOtherExtent:vI(c,0)}]).enableBrush({brushType:"lineX",brushStyle:i,removeOnClick:!0}).updateCovers((d=(p=r).axis,J(p.activeIntervals,function(f){return{brushType:"lineX",panelId:"pl",range:[d.dataToCoord(f[0],!0),d.dataToCoord(f[1],!0)]}})))},t.prototype._onBrush=function(e){var r=this.axisModel,o=r.axis,a=J(e.areas,function(s){return[o.coordToData(s.range[0],!0),o.coordToData(s.range[1],!0)]});(!r.option.realtime===e.isEnd||e.removeOnClick)&&this.api.dispatchAction({type:"axisAreaSelect",parallelAxisId:r.id,intervals:a})},t.prototype.dispose=function(){this._brushController.dispose()},t.type="parallelAxis",t}(it),ZE={type:"axisAreaSelect",event:"axisAreaSelected"},jE={type:"value",areaSelectStyle:{width:20,borderWidth:1,borderColor:"rgba(160,197,232)",color:"rgba(160,197,232)",opacity:.3},realtime:!0,z:10};function xI(n){n.registerComponentView(DE),n.registerComponentModel(LE),n.registerCoordinateSystem("parallel",BE),n.registerPreprocessor(AE),n.registerComponentModel(dy),n.registerComponentView(YE),Ns(n,"parallel",dy,jE),function(t){t.registerAction(ZE,function(e,i){i.eachComponent({mainType:"parallelAxis",query:e},function(r){r.axis.model.setActiveIntervals(e.intervals)})}),t.registerAction("parallelAxisExpand",function(e,i){i.eachComponent({mainType:"parallel",query:e},function(r){r.setAxisExpand(e)})})}(n)}var qE=function(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.cpx1=0,this.cpy1=0,this.cpx2=0,this.cpy2=0,this.extent=0},KE=function(n){function t(e){return n.call(this,e)||this}return G(t,n),t.prototype.getDefaultShape=function(){return new qE},t.prototype.buildPath=function(e,i){var r=i.extent;e.moveTo(i.x1,i.y1),e.bezierCurveTo(i.cpx1,i.cpy1,i.cpx2,i.cpy2,i.x2,i.y2),"vertical"===i.orient?(e.lineTo(i.x2+r,i.y2),e.bezierCurveTo(i.cpx2+r,i.cpy2,i.cpx1+r,i.cpy1,i.x1+r,i.y1)):(e.lineTo(i.x2,i.y2+r),e.bezierCurveTo(i.cpx2,i.cpy2+r,i.cpx1,i.cpy1+r,i.x1,i.y1+r)),e.closePath()},t.prototype.highlight=function(){zi(this)},t.prototype.downplay=function(){Bi(this)},t}(Le),$E=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e._focusAdjacencyDisabled=!1,e}return G(t,n),t.prototype.render=function(e,i,r){var f,g,y,o=this,a=e.getGraph(),s=this.group,l=e.layoutInfo,u=l.width,h=l.height,c=e.getData(),p=e.getData("edge"),d=e.get("orient");this._model=e,s.removeAll(),s.x=l.x,s.y=l.y,a.eachEdge(function(f){var g=new KE,m=_e(g);m.dataIndex=f.dataIndex,m.seriesIndex=e.seriesIndex,m.dataType="edge";var y,v,_,x,b,w,S,M,T=f.getModel(),C=T.getModel("lineStyle"),A=C.get("curveness"),D=f.node1.getLayout(),L=f.node1.getModel(),P=L.get("localX"),E=L.get("localY"),N=f.node2.getLayout(),R=f.node2.getModel(),z=R.get("localX"),B=R.get("localY"),V=f.getLayout();switch(g.shape.extent=Math.max(1,V.dy),g.shape.orient=d,"vertical"===d?(b=y=(null!=P?P*u:D.x)+V.sy,w=(v=(null!=E?E*h:D.y)+D.dy)*(1-A)+(x=null!=B?B*h:N.y)*A,S=_=(null!=z?z*u:N.x)+V.ty,M=v*A+x*(1-A)):(b=(y=(null!=P?P*u:D.x)+D.dx)*(1-A)+(_=null!=z?z*u:N.x)*A,w=v=(null!=E?E*h:D.y)+V.sy,S=y*A+_*(1-A),M=x=(null!=B?B*h:N.y)+V.ty),g.setShape({x1:y,y1:v,x2:_,y2:x,cpx1:b,cpy1:w,cpx2:S,cpy2:M}),g.useStyle(C.getItemStyle()),g.style.fill){case"source":g.style.fill=f.node1.getVisual("color"),g.style.decal=f.node1.getVisual("style").decal;break;case"target":g.style.fill=f.node2.getVisual("color"),g.style.decal=f.node2.getVisual("style").decal;break;case"gradient":var W=f.node1.getVisual("color"),Y=f.node2.getVisual("color");"string"==typeof W&&"string"==typeof Y&&(g.style.fill=new rs(0,0,+("horizontal"===d),+("vertical"===d),[{color:W,offset:0},{color:Y,offset:1}]))}var Q=T.getModel("emphasis");Yt(g,T,"lineStyle",function(j){return j.getItemStyle()}),s.add(g),p.setItemGraphicEl(f.dataIndex,g);var U=Q.get("focus");nt(g,"adjacency"===U?f.getAdjacentDataIndices():U,Q.get("blurScope")),_e(g).dataType="edge"}),a.eachNode(function(f){var g=f.getLayout(),m=f.getModel(),y=m.get("localX"),v=m.get("localY"),_=m.getModel("emphasis"),x=new Ee({shape:{x:null!=y?y*u:g.x,y:null!=v?v*h:g.y,width:g.dx,height:g.dy},style:m.getModel("itemStyle").getItemStyle(),z2:10});Jt(x,Ut(m),{labelFetcher:e,labelDataIndex:f.dataIndex,defaultText:f.id}),x.disableLabelAnimation=!0,x.setStyle("fill",f.getVisual("color")),x.setStyle("decal",f.getVisual("style").decal),Yt(x,m),s.add(x),c.setItemGraphicEl(f.dataIndex,x),_e(x).dataType="node";var b=_.get("focus");nt(x,"adjacency"===b?f.getAdjacentDataIndices():b,_.get("blurScope"))}),c.eachItemGraphicEl(function(f,g){c.getItemModel(g).get("draggable")&&(f.drift=function(m,y){o._focusAdjacencyDisabled=!0,this.shape.x+=m,this.shape.y+=y,this.dirty(),r.dispatchAction({type:"dragNode",seriesId:e.id,dataIndex:c.getRawIndex(g),localX:this.shape.x/u,localY:this.shape.y/h})},f.ondragend=function(){o._focusAdjacencyDisabled=!1},f.draggable=!0,f.cursor="move")}),!this._data&&e.isAnimationEnabled()&&s.setClipPath((f=s.getBoundingRect(),g=e,lt(y=new Ee({shape:{x:f.x-10,y:f.y-10,width:0,height:f.height+20}}),{shape:{width:f.width+20}},g,function(){s.removeClipPath()}),y)),this._data=e.getData()},t.prototype.dispose=function(){},t.type="sankey",t}(je),QE=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return G(t,n),t.prototype.getInitialData=function(e,i){var r=e.edges||e.links,o=e.data||e.nodes,a=e.levels;this.levelModels=[];for(var s=this.levelModels,l=0;l<a.length;l++)null!=a[l].depth&&a[l].depth>=0&&(s[a[l].depth]=new Fe(a[l],this,i));if(o&&r)return YM(o,r,this,!0,function(u,h){u.wrapMethod("getItemModel",function(c,p){var d=c.parentModel,f=d.getData().getItemLayout(p);if(f){var m=d.levelModels[f.depth];m&&(c.parentModel=m)}return c}),h.wrapMethod("getItemModel",function(c,p){var d=c.parentModel,f=d.getGraph().getEdgeByIndex(p).node1.getLayout();if(f){var m=d.levelModels[f.depth];m&&(c.parentModel=m)}return c})}).data},t.prototype.setNodePosition=function(e,i){var r=(this.option.data||this.option.nodes)[e];r.localX=i[0],r.localY=i[1]},t.prototype.getGraph=function(){return this.getData().graph},t.prototype.getEdgeData=function(){return this.getGraph().edgeData},t.prototype.formatTooltip=function(e,i,r){function o(c){return isNaN(c)||null==c}if("edge"===r){var a=this.getDataParams(e,r),s=a.data,l=a.value;return Bt("nameValue",{name:s.source+" -- "+s.target,value:l,noValue:o(l)})}var u=this.getGraph().getNodeByIndex(e).getLayout().value,h=this.getDataParams(e,r).data.name;return Bt("nameValue",{name:null!=h?h+"":null,value:u,noValue:o(u)})},t.prototype.optionUpdated=function(){},t.prototype.getDataParams=function(e,i){var r=n.prototype.getDataParams.call(this,e,i);if(null==r.value&&"node"===i){var o=this.getGraph().getNodeByIndex(e).getLayout().value;r.value=o}return r},t.type="series.sankey",t.defaultOption={zlevel:0,z:2,coordinateSystem:"view",left:"5%",top:"5%",right:"20%",bottom:"5%",orient:"horizontal",nodeWidth:20,nodeGap:8,draggable:!0,layoutIterations:32,label:{show:!0,position:"right",fontSize:12},levels:[],nodeAlign:"justify",lineStyle:{color:"#314656",opacity:.2,curveness:.5},emphasis:{label:{show:!0},lineStyle:{opacity:.5}},select:{itemStyle:{borderColor:"#212121"}},animationEasing:"linear",animationDuration:1e3},t}(et);function JE(n,t){n.eachSeriesByType("sankey",function(e){var p,i=e.get("nodeWidth"),r=e.get("nodeGap"),o=(p=t,Tt(e.getBoxLayoutParams(),{width:p.getWidth(),height:p.getHeight()}));e.layoutInfo=o;var a=o.width,s=o.height,l=e.getGraph(),u=l.nodes,h=l.edges;k(u,function(p){var d=so(p.outEdges,Xp),f=so(p.inEdges,Xp),g=p.getValue()||0,m=Math.max(d,f,g);p.setLayout({value:m},!0)}),function(c,p,d,f,g,m,y,v,_){var x,w;(function(x,b,w,S,M,T,C){for(var A=[],D=[],L=[],P=[],E=0,N=0;N<b.length;N++)A[N]=1;for(N=0;N<x.length;N++)D[N]=x[N].inEdges.length,0===D[N]&&L.push(x[N]);for(var R=-1;L.length;){for(var z=0;z<L.length;z++){var B=L[z],V=B.hostGraph.data.getRawDataItem(B.dataIndex),W=null!=V.depth&&V.depth>=0;W&&V.depth>R&&(R=V.depth),B.setLayout({depth:W?V.depth:E},!0),B.setLayout("vertical"===T?{dy:w}:{dx:w},!0);for(var Y=0;Y<B.outEdges.length;Y++){var Q=B.outEdges[Y];A[b.indexOf(Q)]=0;var U=Q.node2;0==--D[x.indexOf(U)]&&P.indexOf(U)<0&&P.push(U)}}++E,L=P,P=[]}for(N=0;N<A.length;N++)if(1===A[N])throw new Error("Sankey is a DAG, the original data has cycle!");var ee,te,j=R>E-1?R:E-1;C&&"left"!==C&&function(ne,ee,te,oe){if("right"===ee){for(var ae=[],fe=ne,ve=0;fe.length;){for(var xe=0;xe<fe.length;xe++){var ct=fe[xe];ct.setLayout({skNodeHeight:ve},!0);for(var ut=0;ut<ct.inEdges.length;ut++){var Ve=ct.inEdges[ut];ae.indexOf(Ve.node1)<0&&ae.push(Ve.node1)}}fe=ae,ae=[],++ve}k(ne,function(Ne){bI(Ne)||Ne.setLayout({depth:Math.max(0,oe-Ne.getLayout().skNodeHeight)},!0)})}else"justify"===ee&&(ft=oe,k(ne,function(ot){bI(ot)||ot.outEdges.length||ot.setLayout({depth:ft},!0)}));var ft}(x,C,0,j),ee="vertical"===T?(M-w)/j:(S-w)/j,te=T,k(x,function(oe){var ae=oe.getLayout().depth*ee;oe.setLayout("vertical"===te?{y:ae}:{x:ae},!0)})})(c,p,d,g,m,v,_),function(x,b,w,S,M,T,C){var E,N,R,A=(E=[],N="vertical"===C?"y":"x",(R=Wd(x,function(z){return z.getLayout()[N]})).keys.sort(function(z,B){return z-B}),k(R.keys,function(z){E.push(R.buckets.get(z))}),E);(function(L,P,E,N,R,z){var B=1/0;k(L,function(V){var W=V.length,Y=0;k(V,function(U){Y+=U.getLayout().value});var Q="vertical"===z?(N-(W-1)*R)/Y:(E-(W-1)*R)/Y;Q<B&&(B=Q)}),k(L,function(V){k(V,function(W,Y){var Q=W.getLayout().value*B;"vertical"===z?(W.setLayout({x:Y},!0),W.setLayout({dx:Q},!0)):(W.setLayout({y:Y},!0),W.setLayout({dy:Q},!0))})}),k(P,function(V){var W=+V.getValue()*B;V.setLayout({dy:W},!0)})})(A,b,w,S,M,C),Ty(A,M,w,S,C);for(var D=1;T>0;T--)eN(A,D*=.99,C),Ty(A,M,w,S,C),oN(A,D,C),Ty(A,M,w,S,C)}(c,p,m,g,f,y,v),w="vertical"===v?"x":"y",k(x=c,function(S){S.outEdges.sort(function(M,T){return M.node2.getLayout()[w]-T.node2.getLayout()[w]}),S.inEdges.sort(function(M,T){return M.node1.getLayout()[w]-T.node1.getLayout()[w]})}),k(x,function(S){var M=0,T=0;k(S.outEdges,function(C){C.setLayout({sy:M},!0),M+=C.getLayout().dy}),k(S.inEdges,function(C){C.setLayout({ty:T},!0),T+=C.getLayout().dy})})}(u,h,i,r,a,s,0!==Ke(u,function(c){return 0===c.getLayout().value}).length?0:e.get("layoutIterations"),e.get("orient"),e.get("nodeAlign"))})}function bI(n){var t=n.hostGraph.data.getRawDataItem(n.dataIndex);return null!=t.depth&&t.depth>=0}function Ty(n,t,e,i,r){var o="vertical"===r?"x":"y";k(n,function(a){var s,l,u;a.sort(function(f,g){return f.getLayout()[o]-g.getLayout()[o]});for(var h=0,c=a.length,p="vertical"===r?"dx":"dy",d=0;d<c;d++)(u=h-(l=a[d]).getLayout()[o])>0&&(s=l.getLayout()[o]+u,l.setLayout("vertical"===r?{x:s}:{y:s},!0)),h=l.getLayout()[o]+l.getLayout()[p]+t;if((u=h-t-("vertical"===r?i:e))>0)for(s=l.getLayout()[o]-u,l.setLayout("vertical"===r?{x:s}:{y:s},!0),h=s,d=c-2;d>=0;--d)(u=(l=a[d]).getLayout()[o]+l.getLayout()[p]+t-h)>0&&(s=l.getLayout()[o]-u,l.setLayout("vertical"===r?{x:s}:{y:s},!0)),h=l.getLayout()[o]})}function eN(n,t,e){k(n.slice().reverse(),function(i){k(i,function(r){if(r.outEdges.length){var o=so(r.outEdges,tN,e)/so(r.outEdges,Xp);if(isNaN(o)){var a=r.outEdges.length;o=a?so(r.outEdges,nN,e)/a:0}if("vertical"===e){var s=r.getLayout().x+(o-ao(r,e))*t;r.setLayout({x:s},!0)}else{var l=r.getLayout().y+(o-ao(r,e))*t;r.setLayout({y:l},!0)}}})})}function tN(n,t){return ao(n.node2,t)*n.getValue()}function nN(n,t){return ao(n.node2,t)}function iN(n,t){return ao(n.node1,t)*n.getValue()}function rN(n,t){return ao(n.node1,t)}function ao(n,t){return"vertical"===t?n.getLayout().x+n.getLayout().dx/2:n.getLayout().y+n.getLayout().dy/2}function Xp(n){return n.getValue()}function so(n,t,e){for(var i=0,r=n.length,o=-1;++o<r;){var a=+t(n[o],e);isNaN(a)||(i+=a)}return i}function oN(n,t,e){k(n,function(i){k(i,function(r){if(r.inEdges.length){var o=so(r.inEdges,iN,e)/so(r.inEdges,Xp);if(isNaN(o)){var a=r.inEdges.length;o=a?so(r.inEdges,rN,e)/a:0}if("vertical"===e){var s=r.getLayout().x+(o-ao(r,e))*t;r.setLayout({x:s},!0)}else{var l=r.getLayout().y+(o-ao(r,e))*t;r.setLayout({y:l},!0)}}})})}function aN(n){n.eachSeriesByType("sankey",function(t){var e=t.getGraph().nodes;if(e.length){var i=1/0,r=-1/0;k(e,function(o){var a=o.getLayout().value;a<i&&(i=a),a>r&&(r=a)}),k(e,function(o){var a=new Vt({type:"color",mappingMethod:"linear",dataExtent:[i,r],visual:t.get("color")}).mapValueToVisual(o.getLayout().value),s=o.getModel().get(["itemStyle","color"]);null!=s?(o.setVisual("color",s),o.setVisual("style",{fill:s})):(o.setVisual("color",a),o.setVisual("style",{fill:a}))})}})}var wI=function(){function n(){}return n.prototype.getInitialData=function(t,e){var i,r,o=e.getComponent("xAxis",this.get("xAxisIndex")),a=e.getComponent("yAxis",this.get("yAxisIndex")),s=o.get("type"),l=a.get("type");"category"===s?(t.layout="horizontal",i=o.getOrdinalMeta(),r=!0):"category"===l?(t.layout="vertical",i=a.getOrdinalMeta(),r=!0):t.layout=t.layout||"horizontal";var u=["x","y"],h="horizontal"===t.layout?0:1,c=this._baseAxisDim=u[h],p=u[1-h],d=[o,a],f=d[h].get("type"),g=d[1-h].get("type"),m=t.data;if(m&&r){var y=[];k(m,function(x,b){var w;Z(x)?(w=x.slice(),x.unshift(b)):Z(x.value)?((w=K({},x)).value=w.value.slice(),x.value.unshift(b)):w=x,y.push(w)}),t.data=y}var v=this.defaultValueDimensions,_=[{name:c,type:ep(f),ordinalMeta:i,otherDims:{tooltip:!1,itemName:0},dimsDef:["base"]},{name:p,type:ep(g),dimsDef:v.slice()}];return Es(this,{coordDimensions:_,dimensionsCount:v.length+1,encodeDefaulter:ye(g1,_,this)})},n.prototype.getBaseAxis=function(){var t=this._baseAxisDim;return this.ecModel.getComponent(t+"Axis",this.get(t+"AxisIndex")).axis},n}(),SI=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e.defaultValueDimensions=[{name:"min",defaultTooltip:!0},{name:"Q1",defaultTooltip:!0},{name:"median",defaultTooltip:!0},{name:"Q3",defaultTooltip:!0},{name:"max",defaultTooltip:!0}],e.visualDrawType="stroke",e}return G(t,n),t.type="series.boxplot",t.dependencies=["xAxis","yAxis","grid"],t.defaultOption={zlevel:0,z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,layout:null,boxWidth:[7,50],itemStyle:{color:"#fff",borderWidth:1},emphasis:{scale:!0,itemStyle:{borderWidth:2,shadowBlur:5,shadowOffsetX:1,shadowOffsetY:1,shadowColor:"rgba(0,0,0,0.2)"}},animationDuration:800},t}(et);ht(SI,wI,!0);var sN=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return G(t,n),t.prototype.render=function(e,i,r){var o=e.getData(),a=this.group,s=this._data;this._data||a.removeAll();var l="horizontal"===e.get("layout")?1:0;o.diff(s).add(function(u){if(o.hasValue(u)){var h=MI(o.getItemLayout(u),o,u,l,!0);o.setItemGraphicEl(u,h),a.add(h)}}).update(function(u,h){var c=s.getItemGraphicEl(h);if(o.hasValue(u)){var p=o.getItemLayout(u);c?(di(c),II(p,c,o,u)):c=MI(p,o,u,l),a.add(c),o.setItemGraphicEl(u,c)}else a.remove(c)}).remove(function(u){var h=s.getItemGraphicEl(u);h&&a.remove(h)}).execute(),this._data=o},t.prototype.remove=function(e){var i=this.group,r=this._data;this._data=null,r&&r.eachItemGraphicEl(function(o){o&&i.remove(o)})},t.type="boxplot",t}(je),lN=function(){},uN=function(n){function t(e){var i=n.call(this,e)||this;return i.type="boxplotBoxPath",i}return G(t,n),t.prototype.getDefaultShape=function(){return new lN},t.prototype.buildPath=function(e,i){var r=i.points,o=0;for(e.moveTo(r[o][0],r[o][1]),o++;o<4;o++)e.lineTo(r[o][0],r[o][1]);for(e.closePath();o<r.length;o++)e.moveTo(r[o][0],r[o][1]),o++,e.lineTo(r[o][0],r[o][1])},t}(Le);function MI(n,t,e,i,r){var o=n.ends,a=new uN({shape:{points:r?hN(o,i,n):o}});return II(n,a,t,e,r),a}function II(n,t,e,i,r){(0,Jl[r?"initProps":"updateProps"])(t,{shape:{points:n.ends}},e.hostModel,i),t.useStyle(e.getItemVisual(i,"style")),t.style.strokeNoScale=!0,t.z2=100;var a=e.getItemModel(i);Yt(t,a),nt(t,a.get(["emphasis","focus"]),a.get(["emphasis","blurScope"]))}function hN(n,t,e){return J(n,function(i){return(i=i.slice())[t]=e.initBaseline,i})}function cN(n,t){}var rh=k;function pN(n){var i,r,t=(i=[],r=[],n.eachSeriesByType("boxplot",function(o){var a=o.getBaseAxis(),s=Ie(r,a);s<0&&(r[s=r.length]=a,i[s]={axis:a,seriesModels:[]}),i[s].seriesModels.push(o)}),i);rh(t,function(e){var i=e.seriesModels;i.length&&(function(r){var o,a,s=r.axis,l=r.seriesModels,u=l.length,h=r.boxWidthList=[],c=r.boxOffsetList=[],p=[];if("category"===s.type)a=s.getBandWidth();else{var d=0;rh(l,function(v){d=Math.max(d,v.getData().count())}),o=s.getExtent(),Math.abs(o[1]-o[0])}rh(l,function(v){var _=v.get("boxWidth");Z(_)||(_=[_,_]),p.push([ie(_[0],a)||0,ie(_[1],a)||0])});var f=.8*a-2,g=f/u*.3,m=(f-g*(u-1))/u,y=m/2-f/2;rh(l,function(v,_){c.push(y),y+=g+m,h.push(Math.min(Math.max(m,p[_][0]),p[_][1]))})}(e),rh(i,function(r,o){!function(a,s,l){var u=a.coordinateSystem,h=a.getData(),c=l/2,p="horizontal"===a.get("layout")?0:1,d=1-p,f=["x","y"],g=h.mapDimension(f[p]),m=h.mapDimensionsAll(f[d]);if(!(null==g||m.length<5))for(var y=0;y<h.count();y++){var v=h.get(g,y),_=T(v,m[2],y),x=T(v,m[0],y),b=T(v,m[1],y),w=T(v,m[3],y),S=T(v,m[4],y),M=[];C(M,b,!1),C(M,w,!0),M.push(x,b,S,w),A(M,x),A(M,S),A(M,_),h.setItemLayout(y,{initBaseline:_[d],ends:M})}function T(D,L,P){var E,N=h.get(L,P),R=[];return R[p]=D,R[d]=N,isNaN(D)||isNaN(N)?E=[NaN,NaN]:(E=u.dataToPoint(R))[p]+=s,E}function C(D,L,P){var E=L.slice(),N=L.slice();E[p]+=c,N[p]-=c,P?D.push(E,N):D.push(N,E)}function A(D,L){var P=L.slice(),E=L.slice();P[p]-=c,E[p]+=c,D.push(P,E)}}(r,e.boxOffsetList[o],e.boxWidthList[o])}))})}var dN={type:"echarts:boxplot",transform:function(n){var t=n.upstream;t.sourceFormat!==lr&&Xe("");var i=function(r,o){for(var a=[],s=[],l=(o=o||{}).boundIQR,u="none"===l||0===l,h=0;h<r.length;h++){var c=On(r[h].slice()),p=Wh(c,.25),d=Wh(c,.5),f=Wh(c,.75),g=c[0],m=c[c.length-1],y=(null==l?1.5:l)*(f-p),v=u?g:Math.max(g,p-y),_=u?m:Math.min(m,f+y),x=o.itemNameFormatter,b=Be(x)?x({value:h}):Ce(x)?x.replace("{value}",h+""):h+"";a.push([b,v,p,d,f,_]);for(var w=0;w<c.length;w++){var S=c[w];(S<v||S>_)&&s.push([b,S])}}return{boxData:a,outliers:s}}(t.getRawData(),n.config);return[{dimensions:["ItemName","Low","Q1","Q2","Q3","High"],data:i.boxData},{data:i.outliers}]}},fN=["color","borderColor"],gN=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return G(t,n),t.prototype.render=function(e,i,r){this.group.removeClipPath(),this._updateDrawMode(e),this._isLargeDraw?this._renderLarge(e):this._renderNormal(e)},t.prototype.incrementalPrepareRender=function(e,i,r){this._clear(),this._updateDrawMode(e)},t.prototype.incrementalRender=function(e,i,r,o){this._isLargeDraw?this._incrementalRenderLarge(e,i):this._incrementalRenderNormal(e,i)},t.prototype._updateDrawMode=function(e){var i=e.pipelineContext.large;null!=this._isLargeDraw&&i===this._isLargeDraw||(this._isLargeDraw=i,this._clear())},t.prototype._renderNormal=function(e){var i=e.getData(),r=this._data,o=this.group,a=i.getLayout("isSimpleBox"),s=e.get("clip",!0),l=e.coordinateSystem,u=l.getArea&&l.getArea();this._data||o.removeAll(),i.diff(r).add(function(h){if(i.hasValue(h)){var c=i.getItemLayout(h);if(s&&TI(u,c))return;var p=Cy(c,0,!0);lt(p,{shape:{points:c.ends}},e,h),Ay(p,i,h,a),o.add(p),i.setItemGraphicEl(h,p)}}).update(function(h,c){var p=r.getItemGraphicEl(c);if(i.hasValue(h)){var d=i.getItemLayout(h);s&&TI(u,d)?o.remove(p):(p?(ze(p,{shape:{points:d.ends}},e,h),di(p)):p=Cy(d),Ay(p,i,h,a),o.add(p),i.setItemGraphicEl(h,p))}else o.remove(p)}).remove(function(h){var c=r.getItemGraphicEl(h);c&&o.remove(c)}).execute(),this._data=i},t.prototype._renderLarge=function(e){this._clear(),AI(e,this.group);var i=e.get("clip",!0)?Mp(e.coordinateSystem,!1,e):null;i?this.group.setClipPath(i):this.group.removeClipPath()},t.prototype._incrementalRenderNormal=function(e,i){for(var r,o=i.getData(),a=o.getLayout("isSimpleBox");null!=(r=e.next());){var s=Cy(o.getItemLayout(r));Ay(s,o,r,a),s.incremental=!0,this.group.add(s)}},t.prototype._incrementalRenderLarge=function(e,i){AI(i,this.group,!0)},t.prototype.remove=function(e){this._clear()},t.prototype._clear=function(){this.group.removeAll(),this._data=null},t.type="candlestick",t}(je),mN=function(){},yN=function(n){function t(e){var i=n.call(this,e)||this;return i.type="normalCandlestickBox",i}return G(t,n),t.prototype.getDefaultShape=function(){return new mN},t.prototype.buildPath=function(e,i){var r=i.points;this.__simpleBox?(e.moveTo(r[4][0],r[4][1]),e.lineTo(r[6][0],r[6][1])):(e.moveTo(r[0][0],r[0][1]),e.lineTo(r[1][0],r[1][1]),e.lineTo(r[2][0],r[2][1]),e.lineTo(r[3][0],r[3][1]),e.closePath(),e.moveTo(r[4][0],r[4][1]),e.lineTo(r[5][0],r[5][1]),e.moveTo(r[6][0],r[6][1]),e.lineTo(r[7][0],r[7][1]))},t}(Le);function Cy(n,t,e){var i=n.ends;return new yN({shape:{points:e?vN(i,n):i},z2:100})}function TI(n,t){for(var e=!0,i=0;i<t.ends.length;i++)if(n.contain(t.ends[i][0],t.ends[i][1])){e=!1;break}return e}function Ay(n,t,e,i){var r=t.getItemModel(e);n.useStyle(t.getItemVisual(e,"style")),n.style.strokeNoScale=!0,n.__simpleBox=i,Yt(n,r)}function vN(n,t){return J(n,function(e){return(e=e.slice())[1]=t.initBaseline,e})}var _N=function(){},CI=function(n){function t(e){var i=n.call(this,e)||this;return i.type="largeCandlestickBox",i}return G(t,n),t.prototype.getDefaultShape=function(){return new _N},t.prototype.buildPath=function(e,i){for(var r=i.points,o=0;o<r.length;)if(this.__sign===r[o++]){var a=r[o++];e.moveTo(a,r[o++]),e.lineTo(a,r[o++])}else o+=3},t}(Le);function AI(n,t,e){var i=n.getData().getLayout("largePoints"),r=new CI({shape:{points:i},__sign:1});t.add(r);var o=new CI({shape:{points:i},__sign:-1});t.add(o),DI(1,r,n),DI(-1,o,n),e&&(r.incremental=!0,o.incremental=!0)}function DI(n,t,e,i){var r=e.get(["itemStyle",n>0?"borderColor":"borderColor0"])||e.get(["itemStyle",n>0?"color":"color0"]),o=e.getModel("itemStyle").getItemStyle(fN);t.useStyle(o),t.style.fill=null,t.style.stroke=r}var kI=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e.defaultValueDimensions=[{name:"open",defaultTooltip:!0},{name:"close",defaultTooltip:!0},{name:"lowest",defaultTooltip:!0},{name:"highest",defaultTooltip:!0}],e}return G(t,n),t.prototype.getShadowDim=function(){return"open"},t.prototype.brushSelector=function(e,i,r){var o=i.getItemLayout(e);return o&&r.rect(o.brushRect)},t.type="series.candlestick",t.dependencies=["xAxis","yAxis","grid"],t.defaultOption={zlevel:0,z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,layout:null,clip:!0,itemStyle:{color:"#eb5454",color0:"#47b262",borderColor:"#eb5454",borderColor0:"#47b262",borderWidth:1},emphasis:{scale:!0,itemStyle:{borderWidth:2}},barMaxWidth:null,barMinWidth:null,barWidth:null,large:!0,largeThreshold:600,progressive:3e3,progressiveThreshold:1e4,progressiveChunkMode:"mod",animationEasing:"linear",animationDuration:300},t}(et);function xN(n){n&&Z(n.series)&&k(n.series,function(t){pe(t)&&"k"===t.type&&(t.type="candlestick")})}ht(kI,wI,!0);var bN=["itemStyle","borderColor"],wN=["itemStyle","borderColor0"],SN=["itemStyle","color"],MN=["itemStyle","color0"],IN={seriesType:"candlestick",plan:bs(),performRawSeries:!0,reset:function(n,t){function e(r,o){return o.get(r>0?SN:MN)}function i(r,o){return o.get(r>0?bN:wN)}if(!t.isSeriesFiltered(n))return!n.pipelineContext.large&&{progress:function(r,o){for(var a;null!=(a=r.next());){var s=o.getItemModel(a),l=o.getItemLayout(a).sign,u=s.getItemStyle();u.fill=e(l,s),u.stroke=i(l,s)||u.fill,K(o.ensureUniqueItemVisual(a,"style"),u)}}}}},TN="undefined"!=typeof Float32Array?Float32Array:Array,CN={seriesType:"candlestick",plan:bs(),reset:function(n){var c,p,d,f,g,m,y,v,t=n.coordinateSystem,e=n.getData(),i=(p=e,g="category"===(f=(c=n).getBaseAxis()).type?f.getBandWidth():(d=f.getExtent(),Math.abs(d[1]-d[0])/p.count()),m=ie(Te(c.get("barMaxWidth"),g),g),y=ie(Te(c.get("barMinWidth"),1),g),null!=(v=c.get("barWidth"))?ie(v,g):Math.max(Math.min(g/2,m),y)),r=["x","y"],o=e.getDimensionIndex(e.mapDimension(r[0])),a=J(e.mapDimensionsAll(r[1]),e.getDimensionIndex,e),s=a[0],l=a[1],u=a[2],h=a[3];if(e.setLayout({candleWidth:i,isSimpleBox:i<=1.3}),!(o<0||a.length<4))return{progress:n.pipelineContext.large?function(c,p){for(var d,f,g=new TN(4*c.count),m=0,y=[],v=[],_=p.getStore();null!=(f=c.next());){var x=_.get(o,f),b=_.get(s,f),w=_.get(l,f),S=_.get(u,f),M=_.get(h,f);isNaN(x)||isNaN(S)||isNaN(M)?(g[m++]=NaN,m+=3):(g[m++]=LI(_,f,b,w,l),y[0]=x,y[1]=S,d=t.dataToPoint(y,null,v),g[m++]=d?d[0]:NaN,g[m++]=d?d[1]:NaN,y[1]=M,d=t.dataToPoint(y,null,v),g[m++]=d?d[1]:NaN)}p.setLayout("largePoints",g)}:function(c,p){for(var d,f=p.getStore();null!=(d=c.next());){var g=f.get(o,d),m=f.get(s,d),y=f.get(l,d),v=f.get(u,d),_=f.get(h,d),x=Math.min(m,y),b=Math.max(m,y),w=A(x,g),S=A(b,g),M=A(v,g),T=A(_,g),C=[];D(C,S,0),D(C,w,1),C.push(P(T),P(S),P(M),P(w)),p.setItemLayout(d,{sign:LI(f,d,m,y,l),initBaseline:m>y?S[1]:w[1],ends:C,brushRect:(E=v,N=_,R=g,z=void 0,B=void 0,z=A(E,R),B=A(N,R),z[0]-=i/2,B[0]-=i/2,{x:z[0],y:z[1],width:i,height:B[1]-z[1]})})}var E,N,R,z,B;function A(E,N){var R=[];return R[0]=N,R[1]=E,isNaN(N)||isNaN(E)?[NaN,NaN]:t.dataToPoint(R)}function D(E,N,R){var z=N.slice(),B=N.slice();z[0]=gc(z[0]+i/2,1,!1),B[0]=gc(B[0]-i/2,1,!0),R?E.push(z,B):E.push(B,z)}function P(E){return E[0]=gc(E[0],1),E}}}}};function LI(n,t,e,i,r){return e>i?-1:e<i?1:t>0?n.get(r,t-1)<=i?1:-1:1}function PI(n,t){var e=t.rippleEffectColor||t.color;n.eachChild(function(i){i.attr({z:t.z,zlevel:t.zlevel,style:{stroke:"stroke"===t.brushType?e:null,fill:"fill"===t.brushType?e:null}})})}var AN=function(n){function t(e,i){var r=n.call(this)||this,o=new Bu(e,i),a=new me;return r.add(o),r.add(a),r.updateData(e,i),r}return G(t,n),t.prototype.stopEffectAnimation=function(){this.childAt(1).removeAll()},t.prototype.startEffectAnimation=function(e){for(var i=e.symbolType,r=e.color,o=e.rippleNumber,a=this.childAt(1),s=0;s<o;s++){var l=xt(i,-1,-1,2,2,r);l.attr({style:{strokeNoScale:!0},z2:99,silent:!0,scaleX:.5,scaleY:.5});var u=-s/o*e.period+e.effectOffset;l.animate("",!0).when(e.period,{scaleX:e.rippleScale/2,scaleY:e.rippleScale/2}).delay(u).start(),l.animateStyle(!0).when(e.period,{opacity:0}).delay(u).start(),a.add(l)}PI(a,e)},t.prototype.updateEffectAnimation=function(e){for(var i=this._effectCfg,r=this.childAt(1),o=["symbolType","period","rippleScale","rippleNumber"],a=0;a<o.length;a++){var s=o[a];if(i[s]!==e[s])return this.stopEffectAnimation(),void this.startEffectAnimation(e)}PI(r,e)},t.prototype.highlight=function(){zi(this)},t.prototype.downplay=function(){Bi(this)},t.prototype.getSymbolType=function(){var e=this.childAt(0);return e&&e.getSymbolType()},t.prototype.updateData=function(e,i){var r=this,o=e.hostModel;this.childAt(0).updateData(e,i);var a=this.childAt(1),s=e.getItemModel(i),l=e.getItemVisual(i,"symbol"),u=mu(e.getItemVisual(i,"symbolSize")),h=e.getItemVisual(i,"style"),c=h&&h.fill;a.setScale(u),a.traverse(function(g){g.setStyle("fill",c)});var p=Ms(e.getItemVisual(i,"symbolOffset"),u);p&&(a.x=p[0],a.y=p[1]);var d=e.getItemVisual(i,"symbolRotate");a.rotation=(d||0)*Math.PI/180||0;var f={};f.showEffectOn=o.get("showEffectOn"),f.rippleScale=s.get(["rippleEffect","scale"]),f.brushType=s.get(["rippleEffect","brushType"]),f.period=1e3*s.get(["rippleEffect","period"]),f.effectOffset=i/e.count(),f.z=o.getShallow("z")||0,f.zlevel=o.getShallow("zlevel")||0,f.symbolType=l,f.color=c,f.rippleEffectColor=s.get(["rippleEffect","color"]),f.rippleNumber=s.get(["rippleEffect","number"]),this.off("mouseover").off("mouseout").off("emphasis").off("normal"),"render"===f.showEffectOn?(this._effectCfg?this.updateEffectAnimation(f):this.startEffectAnimation(f),this._effectCfg=f):(this._effectCfg=null,this.stopEffectAnimation(),this.onHoverStateChange=function(g){"emphasis"===g?"render"!==f.showEffectOn&&r.startEffectAnimation(f):"normal"===g&&"render"!==f.showEffectOn&&r.stopEffectAnimation()}),this._effectCfg=f,nt(this)},t.prototype.fadeOut=function(e){this.off("mouseover").off("mouseout"),e&&e()},t}(me),DN=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return G(t,n),t.prototype.init=function(){this._symbolDraw=new Vu(AN)},t.prototype.render=function(e,i,r){var o=e.getData(),a=this._symbolDraw;a.updateData(o,{clipShape:this._getClipShape(e)}),this.group.add(a.group)},t.prototype._getClipShape=function(e){var i=e.coordinateSystem,r=i&&i.getArea&&i.getArea();return e.get("clip",!0)?r:null},t.prototype.updateTransform=function(e,i,r){var o=e.getData();this.group.dirty();var a=Gu("").reset(e,i,r);a.progress&&a.progress({start:0,end:o.count(),count:o.count()},o),this._symbolDraw.updateLayout()},t.prototype._updateGroupTransform=function(e){var i=e.coordinateSystem;i&&i.getRoamTransform&&(this.group.transform=Zv(i.getRoamTransform()),this.group.decomposeTransform())},t.prototype.remove=function(e,i){this._symbolDraw&&this._symbolDraw.remove(!0)},t.type="effectScatter",t}(je),kN=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e.hasSymbolVisual=!0,e}return G(t,n),t.prototype.getInitialData=function(e,i){return Vi(null,this,{useEncodeDefaulter:!0})},t.prototype.brushSelector=function(e,i,r){return r.point(i.getItemLayout(e))},t.type="series.effectScatter",t.dependencies=["grid","polar"],t.defaultOption={coordinateSystem:"cartesian2d",zlevel:0,z:2,legendHoverLink:!0,effectType:"ripple",progressive:0,showEffectOn:"render",clip:!0,rippleEffect:{period:4,scale:2.5,brushType:"fill",number:3},universalTransition:{divideShape:"clone"},symbolSize:10},t}(et),OI=function(n){function t(e,i,r){var o=n.call(this)||this;return o.add(o.createLine(e,i,r)),o._updateEffectSymbol(e,i),o}return G(t,n),t.prototype.createLine=function(e,i,r){return new ey(e,i,r)},t.prototype._updateEffectSymbol=function(e,i){var r=e.getItemModel(i).getModel("effect"),o=r.get("symbolSize"),a=r.get("symbol");Z(o)||(o=[o,o]);var s=e.getItemVisual(i,"style"),l=r.get("color")||s&&s.stroke,u=this.childAt(1);this._symbolType!==a&&(this.remove(u),(u=xt(a,-.5,-.5,1,1,l)).z2=100,u.culling=!0,this.add(u)),u&&(u.setStyle("shadowColor",l),u.setStyle(r.getItemStyle(["color"])),u.scaleX=o[0],u.scaleY=o[1],u.setColor(l),this._symbolType=a,this._symbolScale=o,this._updateEffectAnimation(e,r,i))},t.prototype._updateEffectAnimation=function(e,i,r){var o=this.childAt(1);if(o){var a=this,s=e.getItemLayout(r),l=1e3*i.get("period"),u=i.get("loop"),h=i.get("constantSpeed"),c=st(i.get("delay"),function(f){return f/e.count()*l/3});if(o.ignore=!0,this._updateAnimationPoints(o,s),h>0&&(l=this._getLineLength(o)/h*1e3),(l!==this._period||u!==this._loop)&&(o.stopAnimation(),l>0)){var p=void 0;p="function"==typeof c?c(r):c,o.__t>0&&(p=-l*o.__t),o.__t=0;var d=o.animate("",u).when(l,{__t:1}).delay(p).during(function(){a._updateSymbolPosition(o)});u||d.done(function(){a.remove(o)}),d.start()}this._period=l,this._loop=u}},t.prototype._getLineLength=function(e){return oi(e.__p1,e.__cp1)+oi(e.__cp1,e.__p2)},t.prototype._updateAnimationPoints=function(e,i){e.__p1=i[0],e.__p2=i[1],e.__cp1=i[2]||[(i[0][0]+i[1][0])/2,(i[0][1]+i[1][1])/2]},t.prototype.updateData=function(e,i,r){this.childAt(0).updateData(e,i,r),this._updateEffectSymbol(e,i)},t.prototype._updateSymbolPosition=function(e){var i=e.__p1,r=e.__p2,o=e.__cp1,a=e.__t,s=[e.x,e.y],l=s.slice(),u=Wt,h=Jd;s[0]=u(i[0],o[0],r[0],a),s[1]=u(i[1],o[1],r[1],a);var c=h(i[0],o[0],r[0],a),p=h(i[1],o[1],r[1],a);e.rotation=-Math.atan2(p,c)-Math.PI/2,"line"!==this._symbolType&&"rect"!==this._symbolType&&"roundRect"!==this._symbolType||(void 0!==e.__lastT&&e.__lastT<e.__t?(e.scaleY=1.05*oi(l,s),1===a&&(s[0]=l[0]+(s[0]-l[0])/2,s[1]=l[1]+(s[1]-l[1])/2)):e.scaleY=1===e.__lastT?2*oi(i,s):this._symbolScale[1]),e.__lastT=e.__t,e.ignore=!1,e.x=s[0],e.y=s[1]},t.prototype.updateLayout=function(e,i){this.childAt(0).updateLayout(e,i);var r=e.getItemModel(i).getModel("effect");this._updateEffectAnimation(e,r,i)},t}(me),EI=function(n){function t(e,i,r){var o=n.call(this)||this;return o._createPolyline(e,i,r),o}return G(t,n),t.prototype._createPolyline=function(e,i,r){var o=e.getItemLayout(i),a=new pn({shape:{points:o}});this.add(a),this._updateCommonStl(e,i,r)},t.prototype.updateData=function(e,i,r){var o=e.hostModel;ze(this.childAt(0),{shape:{points:e.getItemLayout(i)}},o,i),this._updateCommonStl(e,i,r)},t.prototype._updateCommonStl=function(e,i,r){var o=this.childAt(0),a=e.getItemModel(i),s=r&&r.emphasisLineStyle;r&&!e.hasItemOption||(s=a.getModel(["emphasis","lineStyle"]).getLineStyle()),o.useStyle(e.getItemVisual(i,"style")),o.style.fill=null,o.style.strokeNoScale=!0,o.ensureState("emphasis").style=s,nt(this)},t.prototype.updateLayout=function(e,i){this.childAt(0).setShape("points",e.getItemLayout(i))},t}(me),LN=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e._lastFrame=0,e._lastFramePercent=0,e}return G(t,n),t.prototype.createLine=function(e,i,r){return new EI(e,i,r)},t.prototype._updateAnimationPoints=function(e,i){this._points=i;for(var r=[0],o=0,a=1;a<i.length;a++)o+=oi(i[a-1],i[a]),r.push(o);if(0!==o){for(a=0;a<r.length;a++)r[a]/=o;this._offsets=r,this._length=o}else this._length=0},t.prototype._getLineLength=function(){return this._length},t.prototype._updateSymbolPosition=function(e){var i=e.__t,r=this._points,o=this._offsets,a=r.length;if(o){var s,l=this._lastFrame;if(i<this._lastFramePercent){for(s=Math.min(l+1,a-1);s>=0&&!(o[s]<=i);s--);s=Math.min(s,a-2)}else{for(s=l;s<a&&!(o[s]>i);s++);s=Math.min(s-1,a-2)}var u=(i-o[s])/(o[s+1]-o[s]),h=r[s],c=r[s+1];e.x=h[0]*(1-u)+u*c[0],e.y=h[1]*(1-u)+u*c[1],e.rotation=-Math.atan2(c[1]-h[1],c[0]-h[0])-Math.PI/2,this._lastFrame=s,this._lastFramePercent=i,e.ignore=!1}},t}(OI),PN=function(){this.polyline=!1,this.curveness=0,this.segs=[]},NI=function(n){function t(e){return n.call(this,e)||this}return G(t,n),t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new PN},t.prototype.buildPath=function(e,i){var r=i.segs,o=i.curveness;if(i.polyline)for(var a=0;a<r.length;){var s=r[a++];if(s>0){e.moveTo(r[a++],r[a++]);for(var l=1;l<s;l++)e.lineTo(r[a++],r[a++])}}else for(a=0;a<r.length;){var u=r[a++],h=r[a++],c=r[a++],p=r[a++];e.moveTo(u,h),o>0?e.quadraticCurveTo((u+c)/2-(h-p)*o,(h+p)/2-(c-u)*o,c,p):e.lineTo(c,p)}},t.prototype.findDataIndex=function(e,i){var r=this.shape,o=r.segs,a=r.curveness,s=this.style.lineWidth;if(r.polyline)for(var l=0,u=0;u<o.length;){var h=o[u++];if(h>0)for(var c=o[u++],p=o[u++],d=1;d<h;d++)if(Vr(c,p,f=o[u++],g=o[u++],s,e,i))return l;l++}else for(l=0,u=0;u<o.length;){c=o[u++],p=o[u++];var f=o[u++],g=o[u++];if(a>0){if(N0(c,p,(c+f)/2-(p-g)*a,(p+g)/2-(f-c)*a,f,g,s,e,i))return l}else if(Vr(c,p,f,g,s,e,i))return l;l++}return-1},t}(Le),ON=function(){function n(){this.group=new me}return n.prototype.isPersistent=function(){return!this._incremental},n.prototype.updateData=function(t){this.group.removeAll();var e=new NI({rectHover:!0,cursor:"default"});e.setShape({segs:t.getLayout("linesPoints")}),this._setCommon(e,t),this.group.add(e),this._incremental=null},n.prototype.incrementalPrepareUpdate=function(t){this.group.removeAll(),this._clearIncremental(),t.count()>5e5?(this._incremental||(this._incremental=new jl({silent:!0})),this.group.add(this._incremental)):this._incremental=null},n.prototype.incrementalUpdate=function(t,e){var i=new NI;i.setShape({segs:e.getLayout("linesPoints")}),this._setCommon(i,e,!!this._incremental),this._incremental?this._incremental.addDisplayable(i,!0):(i.rectHover=!0,i.cursor="default",i.__startIndex=t.start,this.group.add(i))},n.prototype.remove=function(){this._clearIncremental(),this._incremental=null,this.group.removeAll()},n.prototype._setCommon=function(t,e,i){var r=e.hostModel;t.setShape({polyline:r.get("polyline"),curveness:r.get(["lineStyle","curveness"])}),t.useStyle(r.getModel("lineStyle").getLineStyle()),t.style.strokeNoScale=!0;var o=e.getVisual("style");if(o&&o.stroke&&t.setStyle("stroke",o.stroke),t.setStyle("fill",null),!i){var a=_e(t);a.seriesIndex=r.seriesIndex,t.on("mousemove",function(s){a.dataIndex=null;var l=t.findDataIndex(s.offsetX,s.offsetY);l>0&&(a.dataIndex=l+t.__startIndex)})}},n.prototype._clearIncremental=function(){var t=this._incremental;t&&t.clearDisplaybles()},n}(),RI={seriesType:"lines",plan:bs(),reset:function(n){var t=n.coordinateSystem,e=n.get("polyline"),i=n.pipelineContext.large;return{progress:function(r,o){var a=[];if(i){var s=void 0,l=r.end-r.start;if(e){for(var u=0,h=r.start;h<r.end;h++)u+=n.getLineCoordsCount(h);s=new Float32Array(l+2*u)}else s=new Float32Array(4*l);var c=0,p=[];for(h=r.start;h<r.end;h++){var d=n.getLineCoords(h,a);e&&(s[c++]=d);for(var f=0;f<d;f++)p=t.dataToPoint(a[f],!1,p),s[c++]=p[0],s[c++]=p[1]}o.setLayout("linesPoints",s)}else for(h=r.start;h<r.end;h++){var g=o.getItemModel(h),m=(d=n.getLineCoords(h,a),[]);if(e)for(var y=0;y<d;y++)m.push(t.dataToPoint(a[y]));else{m[0]=t.dataToPoint(a[0]),m[1]=t.dataToPoint(a[1]);var v=g.get(["lineStyle","curveness"]);+v&&(m[2]=[(m[0][0]+m[1][0])/2-(m[0][1]-m[1][1])*v,(m[0][1]+m[1][1])/2-(m[1][0]-m[0][0])*v])}o.setItemLayout(h,m)}}}}},EN=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return G(t,n),t.prototype.render=function(e,i,r){var o=e.getData(),a=this._updateLineDraw(o,e),s=e.get("zlevel"),l=e.get(["effect","trailLength"]),u=r.getZr(),h="svg"===u.painter.getType();h||u.painter.getLayer(s).clear(!0),null==this._lastZlevel||h||u.configLayer(this._lastZlevel,{motionBlur:!1}),this._showEffect(e)&&l&&(h||u.configLayer(s,{motionBlur:!0,lastFrameAlpha:Math.max(Math.min(l/10+.9,1),0)})),a.updateData(o);var c=e.get("clip",!0)&&Mp(e.coordinateSystem,!1,e);c?this.group.setClipPath(c):this.group.removeClipPath(),this._lastZlevel=s,this._finished=!0},t.prototype.incrementalPrepareRender=function(e,i,r){var o=e.getData();this._updateLineDraw(o,e).incrementalPrepareUpdate(o),this._clearLayer(r),this._finished=!1},t.prototype.incrementalRender=function(e,i,r){this._lineDraw.incrementalUpdate(e,i.getData()),this._finished=e.end===i.getData().count()},t.prototype.updateTransform=function(e,i,r){var o=e.getData(),a=e.pipelineContext;if(!this._finished||a.large||a.progressiveRender)return{update:!0};var s=RI.reset(e,i,r);s.progress&&s.progress({start:0,end:o.count(),count:o.count()},o),this._lineDraw.updateLayout(),this._clearLayer(r)},t.prototype._updateLineDraw=function(e,i){var r=this._lineDraw,o=this._showEffect(i),a=!!i.get("polyline"),s=i.pipelineContext.large;return r&&o===this._hasEffet&&a===this._isPolyline&&s===this._isLargeDraw||(r&&r.remove(),r=this._lineDraw=s?new ON:new ty(a?o?LN:EI:o?OI:ey),this._hasEffet=o,this._isPolyline=a,this._isLargeDraw=s),this.group.add(r.group),r},t.prototype._showEffect=function(e){return!!e.get(["effect","show"])},t.prototype._clearLayer=function(e){var i=e.getZr();"svg"===i.painter.getType()||null==this._lastZlevel||i.painter.getLayer(this._lastZlevel).clear(!0)},t.prototype.remove=function(e,i){this._lineDraw&&this._lineDraw.remove(),this._lineDraw=null,this._clearLayer(i)},t.prototype.dispose=function(e,i){this.remove(e,i)},t.type="lines",t}(je),NN="undefined"==typeof Uint32Array?Array:Uint32Array,RN="undefined"==typeof Float64Array?Array:Float64Array;function zI(n){var t=n.data;t&&t[0]&&t[0][0]&&t[0][0].coord&&(n.data=J(t,function(e){var i={coords:[e[0].coord,e[1].coord]};return e[0].name&&(i.fromName=e[0].name),e[1].name&&(i.toName=e[1].name),Ta([i,e[0],e[1]])}))}var zN=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e.visualStyleAccessPath="lineStyle",e.visualDrawType="stroke",e}return G(t,n),t.prototype.init=function(e){e.data=e.data||[],zI(e);var i=this._processFlatCoordsArray(e.data);this._flatCoords=i.flatCoords,this._flatCoordsOffset=i.flatCoordsOffset,i.flatCoords&&(e.data=new Float32Array(i.count)),n.prototype.init.apply(this,arguments)},t.prototype.mergeOption=function(e){if(zI(e),e.data){var i=this._processFlatCoordsArray(e.data);this._flatCoords=i.flatCoords,this._flatCoordsOffset=i.flatCoordsOffset,i.flatCoords&&(e.data=new Float32Array(i.count))}n.prototype.mergeOption.apply(this,arguments)},t.prototype.appendData=function(e){var i=this._processFlatCoordsArray(e.data);i.flatCoords&&(this._flatCoords?(this._flatCoords=Ki(this._flatCoords,i.flatCoords),this._flatCoordsOffset=Ki(this._flatCoordsOffset,i.flatCoordsOffset)):(this._flatCoords=i.flatCoords,this._flatCoordsOffset=i.flatCoordsOffset),e.data=new Float32Array(i.count)),this.getRawData().appendData(e.data)},t.prototype._getCoordsFromItemModel=function(e){var i=this.getData().getItemModel(e);return i.option instanceof Array?i.option:i.getShallow("coords")},t.prototype.getLineCoordsCount=function(e){return this._flatCoordsOffset?this._flatCoordsOffset[2*e+1]:this._getCoordsFromItemModel(e).length},t.prototype.getLineCoords=function(e,i){if(this._flatCoordsOffset){for(var r=this._flatCoordsOffset[2*e],o=this._flatCoordsOffset[2*e+1],a=0;a<o;a++)i[a]=i[a]||[],i[a][0]=this._flatCoords[r+2*a],i[a][1]=this._flatCoords[r+2*a+1];return o}var s=this._getCoordsFromItemModel(e);for(a=0;a<s.length;a++)i[a]=i[a]||[],i[a][0]=s[a][0],i[a][1]=s[a][1];return s.length},t.prototype._processFlatCoordsArray=function(e){var i=0;if(this._flatCoords&&(i=this._flatCoords.length),"number"==typeof e[0]){for(var r=e.length,o=new NN(r),a=new RN(r),s=0,l=0,u=0,h=0;h<r;){u++;var c=e[h++];o[l++]=s+i,o[l++]=c;for(var p=0;p<c;p++){var d=e[h++],f=e[h++];a[s++]=d,a[s++]=f}}return{flatCoordsOffset:new Uint32Array(o.buffer,0,l),flatCoords:a,count:u}}return{flatCoordsOffset:null,flatCoords:null,count:e.length}},t.prototype.getInitialData=function(e,i){var r=new tn(["value"],this);return r.hasItemOption=!1,r.initData(e.data,[],function(o,a,s,l){if(o instanceof Array)return NaN;r.hasItemOption=!0;var u=o.value;return null!=u?u instanceof Array?u[l]:u:void 0}),r},t.prototype.formatTooltip=function(e,i,r){var o=this.getData().getItemModel(e),a=o.get("name");if(a)return a;var s=o.get("fromName"),l=o.get("toName"),u=[];return null!=s&&u.push(s),null!=l&&u.push(l),Bt("nameValue",{name:u.join(" > ")})},t.prototype.preventIncremental=function(){return!!this.get(["effect","show"])},t.prototype.getProgressive=function(){var e=this.option.progressive;return null==e?this.option.large?1e4:this.get("progressive"):e},t.prototype.getProgressiveThreshold=function(){var e=this.option.progressiveThreshold;return null==e?this.option.large?2e4:this.get("progressiveThreshold"):e},t.type="series.lines",t.dependencies=["grid","polar","geo","calendar"],t.defaultOption={coordinateSystem:"geo",zlevel:0,z:2,legendHoverLink:!0,xAxisIndex:0,yAxisIndex:0,symbol:["none","none"],symbolSize:[10,10],geoIndex:0,effect:{show:!1,period:4,constantSpeed:0,symbol:"circle",symbolSize:3,loop:!0,trailLength:.2},large:!1,largeThreshold:2e3,polyline:!1,clip:!0,label:{show:!1,position:"end"},lineStyle:{opacity:.5}},t}(et);function Yp(n){return n instanceof Array||(n=[n,n]),n}var BN={seriesType:"lines",reset:function(n){var t=Yp(n.get("symbol")),e=Yp(n.get("symbolSize")),i=n.getData();return i.setVisual("fromSymbol",t&&t[0]),i.setVisual("toSymbol",t&&t[1]),i.setVisual("fromSymbolSize",e&&e[0]),i.setVisual("toSymbolSize",e&&e[1]),{dataEach:i.hasItemOption?function(r,o){var a=r.getItemModel(o),s=Yp(a.getShallow("symbol",!0)),l=Yp(a.getShallow("symbolSize",!0));s[0]&&r.setItemVisual(o,"fromSymbol",s[0]),s[1]&&r.setItemVisual(o,"toSymbol",s[1]),l[0]&&r.setItemVisual(o,"fromSymbolSize",l[0]),l[1]&&r.setItemVisual(o,"toSymbolSize",l[1])}:null}}},VN=function(){function n(){this.blurSize=30,this.pointSize=20,this.maxOpacity=1,this.minOpacity=0,this._gradientPixels={inRange:null,outOfRange:null};var t=ji();this.canvas=t}return n.prototype.update=function(t,e,i,r,o,a){var s=this._getBrush(),l=this._getGradient(o,"inRange"),u=this._getGradient(o,"outOfRange"),h=this.pointSize+this.blurSize,c=this.canvas,p=c.getContext("2d"),d=t.length;c.width=e,c.height=i;for(var f=0;f<d;++f){var g=t[f],m=g[0],y=g[1],v=r(g[2]);p.globalAlpha=v,p.drawImage(s,m-h,y-h)}if(!c.width||!c.height)return c;for(var _=p.getImageData(0,0,c.width,c.height),x=_.data,b=0,w=x.length,S=this.minOpacity,M=this.maxOpacity-S;b<w;){v=x[b+3]/256;var T=4*Math.floor(255*v);if(v>0){var C=a(v)?l:u;v>0&&(v=v*M+S),x[b++]=C[T],x[b++]=C[T+1],x[b++]=C[T+2],x[b++]=C[T+3]*v*256}else b+=4}return p.putImageData(_,0,0),c},n.prototype._getBrush=function(){var t=this._brushCanvas||(this._brushCanvas=ji()),e=this.pointSize+this.blurSize,i=2*e;t.width=i,t.height=i;var r=t.getContext("2d");return r.clearRect(0,0,i,i),r.shadowOffsetX=i,r.shadowBlur=this.blurSize,r.shadowColor="#000",r.beginPath(),r.arc(-e,e,this.pointSize,0,2*Math.PI,!0),r.closePath(),r.fill(),t},n.prototype._getGradient=function(t,e){for(var i=this._gradientPixels,r=i[e]||(i[e]=new Uint8ClampedArray(1024)),o=[0,0,0,0],a=0,s=0;s<256;s++)t[e](s/255,!0,o),r[a++]=o[0],r[a++]=o[1],r[a++]=o[2],r[a++]=o[3];return r},n}();function BI(n){var t=n.dimensions;return"lng"===t[0]&&"lat"===t[1]}var GN=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return G(t,n),t.prototype.render=function(e,i,r){var o;i.eachComponent("visualMap",function(s){s.eachTargetSeries(function(l){l===e&&(o=s)})}),this.group.removeAll(),this._incrementalDisplayable=null;var a=e.coordinateSystem;"cartesian2d"===a.type||"calendar"===a.type?this._renderOnCartesianAndCalendar(e,r,0,e.getData().count()):BI(a)&&this._renderOnGeo(a,e,o,r)},t.prototype.incrementalPrepareRender=function(e,i,r){this.group.removeAll()},t.prototype.incrementalRender=function(e,i,r,o){var a=i.coordinateSystem;a&&(BI(a)?this.render(i,r,o):this._renderOnCartesianAndCalendar(i,o,e.start,e.end,!0))},t.prototype._renderOnCartesianAndCalendar=function(e,i,r,o,a){var s,l,u,h,c=e.coordinateSystem;if(fr(c,"cartesian2d")){var p=c.getAxis("x"),d=c.getAxis("y");s=p.getBandWidth(),l=d.getBandWidth(),u=p.scale.getExtent(),h=d.scale.getExtent()}for(var f=this.group,g=e.getData(),m=e.getModel(["emphasis","itemStyle"]).getItemStyle(),y=e.getModel(["blur","itemStyle"]).getItemStyle(),v=e.getModel(["select","itemStyle"]).getItemStyle(),_=Ut(e),x=e.get(["emphasis","focus"]),b=e.get(["emphasis","blurScope"]),w=fr(c,"cartesian2d")?[g.mapDimension("x"),g.mapDimension("y"),g.mapDimension("value")]:[g.mapDimension("time"),g.mapDimension("value")],S=r;S<o;S++){var M=void 0,T=g.getItemVisual(S,"style");if(fr(c,"cartesian2d")){var C=g.get(w[0],S),A=g.get(w[1],S);if(isNaN(g.get(w[2],S))||C<u[0]||C>u[1]||A<h[0]||A>h[1])continue;var D=c.dataToPoint([C,A]);M=new Ee({shape:{x:Math.floor(Math.round(D[0])-s/2),y:Math.floor(Math.round(D[1])-l/2),width:Math.ceil(s),height:Math.ceil(l)},style:T})}else{if(isNaN(g.get(w[1],S)))continue;M=new Ee({z2:1,shape:c.dataToRect([g.get(w[0],S)]).contentShape,style:T})}var L=g.getItemModel(S);if(g.hasItemOption){var P=L.getModel("emphasis");m=P.getModel("itemStyle").getItemStyle(),y=L.getModel(["blur","itemStyle"]).getItemStyle(),v=L.getModel(["select","itemStyle"]).getItemStyle(),x=P.get("focus"),b=P.get("blurScope"),_=Ut(L)}var E=e.getRawValue(S),N="-";E&&null!=E[2]&&(N=E[2]+""),Jt(M,_,{labelFetcher:e,labelDataIndex:S,defaultOpacity:T.opacity,defaultText:N}),M.ensureState("emphasis").style=m,M.ensureState("blur").style=y,M.ensureState("select").style=v,nt(M,x,b),M.incremental=a,a&&(M.states.emphasis.hoverLayer=!0),f.add(M),g.setItemGraphicEl(S,M)}},t.prototype._renderOnGeo=function(e,i,r,o){var a=r.targetVisuals.inRange,s=r.targetVisuals.outOfRange,l=i.getData(),u=this._hmLayer||this._hmLayer||new VN;u.blurSize=i.get("blurSize"),u.pointSize=i.get("pointSize"),u.minOpacity=i.get("minOpacity"),u.maxOpacity=i.get("maxOpacity");var h=e.getViewRect().clone(),c=e.getRoamTransform();h.applyTransform(c);var S,M,T,p=Math.max(h.x,0),d=Math.max(h.y,0),f=Math.min(h.width+h.x,o.getWidth()),g=Math.min(h.height+h.y,o.getHeight()),m=f-p,y=g-d,v=[l.mapDimension("lng"),l.mapDimension("lat"),l.mapDimension("value")],_=l.mapArray(v,function(S,M,T){var C=e.dataToPoint([S,M]);return C[0]-=p,C[1]-=d,C.push(T),C}),x=r.getExtent(),b="visualMap.continuous"===r.type?(M=[((M=r.option.range)[0]-(S=x)[0])/(T=S[1]-S[0]),(M[1]-S[0])/T],function(C){return C>=M[0]&&C<=M[1]}):function(S,M,T){var C=S[1]-S[0],A=(M=J(M,function(L){return{interval:[(L.interval[0]-S[0])/C,(L.interval[1]-S[0])/C]}})).length,D=0;return function(L){var P;for(P=D;P<A;P++)if((E=M[P].interval)[0]<=L&&L<=E[1]){D=P;break}if(P===A)for(P=D-1;P>=0;P--){var E;if((E=M[P].interval)[0]<=L&&L<=E[1]){D=P;break}}return P>=0&&P<A&&T[P]}}(x,r.getPieceList(),r.option.selected);u.update(_,m,y,a.color.getNormalizer(),{inRange:a.color.getColorMapper(),outOfRange:s.color.getColorMapper()},b);var w=new It({style:{width:m,height:y,x:p,y:d,image:u.canvas},silent:!0});this.group.add(w)},t.type="heatmap",t}(je),FN=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return G(t,n),t.prototype.getInitialData=function(e,i){return Vi(null,this,{generateCoord:"value"})},t.prototype.preventIncremental=function(){var e=ms.get(this.get("coordinateSystem"));if(e&&e.dimensions)return"lng"===e.dimensions[0]&&"lat"===e.dimensions[1]},t.type="series.heatmap",t.dependencies=["grid","geo","calendar"],t.defaultOption={coordinateSystem:"cartesian2d",zlevel:0,z:2,geoIndex:0,blurSize:30,pointSize:20,maxOpacity:1,minOpacity:0,select:{itemStyle:{borderColor:"#212121"}}},t}(et),HN=["itemStyle","borderWidth"],VI=[{xy:"x",wh:"width",index:0,posDesc:["left","right"]},{xy:"y",wh:"height",index:1,posDesc:["top","bottom"]}],Dy=new Yn,WN=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return G(t,n),t.prototype.render=function(e,i,r){var o=this.group,a=e.getData(),s=this._data,l=e.coordinateSystem,u=l.getBaseAxis().isHorizontal(),h=l.master.getRect(),c={ecSize:{width:r.getWidth(),height:r.getHeight()},seriesModel:e,coordSys:l,coordSysExtent:[[h.x,h.x+h.width],[h.y,h.y+h.height]],isHorizontal:u,valueDim:VI[+u],categoryDim:VI[1-+u]};return a.diff(s).add(function(p){if(a.hasValue(p)){var d=YI(a,p),f=GI(a,p,d,c),g=ZI(a,c,f);a.setItemGraphicEl(p,g),o.add(g),KI(g,c,f)}}).update(function(p,d){var v,_,x,f=s.getItemGraphicEl(d);if(a.hasValue(p)){var g=YI(a,p),m=GI(a,p,g,c),y=qI(a,m);f&&y!==f.__pictorialShapeStr&&(o.remove(f),a.setItemGraphicEl(p,null),f=null),f?(_=c,ze((v=f).__pictorialBundle,{x:(x=m).bundlePosition[0],y:x.bundlePosition[1]},x.animationModel,x.dataIndex),x.symbolRepeat?HI(v,_,x,!0):WI(v,0,x,!0),UI(v,x,!0),XI(v,_,x,!0)):f=ZI(a,c,m,!0),a.setItemGraphicEl(p,f),f.__pictorialSymbolMeta=m,o.add(f),KI(f,c,m)}else o.remove(f)}).remove(function(p){var d=s.getItemGraphicEl(p);d&&jI(s,p,d.__pictorialSymbolMeta.animationModel,d)}).execute(),this._data=a,this.group},t.prototype.remove=function(e,i){var r=this.group,o=this._data;e.get("animation")?o&&o.eachItemGraphicEl(function(a){jI(o,_e(a).dataIndex,e,a)}):r.removeAll()},t.type="pictorialBar",t}(je);function GI(n,t,e,i){var f,g,y,_,x,b,w,S,M,T,C,A,D,r=n.getItemLayout(t),o=e.get("symbolRepeat"),a=e.get("symbolClip"),s=e.get("symbolPosition")||"start",l=(e.get("symbolRotate")||0)*Math.PI/180||0,u=e.get("symbolPatternSize")||2,h=e.isAnimationEnabled(),c={dataIndex:t,layout:r,itemModel:e,symbolType:n.getItemVisual(t,"symbol")||"circle",style:n.getItemVisual(t,"style"),symbolClip:a,symbolRepeat:o,symbolRepeatDirection:e.get("symbolRepeatDirection"),symbolPatternSize:u,rotation:l,animationModel:h?e:null,hoverScale:h&&e.get(["emphasis","scale"]),z2:e.getShallow("z",!0)||0};(function(f,g,m,y,v){var _,x=y.valueDim,b=f.get("symbolBoundingData"),w=y.coordSys.getOtherAxis(y.coordSys.getBaseAxis()),S=w.toGlobalCoord(w.dataToCoord(0)),M=1-+(m[x.wh]<=0);if(Z(b)){var T=[ky(w,b[0])-S,ky(w,b[1])-S];T[1]<T[0]&&T.reverse(),_=T[M]}else _=null!=b?ky(w,b)-S:g?y.coordSysExtent[x.index][M]-S:m[x.wh];v.boundingLength=_,g&&(v.repeatCutLength=m[x.wh]),v.pxSign=_>0?1:_<0?-1:0})(e,o,r,i,c),f=n,g=t,y=o,_=c.boundingLength,x=c.pxSign,b=u,S=c,T=(w=i).valueDim,C=w.categoryDim,A=Math.abs(r[C.wh]),(M=Z(D=f.getItemVisual(g,"symbolSize"))?D.slice():null==D?["100%","100%"]:[D,D])[C.index]=ie(M[C.index],A),M[T.index]=ie(M[T.index],y?A:Math.abs(_)),S.symbolSize=M,(S.symbolScale=[M[0]/b,M[1]/b])[T.index]*=(w.isHorizontal?-1:1)*x,function(f,g,m,y,v){var _=f.get(HN)||0;_&&(Dy.attr({scaleX:g[0],scaleY:g[1],rotation:m}),Dy.updateTransform(),_/=Dy.getLineScale(),_*=g[y.valueDim.index]),v.valueLineWidth=_}(e,c.symbolScale,l,i,c);var p=c.symbolSize,d=Ms(e.get("symbolOffset"),p);return function(f,g,m,y,v,_,x,b,w,S,M,T){var C=M.categoryDim,A=M.valueDim,D=T.pxSign,L=Math.max(g[A.index]+b,0),P=L;if(y){var E=Math.abs(w),N=st(f.get("symbolMargin"),"15%")+"",R=!1;N.lastIndexOf("!")===N.length-1&&(R=!0,N=N.slice(0,N.length-1));var z=ie(N,g[A.index]),B=Math.max(L+2*z,0),V=R?0:2*z,W=Gd(y),Y=W?y:$I((E+V)/B);B=L+2*(z=(E-Y*L)/2/(R?Y:Math.max(Y-1,1))),V=R?0:2*z,W||"fixed"===y||(Y=S?$I((Math.abs(S)+V)/B):0),P=Y*B-V,T.repeatTimes=Y,T.symbolMargin=z}var Q=D*(P/2),U=T.pathPosition=[];U[C.index]=m[C.wh]/2,U[A.index]="start"===x?Q:"end"===x?w-Q:w/2,_&&(U[0]+=_[0],U[1]+=_[1]);var j=T.bundlePosition=[];j[C.index]=m[C.xy],j[A.index]=m[A.xy];var ne=T.barRectShape=K({},m);ne[A.wh]=D*Math.max(Math.abs(m[A.wh]),Math.abs(U[A.index]+Q)),ne[C.wh]=m[C.wh];var ee=T.clipShape={};ee[C.xy]=-m[C.xy],ee[C.wh]=M.ecSize[C.wh],ee[A.xy]=0,ee[A.wh]=m[A.wh]}(e,p,r,o,0,d,s,c.valueLineWidth,c.boundingLength,c.repeatCutLength,i,c),c}function ky(n,t){return n.toGlobalCoord(n.dataToCoord(n.scale.parse(t)))}function FI(n){var t=n.symbolPatternSize,e=xt(n.symbolType,-t/2,-t/2,t,t);return e.attr({culling:!0}),"image"!==e.type&&e.setStyle({strokeNoScale:!0}),e}function HI(n,t,e,i){var r=n.__pictorialBundle,s=e.pathPosition,l=t.valueDim,u=e.repeatTimes||0,h=0,c=e.symbolSize[t.valueDim.index]+e.valueLineWidth+2*e.symbolMargin;for(Ly(n,function(g){g.__pictorialAnimationIndex=h,g.__pictorialRepeatTimes=u,h<u?Hs(g,null,f(h),e,i):Hs(g,null,{scaleX:0,scaleY:0},e,i,function(){r.remove(g)}),h++});h<u;h++){var p=FI(e);p.__pictorialAnimationIndex=h,p.__pictorialRepeatTimes=u,r.add(p);var d=f(h);Hs(p,{x:d.x,y:d.y,scaleX:0,scaleY:0},{scaleX:d.scaleX,scaleY:d.scaleY,rotation:d.rotation},e,i)}function f(g){var m=s.slice(),y=e.pxSign,v=g;return("start"===e.symbolRepeatDirection?y>0:y<0)&&(v=u-1-g),m[l.index]=c*(v-u/2+.5)+s[l.index],{x:m[0],y:m[1],scaleX:e.symbolScale[0],scaleY:e.symbolScale[1],rotation:e.rotation}}}function WI(n,t,e,i){var r=n.__pictorialBundle,o=n.__pictorialMainPath;o?Hs(o,null,{x:e.pathPosition[0],y:e.pathPosition[1],scaleX:e.symbolScale[0],scaleY:e.symbolScale[1],rotation:e.rotation},e,i):(o=n.__pictorialMainPath=FI(e),r.add(o),Hs(o,{x:e.pathPosition[0],y:e.pathPosition[1],scaleX:0,scaleY:0,rotation:e.rotation},{scaleX:e.symbolScale[0],scaleY:e.symbolScale[1]},e,i))}function UI(n,t,e){var i=K({},t.barRectShape),r=n.__pictorialBarRect;r?Hs(r,null,{shape:i},t,e):((r=n.__pictorialBarRect=new Ee({z2:2,shape:i,silent:!0,style:{stroke:"transparent",fill:"transparent",lineWidth:0}})).disableMorphing=!0,n.add(r))}function XI(n,t,e,i){if(e.symbolClip){var r=n.__pictorialClipPath,o=K({},e.clipShape),a=t.valueDim,s=e.animationModel,l=e.dataIndex;if(r)ze(r,{shape:o},s,l);else{o[a.wh]=0,r=new Ee({shape:o}),n.__pictorialBundle.setClipPath(r),n.__pictorialClipPath=r;var u={};u[a.wh]=e.clipShape[a.wh],Jl[i?"updateProps":"initProps"](r,{shape:u},s,l)}}}function YI(n,t){var e=n.getItemModel(t);return e.getAnimationDelayParams=UN,e.isAnimationEnabled=XN,e}function UN(n){return{index:n.__pictorialAnimationIndex,count:n.__pictorialRepeatTimes}}function XN(){return this.parentModel.isAnimationEnabled()&&!!this.getShallow("animation")}function ZI(n,t,e,i){var r=new me,o=new me;return r.add(o),r.__pictorialBundle=o,o.x=e.bundlePosition[0],o.y=e.bundlePosition[1],e.symbolRepeat?HI(r,t,e):WI(r,0,e),UI(r,e,i),XI(r,t,e,i),r.__pictorialShapeStr=qI(n,e),r.__pictorialSymbolMeta=e,r}function jI(n,t,e,i){var r=i.__pictorialBarRect;r&&r.removeTextContent();var o=[];Ly(i,function(a){o.push(a)}),i.__pictorialMainPath&&o.push(i.__pictorialMainPath),i.__pictorialClipPath&&(e=null),k(o,function(a){Hr(a,{scaleX:0,scaleY:0},e,t,function(){i.parent&&i.parent.remove(i)})}),n.setItemGraphicEl(t,null)}function qI(n,t){return[n.getItemVisual(t.dataIndex,"symbol")||"none",!!t.symbolRepeat,!!t.symbolClip].join(":")}function Ly(n,t,e){k(n.__pictorialBundle.children(),function(i){i!==n.__pictorialBarRect&&t.call(e,i)})}function Hs(n,t,e,i,r,o){t&&n.attr(t),i.symbolClip&&!r?e&&n.attr(e):e&&Jl[r?"updateProps":"initProps"](n,e,i.animationModel,i.dataIndex,o)}function KI(n,t,e){var i=e.dataIndex,r=e.itemModel,o=r.getModel("emphasis"),a=o.getModel("itemStyle").getItemStyle(),s=r.getModel(["blur","itemStyle"]).getItemStyle(),l=r.getModel(["select","itemStyle"]).getItemStyle(),u=r.getShallow("cursor"),h=o.get("focus"),c=o.get("blurScope"),p=o.get("scale");Ly(n,function(f){if(f instanceof It){var g=f.style;f.useStyle(K({image:g.image,x:g.x,y:g.y,width:g.width,height:g.height},e.style))}else f.useStyle(e.style);var m=f.ensureState("emphasis");m.style=a,p&&(m.scaleX=1.1*f.scaleX,m.scaleY=1.1*f.scaleY),f.ensureState("blur").style=s,f.ensureState("select").style=l,u&&(f.cursor=u),f.z2=e.z2});var d=t.valueDim.posDesc[+(e.boundingLength>0)];Jt(n.__pictorialBarRect,Ut(r),{labelFetcher:t.seriesModel,labelDataIndex:i,defaultText:Ls(t.seriesModel.getData(),i),inheritColor:e.style.fill,defaultOpacity:e.style.opacity,defaultOutsidePosition:d}),nt(n,h,c)}function $I(n){var t=Math.round(n);return Math.abs(n-t)<1e-4?t:Math.ceil(n)}var YN=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e.hasSymbolVisual=!0,e.defaultSymbol="roundRect",e}return G(t,n),t.prototype.getInitialData=function(e){return e.stack=null,n.prototype.getInitialData.apply(this,arguments)},t.type="series.pictorialBar",t.dependencies=["grid"],t.defaultOption=Ur(Fu.defaultOption,{symbol:"circle",symbolSize:null,symbolRotate:null,symbolPosition:null,symbolOffset:null,symbolMargin:null,symbolRepeat:!1,symbolRepeatDirection:"end",symbolClip:!1,symbolBoundingData:null,symbolPatternSize:400,barGap:"-100%",progressive:0,emphasis:{scale:!1},select:{itemStyle:{borderColor:"#212121"}}}),t}(Fu),ZN=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e._layers=[],e}return G(t,n),t.prototype.render=function(e,i,r){var o=e.getData(),a=this,s=this.group,l=e.getLayerSeries(),u=o.getLayout("layoutInfo"),h=u.rect,c=u.boundaryGap;function p(m){return m.name}s.x=0,s.y=h.y+c[0];var d=new hr(this._layersSeries||[],l,p,p),f=[];function g(m,y,v){var B,V,Y,_=a._layers;if("remove"!==m){for(var x,b,w=[],S=[],M=l[y].indices,T=0;T<M.length;T++){var C=o.getItemLayout(M[T]),A=C.x,D=C.y0,L=C.y;w.push(A,D),S.push(A,D+L),x=o.getItemVisual(M[T],"style")}var P=o.getItemLayout(M[0]),E=e.getModel("label").get("margin"),N=e.getModel("emphasis");if("add"===m){var R=f[y]=new me;b=new Yw({shape:{points:w,stackedOnPoints:S,smooth:.4,stackedOnSmooth:.4,smoothConstraint:!1},z2:0}),R.add(b),s.add(R),e.isAnimationEnabled()&&b.setClipPath((B=b.getBoundingRect(),V=e,lt(Y=new Ee({shape:{x:B.x-10,y:B.y-10,width:0,height:B.height+20}}),{shape:{x:B.x-50,width:B.width+100,height:B.height+20}},V,function(){b.removeClipPath()}),Y))}else b=(R=_[v]).childAt(0),s.add(R),f[y]=R,ze(b,{shape:{points:w,stackedOnPoints:S}},e),di(b);Jt(b,Ut(e),{labelDataIndex:M[T-1],defaultText:o.getName(M[T-1]),inheritColor:x.fill},{normal:{verticalAlign:"middle"}}),b.setTextConfig({position:null,local:!0});var z=b.getTextContent();z&&(z.x=P.x-E,z.y=P.y0+P.y/2),b.useStyle(x),o.setItemGraphicEl(y,b),Yt(b,e),nt(b,N.get("focus"),N.get("blurScope"))}else s.remove(_[y])}d.add(re(g,this,"add")).update(re(g,this,"update")).remove(re(g,this,"remove")).execute(),this._layersSeries=l,this._layers=f},t.type="themeRiver",t}(je),jN=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return G(t,n),t.prototype.init=function(e){n.prototype.init.apply(this,arguments),this.legendVisualProvider=new Wu(re(this.getData,this),re(this.getRawData,this))},t.prototype.fixData=function(e){var i=e.length,r={},o=Wd(e,function(p){return r.hasOwnProperty(p[0]+"")||(r[p[0]+""]=-1),p[2]}),a=[];o.buckets.each(function(p,d){a.push({name:d,dataList:p})});for(var s=a.length,l=0;l<s;++l){for(var u=a[l].name,h=0;h<a[l].dataList.length;++h)r[c=a[l].dataList[h][0]+""]=l;for(var c in r)r.hasOwnProperty(c)&&r[c]!==l&&(r[c]=l,e[i]=[c,0,u],i++)}return e},t.prototype.getInitialData=function(e,i){for(var r=this.getReferringComponents("singleAxis",Mt).models[0].get("type"),o=Ke(e.data,function(d){return void 0!==d[2]}),a=this.fixData(o||[]),s=[],l=this.nameMap=ue(),u=0,h=0;h<a.length;++h)s.push(a[h][2]),l.get(a[h][2])||(l.set(a[h][2],u),u++);var c=Cs(a,{coordDimensions:["single"],dimensionsDefine:[{name:"time",type:ep(r)},{name:"value",type:"float"},{name:"name",type:"ordinal"}],encodeDefine:{single:0,value:1,itemName:2}}).dimensions,p=new tn(c,this);return p.initData(a),p},t.prototype.getLayerSeries=function(){for(var e=this.getData(),i=e.count(),r=[],o=0;o<i;++o)r[o]=o;var a=e.mapDimension("single"),s=Wd(r,function(u){return e.get("name",u)}),l=[];return s.buckets.each(function(u,h){u.sort(function(c,p){return e.get(a,c)-e.get(a,p)}),l.push({name:h,indices:u})}),l},t.prototype.getAxisTooltipData=function(e,i,r){Z(e)||(e=e?[e]:[]);for(var o,a=this.getData(),s=this.getLayerSeries(),l=[],u=s.length,h=0;h<u;++h){for(var c=Number.MAX_VALUE,p=-1,d=s[h].indices.length,f=0;f<d;++f){var g=a.get(e[0],s[h].indices[f]),m=Math.abs(g-i);m<=c&&(o=g,c=m,p=s[h].indices[f])}l.push(p)}return{dataIndices:l,nestestValue:o}},t.prototype.formatTooltip=function(e,i,r){var o=this.getData();return Bt("nameValue",{name:o.getName(e),value:o.get(o.mapDimension("value"),e)})},t.type="series.themeRiver",t.dependencies=["singleAxis"],t.defaultOption={zlevel:0,z:2,colorBy:"data",coordinateSystem:"singleAxis",boundaryGap:["10%","10%"],singleAxisIndex:0,animationEasing:"linear",label:{margin:4,show:!0,position:"left",fontSize:11},emphasis:{label:{show:!0}}},t}(et);function qN(n,t){n.eachSeriesByType("themeRiver",function(e){var i=e.getData(),r=e.coordinateSystem,o={},a=r.getRect();o.rect=a;var s=e.get("boundaryGap"),l=r.getAxis();o.boundaryGap=s,"horizontal"===l.orient?(s[0]=ie(s[0],a.height),s[1]=ie(s[1],a.height),QI(i,e,a.height-s[0]-s[1])):(s[0]=ie(s[0],a.width),s[1]=ie(s[1],a.width),QI(i,e,a.width-s[0]-s[1])),i.setLayout("layoutInfo",o)})}function QI(n,t,e){if(n.count())for(var i,r=t.coordinateSystem,o=t.getLayerSeries(),a=n.mapDimension("single"),s=n.mapDimension("value"),l=J(o,function(m){return J(m.indices,function(y){var v=r.dataToPoint(n.get(a,y));return v[1]=n.get(s,y),v})}),u=function(m){for(var y=m.length,v=m[0].length,_=[],x=[],b=0,w=0;w<v;++w){for(var S=0,M=0;M<y;++M)S+=m[M][w][1];S>b&&(b=S),_.push(S)}for(var T=0;T<v;++T)x[T]=(b-_[T])/2;b=0;for(var C=0;C<v;++C){var A=_[C]+x[C];A>b&&(b=A)}return{y0:x,max:b}}(l),h=u.y0,c=e/u.max,p=o.length,d=o[0].indices.length,f=0;f<d;++f){n.setItemLayout(o[0].indices[f],{layerIndex:0,x:l[0][f][0],y0:i=h[f]*c,y:l[0][f][1]*c});for(var g=1;g<p;++g)n.setItemLayout(o[g].indices[f],{layerIndex:g,x:l[g][f][0],y0:i+=l[g-1][f][1]*c,y:l[g][f][1]*c})}}var JI=function(n){function t(e,i,r,o){var a=n.call(this)||this;a.z2=2,a.textConfig={inside:!0},_e(a).seriesIndex=i.seriesIndex;var s=new Re({z2:4,silent:e.getModel().get(["label","silent"])});return a.setTextContent(s),a.updateData(!0,e,i,r,o),a}return G(t,n),t.prototype.updateData=function(e,i,r,o,a){this.node=i,i.piece=this,r=r||this._seriesModel,o=o||this._ecModel;var s=this;_e(s).dataIndex=i.dataIndex;var l=i.getModel(),u=l.getModel("emphasis"),h=i.getLayout(),c=K({},h);c.label=null;var p=i.getVisual("style");p.lineJoin="bevel";var d=i.getVisual("decal");d&&(p.decal=vu(d,a));var f=Os(l.getModel("itemStyle"),c,!0);K(c,f),k(cn,function(y){var v=s.ensureState(y),_=l.getModel([y,"itemStyle"]);v.style=_.getItemStyle();var x=Os(_,c);x&&(v.shape=x)}),e?(s.setShape(c),s.shape.r=h.r0,ze(s,{shape:{r:h.r}},r,i.dataIndex)):(ze(s,{shape:c},r),di(s)),s.useStyle(p),this._updateLabel(r);var g=l.getShallow("cursor");g&&s.attr("cursor",g),this._seriesModel=r||this._seriesModel,this._ecModel=o||this._ecModel;var m=u.get("focus");nt(this,"ancestor"===m?i.getAncestorsIndices():"descendant"===m?i.getDescendantIndices():m,u.get("blurScope"))},t.prototype._updateLabel=function(e){var i=this,r=this.node.getModel(),o=r.getModel("label"),a=this.node.getLayout(),s=a.endAngle-a.startAngle,l=(a.startAngle+a.endAngle)/2,u=Math.cos(l),h=Math.sin(l),c=this,p=c.getTextContent(),d=this.node.dataIndex,f=o.get("minAngle")/180*Math.PI,g=o.get("show")&&!(null!=f&&Math.abs(s)<f);function m(y,v){var _=y.get(v);return null==_?o.get(v):_}p.ignore=!g,k(Fl,function(y){var v=r.getModel("normal"===y?"label":[y,"label"]),_="normal"===y,x=_?p:p.ensureState(y),b=e.getFormattedLabel(d,y);_&&(b=b||i.node.name),x.style=yt(v,{},null,"normal"!==y,!0),b&&(x.style.text=b);var w=v.get("show");null==w||_||(x.ignore=!w);var S,M=m(v,"position"),T=_?c:c.states[y],C=T.style.fill;T.textConfig={outsideFill:"inherit"===v.get("color")?C:null,inside:"outside"!==M};var A=m(v,"distance")||0,D=m(v,"align");"outside"===M?(S=a.r+A,D=l>Math.PI/2?"right":"left"):D&&"center"!==D?"left"===D?(S=a.r0+A,l>Math.PI/2&&(D="right")):"right"===D&&(S=a.r-A,l>Math.PI/2&&(D="left")):(S=(a.r+a.r0)/2,D="center"),x.style.align=D,x.style.verticalAlign=m(v,"verticalAlign")||"middle",x.x=S*u+a.cx,x.y=S*h+a.cy;var L=m(v,"rotate"),P=0;"radial"===L?(P=-l)<-Math.PI/2&&(P+=Math.PI):"tangential"===L?(P=Math.PI/2-l)>Math.PI/2?P-=Math.PI:P<-Math.PI/2&&(P+=Math.PI):"number"==typeof L&&(P=L*Math.PI/180),x.rotation=P}),p.dirtyStyle()},t}(Qt),Py="sunburstRootToNode",eT="sunburstHighlight",KN=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return G(t,n),t.prototype.render=function(e,i,r,o){var a=this;this.seriesModel=e,this.api=r,this.ecModel=i;var f,g,s=e.getData(),l=s.tree.root,u=e.getViewRoot(),h=this.group,c=e.get("renderLabelForZeroData"),p=[];u.eachNode(function(f){p.push(f)}),function(f,g){function m(v){return v.getId()}function y(v,_){!function(x,b){if(c||!x||x.getValue()||(x=null),x!==l&&b!==l)if(b&&b.piece)x?(b.piece.updateData(!1,x,e,i,r),s.setItemGraphicEl(x.dataIndex,b.piece)):!(S=b)||S.piece&&(h.remove(S.piece),S.piece=null);else if(x){var w=new JI(x,e,i,r);h.add(w),s.setItemGraphicEl(x.dataIndex,w)}var S}(null==v?null:f[v],null==_?null:g[_])}0===f.length&&0===g.length||new hr(g,f,m,m).add(y).update(y).remove(ye(y,null)).execute()}(p,this._oldChildren||[]),f=l,(g=u).depth>0?(a.virtualPiece?a.virtualPiece.updateData(!1,f,e,i,r):(a.virtualPiece=new JI(f,e,i,r),h.add(a.virtualPiece)),g.piece.off("click"),a.virtualPiece.on("click",function(m){a._rootToNode(g.parentNode)})):a.virtualPiece&&(h.remove(a.virtualPiece),a.virtualPiece=null),this._initEvents(),this._oldChildren=p},t.prototype._initEvents=function(){var e=this;this.group.off("click"),this.group.on("click",function(i){var r=!1;e.seriesModel.getViewRoot().eachNode(function(o){if(!r&&o.piece&&o.piece===i.target){var a=o.getModel().get("nodeClick");if("rootToNode"===a)e._rootToNode(o);else if("link"===a){var s=o.getModel(),l=s.get("link");l&&Tc(l,s.get("target",!0)||"_blank")}r=!0}})})},t.prototype._rootToNode=function(e){e!==this.seriesModel.getViewRoot()&&this.api.dispatchAction({type:Py,from:this.uid,seriesId:this.seriesModel.id,targetNode:e})},t.prototype.containPoint=function(e,i){var r=i.getData().getItemLayout(0);if(r){var o=e[0]-r.cx,a=e[1]-r.cy,s=Math.sqrt(o*o+a*a);return s<=r.r&&s>=r.r0}},t.type="sunburst",t}(je),$N=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e.ignoreStyleOnData=!0,e}return G(t,n),t.prototype.getInitialData=function(e,i){var r={name:e.name,children:e.data};tT(r);var o=this._levelModels=J(e.levels||[],function(s){return new Fe(s,this,i)},this),a=Rm.createTree(r,this,function(s){s.wrapMethod("getItemModel",function(l,u){var h=a.getNodeByDataIndex(u),c=o[h.depth];return c&&(l.parentModel=c),l})});return a.data},t.prototype.optionUpdated=function(){this.resetViewRoot()},t.prototype.getDataParams=function(e){var i=n.prototype.getDataParams.apply(this,arguments),r=this.getData().tree.getNodeByDataIndex(e);return i.treePathInfo=Np(r,this),i},t.prototype.getLevelModel=function(e){return this._levelModels&&this._levelModels[e.depth]},t.prototype.getViewRoot=function(){return this._viewRoot},t.prototype.resetViewRoot=function(e){e?this._viewRoot=e:e=this._viewRoot;var i=this.getRawData().tree.root;e&&(e===i||i.contains(e))||(this._viewRoot=i)},t.prototype.enableAriaDecal=function(){pM(this)},t.type="series.sunburst",t.defaultOption={zlevel:0,z:2,center:["50%","50%"],radius:[0,"75%"],clockwise:!0,startAngle:90,minAngle:0,stillShowZeroSum:!0,nodeClick:"rootToNode",renderLabelForZeroData:!1,label:{rotate:"radial",show:!0,opacity:1,align:"center",position:"inside",distance:5,silent:!0},itemStyle:{borderWidth:1,borderColor:"white",borderType:"solid",shadowBlur:0,shadowColor:"rgba(0, 0, 0, 0.2)",shadowOffsetX:0,shadowOffsetY:0,opacity:1},emphasis:{focus:"descendant"},blur:{itemStyle:{opacity:.2},label:{opacity:.1}},animationType:"expansion",animationDuration:1e3,animationDurationUpdate:500,data:[],sort:"desc"},t}(et);function tT(n){var t=0;k(n.children,function(i){tT(i);var r=i.value;Z(r)&&(r=r[0]),t+=r});var e=n.value;Z(e)&&(e=e[0]),(null==e||isNaN(e))&&(e=t),e<0&&(e=0),Z(n.value)?n.value[0]=e:n.value=e}var nT=Math.PI/180;function QN(n,t,e){t.eachSeriesByType(n,function(i){var r=i.get("center"),o=i.get("radius");Z(o)||(o=[0,o]),Z(r)||(r=[r,r]);var a=e.getWidth(),s=e.getHeight(),l=Math.min(a,s),u=ie(r[0],a),h=ie(r[1],s),c=ie(o[0],l/2),p=ie(o[1],l/2),d=-i.get("startAngle")*nT,f=i.get("minAngle")*nT,g=i.getData().tree.root,m=i.getViewRoot(),y=m.depth,v=i.get("sort");null!=v&&iT(m,v);var _=0;k(m.children,function(N){!isNaN(N.getValue())&&_++});var x=m.getValue(),b=Math.PI/(x||_)*2,w=m.depth>0,M=(p-c)/(m.height-(w?-1:1)||1),T=i.get("clockwise"),C=i.get("stillShowZeroSum"),A=T?1:-1,D=function(N,R){if(N){var z=R;if(N!==g){var B=N.getValue(),V=0===x&&C?b:B*b;V<f&&(V=f),z=R+A*V;var W=N.depth-y-(w?-1:1),Y=c+M*W,Q=c+M*(W+1),U=i.getLevelModel(N);if(U){var j=U.get("r0",!0),ne=U.get("r",!0),ee=U.get("radius",!0);null!=ee&&(j=ee[0],ne=ee[1]),null!=j&&(Y=ie(j,l/2)),null!=ne&&(Q=ie(ne,l/2))}N.setLayout({angle:V,startAngle:R,endAngle:z,clockwise:T,cx:u,cy:h,r0:Y,r:Q})}if(N.children&&N.children.length){var te=0;k(N.children,function(oe){te+=D(oe,R+te)})}return z-R}};if(w){var E=2*Math.PI;g.setLayout({angle:E,startAngle:d,endAngle:d+E,clockwise:T,cx:u,cy:h,r0:c,r:c+M})}D(m,d)})}function iT(n,t){var e=n.children||[];n.children=function(i,r){if("function"==typeof r){var o=J(i,function(s,l){var u=s.getValue();return{params:{depth:s.depth,height:s.height,dataIndex:s.dataIndex,getValue:function(){return u}},index:l}});return o.sort(function(s,l){return r(s.params,l.params)}),J(o,function(s){return i[s.index]})}var a="asc"===r;return i.sort(function(s,l){var u=(s.getValue()-l.getValue())*(a?1:-1);return 0===u?(s.dataIndex-l.dataIndex)*(a?-1:1):u})}(e,t),e.length&&k(n.children,function(i){iT(i,t)})}function JN(n){var t={};n.eachSeriesByType("sunburst",function(e){var i=e.getData(),r=i.tree;r.eachNode(function(o){var a=o.getModel().getModel("itemStyle").getItemStyle();a.fill||(a.fill=function(s,l,u){for(var h=s;h&&h.depth>1;)h=h.parentNode;var c=l.getColorFromPalette(h.name||h.dataIndex+"",t);return s.depth>1&&"string"==typeof c&&(c=wl(c,(s.depth-1)/(u-1)*.5)),c}(o,e,r.root.height)),K(i.ensureUniqueItemVisual(o.dataIndex,"style"),a)})})}var rT={color:"fill",borderColor:"stroke"},tR={symbol:1,symbolSize:1,symbolKeepAspect:1,legendIcon:1,visualMeta:1,liftZ:1,decal:1},bi=We(),nR=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return G(t,n),t.prototype.optionUpdated=function(){this.currentZLevel=this.get("zlevel",!0),this.currentZ=this.get("z",!0)},t.prototype.getInitialData=function(e,i){return Vi(null,this)},t.prototype.getDataParams=function(e,i,r){var o=n.prototype.getDataParams.call(this,e,i);return r&&(o.info=bi(r).info),o},t.type="series.custom",t.dependencies=["grid","polar","geo","singleAxis","calendar"],t.defaultOption={coordinateSystem:"cartesian2d",zlevel:0,z:2,legendHoverLink:!0,clip:!1},t}(et);function iR(n,t){return t=t||[0,0],J(["x","y"],function(e,i){var r=this.getAxis(e),o=t[i],a=n[i]/2;return"category"===r.type?r.getBandWidth():Math.abs(r.dataToCoord(o-a)-r.dataToCoord(o+a))},this)}function rR(n,t){return t=t||[0,0],J([0,1],function(e){var i=t[e],r=n[e]/2,o=[],a=[];return o[e]=i-r,a[e]=i+r,o[1-e]=a[1-e]=t[1-e],Math.abs(this.dataToPoint(o)[e]-this.dataToPoint(a)[e])},this)}function oR(n,t){var e=this.getAxis(),i=t instanceof Array?t[0]:t,r=(n instanceof Array?n[0]:n)/2;return"category"===e.type?e.getBandWidth():Math.abs(e.dataToCoord(i-r)-e.dataToCoord(i+r))}function aR(n,t){return t=t||[0,0],J(["Radius","Angle"],function(e,i){var r=this["get"+e+"Axis"](),o=t[i],a=n[i]/2,s="category"===r.type?r.getBandWidth():Math.abs(r.dataToCoord(o-a)-r.dataToCoord(o+a));return"Angle"===e&&(s=s*Math.PI/180),s},this)}function oT(n,t,e,i){return n&&(n.legacy||!1!==n.legacy&&!e&&!i&&"tspan"!==t&&("text"===t||se(n,"text")))}function aT(n,t,e){var i,r,o,a=n;if("text"===t)o=a;else{o={},se(a,"text")&&(o.text=a.text),se(a,"rich")&&(o.rich=a.rich),se(a,"textFill")&&(o.fill=a.textFill),se(a,"textStroke")&&(o.stroke=a.textStroke),se(a,"fontFamily")&&(o.fontFamily=a.fontFamily),se(a,"fontSize")&&(o.fontSize=a.fontSize),se(a,"fontStyle")&&(o.fontStyle=a.fontStyle),se(a,"fontWeight")&&(o.fontWeight=a.fontWeight),r={type:"text",style:o,silent:!0},i={};var s=se(a,"textPosition");e?i.position=s?a.textPosition:"inside":s&&(i.position=a.textPosition),se(a,"textPosition")&&(i.position=a.textPosition),se(a,"textOffset")&&(i.offset=a.textOffset),se(a,"textRotation")&&(i.rotation=a.textRotation),se(a,"textDistance")&&(i.distance=a.textDistance)}return sT(o,n),k(o.rich,function(l){sT(l,l)}),{textConfig:i,textContent:r}}function sT(n,t){t&&(t.font=t.textFont||t.font,se(t,"textStrokeWidth")&&(n.lineWidth=t.textStrokeWidth),se(t,"textAlign")&&(n.align=t.textAlign),se(t,"textVerticalAlign")&&(n.verticalAlign=t.textVerticalAlign),se(t,"textLineHeight")&&(n.lineHeight=t.textLineHeight),se(t,"textWidth")&&(n.width=t.textWidth),se(t,"textHeight")&&(n.height=t.textHeight),se(t,"textBackgroundColor")&&(n.backgroundColor=t.textBackgroundColor),se(t,"textPadding")&&(n.padding=t.textPadding),se(t,"textBorderColor")&&(n.borderColor=t.textBorderColor),se(t,"textBorderWidth")&&(n.borderWidth=t.textBorderWidth),se(t,"textBorderRadius")&&(n.borderRadius=t.textBorderRadius),se(t,"textBoxShadowColor")&&(n.shadowColor=t.textBoxShadowColor),se(t,"textBoxShadowBlur")&&(n.shadowBlur=t.textBoxShadowBlur),se(t,"textBoxShadowOffsetX")&&(n.shadowOffsetX=t.textBoxShadowOffsetX),se(t,"textBoxShadowOffsetY")&&(n.shadowOffsetY=t.textBoxShadowOffsetY))}function lT(n,t,e){var i=n;i.textPosition=i.textPosition||e.position||"inside",null!=e.offset&&(i.textOffset=e.offset),null!=e.rotation&&(i.textRotation=e.rotation),null!=e.distance&&(i.textDistance=e.distance);var r=i.textPosition.indexOf("inside")>=0,o=n.fill||"#000";uT(i,t);var a=null==i.textFill;return r?a&&(i.textFill=e.insideFill||"#fff",!i.textStroke&&e.insideStroke&&(i.textStroke=e.insideStroke),!i.textStroke&&(i.textStroke=o),null==i.textStrokeWidth&&(i.textStrokeWidth=2)):(a&&(i.textFill=n.fill||e.outsideFill||"#000"),!i.textStroke&&e.outsideStroke&&(i.textStroke=e.outsideStroke)),i.text=t.text,i.rich=t.rich,k(t.rich,function(s){uT(s,s)}),i}function uT(n,t){t&&(se(t,"fill")&&(n.textFill=t.fill),se(t,"stroke")&&(n.textStroke=t.fill),se(t,"lineWidth")&&(n.textStrokeWidth=t.lineWidth),se(t,"font")&&(n.font=t.font),se(t,"fontStyle")&&(n.fontStyle=t.fontStyle),se(t,"fontWeight")&&(n.fontWeight=t.fontWeight),se(t,"fontSize")&&(n.fontSize=t.fontSize),se(t,"fontFamily")&&(n.fontFamily=t.fontFamily),se(t,"align")&&(n.textAlign=t.align),se(t,"verticalAlign")&&(n.textVerticalAlign=t.verticalAlign),se(t,"lineHeight")&&(n.textLineHeight=t.lineHeight),se(t,"width")&&(n.textWidth=t.width),se(t,"height")&&(n.textHeight=t.height),se(t,"backgroundColor")&&(n.textBackgroundColor=t.backgroundColor),se(t,"padding")&&(n.textPadding=t.padding),se(t,"borderColor")&&(n.textBorderColor=t.borderColor),se(t,"borderWidth")&&(n.textBorderWidth=t.borderWidth),se(t,"borderRadius")&&(n.textBorderRadius=t.borderRadius),se(t,"shadowColor")&&(n.textBoxShadowColor=t.shadowColor),se(t,"shadowBlur")&&(n.textBoxShadowBlur=t.shadowBlur),se(t,"shadowOffsetX")&&(n.textBoxShadowOffsetX=t.shadowOffsetX),se(t,"shadowOffsetY")&&(n.textBoxShadowOffsetY=t.shadowOffsetY),se(t,"textShadowColor")&&(n.textShadowColor=t.textShadowColor),se(t,"textShadowBlur")&&(n.textShadowBlur=t.textShadowBlur),se(t,"textShadowOffsetX")&&(n.textShadowOffsetX=t.textShadowOffsetX),se(t,"textShadowOffsetY")&&(n.textShadowOffsetY=t.textShadowOffsetY))}var sR={position:["x","y"],scale:["scaleX","scaleY"],origin:["originX","originY"]};function Oy(n,t,e){var i=n[e],r=sR[e];i&&(t[r[0]]=i[0],t[r[1]]=i[1])}function va(n,t,e){null!=n[e]&&(t[e]=n[e])}function hT(n,t,e){e&&(n[t]=e[t])}function cT(n,t,e,i,r){var o=e[n];if(o){var a,s=t[n],l=o.enterFrom;if(r&&l){!a&&(a=i[n]={});for(var u=q(l),h=0;h<u.length;h++)a[v=u[h]]=l[v]}if(!r&&s)if(o.transition){!a&&(a=i[n]={});var c=Je(o.transition);for(h=0;h<c.length;h++){var p=s[v=c[h]];a[v]=p}}else if(Ie(e.transition,n)>=0){!a&&(a=i[n]={});var d=q(s);for(h=0;h<d.length;h++)p=s[v=d[h]],lR(o[v],p)&&(a[v]=p)}var f=o.leaveTo;if(f){var g=Ey(t),m=g[n]||(g[n]={}),y=q(f);for(h=0;h<y.length;h++){var v;m[v=y[h]]=f[v]}}}}function pT(n,t,e){var i=t[n];if(i)for(var r=e[n]={},o=q(i),a=0;a<o.length;a++){var s=o[a];r[s]=O(i[s])}}function lR(n,t){return Ft(n)?n!==t:null!=n&&isFinite(n)}function Ey(n){var t=bi(n);return t.leaveToProps||(t.leaveToProps={})}q({x:1,y:1,scaleX:1,scaleY:1,originX:1,originY:1,rotation:1}).join(", ");var mr="emphasis",lo="normal",Ny="blur",Ry="select",uo=[lo,mr,Ny,Ry],zy={normal:["itemStyle"],emphasis:[mr,"itemStyle"],blur:[Ny,"itemStyle"],select:[Ry,"itemStyle"]},By={normal:["label"],emphasis:[mr,"label"],blur:[Ny,"label"],select:[Ry,"label"]},ti={normal:{},emphasis:{},blur:{},select:{}},uR={cartesian2d:function(n){var t=n.master.getRect();return{coordSys:{type:"cartesian2d",x:t.x,y:t.y,width:t.width,height:t.height},api:{coord:function(e){return n.dataToPoint(e)},size:re(iR,n)}}},geo:function(n){var t=n.getBoundingRect();return{coordSys:{type:"geo",x:t.x,y:t.y,width:t.width,height:t.height,zoom:n.getZoom()},api:{coord:function(e){return n.dataToPoint(e)},size:re(rR,n)}}},singleAxis:function(n){var t=n.getRect();return{coordSys:{type:"singleAxis",x:t.x,y:t.y,width:t.width,height:t.height},api:{coord:function(e){return n.dataToPoint(e)},size:re(oR,n)}}},polar:function(n){var t=n.getRadiusAxis(),e=n.getAngleAxis(),i=t.getExtent();return i[0]>i[1]&&i.reverse(),{coordSys:{type:"polar",cx:n.cx,cy:n.cy,r:i[1],r0:i[0]},api:{coord:function(r){var o=t.dataToRadius(r[0]),a=e.dataToAngle(r[1]),s=n.coordToPoint([o,a]);return s.push(o,a*Math.PI/180),s},size:re(aR,n)}}},calendar:function(n){var t=n.getRect(),e=n.getRangeInfo();return{coordSys:{type:"calendar",x:t.x,y:t.y,width:t.width,height:t.height,cellWidth:n.getCellWidth(),cellHeight:n.getCellHeight(),rangeInfo:{start:e.start,end:e.end,weeks:e.weeks,dayCount:e.allDay}},api:{coord:function(i,r){return n.dataToPoint(i,r)}}}}};function Zp(n){return n instanceof Le}function Vy(n){return n instanceof ci}var hR=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return G(t,n),t.prototype.render=function(e,i,r,o){var a=this._data,s=e.getData(),l=this.group,u=fT(e,s,i,r);a||l.removeAll(),s.diff(a).add(function(c){Hy(r,null,c,u(c,o),e,l,s)}).remove(function(c){Xy(a.getItemGraphicEl(c),e,l)}).update(function(c,p){var d=a.getItemGraphicEl(p);Hy(r,d,c,u(c,o),e,l,s)}).execute();var h=e.get("clip",!0)?Mp(e.coordinateSystem,!1,e):null;h?l.setClipPath(h):l.removeClipPath(),this._data=s},t.prototype.incrementalPrepareRender=function(e,i,r){this.group.removeAll(),this._data=null},t.prototype.incrementalRender=function(e,i,r,o,a){var s=i.getData(),l=fT(i,s,r,o);function u(p){p.isGroup||(p.incremental=!0,p.ensureState("emphasis").hoverLayer=!0)}for(var h=e.start;h<e.end;h++){var c=Hy(null,null,h,l(h,a),i,this.group,s);c&&c.traverse(u)}},t.prototype.filterForExposedEvent=function(e,i,r,o){var a=i.element;if(null==a||r.name===a)return!0;for(;(r=r.__hostTarget||r.parent)&&r!==this.group;)if(r.name===a)return!0;return!1},t.type="custom",t}(je);function Gy(n){var t,e=n.type;if("path"===e){var i=n.shape,r=null!=i.width&&null!=i.height?{x:i.x||0,y:i.y||0,width:i.width,height:i.height}:null,o=_T(i);t=Kl(o,null,r,i.layout||"center"),bi(t).customPathData=o}else if("image"===e)t=new It({}),bi(t).customImagePath=n.style.image;else if("text"===e)t=new Re({});else if("group"===e)t=new me;else{if("compoundPath"===e)throw new Error('"compoundPath" is not supported yet.');var a=fc(e);a||Xe(""),t=new a}return bi(t).customGraphicType=e,t.name=n.name,t.z2EmphasisLift=1,t.z2SelectLift=1,t}function Fy(n,t,e,i,r,o,a,s){var l=r&&r.normal.cfg;l&&t.setTextConfig(l);var u=i&&i.style;if(u){if("text"===t.type){var h=u;se(h,"textFill")&&(h.fill=h.textFill),se(h,"textStroke")&&(h.stroke=h.textStroke)}var c=void 0,p=Zp(t)?u.decal:null;n&&p&&(p.dirty=!0,c=vu(p,n)),u.__decalPattern=c}bi(t).userDuring=i.during;var m,y,d={},f={};cT("shape",t,i,d,a),pT("shape",i,f),function(g,m,y,v){var _=m.enterFrom;if(v&&_)for(var x=q(_),b=0;b<x.length;b++)y[A=x[b]]=_[A];if(!v)if(m.transition){var w=Je(m.transition);for(b=0;b<w.length;b++)"style"!==(A=w[b])&&"shape"!==A&&"extra"!==A&&(y[A]=g[A])}else hT(y,"x",g),hT(y,"y",g);var M=m.leaveTo;if(M){var T=Ey(g),C=q(M);for(b=0;b<C.length;b++){var A;T[A=C[b]]=M[A]}}}(t,i,d,a),Oy(m=i,y=f,"position"),Oy(m,y,"scale"),Oy(m,y,"origin"),va(m,y,"x"),va(m,y,"y"),va(m,y,"scaleX"),va(m,y,"scaleY"),va(m,y,"originX"),va(m,y,"originY"),va(m,y,"rotation"),cT("extra",t,i,d,a),pT("extra",i,f),function(g,m,y,v,_){if(y){var x,b=g.style,w=y.enterFrom;if(_&&w){var S=q(w);!x&&(x=v.style={});for(var M=0;M<S.length;M++)x[z=S[M]]=w[z]}if(!_&&b)if(y.transition){var T=Je(y.transition);for(!x&&(x=v.style={}),M=0;M<T.length;M++){var C=b[z=T[M]];x[z]=C}}else if(g.getAnimationStyleProps&&Ie(m.transition,"style")>=0){var A=g.getAnimationStyleProps(),D=A?A.style:null;if(D){!x&&(x=v.style={});var L=q(y);for(M=0;M<L.length;M++)D[z=L[M]]&&(x[z]=C=b[z])}}var P=y.leaveTo;if(P){var E=q(P),N=Ey(g),R=N.style||(N.style={});for(M=0;M<E.length;M++){var z;R[z=E[M]]=P[z]}}}}(t,i,u,d,a),f.style=u,function(g,m){var y=g.isGroup?null:g,v=m.style;if(y&&v){y.useStyle(v);var _=v.__decalPattern;_&&(y.style.decal=_);for(var x=y.animators,b=0;b<x.length;b++){var w=x[b];"style"===w.targetName&&w.changeTarget(y.style)}}m&&(m.style=null,m&&g.attr(m),m.style=v)}(t,f),function(g,m,y,v,_){if(v){var x=bi(g).userDuring,b={dataIndex:m,isFrom:!0,during:x?re(pR,{el:g,userDuring:x}):null};_?lt(g,v,y,b):ze(g,v,y,b)}}(t,e,o,d,a),function(g,m,y){se(m,"silent")&&(g.silent=m.silent),se(m,"ignore")&&(g.ignore=m.ignore),Vy(g)&&se(m,"invisible")&&(g.invisible=m.invisible),Zp(g)&&se(m,"autoBatch")&&(g.autoBatch=m.autoBatch),y||se(m,"info")&&(bi(g).info=m.info)}(t,i,s),u?t.dirty():t.markRedraw()}var jt={},cR={setTransform:function(n,t){return jt.el[n]=t,this},getTransform:function(n){return jt.el[n]},setShape:function(n,t){return(jt.el.shape||(jt.el.shape={}))[n]=t,jt.isShapeDirty=!0,this},getShape:function(n){var t=jt.el.shape;if(t)return t[n]},setStyle:function(n,t){var e=jt.el.style;return e&&(e[n]=t,jt.isStyleDirty=!0),this},getStyle:function(n){var t=jt.el.style;if(t)return t[n]},setExtra:function(n,t){return(jt.el.extra||(jt.el.extra={}))[n]=t,this},getExtra:function(n){var t=jt.el.extra;if(t)return t[n]}};function pR(){var n=this,t=n.el;if(t){var e=bi(t).userDuring,i=n.userDuring;e===i?(jt.el=t,jt.isShapeDirty=!1,jt.isStyleDirty=!1,i(cR),jt.isShapeDirty&&t.dirtyShape&&t.dirtyShape(),jt.isStyleDirty&&t.dirtyStyle&&t.dirtyStyle()):n.el=n.userDuring=null}}function dT(n,t,e,i,r,o,a){var s=t.isGroup?null:t,l=r&&r[n].cfg;if(s){var u=s.ensureState(n);if(!1===i){var h=s.getState(n);h&&(h.style=null)}else u.style=i||null;l&&(u.textConfig=l),jo(s)}}function dR(n,t,e){var i=e===lo,r=i?t:jp(t,e),o=r?r.z2:null;null!=o&&((i?n:n.ensureState(e)).z2=o||0)}function fT(n,t,e,i){var r=n.get("renderItem"),o=n.coordinateSystem,a={};o&&(a=o.prepareCustoms?o.prepareCustoms(o):uR[o.type](o));for(var s,l,u=ce({getWidth:i.getWidth,getHeight:i.getHeight,getZr:i.getZr,getDevicePixelRatio:i.getDevicePixelRatio,value:function(w,S){return null==S&&(S=s),t.getStore().get(t.getDimensionIndex(w||0),S)},style:function(w,S){null==S&&(S=s);var M=t.getItemVisual(S,"style"),T=M&&M.fill,C=M&&M.opacity,A=v(S,lo).getItemStyle();null!=T&&(A.fill=T),null!=C&&(A.opacity=C);var D={inheritColor:Ce(T)?T:"#000"},L=_(S,lo),P=yt(L,null,D,!1,!0);P.text=L.getShallow("show")?Te(n.getFormattedLabel(S,lo),Ls(t,S)):null;var E=vc(L,D,!1);return b(w,A),A=lT(A,P,E),w&&x(A,w),A.legacy=!0,A},ordinalRawValue:function(w,S){null==S&&(S=s);var M=t.getDimensionInfo(w=w||0);if(!M){var T=t.getDimensionIndex(w);return T>=0?t.getStore().get(T,S):void 0}var C=t.get(M.name,S),A=M&&M.ordinalMeta;return A?A.categories[C]:C},styleEmphasis:function(w,S){null==S&&(S=s);var M=v(S,mr).getItemStyle(),T=_(S,mr),C=yt(T,null,null,!0,!0);C.text=T.getShallow("show")?qt(n.getFormattedLabel(S,mr),n.getFormattedLabel(S,lo),Ls(t,S)):null;var A=vc(T,null,!0);return b(w,M),M=lT(M,C,A),w&&x(M,w),M.legacy=!0,M},visual:function(w,S){if(null==S&&(S=s),se(rT,w)){var M=t.getItemVisual(S,"style");return M?M[rT[w]]:null}if(se(tR,w))return t.getItemVisual(S,w)},barLayout:function(w){if("cartesian2d"===o.type)return function(S){var M=[],T=S.axis;if("category"===T.type){for(var A=T.getBandWidth(),D=0;D<S.count;D++)M.push(ce({bandWidth:A,axisKey:"axis0",stackId:Zg+D},S));var L=Xb(M),P=[];for(D=0;D<S.count;D++){var E=L.axis0[Zg+D];E.offsetCenter=E.offset+E.width/2,P.push(E)}return P}}(ce({axis:o.getBaseAxis()},w))},currentSeriesIndices:function(){return e.getCurrentSeriesIndices()},font:function(w){return G_(w,e)}},a.api||{}),h={context:{},seriesId:n.id,seriesName:n.name,seriesIndex:n.seriesIndex,coordSys:a.coordSys,dataInsideLength:t.count(),encode:fR(n.getData())},c={},p={},d={},f={},g=0;g<uo.length;g++){var m=uo[g];d[m]=n.getModel(zy[m]),f[m]=n.getModel(By[m])}function y(w){return w===s?l||(l=t.getItemModel(w)):t.getItemModel(w)}function v(w,S){return t.hasItemOption?w===s?c[S]||(c[S]=y(w).getModel(zy[S])):y(w).getModel(zy[S]):d[S]}function _(w,S){return t.hasItemOption?w===s?p[S]||(p[S]=y(w).getModel(By[S])):y(w).getModel(By[S]):f[S]}return function(w,S){return s=w,l=null,c={},p={},r&&r(ce({dataIndexInside:w,dataIndex:t.getRawIndex(w),actionType:S?S.type:null},h),u)};function x(w,S){for(var M in S)se(S,M)&&(w[M]=S[M])}function b(w,S){w&&(w.textFill&&(S.textFill=w.textFill),w.textPosition&&(S.textPosition=w.textPosition))}}function fR(n){var t={};return k(n.dimensions,function(e){var i=n.getDimensionInfo(e);if(!i.isExtraCoord){var r=i.coordDim;(t[r]=t[r]||[])[i.coordDimIndex]=n.getDimensionIndex(e)}}),t}function Hy(n,t,e,i,r,o,a){if(i){var s=Wy(n,t,e,i,r,o);return s&&a.setItemGraphicEl(e,s),s&&nt(s,i.focus,i.blurScope),s}o.remove(t)}function Wy(n,t,e,i,r,o,a){var s=-1,l=t;t&&gT(t,i,r)&&(s=Ie(o.childrenRef(),t),t=null);var u,h,c=!t,p=t;p?p.clearStates():(p=Gy(i),l&&((h=p).copyTransform(u=l),Vy(h)&&Vy(u)&&(h.setStyle(u.style),h.z=u.z,h.z2=u.z2,h.zlevel=u.zlevel,h.invisible=u.invisible,h.ignore=u.ignore,Zp(h)&&Zp(u)&&h.setShape(u.shape)))),!1===i.morph?p.disableMorphing=!0:p.disableMorphing&&(p.disableMorphing=!1),ti.normal.cfg=ti.normal.conOpt=ti.emphasis.cfg=ti.emphasis.conOpt=ti.blur.cfg=ti.blur.conOpt=ti.select.cfg=ti.select.conOpt=null,ti.isLegacy=!1,function(m,y,v,_,x,b){if(!m.isGroup){mT(v,null,b),mT(v,mr,b);var w=b.normal.conOpt;if(null!=w||null!=b.emphasis.conOpt||null!=b.select.conOpt||null!=b.blur.conOpt){var C=m.getTextContent();if(!1===w)C&&m.removeTextContent();else{w=b.normal.conOpt=w||{type:"text"},C?C.clearStates():(C=Gy(w),m.setTextContent(C)),Fy(null,C,y,w,null,_,x,!0);for(var A=w&&w.style,D=0;D<uo.length;D++){var L=uo[D];L!==lo&&dT(L,C,0,Uy(w,b[L].conOpt,L),null)}A?C.dirty():C.markRedraw()}}}}(p,e,i,r,c,ti),function(m,y,v,_,x){var b=v.clipPath;if(!1===b)m&&m.getClipPath()&&m.removeClipPath();else if(b){var w=m.getClipPath();w&&gT(w,b,_)&&(w=null),w||(w=Gy(b),m.setClipPath(w)),Fy(null,w,y,b,null,_,x,!1)}}(p,e,i,r,c),Fy(n,p,e,i,ti,r,c,!1);for(var d=0;d<uo.length;d++){var f=uo[d];f!==lo&&dT(f,p,0,Uy(i,jp(i,f),f),ti)}return function(m,y,v){if(!m.isGroup){var _=m,b=v.currentZLevel;_.z=v.currentZ,_.zlevel=b;var w=y.z2;null!=w&&(_.z2=w||0);for(var S=0;S<uo.length;S++)dR(_,y,uo[S])}}(p,i,r),"group"===i.type&&function(m,y,v,_,x){var b=_.children,w=b?b.length:0,S=_.$mergeChildren,M="byName"===S||_.diffChildrenByName,T=!1===S;if(w||M||T){if(M)return C={api:m,oldChildren:y.children()||[],newChildren:b||[],dataIndex:v,seriesModel:x,group:y},void new hr(C.oldChildren,C.newChildren,yT,yT,C).add(vT).update(vT).remove(gR).execute();var C;T&&y.removeAll();for(var A=0;A<w;A++)b[A]&&Wy(m,y.childAt(A),v,b[A],x,y);for(var D=y.childCount()-1;D>=A;D--)Xy(y.childAt(D),x,y)}}(n,p,e,i,r),s>=0?o.replaceAt(p,s):o.add(p),p}function gT(n,t,e){var i,r=bi(n),o=t.type,a=t.shape,s=t.style;return e.isUniversalTransitionEnabled()||null!=o&&o!==r.customGraphicType||"path"===o&&(i=a)&&(se(i,"pathData")||se(i,"d"))&&_T(a)!==r.customPathData||"image"===o&&se(s,"image")&&s.image!==r.customImagePath}function mT(n,t,e){var i=t?jp(n,t):n,r=t?Uy(n,i,mr):n.style,o=n.type,a=i?i.textConfig:null,s=n.textContent,l=s?t?jp(s,t):s:null;if(r&&(e.isLegacy||oT(r,o,!!a,!!l))){e.isLegacy=!0;var u=aT(r,o,!t);!a&&u.textConfig&&(a=u.textConfig),!l&&u.textContent&&(l=u.textContent)}!t&&l&&!l.type&&(l.type="text");var c=t?e[t]:e.normal;c.cfg=a,c.conOpt=l}function jp(n,t){return t?n?n[t]:null:n}function Uy(n,t,e){var i=t&&t.style;return null==i&&e===mr&&n&&(i=n.styleEmphasis),i}function yT(n,t){var e=n&&n.name;return null!=e?e:"e\0\0"+t}function vT(n,t){var e=this.context;Wy(e.api,null!=t?e.oldChildren[t]:null,e.dataIndex,null!=n?e.newChildren[n]:null,e.seriesModel,e.group)}function gR(n){var t=this.context;Xy(t.oldChildren[n],t.seriesModel,t.group)}function Xy(n,t,e){if(n){var i=bi(n).leaveToProps;i?ze(n,i,t,{cb:function(){e.remove(n)}}):e.remove(n)}}function _T(n){return n&&(n.pathData||n.d)}var _a=We(),xT=de,Yy=re,Zy=function(){function n(){this._dragging=!1,this.animationThreshold=15}return n.prototype.render=function(t,e,i,r){var o=e.get("value"),a=e.get("status");if(this._axisModel=t,this._axisPointerModel=e,this._api=i,r||this._lastValue!==o||this._lastStatus!==a){this._lastValue=o,this._lastStatus=a;var s=this._group,l=this._handle;if(!a||"hide"===a)return s&&s.hide(),void(l&&l.hide());s&&s.show(),l&&l.show();var u={};this.makeElOption(u,o,t,e,i);var h=u.graphicKey;h!==this._lastGraphicKey&&this.clear(i),this._lastGraphicKey=h;var c=this._moveAnimation=this.determineAnimation(t,e);if(s){var p=ye(bT,e,c);this.updatePointerEl(s,u,p),this.updateLabelEl(s,u,p,e)}else s=this._group=new me,this.createPointerEl(s,u,t,e),this.createLabelEl(s,u,t,e),i.getZr().add(s);MT(s,e,!0),this._renderHandle(o)}},n.prototype.remove=function(t){this.clear(t)},n.prototype.dispose=function(t){this.clear(t)},n.prototype.determineAnimation=function(t,e){var i=e.get("animation"),r=t.axis,o="category"===r.type,a=e.get("snap");if(!a&&!o)return!1;if("auto"===i||null==i){var s=this.animationThreshold;if(o&&r.getBandWidth()>s)return!0;if(a){var l=wm(t).seriesDataCount,u=r.getExtent();return Math.abs(u[0]-u[1])/l>s}return!1}return!0===i},n.prototype.makeElOption=function(t,e,i,r,o){},n.prototype.createPointerEl=function(t,e,i,r){var o=e.pointer;if(o){var a=_a(t).pointerEl=new Jl[o.type](xT(e.pointer));t.add(a)}},n.prototype.createLabelEl=function(t,e,i,r){if(e.label){var o=_a(t).labelEl=new Re(xT(e.label));t.add(o),ST(o,r)}},n.prototype.updatePointerEl=function(t,e,i){var r=_a(t).pointerEl;r&&e.pointer&&(r.setStyle(e.pointer.style),i(r,{shape:e.pointer.shape}))},n.prototype.updateLabelEl=function(t,e,i,r){var o=_a(t).labelEl;o&&(o.setStyle(e.label.style),i(o,{x:e.label.x,y:e.label.y}),ST(o,r))},n.prototype._renderHandle=function(t){if(!this._dragging&&this.updateHandleTransform){var e,i=this._axisPointerModel,r=this._api.getZr(),o=this._handle,a=i.getModel("handle"),s=i.get("status");if(!a.get("show")||!s||"hide"===s)return o&&r.remove(o),void(this._handle=null);this._handle||(e=!0,o=this._handle=as(a.get("icon"),{cursor:"move",draggable:!0,onmousemove:function(u){Gn(u.event)},onmousedown:Yy(this._onHandleDragMove,this,0,0),drift:Yy(this._onHandleDragMove,this),ondragend:Yy(this._onHandleDragEnd,this)}),r.add(o)),MT(o,i,!1),o.setStyle(a.getItemStyle(null,["color","borderColor","borderWidth","opacity","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"]));var l=a.get("size");Z(l)||(l=[l,l]),o.scaleX=l[0]/2,o.scaleY=l[1]/2,pu(this,"_doDispatchAxisPointer",a.get("throttle")||0,"fixRate"),this._moveHandleToValue(t,e)}},n.prototype._moveHandleToValue=function(t,e){bT(this._axisPointerModel,!e&&this._moveAnimation,this._handle,jy(this.getHandleTransform(t,this._axisModel,this._axisPointerModel)))},n.prototype._onHandleDragMove=function(t,e){var i=this._handle;if(i){this._dragging=!0;var r=this.updateHandleTransform(jy(i),[t,e],this._axisModel,this._axisPointerModel);this._payloadInfo=r,i.stopAnimation(),i.attr(jy(r)),_a(i).lastProp=null,this._doDispatchAxisPointer()}},n.prototype._doDispatchAxisPointer=function(){if(this._handle){var t=this._payloadInfo,e=this._axisModel;this._api.dispatchAction({type:"updateAxisPointer",x:t.cursorPoint[0],y:t.cursorPoint[1],tooltipOption:t.tooltipOption,axesInfo:[{axisDim:e.axis.dim,axisIndex:e.componentIndex}]})}},n.prototype._onHandleDragEnd=function(){if(this._dragging=!1,this._handle){var t=this._axisPointerModel.get("value");this._moveHandleToValue(t),this._api.dispatchAction({type:"hideTip"})}},n.prototype.clear=function(t){this._lastValue=null,this._lastStatus=null;var e=t.getZr(),i=this._group,r=this._handle;e&&i&&(this._lastGraphicKey=null,i&&e.remove(i),r&&e.remove(r),this._group=null,this._handle=null,this._payloadInfo=null)},n.prototype.doClear=function(){},n.prototype.buildLabel=function(t,e,i){return{x:t[i=i||0],y:t[1-i],width:e[i],height:e[1-i]}},n}();function bT(n,t,e,i){wT(_a(e).lastProp,i)||(_a(e).lastProp=i,t?ze(e,i,n):(e.stopAnimation(),e.attr(i)))}function wT(n,t){if(pe(n)&&pe(t)){var e=!0;return k(t,function(i,r){e=e&&wT(n[r],i)}),!!e}return n===t}function ST(n,t){n[t.get(["label","show"])?"show":"hide"]()}function jy(n){return{x:n.x||0,y:n.y||0,rotation:n.rotation||0}}function MT(n,t,e){var i=t.get("z"),r=t.get("zlevel");n&&n.traverse(function(o){"group"!==o.type&&(null!=i&&(o.z=i),null!=r&&(o.zlevel=r),o.silent=e)})}function qy(n){var t,e=n.get("type"),i=n.getModel(e+"Style");return"line"===e?(t=i.getLineStyle()).fill=null:"shadow"===e&&((t=i.getAreaStyle()).stroke=null),t}function IT(n,t,e,i,r){var o=TT(e.get("value"),t.axis,t.ecModel,e.get("seriesDataIndices"),{precision:e.get(["label","precision"]),formatter:e.get(["label","formatter"])}),a=e.getModel("label"),s=Qo(a.get("padding")||0),l=a.getFont(),u=Cl(o,l),h=r.position,c=u.width+s[1]+s[3],p=u.height+s[0]+s[2],d=r.align;"right"===d&&(h[0]-=c),"center"===d&&(h[0]-=c/2);var m,y,v,_,x,b,f=r.verticalAlign;"bottom"===f&&(h[1]-=p),"middle"===f&&(h[1]-=p/2),m=h,y=c,v=p,x=(_=i).getWidth(),b=_.getHeight(),m[0]=Math.min(m[0]+y,x)-y,m[1]=Math.min(m[1]+v,b)-v,m[0]=Math.max(m[0],0),m[1]=Math.max(m[1],0);var g=a.get("backgroundColor");g&&"auto"!==g||(g=t.get(["axisLine","lineStyle","color"])),n.label={x:h[0],y:h[1],style:yt(a,{text:o,font:l,fill:a.getTextColor(),padding:s,backgroundColor:g}),z2:10}}function TT(n,t,e,i,r){n=t.scale.parse(n);var o=t.scale.getLabel({value:n},{precision:r.precision}),a=r.formatter;if(a){var s={value:em(t,{value:n}),axisDimension:t.dim,axisIndex:t.index,seriesData:[]};k(i,function(l){var u=e.getSeriesByIndex(l.seriesIndex),c=u&&u.getDataParams(l.dataIndexInside);c&&s.seriesData.push(c)}),Ce(a)?o=a.replace("{value}",o):Be(a)&&(o=a(s))}return o}function Ky(n,t,e){var i=[1,0,0,1,0,0];return Or(i,i,e.rotation),ui(i,i,e.position),fi([n.dataToCoord(t),(e.labelOffset||0)+(e.labelDirection||1)*(e.labelMargin||0)],i)}function CT(n,t,e,i,r,o){var a=gn.innerTextLayout(e.rotation,0,e.labelDirection);e.labelMargin=r.get(["label","margin"]),IT(t,i,r,o,{position:Ky(i.axis,n,e),align:a.textAlign,verticalAlign:a.textVerticalAlign})}function $y(n,t,e){return{x1:n[e=e||0],y1:n[1-e],x2:t[e],y2:t[1-e]}}function AT(n,t,e){return{x:n[e=e||0],y:n[1-e],width:t[e],height:t[1-e]}}function DT(n,t,e,i,r,o){return{cx:n,cy:t,r0:e,r:i,startAngle:r,endAngle:o,clockwise:!0}}var mR=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return G(t,n),t.prototype.makeElOption=function(e,i,r,o,a){var s=r.axis,l=s.grid,u=o.get("type"),h=kT(l,s).getOtherAxis(s).getGlobalExtent(),c=s.toGlobalCoord(s.dataToCoord(i,!0));if(u&&"none"!==u){var p=qy(o),d=yR[u](s,c,h);d.style=p,e.graphicKey=d.type,e.pointer=d}CT(i,e,_m(l.model,r),r,o,a)},t.prototype.getHandleTransform=function(e,i,r){var o=_m(i.axis.grid.model,i,{labelInside:!1});o.labelMargin=r.get(["handle","margin"]);var a=Ky(i.axis,e,o);return{x:a[0],y:a[1],rotation:o.rotation+(o.labelDirection<0?Math.PI:0)}},t.prototype.updateHandleTransform=function(e,i,r,o){var a=r.axis,s=a.grid,l=a.getGlobalExtent(!0),u=kT(s,a).getOtherAxis(a).getGlobalExtent(),h="x"===a.dim?0:1,c=[e.x,e.y];c[h]+=i[h],c[h]=Math.min(l[1],c[h]),c[h]=Math.max(l[0],c[h]);var p=(u[1]+u[0])/2,d=[p,p];return d[h]=c[h],{x:c[0],y:c[1],rotation:e.rotation,cursorPoint:d,tooltipOption:[{verticalAlign:"middle"},{align:"center"}][h]}},t}(Zy);function kT(n,t){var e={};return e[t.dim+"AxisIndex"]=t.index,n.getCartesian(e)}var yR={line:function(n,t,e){return{type:"Line",subPixelOptimize:!0,shape:$y([t,e[0]],[t,e[1]],LT(n))}},shadow:function(n,t,e){var i=Math.max(1,n.getBandWidth());return{type:"Rect",shape:AT([t-i/2,e[0]],[i,e[1]-e[0]],LT(n))}}};function LT(n){return"x"===n.dim?0:1}var vR=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return G(t,n),t.type="axisPointer",t.defaultOption={show:"auto",zlevel:0,z:50,type:"line",snap:!1,triggerTooltip:!0,value:null,status:null,link:[],animation:null,animationDurationUpdate:200,lineStyle:{color:"#B9BEC9",width:1,type:"dashed"},shadowStyle:{color:"rgba(210,219,238,0.2)"},label:{show:!0,formatter:null,precision:"auto",margin:3,color:"#fff",padding:[5,7,5,7],backgroundColor:"auto",borderColor:null,borderWidth:0,borderRadius:3},handle:{show:!1,icon:"M10.7,11.9v-1.3H9.3v1.3c-4.9,0.3-8.8,4.4-8.8,9.4c0,5,3.9,9.1,8.8,9.4h1.3c4.9-0.3,8.8-4.4,8.8-9.4C19.5,16.3,15.6,12.2,10.7,11.9z M13.3,24.4H6.7v-1.2h6.6z M13.3,22H6.7v-1.2h6.6z M13.3,19.6H6.7v-1.2h6.6z",size:45,margin:50,color:"#333",shadowBlur:3,shadowColor:"#aaa",shadowOffsetX:0,shadowOffsetY:2,throttle:40}},t}(Pe),yr=We(),_R=k;function PT(n,t,e){if(!ge.node){var i=t.getZr();yr(i).records||(yr(i).records={}),function(r,o){function a(s,l){r.on(s,function(u){var c,p,d,h=(c=o,{dispatchAction:d=function(f){var g=p[f.type];g?g.push(f):(f.dispatchAction=d,c.dispatchAction(f))},pendings:p={showTip:[],hideTip:[]}});_R(yr(r).records,function(c){c&&l(c,u,h.dispatchAction)}),function(c,p){var d,f=c.showTip.length,g=c.hideTip.length;f?d=c.showTip[f-1]:g&&(d=c.hideTip[g-1]),d&&(d.dispatchAction=null,p.dispatchAction(d))}(h.pendings,o)})}yr(r).initialized||(yr(r).initialized=!0,a("click",ye(OT,"click")),a("mousemove",ye(OT,"mousemove")),a("globalout",xR))}(i,t),(yr(i).records[n]||(yr(i).records[n]={})).handler=e}}function xR(n,t,e){n.handler("leave",null,e)}function OT(n,t,e,i){t.handler(n,e,i)}function Qy(n,t){if(!ge.node){var e=t.getZr();(yr(e).records||{})[n]&&(yr(e).records[n]=null)}}var bR=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return G(t,n),t.prototype.render=function(e,i,r){var o=i.getComponent("tooltip"),a=e.get("triggerOn")||o&&o.get("triggerOn")||"mousemove|click";PT("axisPointer",r,function(s,l,u){"none"!==a&&("leave"===s||a.indexOf(s)>=0)&&u({type:"updateAxisPointer",currTrigger:s,x:l&&l.offsetX,y:l&&l.offsetY})})},t.prototype.remove=function(e,i){Qy("axisPointer",i)},t.prototype.dispose=function(e,i){Qy("axisPointer",i)},t.type="axisPointer",t}(it);function ET(n,t){var e,i=[],r=n.seriesIndex;if(null==r||!(e=t.getSeriesByIndex(r)))return{point:[]};var o=e.getData(),a=No(o,n);if(null==a||a<0||Z(a))return{point:[]};var s=o.getItemGraphicEl(a),l=e.coordinateSystem;if(e.getTooltipPosition)i=e.getTooltipPosition(a)||[];else if(l&&l.dataToPoint)if(n.isStacked){var u=l.getBaseAxis(),h=l.getOtherAxis(u).dim,p="x"===h||"radius"===h?1:0,d=o.mapDimension(u.dim),f=[];f[p]=o.get(d,a),f[1-p]=o.get(o.getCalculationInfo("stackResultDimension"),a),i=l.dataToPoint(f)||[]}else i=l.dataToPoint(o.getValues(J(l.dimensions,function(m){return o.mapDimension(m)}),a))||[];else if(s){var g=s.getBoundingRect().clone();g.applyTransform(s.transform),i=[g.x+g.width/2,g.y+g.height/2]}return{point:i,el:s}}var NT=We();function wR(n,t,e){var y,v,x,i=n.currTrigger,r=[n.x,n.y],o=n,a=n.dispatchAction||re(e.dispatchAction,e),s=t.getComponent("axisPointer").coordSysAxesInfo;if(s){qp(r)&&(r=ET({seriesIndex:o.seriesIndex,dataIndex:o.dataIndex},t).point);var l=qp(r),u=o.axesInfo,h=s.axesInfo,c="leave"===i||qp(r),p={},d={},f={list:[],map:{}},g={showPointer:ye(SR,d),showTooltip:ye(MR,f)};k(s.coordSysMap,function(y,v){var _=l||y.containPoint(r);k(s.coordSysAxesInfo[v],function(x,b){var w=x.axis,S=function(T,C){for(var A=0;A<(T||[]).length;A++){var D=T[A];if(C.axis.dim===D.axisDim&&C.axis.model.componentIndex===D.axisIndex)return D}}(u,x);if(!c&&_&&(!u||S)){var M=S&&S.value;null!=M||l||(M=w.pointToData(r)),null!=M&&RT(x,M,g,!1,p)}})});var m={};return k(h,function(y,v){var _=y.linkGroup;_&&!d[v]&&k(_.axesInfo,function(x,b){var w=d[b];if(x!==y&&w){var S=w.value;_.mapper&&(S=y.axis.scale.parse(_.mapper(S,zT(x),zT(y)))),m[y.key]=S}})}),k(m,function(y,v){RT(h[v],y,g,!0,p)}),y=d,v=h,x=p.axesInfo=[],k(v,function(b,w){var S=b.axisPointerModel.option,M=y[w];M?(!b.useHandle&&(S.status="show"),S.value=M.value,S.seriesDataIndices=(M.payloadBatch||[]).slice()):!b.useHandle&&(S.status="hide"),"show"===S.status&&x.push({axisDim:b.axis.dim,axisIndex:b.axis.model.componentIndex,value:S.value})}),function(y,v,_,x){if(!qp(v)&&y.list.length){var b=((y.list[0].dataByAxis[0]||{}).seriesDataIndices||[])[0]||{};x({type:"showTip",escapeConnect:!0,x:v[0],y:v[1],tooltipOption:_.tooltipOption,position:_.position,dataIndexInside:b.dataIndexInside,dataIndex:b.dataIndex,seriesIndex:b.seriesIndex,dataByCoordSys:y.list})}else x({type:"hideTip"})}(f,r,n,a),function(y,v,_){var x=_.getZr(),b="axisPointerLastHighlights",w=NT(x)[b]||{},S=NT(x)[b]={};k(y,function(C,A){var D=C.axisPointerModel.option;"show"===D.status&&k(D.seriesDataIndices,function(L){S[L.seriesIndex+" | "+L.dataIndex]=L})});var M=[],T=[];k(w,function(C,A){!S[A]&&T.push(C)}),k(S,function(C,A){!w[A]&&M.push(C)}),T.length&&_.dispatchAction({type:"downplay",escapeConnect:!0,notBlur:!0,batch:T}),M.length&&_.dispatchAction({type:"highlight",escapeConnect:!0,notBlur:!0,batch:M})}(h,0,e),p}}function RT(n,t,e,i,r){var u,h,c,p,d,f,g,m,o=n.axis;if(!o.scale.isBlank()&&o.containData(t))if(n.involveSeries){var a=(p=(c=(h=n).axis).dim,d=u=t,f=[],g=Number.MAX_VALUE,m=-1,k(h.seriesModels,function(y,v){var _,x,b=y.getData().mapDimensionsAll(p);if(y.getAxisTooltipData){var w=y.getAxisTooltipData(b,u,c);x=w.dataIndices,_=w.nestestValue}else{if(!(x=y.getData().indicesOfNearest(b[0],u,"category"===c.type?.5:null)).length)return;_=y.getData().get(b[0],x[0])}if(null!=_&&isFinite(_)){var S=u-_,M=Math.abs(S);M<=g&&((M<g||S>=0&&m<0)&&(g=M,m=S,d=_,f.length=0),k(x,function(T){f.push({seriesIndex:y.seriesIndex,dataIndexInside:T,dataIndex:y.getData().getRawIndex(T)})}))}}),{payloadBatch:f,snapToValue:d}),s=a.payloadBatch,l=a.snapToValue;s[0]&&null==r.seriesIndex&&K(r,s[0]),!i&&n.snap&&o.containData(l)&&null!=l&&(t=l),e.showPointer(n,t,s),e.showTooltip(n,a,l)}else e.showPointer(n,t)}function SR(n,t,e,i){n[t.key]={value:e,payloadBatch:i}}function MR(n,t,e,i){var r=e.payloadBatch,o=t.axis,a=o.model,s=t.axisPointerModel;if(t.triggerTooltip&&r.length){var l=t.coordSys.model,u=Uu(l),h=n.map[u];h||(h=n.map[u]={coordSysId:l.id,coordSysIndex:l.componentIndex,coordSysType:l.type,coordSysMainType:l.mainType,dataByAxis:[]},n.list.push(h)),h.dataByAxis.push({axisDim:o.dim,axisIndex:a.componentIndex,axisType:a.type,axisId:a.id,value:i,valueLabelOpt:{precision:s.get(["label","precision"]),formatter:s.get(["label","formatter"])},seriesDataIndices:r.slice()})}}function zT(n){var t=n.axis.model,e={},i=e.axisDim=n.axis.dim;return e.axisIndex=e[i+"AxisIndex"]=t.componentIndex,e.axisName=e[i+"AxisName"]=t.name,e.axisId=e[i+"AxisId"]=t.id,e}function qp(n){return!n||null==n[0]||isNaN(n[0])||null==n[1]||isNaN(n[1])}function oh(n){ca.registerAxisPointerClass("CartesianAxisPointer",mR),n.registerComponentModel(vR),n.registerComponentView(bR),n.registerPreprocessor(function(t){if(t){(!t.axisPointer||0===t.axisPointer.length)&&(t.axisPointer={});var e=t.axisPointer.link;e&&!Z(e)&&(t.axisPointer.link=[e])}}),n.registerProcessor(n.PRIORITY.PROCESSOR.STATISTIC,function(t,e){t.getComponent("axisPointer").coordSysAxesInfo=function(n,t){var i,r,o,a,s,l,u,e={axesInfo:{},seriesInvolved:!1,coordSysAxesInfo:{},coordSysMap:{}};return i=e,o=t,a=(r=n).getComponent("tooltip"),s=r.getComponent("axisPointer"),l=s.get("link",!0)||[],u=[],k(o.getCoordinateSystems(),function(h){if(h.axisPointerEnabled){var c=Uu(h.model),p=i.coordSysAxesInfo[c]={};i.coordSysMap[c]=h;var d=h.model.getModel("tooltip",a);if(k(h.getAxes(),ye(y,!1,null)),h.getTooltipAxes&&a&&d.get("show")){var f="axis"===d.get("trigger"),g="cross"===d.get(["axisPointer","type"]),m=h.getTooltipAxes(d.get(["axisPointer","axis"]));(f||g)&&k(m.baseAxes,ye(y,!g||"cross",f)),g&&k(m.otherAxes,ye(y,"cross",!1))}}function y(v,_,x){var b=x.model.getModel("axisPointer",s),w=b.get("show");if(w&&("auto"!==w||v||Sm(b))){null==_&&(_=b.get("triggerTooltip"));var S=(b=v?function(L,P,E,N,R,z){var B=P.getModel("axisPointer"),V={};k(["type","snap","lineStyle","shadowStyle","label","animation","animationDurationUpdate","animationEasingUpdate","z"],function(U){V[U]=de(B.get(U))}),V.snap="category"!==L.type&&!!z,"cross"===B.get("type")&&(V.type="line");var W=V.label||(V.label={});if(null==W.show&&(W.show=!1),"cross"===R){var Y=B.get(["label","show"]);if(W.show=null==Y||Y,!z){var Q=V.lineStyle=B.get("crossStyle");Q&&ce(W,Q.textStyle)}}return L.model.getModel("axisPointer",new Fe(V,E,N))}(x,d,s,r,v,_):b).get("snap"),M=Uu(x.model),T=_||S||"category"===x.type,C=i.axesInfo[M]={key:M,axis:x,coordSys:h,axisPointerModel:b,triggerTooltip:_,involveSeries:T,snap:S,useHandle:Sm(b),seriesModels:[],linkGroup:null};p[M]=C,i.seriesInvolved=i.seriesInvolved||T;var A=function(L,P){for(var E=P.model,N=P.dim,R=0;R<L.length;R++){var z=L[R]||{};if(bm(z[N+"AxisId"],E.id)||bm(z[N+"AxisIndex"],E.componentIndex)||bm(z[N+"AxisName"],E.name))return R}}(l,x);if(null!=A){var D=u[A]||(u[A]={axesInfo:{}});D.axesInfo[M]=C,D.mapper=l[A].mapper,C.linkGroup=D}}}}),e.seriesInvolved&&function(i,r){r.eachSeries(function(o){var a=o.coordinateSystem,s=o.get(["tooltip","trigger"],!0),l=o.get(["tooltip","show"],!0);a&&"none"!==s&&!1!==s&&"item"!==s&&!1!==l&&!1!==o.get(["axisPointer","show"],!0)&&k(i.coordSysAxesInfo[Uu(a.model)],function(u){var h=u.axis;a.getAxis(h.dim)===h&&(u.seriesModels.push(o),null==u.seriesDataCount&&(u.seriesDataCount=0),u.seriesDataCount+=o.getData().count())})})}(e,n),e}(t,e)}),n.registerAction({type:"updateAxisPointer",event:"updateAxisPointer",update:":updateAxisPointer"},wR)}var IR=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return G(t,n),t.prototype.makeElOption=function(e,i,r,o,a){var s=r.axis;"angle"===s.dim&&(this.animationThreshold=Math.PI/18);var l=s.polar,u=l.getOtherAxis(s).getExtent(),h=s.dataToCoord(i),c=o.get("type");if(c&&"none"!==c){var p=qy(o),d=TR[c](s,l,h,u);d.style=p,e.graphicKey=d.type,e.pointer=d}var f=function(g,m,y,v,_){var x=m.axis,b=x.dataToCoord(g),w=v.getAngleAxis().getExtent()[0];w=w/180*Math.PI;var S,M,T,C=v.getRadiusAxis().getExtent();if("radius"===x.dim){var A=[1,0,0,1,0,0];Or(A,A,w),ui(A,A,[v.cx,v.cy]),S=fi([b,-_],A);var D=m.getModel("axisLabel").get("rotate")||0,L=gn.innerTextLayout(w,D*Math.PI/180,-1);M=L.textAlign,T=L.textVerticalAlign}else{var P=C[1];S=v.coordToPoint([P+_,b]);var E=v.cx,N=v.cy;M=Math.abs(S[0]-E)/P<.3?"center":S[0]>E?"left":"right",T=Math.abs(S[1]-N)/P<.3?"middle":S[1]>N?"top":"bottom"}return{position:S,align:M,verticalAlign:T}}(i,r,0,l,o.get(["label","margin"]));IT(e,r,o,a,f)},t}(Zy),TR={line:function(n,t,e,i){return"angle"===n.dim?{type:"Line",shape:$y(t.coordToPoint([i[0],e]),t.coordToPoint([i[1],e]))}:{type:"Circle",shape:{cx:t.cx,cy:t.cy,r:e}}},shadow:function(n,t,e,i){var r=Math.max(1,n.getBandWidth()),o=Math.PI/180;return"angle"===n.dim?{type:"Sector",shape:DT(t.cx,t.cy,i[0],i[1],(-e-r/2)*o,(r/2-e)*o)}:{type:"Sector",shape:DT(t.cx,t.cy,e-r/2,e+r/2,0,2*Math.PI)}}},CR=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return G(t,n),t.prototype.findAxisModel=function(e){var i;return this.ecModel.eachComponent(e,function(r){r.getCoordSysModel()===this&&(i=r)},this),i},t.type="polar",t.dependencies=["radiusAxis","angleAxis"],t.defaultOption={zlevel:0,z:0,center:["50%","50%"],radius:"80%"},t}(Pe),Jy=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return G(t,n),t.prototype.getCoordSysModel=function(){return this.getReferringComponents("polar",Mt).models[0]},t.type="polarAxis",t}(Pe);ht(Jy,ks);var AR=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return G(t,n),t.type="angleAxis",t}(Jy),DR=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return G(t,n),t.type="radiusAxis",t}(Jy),ev=function(n){function t(e,i){return n.call(this,"radius",e,i)||this}return G(t,n),t.prototype.pointToData=function(e,i){return this.polar.pointToData(e,i)["radius"===this.dim?0:1]},t}(Qn);ev.prototype.dataToRadius=Qn.prototype.dataToCoord,ev.prototype.radiusToData=Qn.prototype.coordToData;var kR=We(),tv=function(n){function t(e,i){return n.call(this,"angle",e,i||[0,360])||this}return G(t,n),t.prototype.pointToData=function(e,i){return this.polar.pointToData(e,i)["radius"===this.dim?0:1]},t.prototype.calculateCategoryInterval=function(){var e=this,i=e.getLabelModel(),r=e.scale,o=r.getExtent(),a=r.count();if(o[1]-o[0]<1)return 0;var s=o[0],l=e.dataToCoord(s+1)-e.dataToCoord(s),u=Math.abs(l),h=Cl(null==s?"":s+"",i.getFont(),"center","top"),c=Math.max(h.height,7)/u;isNaN(c)&&(c=1/0);var p=Math.max(0,Math.floor(c)),d=kR(e.model),f=d.lastAutoInterval,g=d.lastTickCount;return null!=f&&null!=g&&Math.abs(f-p)<=1&&Math.abs(g-a)<=1&&f>p?p=f:(d.lastTickCount=a,d.lastAutoInterval=p),p},t}(Qn);tv.prototype.dataToAngle=Qn.prototype.dataToCoord,tv.prototype.angleToData=Qn.prototype.coordToData;var BT=["radius","angle"],LR=function(){function n(t){this.dimensions=BT,this.type="polar",this.cx=0,this.cy=0,this._radiusAxis=new ev,this._angleAxis=new tv,this.axisPointerEnabled=!0,this.name=t||"",this._radiusAxis.polar=this._angleAxis.polar=this}return n.prototype.containPoint=function(t){var e=this.pointToCoord(t);return this._radiusAxis.contain(e[0])&&this._angleAxis.contain(e[1])},n.prototype.containData=function(t){return this._radiusAxis.containData(t[0])&&this._angleAxis.containData(t[1])},n.prototype.getAxis=function(t){return this["_"+t+"Axis"]},n.prototype.getAxes=function(){return[this._radiusAxis,this._angleAxis]},n.prototype.getAxesByScale=function(t){var e=[],i=this._angleAxis,r=this._radiusAxis;return i.scale.type===t&&e.push(i),r.scale.type===t&&e.push(r),e},n.prototype.getAngleAxis=function(){return this._angleAxis},n.prototype.getRadiusAxis=function(){return this._radiusAxis},n.prototype.getOtherAxis=function(t){var e=this._angleAxis;return t===e?this._radiusAxis:e},n.prototype.getBaseAxis=function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAngleAxis()},n.prototype.getTooltipAxes=function(t){var e=null!=t&&"auto"!==t?this.getAxis(t):this.getBaseAxis();return{baseAxes:[e],otherAxes:[this.getOtherAxis(e)]}},n.prototype.dataToPoint=function(t,e){return this.coordToPoint([this._radiusAxis.dataToRadius(t[0],e),this._angleAxis.dataToAngle(t[1],e)])},n.prototype.pointToData=function(t,e){var i=this.pointToCoord(t);return[this._radiusAxis.radiusToData(i[0],e),this._angleAxis.angleToData(i[1],e)]},n.prototype.pointToCoord=function(t){var e=t[0]-this.cx,i=t[1]-this.cy,r=this.getAngleAxis(),o=r.getExtent(),a=Math.min(o[0],o[1]),s=Math.max(o[0],o[1]);r.inverse?a=s-360:s=a+360;var l=Math.sqrt(e*e+i*i);e/=l,i/=l;for(var u=Math.atan2(-i,e)/Math.PI*180,h=u<a?1:-1;u<a||u>s;)u+=360*h;return[l,u]},n.prototype.coordToPoint=function(t){var e=t[0],i=t[1]/180*Math.PI;return[Math.cos(i)*e+this.cx,-Math.sin(i)*e+this.cy]},n.prototype.getArea=function(){var t=this.getAngleAxis(),e=this.getRadiusAxis().getExtent().slice();e[0]>e[1]&&e.reverse();var i=t.getExtent(),r=Math.PI/180;return{cx:this.cx,cy:this.cy,r0:e[0],r:e[1],startAngle:-i[0]*r,endAngle:-i[1]*r,clockwise:t.inverse,contain:function(o,a){var s=o-this.cx,l=a-this.cy,u=s*s+l*l,h=this.r,c=this.r0;return u<=h*h&&u>=c*c}}},n.prototype.convertToPixel=function(t,e,i){return VT(e)===this?this.dataToPoint(i):null},n.prototype.convertFromPixel=function(t,e,i){return VT(e)===this?this.pointToData(i):null},n}();function VT(n){var t=n.seriesModel,e=n.polarModel;return e&&e.coordinateSystem||t&&t.coordinateSystem}function PR(n,t){var e=this,i=e.getAngleAxis(),r=e.getRadiusAxis();if(i.scale.setExtent(1/0,-1/0),r.scale.setExtent(1/0,-1/0),n.eachSeries(function(s){if(s.coordinateSystem===e){var l=s.getData();k(cp(l,"radius"),function(u){r.scale.unionExtentFromData(l,u)}),k(cp(l,"angle"),function(u){i.scale.unionExtentFromData(l,u)})}}),eo(i.scale,i.model),eo(r.scale,r.model),"category"===i.type&&!i.onBand){var o=i.getExtent(),a=360/i.scale.count();i.inverse?o[1]+=a:o[1]-=a,i.setExtent(o[0],o[1])}}function GT(n,t){if(n.type=t.get("type"),n.scale=Du(t),n.onBand=t.get("boundaryGap")&&"category"===n.type,n.inverse=t.get("inverse"),"angleAxis"===t.mainType){n.inverse=n.inverse!==t.get("clockwise");var e=t.get("startAngle");n.setExtent(e,e+(n.inverse?-360:360))}t.axis=n,n.model=t}var OR={dimensions:BT,create:function(n,t){var e=[];return n.eachComponent("polar",function(i,r){var o=new LR(r+"");o.update=PR;var a=o.getRadiusAxis(),s=o.getAngleAxis(),l=i.findAxisModel("radiusAxis"),u=i.findAxisModel("angleAxis");GT(a,l),GT(s,u),function(h,c,p){var d=c.get("center"),f=p.getWidth(),g=p.getHeight();h.cx=ie(d[0],f),h.cy=ie(d[1],g);var m=h.getRadiusAxis(),y=Math.min(f,g)/2,v=c.get("radius");null==v?v=[0,"100%"]:Z(v)||(v=[0,v]);var _=[ie(v[0],y),ie(v[1],y)];m.inverse?m.setExtent(_[1],_[0]):m.setExtent(_[0],_[1])}(o,i,t),e.push(o),i.coordinateSystem=o,o.model=i}),n.eachSeries(function(i){if("polar"===i.get("coordinateSystem")){var r=i.getReferringComponents("polar",Mt).models[0];i.coordinateSystem=r.coordinateSystem}}),e}},ER=["axisLine","axisLabel","axisTick","minorTick","splitLine","minorSplitLine","splitArea"];function Kp(n,t,e){t[1]>t[0]&&(t=t.slice().reverse());var i=n.coordToPoint([t[0],e]),r=n.coordToPoint([t[1],e]);return{x1:i[0],y1:i[1],x2:r[0],y2:r[1]}}function $p(n){return n.getRadiusAxis().inverse?0:1}function FT(n){var t=n[0],e=n[n.length-1];t&&e&&Math.abs(Math.abs(t.coord-e.coord)-360)<1e-4&&n.pop()}var NR=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e.axisPointerClass="PolarAxisPointer",e}return G(t,n),t.prototype.render=function(e,i){if(this.group.removeAll(),e.get("show")){var r=e.axis,o=r.polar,a=o.getRadiusAxis().getExtent(),s=r.getTicksCoords(),l=r.getMinorTicksCoords(),u=J(r.getViewLabels(),function(h){h=de(h);var c=r.scale,p="ordinal"===c.type?c.getRawOrdinalNumber(h.tickValue):h.tickValue;return h.coord=r.dataToCoord(p),h});FT(u),FT(s),k(ER,function(h){!e.get([h,"show"])||r.scale.isBlank()&&"axisLine"!==h||RR[h](this.group,e,o,s,l,a,u)},this)}},t.type="angleAxis",t}(ca),RR={axisLine:function(n,t,e,i,r,o){var a,s=t.getModel(["axisLine","lineStyle"]),l=$p(e),u=l?0:1;(a=0===o[u]?new Yn({shape:{cx:e.cx,cy:e.cy,r:o[l]},style:s.getLineStyle(),z2:1,silent:!0}):new ns({shape:{cx:e.cx,cy:e.cy,r:o[l],r0:o[u]},style:s.getLineStyle(),z2:1,silent:!0})).style.fill=null,n.add(a)},axisTick:function(n,t,e,i,r,o){var a=t.getModel("axisTick"),s=(a.get("inside")?-1:1)*a.get("length"),l=o[$p(e)],u=J(i,function(h){return new Et({shape:Kp(e,[l,l+s],h.coord)})});n.add(Nn(u,{style:ce(a.getModel("lineStyle").getLineStyle(),{stroke:t.get(["axisLine","lineStyle","color"])})}))},minorTick:function(n,t,e,i,r,o){if(r.length){for(var a=t.getModel("axisTick"),s=t.getModel("minorTick"),l=(a.get("inside")?-1:1)*s.get("length"),u=o[$p(e)],h=[],c=0;c<r.length;c++)for(var p=0;p<r[c].length;p++)h.push(new Et({shape:Kp(e,[u,u+l],r[c][p].coord)}));n.add(Nn(h,{style:ce(s.getModel("lineStyle").getLineStyle(),ce(a.getLineStyle(),{stroke:t.get(["axisLine","lineStyle","color"])}))}))}},axisLabel:function(n,t,e,i,r,o,a){var s=t.getCategories(!0),l=t.getModel("axisLabel"),u=l.get("margin"),h=t.get("triggerEvent");k(a,function(c,p){var d=l,f=c.tickValue,g=o[$p(e)],m=e.coordToPoint([g+u,c.coord]),y=e.cx,v=e.cy,_=Math.abs(m[0]-y)/g<.3?"center":m[0]>y?"left":"right",x=Math.abs(m[1]-v)/g<.3?"middle":m[1]>v?"top":"bottom";if(s&&s[f]){var b=s[f];pe(b)&&b.textStyle&&(d=new Fe(b.textStyle,l,l.ecModel))}var w=new Re({silent:gn.isLabelSilent(t),style:yt(d,{x:m[0],y:m[1],fill:d.getTextColor()||t.get(["axisLine","lineStyle","color"]),text:c.formattedLabel,align:_,verticalAlign:x})});if(n.add(w),h){var S=gn.makeAxisEventDataBase(t);S.targetType="axisLabel",S.value=c.rawLabel,_e(w).eventData=S}},this)},splitLine:function(n,t,e,i,r,o){var a=t.getModel("splitLine").getModel("lineStyle"),s=a.get("color"),l=0;s=s instanceof Array?s:[s];for(var u=[],h=0;h<i.length;h++){var c=l++%s.length;u[c]=u[c]||[],u[c].push(new Et({shape:Kp(e,o,i[h].coord)}))}for(h=0;h<u.length;h++)n.add(Nn(u[h],{style:ce({stroke:s[h%s.length]},a.getLineStyle()),silent:!0,z:t.get("z")}))},minorSplitLine:function(n,t,e,i,r,o){if(r.length){for(var a=t.getModel("minorSplitLine").getModel("lineStyle"),s=[],l=0;l<r.length;l++)for(var u=0;u<r[l].length;u++)s.push(new Et({shape:Kp(e,o,r[l][u].coord)}));n.add(Nn(s,{style:a.getLineStyle(),silent:!0,z:t.get("z")}))}},splitArea:function(n,t,e,i,r,o){if(i.length){var a=t.getModel("splitArea").getModel("areaStyle"),s=a.get("color"),l=0;s=s instanceof Array?s:[s];for(var u=[],h=Math.PI/180,c=-i[0].coord*h,p=Math.min(o[0],o[1]),d=Math.max(o[0],o[1]),f=t.get("clockwise"),g=1,m=i.length;g<=m;g++){var y=g===m?i[0].coord:i[g].coord,v=l++%s.length;u[v]=u[v]||[],u[v].push(new Qt({shape:{cx:e.cx,cy:e.cy,r0:p,r:d,startAngle:c,endAngle:-y*h,clockwise:f},silent:!0})),c=-y*h}for(g=0;g<u.length;g++)n.add(Nn(u[g],{style:ce({fill:s[g%s.length]},a.getAreaStyle()),silent:!0}))}}},zR=["axisLine","axisTickLabel","axisName"],BR=["splitLine","splitArea","minorSplitLine"],VR=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e.axisPointerClass="PolarAxisPointer",e}return G(t,n),t.prototype.render=function(e,i){if(this.group.removeAll(),e.get("show")){var r=this._axisGroup,o=this._axisGroup=new me;this.group.add(o);var a=e.axis,s=a.polar,l=s.getAngleAxis(),u=a.getTicksCoords(),h=a.getMinorTicksCoords(),c=l.getExtent()[0],p=a.getExtent(),d={position:[(g=s).cx,g.cy],rotation:c/180*Math.PI,labelDirection:-1,tickDirection:-1,nameDirection:1,labelRotate:e.getModel("axisLabel").get("rotate"),z2:1},f=new gn(e,d);k(zR,f.add,f),o.add(f.getGroup()),$l(r,o,e),k(BR,function(g){e.get([g,"show"])&&!a.scale.isBlank()&&GR[g](this.group,e,s,c,p,u,h)},this)}var g},t.type="radiusAxis",t}(ca),GR={splitLine:function(n,t,e,i,r,o){var a=t.getModel("splitLine").getModel("lineStyle"),s=a.get("color"),l=0;s=s instanceof Array?s:[s];for(var u=[],h=0;h<o.length;h++){var c=l++%s.length;u[c]=u[c]||[],u[c].push(new Yn({shape:{cx:e.cx,cy:e.cy,r:o[h].coord}}))}for(h=0;h<u.length;h++)n.add(Nn(u[h],{style:ce({stroke:s[h%s.length],fill:null},a.getLineStyle()),silent:!0}))},minorSplitLine:function(n,t,e,i,r,o,a){if(a.length){for(var s=t.getModel("minorSplitLine").getModel("lineStyle"),l=[],u=0;u<a.length;u++)for(var h=0;h<a[u].length;h++)l.push(new Yn({shape:{cx:e.cx,cy:e.cy,r:a[u][h].coord}}));n.add(Nn(l,{style:ce({fill:null},s.getLineStyle()),silent:!0}))}},splitArea:function(n,t,e,i,r,o){if(o.length){var a=t.getModel("splitArea").getModel("areaStyle"),s=a.get("color"),l=0;s=s instanceof Array?s:[s];for(var u=[],h=o[0].coord,c=1;c<o.length;c++){var p=l++%s.length;u[p]=u[p]||[],u[p].push(new Qt({shape:{cx:e.cx,cy:e.cy,r0:h,r:o[c].coord,startAngle:0,endAngle:2*Math.PI},silent:!0})),h=o[c].coord}for(c=0;c<u.length;c++)n.add(Nn(u[c],{style:ce({fill:s[c%s.length]},a.getAreaStyle()),silent:!0}))}}};function HT(n){return n.get("stack")||"__ec_stack_"+n.seriesIndex}function WT(n,t){return t.dim+n.model.componentIndex}function FR(n,t,e){var i={},r=function(o){var a={};k(o,function(l,u){var h=l.getData(),c=l.coordinateSystem,p=c.getBaseAxis(),d=WT(c,p),f=p.getExtent(),g="category"===p.type?p.getBandWidth():Math.abs(f[1]-f[0])/h.count(),m=a[d]||{bandWidth:g,remainedWidth:g,autoWidthCount:0,categoryGap:"20%",gap:"30%",stacks:{}},y=m.stacks;a[d]=m;var v=HT(l);y[v]||m.autoWidthCount++,y[v]=y[v]||{width:0,maxWidth:0};var _=ie(l.get("barWidth"),g),x=ie(l.get("barMaxWidth"),g),b=l.get("barGap"),w=l.get("barCategoryGap");_&&!y[v].width&&(_=Math.min(m.remainedWidth,_),y[v].width=_,m.remainedWidth-=_),x&&(y[v].maxWidth=x),null!=b&&(m.gap=b),null!=w&&(m.categoryGap=w)});var s={};return k(a,function(l,u){s[u]={};var h=l.stacks,p=ie(l.categoryGap,l.bandWidth),d=ie(l.gap,1),f=l.remainedWidth,g=l.autoWidthCount,m=(f-p)/(g+(g-1)*d);m=Math.max(m,0),k(h,function(x,b){var w=x.maxWidth;w&&w<m&&(w=Math.min(w,f),x.width&&(w=Math.min(w,x.width)),f-=w,x.width=w,g--)}),m=(f-p)/(g+(g-1)*d),m=Math.max(m,0);var y,v=0;k(h,function(x,b){x.width||(x.width=m),y=x,v+=x.width*(1+d)}),y&&(v-=y.width*d);var _=-v/2;k(h,function(x,b){s[u][b]=s[u][b]||{offset:_,width:x.width},_+=x.width*(1+d)})}),s}(Ke(t.getSeriesByType(n),function(o){return!t.isSeriesFiltered(o)&&o.coordinateSystem&&"polar"===o.coordinateSystem.type}));t.eachSeriesByType(n,function(o){if("polar"===o.coordinateSystem.type){var a=o.getData(),s=o.coordinateSystem,l=s.getBaseAxis(),u=WT(s,l),h=HT(o),c=r[u][h],p=c.offset,d=c.width,f=s.getOtherAxis(l),g=o.coordinateSystem.cx,m=o.coordinateSystem.cy,y=o.get("barMinHeight")||0,v=o.get("barMinAngle")||0;i[h]=i[h]||[];for(var _=a.mapDimension(f.dim),x=a.mapDimension(l.dim),b=cr(a,_),w="radius"!==l.dim||!o.get("roundCap",!0),S=f.dataToCoord(0),M=0,T=a.count();M<T;M++){var C=a.get(_,M),A=a.get(x,M),D=C>=0?"p":"n",L=S;b&&(i[h][A]||(i[h][A]={p:S,n:S}),L=i[h][A][D]);var P=void 0,E=void 0,N=void 0,R=void 0;if("radius"===f.dim){var z=f.dataToCoord(C)-S,B=l.dataToCoord(A);Math.abs(z)<y&&(z=(z<0?-1:1)*y),P=L,E=L+z,R=(N=B-p)-d,b&&(i[h][A][D]=E)}else{var V=f.dataToCoord(C,w)-S,W=l.dataToCoord(A);Math.abs(V)<v&&(V=(V<0?-1:1)*v),E=(P=W+p)+d,N=L,R=L+V,b&&(i[h][A][D]=R)}a.setItemLayout(M,{cx:g,cy:m,r0:P,r:E,startAngle:-N*Math.PI/180,endAngle:-R*Math.PI/180,clockwise:N>=R})}}})}var HR={startAngle:90,clockwise:!0,splitNumber:12,axisLabel:{rotate:0}},WR={splitNumber:5},UR=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return G(t,n),t.type="polar",t}(it);function nv(n,t){t=t||{};var i=n.axis,r={},o=i.position,a=i.orient,s=n.coordinateSystem.getRect(),l=[s.x,s.x+s.width,s.y,s.y+s.height],u={horizontal:{top:l[2],bottom:l[3]},vertical:{left:l[0],right:l[1]}};r.position=["vertical"===a?u.vertical[o]:l[0],"horizontal"===a?u.horizontal[o]:l[3]],r.rotation=Math.PI/2*{horizontal:0,vertical:1}[a],r.labelDirection=r.tickDirection=r.nameDirection={top:-1,bottom:1,right:1,left:-1}[o],n.get(["axisTick","inside"])&&(r.tickDirection=-r.tickDirection),st(t.labelInside,n.get(["axisLabel","inside"]))&&(r.labelDirection=-r.labelDirection);var h=t.rotate;return null==h&&(h=n.get(["axisLabel","rotate"])),r.labelRotation="top"===o?-h:h,r.z2=1,r}var XR=["axisLine","axisTickLabel","axisName"],YR=["splitArea","splitLine"],ZR=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e.axisPointerClass="SingleAxisPointer",e}return G(t,n),t.prototype.render=function(e,i,r,o){var a=this.group;a.removeAll();var s=this._axisGroup;this._axisGroup=new me;var l=nv(e),u=new gn(e,l);k(XR,u.add,u),a.add(this._axisGroup),a.add(u.getGroup()),k(YR,function(h){e.get([h,"show"])&&jR[h](this,this.group,this._axisGroup,e)},this),$l(s,this._axisGroup,e),n.prototype.render.call(this,e,i,r,o)},t.prototype.remove=function(){PS(this)},t.type="singleAxis",t}(ca),jR={splitLine:function(n,t,e,i){var r=i.axis;if(!r.scale.isBlank()){var o=i.getModel("splitLine"),a=o.getModel("lineStyle"),s=a.get("color");s=s instanceof Array?s:[s];for(var l=i.coordinateSystem.getRect(),u=r.isHorizontal(),h=[],c=0,p=r.getTicksCoords({tickModel:o}),d=[],f=[],g=0;g<p.length;++g){var m=r.toGlobalCoord(p[g].coord);u?(d[0]=m,d[1]=l.y,f[0]=m,f[1]=l.y+l.height):(d[0]=l.x,d[1]=m,f[0]=l.x+l.width,f[1]=m);var y=c++%s.length;h[y]=h[y]||[],h[y].push(new Et({subPixelOptimize:!0,shape:{x1:d[0],y1:d[1],x2:f[0],y2:f[1]},silent:!0}))}var v=a.getLineStyle(["color"]);for(g=0;g<h.length;++g)t.add(Nn(h[g],{style:ce({stroke:s[g%s.length]},v),silent:!0}))}},splitArea:function(n,t,e,i){LS(n,e,i,i)}},Qp=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return G(t,n),t.prototype.getCoordSysModel=function(){return this},t.type="singleAxis",t.layoutMode="box",t.defaultOption={left:"5%",top:"5%",right:"5%",bottom:"5%",type:"value",position:"bottom",orient:"horizontal",axisLine:{show:!0,lineStyle:{width:1,type:"solid"}},tooltip:{show:!0},axisTick:{show:!0,length:6,lineStyle:{width:1}},axisLabel:{show:!0,interval:"auto"},splitLine:{show:!0,lineStyle:{type:"dashed",opacity:.2}}},t}(Pe);ht(Qp,ks.prototype);var qR=function(n){function t(e,i,r,o,a){var s=n.call(this,e,i,r)||this;return s.type=o||"value",s.position=a||"bottom",s}return G(t,n),t.prototype.isHorizontal=function(){var e=this.position;return"top"===e||"bottom"===e},t.prototype.pointToData=function(e,i){return this.coordinateSystem.pointToData(e)[0]},t}(Qn),UT=["single"],KR=function(){function n(t,e,i){this.type="single",this.dimension="single",this.dimensions=UT,this.axisPointerEnabled=!0,this.model=t,this._init(t,e,i)}return n.prototype._init=function(t,e,i){var o=new qR(this.dimension,Du(t),[0,0],t.get("type"),t.get("position"));o.onBand="category"===o.type&&t.get("boundaryGap"),o.inverse=t.get("inverse"),o.orient=t.get("orient"),t.axis=o,o.model=t,o.coordinateSystem=this,this._axis=o},n.prototype.update=function(t,e){t.eachSeries(function(i){if(i.coordinateSystem===this){var r=i.getData();k(r.mapDimensionsAll(this.dimension),function(o){this._axis.scale.unionExtentFromData(r,o)},this),eo(this._axis.scale,this._axis.model)}},this)},n.prototype.resize=function(t,e){this._rect=Tt({left:t.get("left"),top:t.get("top"),right:t.get("right"),bottom:t.get("bottom"),width:t.get("width"),height:t.get("height")},{width:e.getWidth(),height:e.getHeight()}),this._adjustAxis()},n.prototype.getRect=function(){return this._rect},n.prototype._adjustAxis=function(){var t=this._rect,e=this._axis,i=e.isHorizontal(),r=i?[0,t.width]:[0,t.height],o=e.reverse?1:0;e.setExtent(r[o],r[1-o]),this._updateAxisTransform(e,i?t.x:t.y)},n.prototype._updateAxisTransform=function(t,e){var i=t.getExtent(),r=i[0]+i[1],o=t.isHorizontal();t.toGlobalCoord=o?function(a){return a+e}:function(a){return r-a+e},t.toLocalCoord=o?function(a){return a-e}:function(a){return r-a+e}},n.prototype.getAxis=function(){return this._axis},n.prototype.getBaseAxis=function(){return this._axis},n.prototype.getAxes=function(){return[this._axis]},n.prototype.getTooltipAxes=function(){return{baseAxes:[this.getAxis()],otherAxes:[]}},n.prototype.containPoint=function(t){var e=this.getRect(),i=this.getAxis();return"horizontal"===i.orient?i.contain(i.toLocalCoord(t[0]))&&t[1]>=e.y&&t[1]<=e.y+e.height:i.contain(i.toLocalCoord(t[1]))&&t[0]>=e.y&&t[0]<=e.y+e.height},n.prototype.pointToData=function(t){var e=this.getAxis();return[e.coordToData(e.toLocalCoord(t["horizontal"===e.orient?0:1]))]},n.prototype.dataToPoint=function(t){var e=this.getAxis(),i=this.getRect(),r=[],o="horizontal"===e.orient?0:1;return t instanceof Array&&(t=t[0]),r[o]=e.toGlobalCoord(e.dataToCoord(+t)),r[1-o]=0===o?i.y+i.height/2:i.x+i.width/2,r},n.prototype.convertToPixel=function(t,e,i){return XT(e)===this?this.dataToPoint(i):null},n.prototype.convertFromPixel=function(t,e,i){return XT(e)===this?this.pointToData(i):null},n}();function XT(n){var t=n.seriesModel,e=n.singleAxisModel;return e&&e.coordinateSystem||t&&t.coordinateSystem}var $R={create:function(n,t){var e=[];return n.eachComponent("singleAxis",function(i,r){var o=new KR(i,n,t);o.name="single_"+r,o.resize(i,t),i.coordinateSystem=o,e.push(o)}),n.eachSeries(function(i){if("singleAxis"===i.get("coordinateSystem")){var r=i.getReferringComponents("singleAxis",Mt).models[0];i.coordinateSystem=r&&r.coordinateSystem}}),e},dimensions:UT},YT=["x","y"],QR=["width","height"],JR=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return G(t,n),t.prototype.makeElOption=function(e,i,r,o,a){var s=r.axis,l=s.coordinateSystem,u=iv(l,1-Jp(s)),h=l.dataToPoint(i)[0],c=o.get("type");if(c&&"none"!==c){var p=qy(o),d=ez[c](s,h,u);d.style=p,e.graphicKey=d.type,e.pointer=d}CT(i,e,nv(r),r,o,a)},t.prototype.getHandleTransform=function(e,i,r){var o=nv(i,{labelInside:!1});o.labelMargin=r.get(["handle","margin"]);var a=Ky(i.axis,e,o);return{x:a[0],y:a[1],rotation:o.rotation+(o.labelDirection<0?Math.PI:0)}},t.prototype.updateHandleTransform=function(e,i,r,o){var a=r.axis,s=a.coordinateSystem,l=Jp(a),u=iv(s,l),h=[e.x,e.y];h[l]+=i[l],h[l]=Math.min(u[1],h[l]),h[l]=Math.max(u[0],h[l]);var c=iv(s,1-l),p=(c[1]+c[0])/2,d=[p,p];return d[l]=h[l],{x:h[0],y:h[1],rotation:e.rotation,cursorPoint:d,tooltipOption:{verticalAlign:"middle"}}},t}(Zy),ez={line:function(n,t,e){return{type:"Line",subPixelOptimize:!0,shape:$y([t,e[0]],[t,e[1]],Jp(n))}},shadow:function(n,t,e){var i=n.getBandWidth();return{type:"Rect",shape:AT([t-i/2,e[0]],[i,e[1]-e[0]],Jp(n))}}};function Jp(n){return n.isHorizontal()?0:1}function iv(n,t){var e=n.getRect();return[e[YT[t]],e[YT[t]]+e[QR[t]]]}var tz=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return G(t,n),t.type="single",t}(it),nz=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return G(t,n),t.prototype.init=function(e,i,r){var o=ps(e);n.prototype.init.apply(this,arguments),ZT(e,o)},t.prototype.mergeOption=function(e){n.prototype.mergeOption.apply(this,arguments),ZT(this.option,e)},t.prototype.getCellSize=function(){return this.option.cellSize},t.type="calendar",t.defaultOption={zlevel:0,z:2,left:80,top:60,cellSize:20,orient:"horizontal",splitLine:{show:!0,lineStyle:{color:"#000",width:1,type:"solid"}},itemStyle:{color:"#fff",borderWidth:1,borderColor:"#ccc"},dayLabel:{show:!0,firstDay:0,position:"start",margin:"50%",color:"#000"},monthLabel:{show:!0,position:"start",margin:5,align:"center",formatter:null,color:"#000"},yearLabel:{show:!0,position:null,margin:30,formatter:null,color:"#ccc",fontFamily:"sans-serif",fontWeight:"bolder",fontSize:20}},t}(Pe);function ZT(n,t){var e,i=n.cellSize;1===(e=Z(i)?i:n.cellSize=[i,i]).length&&(e[1]=e[0]);var r=J([0,1],function(o){return(null!=(a=t)[ea[s=o][0]]||null!=a[ea[s][1]]&&null!=a[ea[s][2]])&&(e[o]="auto"),null!=e[o]&&"auto"!==e[o];var a,s});Xr(n,t,{type:"box",ignoreSize:r})}var iz=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return G(t,n),t.prototype.render=function(e,i,r){var o=this.group;o.removeAll();var a=e.coordinateSystem,s=a.getRangeInfo(),l=a.getOrient(),u=i.getLocaleModel();this._renderDayRect(e,s,o),this._renderLines(e,s,l,o),this._renderYearText(e,s,l,o),this._renderMonthText(e,u,l,o),this._renderWeekText(e,u,s,l,o)},t.prototype._renderDayRect=function(e,i,r){for(var o=e.coordinateSystem,a=e.getModel("itemStyle").getItemStyle(),s=o.getCellWidth(),l=o.getCellHeight(),u=i.start.time;u<=i.end.time;u=o.getNextNDay(u,1).time){var h=o.dataToRect([u],!1).tl,c=new Ee({shape:{x:h[0],y:h[1],width:s,height:l},cursor:"default",style:a});r.add(c)}},t.prototype._renderLines=function(e,i,r,o){var a=this,s=e.coordinateSystem,l=e.getModel(["splitLine","lineStyle"]).getLineStyle(),u=e.get(["splitLine","show"]),h=l.lineWidth;this._tlpoints=[],this._blpoints=[],this._firstDayOfMonth=[],this._firstDayPoints=[];for(var c=i.start,p=0;c.time<=i.end.time;p++){f(c.formatedDate),0===p&&(c=s.getDateInfo(i.start.y+"-"+i.start.m));var d=c.date;d.setMonth(d.getMonth()+1),c=s.getDateInfo(d)}function f(g){a._firstDayOfMonth.push(s.getDateInfo(g)),a._firstDayPoints.push(s.dataToRect([g],!1).tl);var m=a._getLinePointsOfOneWeek(e,g,r);a._tlpoints.push(m[0]),a._blpoints.push(m[m.length-1]),u&&a._drawSplitline(m,l,o)}f(s.getNextNDay(i.end.time,1).formatedDate),u&&this._drawSplitline(a._getEdgesPoints(a._tlpoints,h,r),l,o),u&&this._drawSplitline(a._getEdgesPoints(a._blpoints,h,r),l,o)},t.prototype._getEdgesPoints=function(e,i,r){var o=[e[0].slice(),e[e.length-1].slice()],a="horizontal"===r?0:1;return o[0][a]=o[0][a]-i/2,o[1][a]=o[1][a]+i/2,o},t.prototype._drawSplitline=function(e,i,r){var o=new pn({z2:20,shape:{points:e},style:i});r.add(o)},t.prototype._getLinePointsOfOneWeek=function(e,i,r){for(var o=e.coordinateSystem,a=o.getDateInfo(i),s=[],l=0;l<7;l++){var u=o.getNextNDay(a.time,l),h=o.dataToRect([u.time],!1);s[2*u.day]=h.tl,s[2*u.day+1]=h["horizontal"===r?"bl":"tr"]}return s},t.prototype._formatterLabel=function(e,i){return"string"==typeof e&&e?(r=e,k(i,function(a,s){r=r.replace("{"+s+"}",a)}),r):"function"==typeof e?e(i):i.nameMap;var r},t.prototype._yearTextPositionControl=function(e,i,r,o,a){var s=i[0],l=i[1],u=["center","bottom"];"bottom"===o?(l+=a,u=["center","top"]):"left"===o?s-=a:"right"===o?(s+=a,u=["center","top"]):l-=a;var h=0;return"left"!==o&&"right"!==o||(h=Math.PI/2),{rotation:h,x:s,y:l,style:{align:u[0],verticalAlign:u[1]}}},t.prototype._renderYearText=function(e,i,r,o){var a=e.getModel("yearLabel");if(a.get("show")){var s=a.get("margin"),l=a.get("position");l||(l="horizontal"!==r?"top":"left");var u=[this._tlpoints[this._tlpoints.length-1],this._blpoints[0]],h=(u[0][0]+u[1][0])/2,c=(u[0][1]+u[1][1])/2,p="horizontal"===r?0:1,d={top:[h,u[p][1]],bottom:[h,u[1-p][1]],left:[u[1-p][0],c],right:[u[p][0],c]},f=i.start.y;+i.end.y>+i.start.y&&(f=f+"-"+i.end.y);var g=a.get("formatter"),y=this._formatterLabel(g,{start:i.start.y,end:i.end.y,nameMap:f}),v=new Re({z2:30,style:yt(a,{text:y})});v.attr(this._yearTextPositionControl(v,d[l],r,l,s)),o.add(v)}},t.prototype._monthTextPositionControl=function(e,i,r,o,a){var s="left",l="top",u=e[0],h=e[1];return"horizontal"===r?(h+=a,i&&(s="center"),"start"===o&&(l="bottom")):(u+=a,i&&(l="middle"),"start"===o&&(s="right")),{x:u,y:h,align:s,verticalAlign:l}},t.prototype._renderMonthText=function(e,i,r,o){var a=e.getModel("monthLabel");if(a.get("show")){var s=a.get("nameMap"),l=a.get("margin"),u=a.get("position"),h=a.get("align"),c=[this._tlpoints,this._blpoints];s&&!Ce(s)||(s&&(i=Rf(s)||i),s=i.get(["time","monthAbbr"])||[]);var p="start"===u?0:1,d="horizontal"===r?0:1;l="start"===u?-l:l;for(var f="center"===h,g=0;g<c[p].length-1;g++){var m=c[p][g].slice(),y=this._firstDayOfMonth[g];f&&(m[d]=(this._firstDayPoints[g][d]+c[0][g+1][d])/2);var _=a.get("formatter"),x=s[+y.m-1],b={yyyy:y.y,yy:(y.y+"").slice(2),MM:y.m,M:+y.m,nameMap:x},w=this._formatterLabel(_,b),S=new Re({z2:30,style:K(yt(a,{text:w}),this._monthTextPositionControl(m,f,r,u,l))});o.add(S)}}},t.prototype._weekTextPositionControl=function(e,i,r,o,a){var s="center",l="middle",u=e[0],h=e[1],c="start"===r;return"horizontal"===i?(u=u+o+(c?1:-1)*a[0]/2,s=c?"right":"left"):(h=h+o+(c?1:-1)*a[1]/2,l=c?"bottom":"top"),{x:u,y:h,align:s,verticalAlign:l}},t.prototype._renderWeekText=function(e,i,r,o,a){var s=e.getModel("dayLabel");if(s.get("show")){var l=e.coordinateSystem,u=s.get("position"),h=s.get("nameMap"),c=s.get("margin"),p=l.getFirstDayOfWeek();(!h||Ce(h))&&(h&&(i=Rf(h)||i),h=i.get(["time","dayOfWeekShort"])||J(i.get(["time","dayOfWeekAbbr"]),function(x){return x[0]}));var d=l.getNextNDay(r.end.time,7-r.lweek).time,f=[l.getCellWidth(),l.getCellHeight()];c=ie(c,Math.min(f[1],f[0])),"start"===u&&(d=l.getNextNDay(r.start.time,-(7+r.fweek)).time,c=-c);for(var g=0;g<7;g++){var m,y=l.getNextNDay(d,g),v=l.dataToRect([y.time],!1).center;m=Math.abs((g+p)%7);var _=new Re({z2:30,style:K(yt(s,{text:h[m]}),this._weekTextPositionControl(v,o,u,c,f))});a.add(_)}}},t.type="calendar",t}(it),rv=864e5,rz=function(){function n(t,e,i){this.type="calendar",this.dimensions=n.dimensions,this.getDimensionsInfo=n.getDimensionsInfo,this._model=t}return n.getDimensionsInfo=function(){return[{name:"time",type:"time"},"value"]},n.prototype.getRangeInfo=function(){return this._rangeInfo},n.prototype.getModel=function(){return this._model},n.prototype.getRect=function(){return this._rect},n.prototype.getCellWidth=function(){return this._sw},n.prototype.getCellHeight=function(){return this._sh},n.prototype.getOrient=function(){return this._orient},n.prototype.getFirstDayOfWeek=function(){return this._firstDayOfWeek},n.prototype.getDateInfo=function(t){var e=(t=En(t)).getFullYear(),i=t.getMonth()+1,r=i<10?"0"+i:""+i,o=t.getDate(),a=o<10?"0"+o:""+o,s=t.getDay();return{y:e+"",m:r,d:a,day:s=Math.abs((s+7-this.getFirstDayOfWeek())%7),time:t.getTime(),formatedDate:e+"-"+r+"-"+a,date:t}},n.prototype.getNextNDay=function(t,e){return 0===(e=e||0)||(t=new Date(this.getDateInfo(t).time)).setDate(t.getDate()+e),this.getDateInfo(t)},n.prototype.update=function(t,e){this._firstDayOfWeek=+this._model.getModel("dayLabel").get("firstDay"),this._orient=this._model.get("orient"),this._lineWidth=this._model.getModel("itemStyle").getItemStyle().lineWidth||0,this._rangeInfo=this._getRangeInfo(this._initRangeOption());var i=this._rangeInfo.weeks||1,r=["width","height"],o=this._model.getCellSize().slice(),a=this._model.getBoxLayoutParams(),s="horizontal"===this._orient?[i,7]:[7,i];k([0,1],function(c){h(o,c)&&(a[r[c]]=o[c]*s[c])});var l={width:e.getWidth(),height:e.getHeight()},u=this._rect=Tt(a,l);function h(c,p){return null!=c[p]&&"auto"!==c[p]}k([0,1],function(c){h(o,c)||(o[c]=u[r[c]]/s[c])}),this._sw=o[0],this._sh=o[1]},n.prototype.dataToPoint=function(t,e){Z(t)&&(t=t[0]),null==e&&(e=!0);var i=this.getDateInfo(t),r=this._rangeInfo;if(e&&!(i.time>=r.start.time&&i.time<r.end.time+rv))return[NaN,NaN];var a=i.day,s=this._getRangeInfo([r.start.time,i.formatedDate]).nthWeek;return"vertical"===this._orient?[this._rect.x+a*this._sw+this._sw/2,this._rect.y+s*this._sh+this._sh/2]:[this._rect.x+s*this._sw+this._sw/2,this._rect.y+a*this._sh+this._sh/2]},n.prototype.pointToData=function(t){var e=this.pointToDate(t);return e&&e.time},n.prototype.dataToRect=function(t,e){var i=this.dataToPoint(t,e);return{contentShape:{x:i[0]-(this._sw-this._lineWidth)/2,y:i[1]-(this._sh-this._lineWidth)/2,width:this._sw-this._lineWidth,height:this._sh-this._lineWidth},center:i,tl:[i[0]-this._sw/2,i[1]-this._sh/2],tr:[i[0]+this._sw/2,i[1]-this._sh/2],br:[i[0]+this._sw/2,i[1]+this._sh/2],bl:[i[0]-this._sw/2,i[1]+this._sh/2]}},n.prototype.pointToDate=function(t){var e=Math.floor((t[0]-this._rect.x)/this._sw)+1,i=Math.floor((t[1]-this._rect.y)/this._sh)+1,r=this._rangeInfo.range;return"vertical"===this._orient?this._getDateByWeeksAndDay(i,e-1,r):this._getDateByWeeksAndDay(e,i-1,r)},n.prototype.convertToPixel=function(t,e,i){var r=jT(e);return r===this?r.dataToPoint(i):null},n.prototype.convertFromPixel=function(t,e,i){var r=jT(e);return r===this?r.pointToData(i):null},n.prototype.containPoint=function(t){return console.warn("Not implemented."),!1},n.prototype._initRangeOption=function(){var t,e=this._model.get("range");if(Z(e)&&1===e.length&&(e=e[0]),Z(e))t=e;else{var i=e.toString();if(/^\d{4}$/.test(i)&&(t=[i+"-01-01",i+"-12-31"]),/^\d{4}[\/|-]\d{1,2}$/.test(i)){var r=this.getDateInfo(i),o=r.date;o.setMonth(o.getMonth()+1);var a=this.getNextNDay(o,-1);t=[r.formatedDate,a.formatedDate]}/^\d{4}[\/|-]\d{1,2}[\/|-]\d{1,2}$/.test(i)&&(t=[i,i])}if(!t)return e;var s=this._getRangeInfo(t);return s.start.time>s.end.time&&t.reverse(),t},n.prototype._getRangeInfo=function(t){var e,i=[this.getDateInfo(t[0]),this.getDateInfo(t[1])];i[0].time>i[1].time&&(e=!0,i.reverse());var r=Math.floor(i[1].time/rv)-Math.floor(i[0].time/rv)+1,o=new Date(i[0].time),a=o.getDate(),s=i[1].date.getDate();o.setDate(a+r-1);var l=o.getDate();if(l!==s)for(var u=o.getTime()-i[1].time>0?1:-1;(l=o.getDate())!==s&&(o.getTime()-i[1].time)*u>0;)r-=u,o.setDate(l-u);var h=Math.floor((r+i[0].day+6)/7),c=e?1-h:h-1;return e&&i.reverse(),{range:[i[0].formatedDate,i[1].formatedDate],start:i[0],end:i[1],allDay:r,weeks:h,nthWeek:c,fweek:i[0].day,lweek:i[1].day}},n.prototype._getDateByWeeksAndDay=function(t,e,i){var r=this._getRangeInfo(i);if(t>r.weeks||0===t&&e<r.fweek||t===r.weeks&&e>r.lweek)return null;var o=7*(t-1)-r.fweek+e,a=new Date(r.start.time);return a.setDate(+r.start.d+o),this.getDateInfo(a)},n.create=function(t,e){var i=[];return t.eachComponent("calendar",function(r){var o=new n(r,t,e);i.push(o),r.coordinateSystem=o}),t.eachSeries(function(r){"calendar"===r.get("coordinateSystem")&&(r.coordinateSystem=i[r.get("calendarIndex")||0])}),i},n.dimensions=["time","value"],n}();function jT(n){var t=n.calendarModel,e=n.seriesModel;return t?t.coordinateSystem:e?e.coordinateSystem:null}var Ws=We(),qT={path:null,compoundPath:null,group:me,image:It,text:Re},oz=function(n){var t=n.graphic;Z(t)?n.graphic=t[0]&&t[0].elements?[n.graphic[0]]:[{elements:t}]:t&&!t.elements&&(n.graphic=[{elements:[t]}])},az=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e.preventAutoZ=!0,e}return G(t,n),t.prototype.mergeOption=function(e,i){var r=this.option.elements;this.option.elements=null,n.prototype.mergeOption.call(this,e,i),this.option.elements=r},t.prototype.optionUpdated=function(e,i){var r=this.option,o=(i?r:e).elements,a=r.elements=i?[]:r.elements,s=[];this._flatten(o,s,null);var l=h0(a,s,"normalMerge"),u=this._elOptionsToUpdate=[];k(l,function(c,p){var f,g,m,y,v,_,d=c.newOption;d&&(u.push(d),function(f,g){var m=f.existing;if(g.id=f.keyInfo.id,!g.type&&m&&(g.type=m.type),null==g.parentId){var y=g.parentOption;y?g.parentId=y.id:m&&(g.parentId=m.parentId)}g.parentOption=null}(c,d),f=a,g=p,y=K({},m=d),v=f[g],"merge"===(_=m.$action||"merge")?v?(we(v,y,!0),Xr(v,y,{ignoreSize:!0}),u1(m,v)):f[g]=y:"replace"===_?f[g]=y:"remove"===_&&v&&(f[g]=null),function(f,g){if(f&&(f.hv=g.hv=[$T(g,["left","right"]),$T(g,["top","bottom"])],"group"===f.type)){var m=f,y=g;null==m.width&&(m.width=y.width=0),null==m.height&&(m.height=y.height=0)}}(a[p],d))},this);for(var h=a.length-1;h>=0;h--)null==a[h]?a.splice(h,1):delete a[h].$action},t.prototype._flatten=function(e,i,r){k(e,function(o){if(o){r&&(o.parentOption=r),i.push(o);var a=o.children;"group"===o.type&&a&&this._flatten(a,i,o),delete o.children}},this)},t.prototype.useElOptionsToUpdate=function(){var e=this._elOptionsToUpdate;return this._elOptionsToUpdate=null,e},t.type="graphic",t.defaultOption={elements:[]},t}(Pe),sz=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return G(t,n),t.prototype.init=function(){this._elMap=ue()},t.prototype.render=function(e,i,r){e!==this._lastGraphicModel&&this._clear(),this._lastGraphicModel=e,this._updateElements(e),this._relocate(e,r)},t.prototype._updateElements=function(e){var i=e.useElOptionsToUpdate();if(i){var r=this._elMap,o=this.group;k(i,function(a){var s=Ot(a.id,null),l=null!=s?r.get(s):null,u=Ot(a.parentId,null),h=null!=u?r.get(u):o,c=a.type,p=a.style;"text"===c&&p&&a.hv&&a.hv[1]&&(p.textVerticalAlign=p.textBaseline=p.verticalAlign=p.align=null);var d=a.textContent,f=a.textConfig;if(p&&oT(p,c,!!f,!!d)){var g=aT(p,c,!0);!f&&g.textConfig&&(f=a.textConfig=g.textConfig),!d&&g.textContent&&(d=g.textContent)}var b,m=(b=K({},b=a),k(["id","parentId","$action","hv","bounding","textContent"].concat(l1),function(w){delete b[w]}),b),y=a.$action||"merge";"merge"===y?l?l.attr(m):KT(s,h,m,r):"replace"===y?(ed(l,r),KT(s,h,m,r)):"remove"===y&&ed(l,r);var v=r.get(s);if(v&&d)if("merge"===y){var _=v.getTextContent();_?_.attr(d):v.setTextContent(new Re(d))}else"replace"===y&&v.setTextContent(new Re(d));if(v){var x=Ws(v);x.__ecGraphicWidthOption=a.width,x.__ecGraphicHeightOption=a.height,function(b,w,S){var M=_e(b).eventData;b.silent||b.ignore||M||(M=_e(b).eventData={componentType:"graphic",componentIndex:w.componentIndex,name:b.name}),M&&(M.info=S.info)}(v,e,a),ss({el:v,componentModel:e,itemName:v.name,itemTooltipOption:a.tooltip})}})}},t.prototype._relocate=function(e,i){for(var r=e.option.elements,o=this.group,a=this._elMap,s=i.getWidth(),l=i.getHeight(),u=0;u<r.length;u++)if((g=null!=(f=Ot((d=r[u]).id,null))?a.get(f):null)&&g.isGroup){var h=(m=g.parent)===o,c=Ws(g),p=Ws(m);c.__ecGraphicWidth=ie(c.__ecGraphicWidthOption,h?s:p.__ecGraphicWidth)||0,c.__ecGraphicHeight=ie(c.__ecGraphicHeightOption,h?l:p.__ecGraphicHeight)||0}for(u=r.length-1;u>=0;u--){var d,f,g;if(g=null!=(f=Ot((d=r[u]).id,null))?a.get(f):null){var m=g.parent;p=Ws(m),Ac(g,d,m===o?{width:s,height:l}:{width:p.__ecGraphicWidth,height:p.__ecGraphicHeight},null,{hv:d.hv,boundingMode:d.bounding})}}},t.prototype._clear=function(){var e=this._elMap;e.each(function(i){ed(i,e)}),this._elMap=ue()},t.prototype.dispose=function(){this._clear()},t.type="graphic",t}(it);function KT(n,t,e,i){var r=e.type,a=new(se(qT,r)?qT[r]:fc(r))(e);t.add(a),i.set(n,a),Ws(a).__ecGraphicId=n}function ed(n,t){var e=n&&n.parent;e&&("group"===n.type&&n.traverse(function(i){ed(i,t)}),t.removeKey(Ws(n).__ecGraphicId),e.remove(n))}function $T(n,t){var e;return k(t,function(i){null!=n[i]&&"auto"!==n[i]&&(e=!0)}),e}var QT=["x","y","radius","angle","single"],lz=["cartesian2d","polar","singleAxis"];function ho(n){return n+"Axis"}function JT(n){var t=n.ecModel,e={infoList:[],infoMap:ue()};return n.eachTargetAxis(function(i,r){var o=t.getComponent(ho(i),r);if(o){var a=o.getCoordSysModel();if(a){var s=a.uid,l=e.infoMap.get(s);l||(e.infoList.push(l={model:a,axisModels:[]}),e.infoMap.set(s,l)),l.axisModels.push(o)}}}),e}var ov=function(){function n(){this.indexList=[],this.indexMap=[]}return n.prototype.add=function(t){this.indexMap[t]||(this.indexList.push(t),this.indexMap[t]=!0)},n}(),ah=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e._autoThrottle=!0,e._noTarget=!0,e._rangePropMode=["percent","percent"],e}return G(t,n),t.prototype.init=function(e,i,r){var o=eC(e);this.settledOption=o,this.mergeDefaultAndTheme(e,r),this._doInit(o)},t.prototype.mergeOption=function(e){var i=eC(e);we(this.option,e,!0),we(this.settledOption,i,!0),this._doInit(i)},t.prototype._doInit=function(e){var i=this.option;this._setDefaultThrottle(e),this._updateRangeUse(e);var r=this.settledOption;k([["start","startValue"],["end","endValue"]],function(o,a){"value"===this._rangePropMode[a]&&(i[o[0]]=r[o[0]]=null)},this),this._resetTarget()},t.prototype._resetTarget=function(){var e=this.get("orient",!0),i=this._targetAxisInfoMap=ue();this._fillSpecifiedTargetAxis(i)?this._orient=e||this._makeAutoOrientByTargetAxis():(this._orient=e||"horizontal",this._fillAutoTargetAxisByOrient(i,this._orient)),this._noTarget=!0,i.each(function(r){r.indexList.length&&(this._noTarget=!1)},this)},t.prototype._fillSpecifiedTargetAxis=function(e){var i=!1;return k(QT,function(r){var o=this.getReferringComponents(ho(r),vA);if(o.specified){i=!0;var a=new ov;k(o.models,function(s){a.add(s.componentIndex)}),e.set(r,a)}},this),i},t.prototype._fillAutoTargetAxisByOrient=function(e,i){var r=this.ecModel,o=!0;if(o){var a="vertical"===i?"y":"x";s(r.findComponents({mainType:a+"Axis"}),a)}function s(l,u){var h=l[0];if(h){var c=new ov;if(c.add(h.componentIndex),e.set(u,c),o=!1,"x"===u||"y"===u){var p=h.getReferringComponents("grid",Mt).models[0];p&&k(l,function(d){h.componentIndex!==d.componentIndex&&p===d.getReferringComponents("grid",Mt).models[0]&&c.add(d.componentIndex)})}}}o&&s(r.findComponents({mainType:"singleAxis",filter:function(l){return l.get("orient",!0)===i}}),"single"),o&&k(QT,function(l){if(o){var u=r.findComponents({mainType:ho(l),filter:function(c){return"category"===c.get("type",!0)}});if(u[0]){var h=new ov;h.add(u[0].componentIndex),e.set(l,h),o=!1}}},this)},t.prototype._makeAutoOrientByTargetAxis=function(){var e;return this.eachTargetAxis(function(i){!e&&(e=i)},this),"y"===e?"vertical":"horizontal"},t.prototype._setDefaultThrottle=function(e){if(e.hasOwnProperty("throttle")&&(this._autoThrottle=!1),this._autoThrottle){var i=this.ecModel.option;this.option.throttle=i.animation&&i.animationDurationUpdate>0?100:20}},t.prototype._updateRangeUse=function(e){var i=this._rangePropMode,r=this.get("rangeMode");k([["start","startValue"],["end","endValue"]],function(o,a){var s=null!=e[o[0]],l=null!=e[o[1]];s&&!l?i[a]="percent":!s&&l?i[a]="value":r?i[a]=r[a]:s&&(i[a]="percent")})},t.prototype.noTarget=function(){return this._noTarget},t.prototype.getFirstTargetAxisModel=function(){var e;return this.eachTargetAxis(function(i,r){null==e&&(e=this.ecModel.getComponent(ho(i),r))},this),e},t.prototype.eachTargetAxis=function(e,i){this._targetAxisInfoMap.each(function(r,o){k(r.indexList,function(a){e.call(i,o,a)})})},t.prototype.getAxisProxy=function(e,i){var r=this.getAxisModel(e,i);if(r)return r.__dzAxisProxy},t.prototype.getAxisModel=function(e,i){var r=this._targetAxisInfoMap.get(e);if(r&&r.indexMap[i])return this.ecModel.getComponent(ho(e),i)},t.prototype.setRawRange=function(e){var i=this.option,r=this.settledOption;k([["start","startValue"],["end","endValue"]],function(o){null==e[o[0]]&&null==e[o[1]]||(i[o[0]]=r[o[0]]=e[o[0]],i[o[1]]=r[o[1]]=e[o[1]])},this),this._updateRangeUse(e)},t.prototype.setCalculatedRange=function(e){var i=this.option;k(["start","startValue","end","endValue"],function(r){i[r]=e[r]})},t.prototype.getPercentRange=function(){var e=this.findRepresentativeAxisProxy();if(e)return e.getDataPercentWindow()},t.prototype.getValueRange=function(e,i){if(null!=e||null!=i)return this.getAxisProxy(e,i).getDataValueWindow();var r=this.findRepresentativeAxisProxy();return r?r.getDataValueWindow():void 0},t.prototype.findRepresentativeAxisProxy=function(e){if(e)return e.__dzAxisProxy;for(var i,r=this._targetAxisInfoMap.keys(),o=0;o<r.length;o++)for(var a=r[o],s=this._targetAxisInfoMap.get(a),l=0;l<s.indexList.length;l++){var u=this.getAxisProxy(a,s.indexList[l]);if(u.hostedBy(this))return u;i||(i=u)}return i},t.prototype.getRangePropMode=function(){return this._rangePropMode.slice()},t.prototype.getOrient=function(){return this._orient},t.type="dataZoom",t.dependencies=["xAxis","yAxis","radiusAxis","angleAxis","singleAxis","series","toolbox"],t.defaultOption={zlevel:0,z:4,filterMode:"filter",start:0,end:100},t}(Pe);function eC(n){var t={};return k(["start","end","startValue","endValue","throttle"],function(e){n.hasOwnProperty(e)&&(t[e]=n[e])}),t}var hz=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return G(t,n),t.type="dataZoom.select",t}(ah),av=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return G(t,n),t.prototype.render=function(e,i,r,o){this.dataZoomModel=e,this.ecModel=i,this.api=r},t.type="dataZoom",t}(it),cz=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return G(t,n),t.type="dataZoom.select",t}(av),Us=k,tC=On,pz=function(){function n(t,e,i,r){this._dimName=t,this._axisIndex=e,this.ecModel=r,this._dataZoomModel=i}return n.prototype.hostedBy=function(t){return this._dataZoomModel===t},n.prototype.getDataValueWindow=function(){return this._valueWindow.slice()},n.prototype.getDataPercentWindow=function(){return this._percentWindow.slice()},n.prototype.getTargetSeriesModels=function(){var t=[];return this.ecModel.eachSeries(function(e){if(a=e.get("coordinateSystem"),Ie(lz,a)>=0){var i=ho(this._dimName),r=e.getReferringComponents(i,Mt).models[0];r&&this._axisIndex===r.componentIndex&&t.push(e)}var a},this),t},n.prototype.getAxisModel=function(){return this.ecModel.getComponent(this._dimName+"Axis",this._axisIndex)},n.prototype.getMinMaxSpan=function(){return de(this._minMaxSpan)},n.prototype.calculateDataWindow=function(t){var e,i=this._dataExtent,r=this.getAxisModel().axis.scale,o=this._dataZoomModel.getRangePropMode(),a=[0,100],s=[],l=[];Us(["start","end"],function(c,p){var d=t[c],f=t[c+"Value"];"percent"===o[p]?(null==d&&(d=a[p]),f=r.parse(Ze(d,a,i))):(e=!0,d=Ze(f=null==f?i[p]:r.parse(f),i,a)),l[p]=f,s[p]=d}),tC(l),tC(s);var u=this._minMaxSpan;function h(c,p,d,f,g){var m=g?"Span":"ValueSpan";ga(0,c,d,"all",u["min"+m],u["max"+m]);for(var y=0;y<2;y++)p[y]=Ze(c[y],d,f,!0),g&&(p[y]=r.parse(p[y]))}return e?h(l,s,i,a,!1):h(s,l,a,i,!0),{valueWindow:l,percentWindow:s}},n.prototype.reset=function(t){if(t===this._dataZoomModel){var e=this.getTargetSeriesModels();this._dataExtent=function(r,o,a){var s=[1/0,-1/0];Us(a,function(h){var c,p;c=s,(p=h.getData())&&k(cp(p,o),function(f){var g=p.getApproximateExtent(f);g[0]<c[0]&&(c[0]=g[0]),g[1]>c[1]&&(c[1]=g[1])})});var l=r.getAxisModel(),u=ew(l.axis.scale,l,s).calculate();return[u.min,u.max]}(this,this._dimName,e),this._updateMinMaxSpan();var i=this.calculateDataWindow(t.settledOption);this._valueWindow=i.valueWindow,this._percentWindow=i.percentWindow,this._setAxisModel()}},n.prototype.filterData=function(t,e){if(t===this._dataZoomModel){var i=this._dimName,r=this.getTargetSeriesModels(),o=t.get("filterMode"),a=this._valueWindow;"none"!==o&&Us(r,function(s){var l=s.getData(),u=l.mapDimensionsAll(i);if(u.length){if("weakFilter"===o){var h=l.getStore(),c=J(u,function(p){return l.getDimensionIndex(p)},l);l.filterSelf(function(p){for(var d,f,g,m=0;m<u.length;m++){var y=h.get(c[m],p),v=!isNaN(y),_=y<a[0],x=y>a[1];if(v&&!_&&!x)return!0;v&&(g=!0),_&&(d=!0),x&&(f=!0)}return g&&d&&f})}else Us(u,function(p){if("empty"===o)s.setData(l=l.map(p,function(f){return(g=f)>=a[0]&&g<=a[1]?f:NaN;var g}));else{var d={};d[p]=a,l.selectRange(d)}});Us(u,function(p){l.setApproximateExtent(a,p)})}})}},n.prototype._updateMinMaxSpan=function(){var t=this._minMaxSpan={},e=this._dataZoomModel,i=this._dataExtent;Us(["min","max"],function(r){var o=e.get(r+"Span"),a=e.get(r+"ValueSpan");null!=a&&(a=this.getAxisModel().axis.scale.parse(a)),null!=a?o=Ze(i[0]+a,i,[0,100],!0):null!=o&&(a=Ze(o,[0,100],i,!0)-i[0]),t[r+"Span"]=o,t[r+"ValueSpan"]=a},this)},n.prototype._setAxisModel=function(){var t=this.getAxisModel(),e=this._percentWindow,i=this._valueWindow;if(e){var r=Ed(i,[0,500]);r=Math.min(r,20);var o=t.axis.scale.rawExtentInfo;0!==e[0]&&o.setDeterminedMinMax("min",+i[0].toFixed(r)),100!==e[1]&&o.setDeterminedMinMax("max",+i[1].toFixed(r)),o.freeze()}},n}(),dz={getTargetSeries:function(n){function t(r){n.eachComponent("dataZoom",function(o){o.eachTargetAxis(function(a,s){var l=n.getComponent(ho(a),s);r(a,s,l,o)})})}t(function(r,o,a,s){a.__dzAxisProxy=null});var e=[];t(function(r,o,a,s){a.__dzAxisProxy||(a.__dzAxisProxy=new pz(r,o,s,n),e.push(a.__dzAxisProxy))});var i=ue();return k(e,function(r){k(r.getTargetSeriesModels(),function(o){i.set(o.uid,o)})}),i},overallReset:function(n,t){n.eachComponent("dataZoom",function(e){e.eachTargetAxis(function(i,r){e.getAxisProxy(i,r).reset(e)}),e.eachTargetAxis(function(i,r){e.getAxisProxy(i,r).filterData(e,t)})}),n.eachComponent("dataZoom",function(e){var i=e.findRepresentativeAxisProxy();if(i){var r=i.getDataPercentWindow(),o=i.getDataValueWindow();e.setCalculatedRange({start:r[0],end:r[1],startValue:o[0],endValue:o[1]})}})}},nC=!1;function sv(n){nC||(nC=!0,n.registerProcessor(n.PRIORITY.PROCESSOR.FILTER,dz),function(t){t.registerAction("dataZoom",function(e,i){k(function(n,t){var e,i=ue(),r=[],o=ue();n.eachComponent({mainType:"dataZoom",query:t},function(l){o.get(l.uid)||s(l)});do{e=!1,n.eachComponent("dataZoom",a)}while(e);function a(l){var h;!o.get(l.uid)&&(h=!1,l.eachTargetAxis(function(c,p){var d=i.get(c);d&&d[p]&&(h=!0)}),h)&&(s(l),e=!0)}function s(l){o.set(l.uid,!0),r.push(l),l.eachTargetAxis(function(u,h){(i.get(u)||i.set(u,[]))[h]=!0})}return r}(i,e),function(r){r.setRawRange({start:e.start,end:e.end,startValue:e.startValue,endValue:e.endValue})})})}(n),n.registerSubTypeDefaulter("dataZoom",function(){return"slider"}))}function fz(n){n.registerComponentModel(hz),n.registerComponentView(cz),sv(n)}var ni=function(){},iC={};function Xs(n,t){iC[n]=t}function rC(n){return iC[n]}var gz=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return G(t,n),t.prototype.optionUpdated=function(){n.prototype.optionUpdated.apply(this,arguments);var e=this.ecModel;k(this.option.feature,function(i,r){var o=rC(r);o&&(o.getDefaultOption&&(o.defaultOption=o.getDefaultOption(e)),we(i,o.defaultOption))})},t.type="toolbox",t.layoutMode={type:"box",ignoreSize:!0},t.defaultOption={show:!0,z:6,zlevel:0,orient:"horizontal",left:"right",top:"top",backgroundColor:"transparent",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemSize:15,itemGap:8,showTitle:!0,iconStyle:{borderColor:"#666",color:"none"},emphasis:{iconStyle:{borderColor:"#3E98C5"}},tooltip:{show:!1,position:"bottom"}},t}(Pe);function oC(n,t){var e=Qo(t.get("padding")),i=t.getItemStyle(["color","opacity"]);return i.fill=t.get("backgroundColor"),new Ee({shape:{x:n.x-e[3],y:n.y-e[0],width:n.width+e[1]+e[3],height:n.height+e[0]+e[2],r:t.get("borderRadius")},style:i,silent:!0,z2:-1})}var mz=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return G(t,n),t.prototype.render=function(e,i,r,o){var p,d,f,g,m,y,v,a=this.group;if(a.removeAll(),e.get("show")){var s=+e.get("itemSize"),l=e.get("feature")||{},u=this._features||(this._features={}),h=[];k(l,function(p,d){h.push(d)}),new hr(this._featureNames||[],h).add(c).update(c).remove(ye(c,null)).execute(),this._featureNames=h,p=a,f=r,g=(d=e).getBoxLayoutParams(),m=d.get("padding"),v=Tt(g,y={width:f.getWidth(),height:f.getHeight()},m),ta(d.get("orient"),p,d.get("itemGap"),v.width,v.height),Ac(p,g,y,m),a.add(oC(a.getBoundingRect(),e)),a.eachChild(function(p){var d=p.__title,f=p.ensureState("emphasis"),g=f.textConfig||(f.textConfig={}),m=p.getTextContent(),y=m&&m.states.emphasis;if(y&&!Be(y)&&d){var v=y.style||(y.style={}),_=Cl(d,Re.makeFont(v)),x=p.x+a.x,b=!1;p.y+a.y+s+_.height>r.getHeight()&&(g.position="top",b=!0);var w=b?-5-_.height:s+8;x+_.width/2>r.getWidth()?(g.position=["100%",w],v.align="right"):x-_.width/2<0&&(g.position=[0,w],v.align="left")}})}function c(p,d){var f,g=h[p],m=h[d],y=l[g],v=new Fe(y,e,e.ecModel);if(o&&null!=o.newTitle&&o.featureName===g&&(y.title=o.newTitle),g&&!m){if(0===g.indexOf("my"))f={onclick:v.option.onclick,featureName:g};else{var _=rC(g);if(!_)return;f=new _}u[g]=f}else if(!(f=u[m]))return;f.uid=us("toolbox-feature"),f.model=v,f.ecModel=i,f.api=r;var x=f instanceof ni;g||!m?!v.get("show")||x&&f.unusable?x&&f.remove&&f.remove(i,r):(function(b,w,S){var M,T,C=b.getModel("iconStyle"),A=b.getModel(["emphasis","iconStyle"]),D=w instanceof ni&&w.getIcons?w.getIcons():b.get("icon"),L=b.get("title")||{};"string"==typeof D?(M={})[S]=D:M=D,"string"==typeof L?(T={})[S]=L:T=L;var P=b.iconPaths={};k(M,function(E,N){var R=as(E,{},{x:-s/2,y:-s/2,width:s,height:s});R.setStyle(C.getItemStyle()),R.ensureState("emphasis").style=A.getItemStyle();var z=new Re({style:{text:T[N],align:A.get("textAlign"),borderRadius:A.get("textBorderRadius"),padding:A.get("textPadding"),fill:null},ignore:!0});R.setTextContent(z),ss({el:R,componentModel:e,itemName:N,formatterParamsExtra:{title:T[N]}}),R.__title=T[N],R.on("mouseover",function(){var B=A.getItemStyle(),V="vertical"===e.get("orient")?null==e.get("right")?"right":"left":null==e.get("bottom")?"bottom":"top";z.setStyle({fill:A.get("textFill")||B.fill||B.stroke||"#000",backgroundColor:A.get("textBackgroundColor")}),R.setTextConfig({position:A.get("textPosition")||V}),z.ignore=!e.get("showTitle"),zi(this)}).on("mouseout",function(){"emphasis"!==b.get(["iconStatus",N])&&Bi(this),z.hide()}),("emphasis"===b.get(["iconStatus",N])?zi:Bi)(R),a.add(R),R.on("click",re(w.onclick,w,i,r,N)),P[N]=R})}(v,f,g),v.setIconStatus=function(b,w){var S=this.option,M=this.iconPaths;S.iconStatus=S.iconStatus||{},S.iconStatus[b]=w,M[b]&&("emphasis"===w?zi:Bi)(M[b])},f instanceof ni&&f.render&&f.render(v,i,r,o)):x&&f.dispose&&f.dispose(i,r)}},t.prototype.updateView=function(e,i,r,o){k(this._features,function(a){a instanceof ni&&a.updateView&&a.updateView(a.model,i,r,o)})},t.prototype.remove=function(e,i){k(this._features,function(r){r instanceof ni&&r.remove&&r.remove(e,i)}),this.group.removeAll()},t.prototype.dispose=function(e,i){k(this._features,function(r){r instanceof ni&&r.dispose&&r.dispose(e,i)})},t.type="toolbox",t}(it),aC=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return G(t,n),t.prototype.onclick=function(e,i){var r=this.model,o=r.get("name")||e.get("title.0.text")||"echarts",a="svg"===i.getZr().painter.getType(),s=a?"svg":r.get("type",!0)||"png",l=i.getConnectedDataURL({type:s,backgroundColor:r.get("backgroundColor",!0)||e.get("backgroundColor")||"#fff",connectedBackgroundColor:r.get("connectedBackgroundColor"),excludeComponents:r.get("excludeComponents"),pixelRatio:r.get("pixelRatio")});if("function"!=typeof MouseEvent||!ge.browser.newEdge&&(ge.browser.ie||ge.browser.edge))if(window.navigator.msSaveOrOpenBlob||a){var u=l.split(","),h=u[0].indexOf("base64")>-1,c=a?decodeURIComponent(u[1]):u[1];h&&(c=window.atob(c));var p=o+"."+s;if(window.navigator.msSaveOrOpenBlob){for(var d=c.length,f=new Uint8Array(d);d--;)f[d]=c.charCodeAt(d);var g=new Blob([f]);window.navigator.msSaveOrOpenBlob(g,p)}else{var m=document.createElement("iframe");document.body.appendChild(m);var y=m.contentWindow,v=y.document;v.open("image/svg+xml","replace"),v.write(c),v.close(),y.focus(),v.execCommand("SaveAs",!0,p),document.body.removeChild(m)}}else{var _=r.get("lang"),x='<body style="margin:0;"><img src="'+l+'" style="max-width:100%;" title="'+(_&&_[0]||"")+'" /></body>',b=window.open();b.document.write(x),b.document.title=o}else{var w=document.createElement("a");w.download=o+"."+s,w.target="_blank",w.href=l;var S=new MouseEvent("click",{view:document.defaultView,bubbles:!0,cancelable:!1});w.dispatchEvent(S)}},t.getDefaultOption=function(e){return{show:!0,icon:"M4.7,22.9L29.3,45.5L54.7,23.4M4.6,43.6L4.6,58L53.8,58L53.8,43.6M29.2,45.1L29.2,0",title:e.getLocaleModel().get(["toolbox","saveAsImage","title"]),type:"png",connectedBackgroundColor:"#fff",name:"",excludeComponents:["toolbox"],lang:e.getLocaleModel().get(["toolbox","saveAsImage","lang"])}},t}(ni);aC.prototype.unusable=!ge.canvasSupported;var sC="__ec_magicType_stack__",yz=[["line","bar"],["stack"]],vz=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return G(t,n),t.prototype.getIcons=function(){var e=this.model,i=e.get("icon"),r={};return k(e.get("type"),function(o){i[o]&&(r[o]=i[o])}),r},t.getDefaultOption=function(e){return{show:!0,type:[],icon:{line:"M4.1,28.9h7.1l9.3-22l7.4,38l9.7-19.7l3,12.8h14.9M4.1,58h51.4",bar:"M6.7,22.9h10V48h-10V22.9zM24.9,13h10v35h-10V13zM43.2,2h10v46h-10V2zM3.1,58h53.7",stack:"M8.2,38.4l-8.4,4.1l30.6,15.3L60,42.5l-8.1-4.1l-21.5,11L8.2,38.4z M51.9,30l-8.1,4.2l-13.4,6.9l-13.9-6.9L8.2,30l-8.4,4.2l8.4,4.2l22.2,11l21.5-11l8.1-4.2L51.9,30z M51.9,21.7l-8.1,4.2L35.7,30l-5.3,2.8L24.9,30l-8.4-4.1l-8.3-4.2l-8.4,4.2L8.2,30l8.3,4.2l13.9,6.9l13.4-6.9l8.1-4.2l8.1-4.1L51.9,21.7zM30.4,2.2L-0.2,17.5l8.4,4.1l8.3,4.2l8.4,4.2l5.5,2.7l5.3-2.7l8.1-4.2l8.1-4.2l8.1-4.1L30.4,2.2z"},title:e.getLocaleModel().get(["toolbox","magicType","title"]),option:{},seriesIndex:{}}},t.prototype.onclick=function(e,i,r){var o=this.model,a=o.get(["seriesIndex",r]);if(lC[r]){var s,l={series:[]};k(yz,function(h){Ie(h,r)>=0&&k(h,function(c){o.setIconStatus(c,"normal")})}),o.setIconStatus(r,"emphasis"),e.eachComponent({mainType:"series",query:null==a?null:{seriesIndex:a}},function(h){var d=lC[r](h.subType,h.id,h,o);d&&(ce(d,h.option),l.series.push(d));var f=h.coordinateSystem;if(f&&"cartesian2d"===f.type&&("line"===r||"bar"===r)){var g=f.getAxesByScale("ordinal")[0];if(g){var m=g.dim+"Axis",y=h.getReferringComponents(m,Mt).models[0].componentIndex;l[m]=l[m]||[];for(var v=0;v<=y;v++)l[m][y]=l[m][y]||{};l[m][y].boundaryGap="bar"===r}}});var u=r;"stack"===r&&(s=we({stack:o.option.title.tiled,tiled:o.option.title.stack},o.option.title),"emphasis"!==o.get(["iconStatus",r])&&(u="tiled")),i.dispatchAction({type:"changeMagicType",currentType:u,newOption:l,newTitle:s,featureName:"magicType"})}},t}(ni),lC={line:function(n,t,e,i){if("bar"===n)return we({id:t,type:"line",data:e.get("data"),stack:e.get("stack"),markPoint:e.get("markPoint"),markLine:e.get("markLine")},i.get(["option","line"])||{},!0)},bar:function(n,t,e,i){if("line"===n)return we({id:t,type:"bar",data:e.get("data"),stack:e.get("stack"),markPoint:e.get("markPoint"),markLine:e.get("markLine")},i.get(["option","bar"])||{},!0)},stack:function(n,t,e,i){var r=e.get("stack")===sC;if("line"===n||"bar"===n)return i.setIconStatus("stack",r?"normal":"emphasis"),we({id:t,stack:r?"":sC},i.get(["option","stack"])||{},!0)}};vi({type:"changeMagicType",event:"magicTypeChanged",update:"prepareAndUpdate"},function(n,t){t.mergeOption(n.newOption)});var td=new Array(60).join("-");function nd(n){return n.replace(/^\s\s*/,"").replace(/\s\s*$/,"")}var lv=new RegExp("[\t]+","g"),xz=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return G(t,n),t.prototype.onclick=function(e,i){var r=i.getDom(),o=this.model;this._dom&&r.removeChild(this._dom);var a=document.createElement("div");a.style.cssText="position:absolute;left:5px;top:5px;bottom:5px;right:5px;",a.style.backgroundColor=o.get("backgroundColor")||"#fff";var s=document.createElement("h4"),l=o.get("lang")||[];s.innerHTML=l[0]||o.get("title"),s.style.cssText="margin: 10px 20px;",s.style.color=o.get("textColor");var u=document.createElement("div"),h=document.createElement("textarea");u.style.cssText="display:block;width:100%;overflow:auto;";var S,M,T,D,L,P,C,c=o.get("optionToContent"),p=o.get("contentToOption"),d=(D={},L=[],P=[],e.eachRawSeries(function(E){var N=E.coordinateSystem;if(!N||"cartesian2d"!==N.type&&"polar"!==N.type)L.push(E);else{var R=N.getBaseAxis();if("category"===R.type){var z=R.dim+"_"+R.index;D[z]||(D[z]={categoryAxis:R,valueAxis:N.getOtherAxis(R),series:[]},P.push({axisDim:R.dim,axisIndex:R.index})),D[z].series.push(E)}else L.push(E)}}),{value:Ke([(M=(C={seriesGroupByCategoryAxis:D,other:L,meta:P}).seriesGroupByCategoryAxis,T=[],k(M,function(A,D){var L=A.categoryAxis,P=A.valueAxis.dim,E=[" "].concat(J(A.series,function(W){return W.name})),N=[L.model.getCategories()];k(A.series,function(W){var Y=W.getRawData();N.push(W.getRawData().mapArray(Y.mapDimension(P),function(Q){return Q}))});for(var R=[E.join("\t")],z=0;z<N[0].length;z++){for(var B=[],V=0;V<N.length;V++)B.push(N[V][z]);R.push(B.join("\t"))}T.push(R.join("\n"))}),T.join("\n\n"+td+"\n\n")),(S=C.other,J(S,function(A){var D=A.getRawData(),L=[A.name],P=[];return D.each(D.dimensions,function(){for(var E=arguments.length,N=arguments[E-1],R=D.getName(N),z=0;z<E-1;z++)P[z]=arguments[z];L.push((R?R+"\t":"")+P.join("\t"))}),L.join("\n")}).join("\n\n"+td+"\n\n"))],function(A){return!!A.replace(/[\n\t\s]/g,"")}).join("\n\n"+td+"\n\n"),meta:C.meta});if("function"==typeof c){var f=c(i.getOption());"string"==typeof f?u.innerHTML=f:Me(f)&&u.appendChild(f)}else u.appendChild(h),h.readOnly=o.get("readOnly"),h.style.cssText="width:100%;height:100%;font-family:monospace;font-size:14px;line-height:1.6rem;",h.style.color=o.get("textColor"),h.style.borderColor=o.get("textareaBorderColor"),h.style.backgroundColor=o.get("textareaColor"),h.value=d.value;var g=d.meta,m=document.createElement("div");m.style.cssText="position:absolute;bottom:0;left:0;right:0;";var y="float:right;margin-right:20px;border:none;cursor:pointer;padding:2px 5px;font-size:12px;border-radius:3px",v=document.createElement("div"),_=document.createElement("div");y+=";background-color:"+o.get("buttonColor"),y+=";color:"+o.get("buttonTextColor");var x=this;function b(){r.removeChild(a),x._dom=null}Ra(v,"click",b),Ra(_,"click",function(){if(null==p&&null!=c||null!=p&&null==c)b();else{var w;try{w="function"==typeof p?p(u,i.getOption()):function(n,t){var e=n.split(new RegExp("\n*"+td+"\n*","g")),i={series:[]};return k(e,function(r,o){if(function(u){if(u.slice(0,u.indexOf("\n")).indexOf("\t")>=0)return!0}(r)){var a=function(u){for(var h=u.split(/\n+/g),c=[],p=J(nd(h.shift()).split(lv),function(m){return{name:m,data:[]}}),d=0;d<h.length;d++){var f=nd(h[d]).split(lv);c.push(f.shift());for(var g=0;g<f.length;g++)p[g]&&(p[g].data[d]=f[g])}return{series:p,categories:c}}(r),s=t[o],l=s.axisDim+"Axis";s&&(i[l]=i[l]||[],i[l][s.axisIndex]={data:a.categories},i.series=i.series.concat(a.series))}else a=function(u){for(var h=u.split(/\n+/g),c=nd(h.shift()),p=[],d=0;d<h.length;d++){var f=nd(h[d]);if(f){var g=f.split(lv),m="",y=void 0,v=!1;isNaN(g[0])?(v=!0,m=g[0],g=g.slice(1),p[d]={name:m,value:[]},y=p[d].value):y=p[d]=[];for(var _=0;_<g.length;_++)y.push(+g[_]);1===y.length&&(v?p[d].value=y[0]:p[d]=y[0])}}return{name:c,data:p}}(r),i.series.push(a)}),i}(h.value,g)}catch(S){throw b(),new Error("Data view format error "+S)}w&&i.dispatchAction({type:"changeDataView",newOption:w}),b()}}),v.innerHTML=l[1],_.innerHTML=l[2],_.style.cssText=y,v.style.cssText=y,!o.get("readOnly")&&m.appendChild(_),m.appendChild(v),a.appendChild(s),a.appendChild(u),a.appendChild(m),u.style.height=r.clientHeight-80+"px",r.appendChild(a),this._dom=a},t.prototype.remove=function(e,i){this._dom&&i.getDom().removeChild(this._dom)},t.prototype.dispose=function(e,i){this.remove(e,i)},t.getDefaultOption=function(e){return{show:!0,readOnly:!1,optionToContent:null,contentToOption:null,icon:"M17.5,17.3H33 M17.5,17.3H33 M45.4,29.5h-28 M11.5,2v56H51V14.8L38.4,2H11.5z M38.4,2.2v12.7H51 M45.4,41.7h-28",title:e.getLocaleModel().get(["toolbox","dataView","title"]),lang:e.getLocaleModel().get(["toolbox","dataView","lang"]),backgroundColor:"#fff",textColor:"#000",textareaColor:"#fff",textareaBorderColor:"#333",buttonColor:"#c23531",buttonTextColor:"#fff"}},t}(ni);function bz(n,t){return J(n,function(e,i){var r=t&&t[i];if(pe(r)&&!Z(r)){pe(e)&&!Z(e)||(e={value:e});var o=null!=r.name&&null==e.name;return e=ce(e,r),o&&delete e.name,e}return e})}vi({type:"changeDataView",event:"dataViewChanged",update:"prepareAndUpdate"},function(n,t){var e=[];k(n.newOption.series,function(i){var r=t.getSeriesByName(i.name)[0];if(r){var o=r.get("data");e.push({name:i.name,data:bz(i.data,o)})}else e.push(K({type:"scatter"},i))}),t.mergeOption(ce({series:e},n.newOption))});var uC=k,hC=We();function uv(n){var t=hC(n);return t.snapshots||(t.snapshots=[{}]),t.snapshots}var wz=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return G(t,n),t.prototype.onclick=function(e,i){hC(e).snapshots=null,i.dispatchAction({type:"restore",from:this.uid})},t.getDefaultOption=function(e){return{show:!0,icon:"M3.8,33.4 M47,18.9h9.8V8.7 M56.3,20.1 C52.1,9,40.5,0.6,26.8,2.1C12.6,3.7,1.6,16.2,2.1,30.6 M13,41.1H3.1v10.2 M3.7,39.9c4.2,11.1,15.8,19.5,29.5,18 c14.2-1.6,25.2-14.1,24.7-28.5",title:e.getLocaleModel().get(["toolbox","restore","title"])}},t}(ni);vi({type:"restore",event:"restore",update:"prepareAndUpdate"},function(n,t){t.resetOption("recreate")});var Sz=["grid","xAxis","yAxis","geo","graph","polar","radiusAxis","angleAxis","bmap"],hv=function(){function n(t,e,i){var r=this;this._targetInfoList=[];var o=cC(e,t);k(Mz,function(a,s){(!i||!i.include||Ie(i.include,s)>=0)&&a(o,r._targetInfoList)})}return n.prototype.setOutputRanges=function(t,e){return this.matchOutputRanges(t,e,function(i,r,o){if((i.coordRanges||(i.coordRanges=[])).push(r),!i.coordRange){i.coordRange=r;var a=pv[i.brushType](0,o,r);i.__rangeOffset={offset:gC[i.brushType](a.values,i.range,[1,1]),xyMinMax:a.xyMinMax}}}),t},n.prototype.matchOutputRanges=function(t,e,i){k(t,function(r){var o=this.findTargetInfo(r,e);o&&!0!==o&&k(o.coordSyses,function(a){var s=pv[r.brushType](1,a,r.range,!0);i(r,s.values,a,e)})},this)},n.prototype.setInputRanges=function(t,e){k(t,function(i){var o,a,s,l,u=this.findTargetInfo(i,e);if(i.range=i.range||[],u&&!0!==u){i.panelId=u.panelId;var h=pv[i.brushType](0,u.coordSys,i.coordRange),c=i.__rangeOffset;i.range=c?gC[i.brushType](h.values,c.offset,(o=c.xyMinMax,a=yC(h.xyMinMax),s=yC(o),l=[a[0]/s[0],a[1]/s[1]],isNaN(l[0])&&(l[0]=1),isNaN(l[1])&&(l[1]=1),l)):h.values}},this)},n.prototype.makePanelOpts=function(t,e){return J(this._targetInfoList,function(i){var r=i.getPanelRect();return{panelId:i.panelId,defaultBrushType:e?e(i):null,clipPath:yI(r),isTargetByCursor:_I(r,t,i.coordSysModel),getLinearBrushOtherExtent:vI(r)}})},n.prototype.controlSeries=function(t,e,i){var r=this.findTargetInfo(t,i);return!0===r||r&&Ie(r.coordSyses,e.coordinateSystem)>=0},n.prototype.findTargetInfo=function(t,e){for(var i=this._targetInfoList,r=cC(e,t),o=0;o<i.length;o++){var a=i[o],s=t.panelId;if(s){if(a.panelId===s)return a}else for(var l=0;l<pC.length;l++)if(pC[l](r,a))return a}return!0},n}();function cv(n){return n[0]>n[1]&&n.reverse(),n}function cC(n,t){return Ol(n,t,{includeMainTypes:Sz})}var Mz={grid:function(n,t){var e=n.xAxisModels,i=n.yAxisModels,r=n.gridModels,o=ue(),a={},s={};(e||i||r)&&(k(e,function(l){var u=l.axis.grid.model;o.set(u.id,u),a[u.id]=!0}),k(i,function(l){var u=l.axis.grid.model;o.set(u.id,u),s[u.id]=!0}),k(r,function(l){o.set(l.id,l),a[l.id]=!0,s[l.id]=!0}),o.each(function(l){var h=[];k(l.coordinateSystem.getCartesians(),function(c,p){(Ie(e,c.getAxis("x").model)>=0||Ie(i,c.getAxis("y").model)>=0)&&h.push(c)}),t.push({panelId:"grid--"+l.id,gridModel:l,coordSysModel:l,coordSys:h[0],coordSyses:h,getPanelRect:dC.grid,xAxisDeclared:a[l.id],yAxisDeclared:s[l.id]})}))},geo:function(n,t){k(n.geoModels,function(e){var i=e.coordinateSystem;t.push({panelId:"geo--"+e.id,geoModel:e,coordSysModel:e,coordSys:i,coordSyses:[i],getPanelRect:dC.geo})})}},pC=[function(n,t){var e=n.xAxisModel,i=n.yAxisModel,r=n.gridModel;return!r&&e&&(r=e.axis.grid.model),!r&&i&&(r=i.axis.grid.model),r&&r===t.gridModel},function(n,t){var e=n.geoModel;return e&&e===t.geoModel}],dC={grid:function(){return this.coordSys.master.getRect().clone()},geo:function(){var n=this.coordSys,t=n.getBoundingRect().clone();return t.applyTransform(Wr(n)),t}},pv={lineX:ye(fC,0),lineY:ye(fC,1),rect:function(n,t,e,i){var r=n?t.pointToData([e[0][0],e[1][0]],i):t.dataToPoint([e[0][0],e[1][0]],i),o=n?t.pointToData([e[0][1],e[1][1]],i):t.dataToPoint([e[0][1],e[1][1]],i),a=[cv([r[0],o[0]]),cv([r[1],o[1]])];return{values:a,xyMinMax:a}},polygon:function(n,t,e,i){var r=[[1/0,-1/0],[1/0,-1/0]];return{values:J(e,function(o){var a=n?t.pointToData(o,i):t.dataToPoint(o,i);return r[0][0]=Math.min(r[0][0],a[0]),r[1][0]=Math.min(r[1][0],a[1]),r[0][1]=Math.max(r[0][1],a[0]),r[1][1]=Math.max(r[1][1],a[1]),a}),xyMinMax:r}}};function fC(n,t,e,i){var r=e.getAxis(["x","y"][n]),o=cv(J([0,1],function(s){return t?r.coordToData(r.toLocalCoord(i[s]),!0):r.toGlobalCoord(r.dataToCoord(i[s]))})),a=[];return a[n]=o,a[1-n]=[NaN,NaN],{values:o,xyMinMax:a}}var gC={lineX:ye(mC,0),lineY:ye(mC,1),rect:function(n,t,e){return[[n[0][0]-e[0]*t[0][0],n[0][1]-e[0]*t[0][1]],[n[1][0]-e[1]*t[1][0],n[1][1]-e[1]*t[1][1]]]},polygon:function(n,t,e){return J(n,function(i,r){return[i[0]-e[0]*t[r][0],i[1]-e[1]*t[r][1]]})}};function mC(n,t,e,i){return[t[0]-i[n]*e[0],t[1]-i[n]*e[1]]}function yC(n){return n?[n[0][1]-n[0][0],n[1][1]-n[1][0]]:[NaN,NaN]}var fv,gv=k,Tz=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return G(t,n),t.prototype.render=function(e,i,r,o){this._brushController||(this._brushController=new fy(r.getZr()),this._brushController.on("brush",re(this._onBrush,this)).mount()),function(a,s,l,u,h){var c=l._isZoomActive;u&&"takeGlobalCursor"===u.type&&(c="dataZoomSelect"===u.key&&u.dataZoomSelectActive),l._isZoomActive=c,a.setIconStatus("zoom",c?"emphasis":"normal");var p=new hv(mv(a),s,{include:["grid"]}).makePanelOpts(h,function(d){return d.xAxisDeclared&&!d.yAxisDeclared?"lineX":!d.xAxisDeclared&&d.yAxisDeclared?"lineY":"rect"});l._brushController.setPanels(p).enableBrush(!(!c||!p.length)&&{brushType:"auto",brushStyle:a.getModel("brushStyle").getItemStyle()})}(e,i,this,o,r),e.setIconStatus("back",uv(i).length>1?"emphasis":"normal")},t.prototype.onclick=function(e,i,r){Cz[r].call(this)},t.prototype.remove=function(e,i){this._brushController&&this._brushController.unmount()},t.prototype.dispose=function(e,i){this._brushController&&this._brushController.dispose()},t.prototype._onBrush=function(e){var s,l,u,i=e.areas;if(e.isEnd&&i.length){var r={},o=this.ecModel;this._brushController.updateCovers([]),new hv(mv(this.model),o,{include:["grid"]}).matchOutputRanges(i,o,function(s,l,u){if("cartesian2d"===u.type){var h=s.brushType;"rect"===h?(a("x",u,l[0]),a("y",u,l[1])):a({lineX:"x",lineY:"y"}[h],u,l)}}),l=r,u=uv(s=o),uC(l,function(h,c){for(var p=u.length-1;p>=0&&!u[p][c];p--);if(p<0){var d=s.queryComponents({mainType:"dataZoom",subType:"select",id:c})[0];if(d){var f=d.getPercentRange();u[0][c]={dataZoomId:c,start:f[0],end:f[1]}}}}),u.push(l),this._dispatchZoomAction(r)}function a(s,l,u){var f,g,y,h=l.getAxis(s),c=h.model,p=(f=s,g=c,o.eachComponent({mainType:"dataZoom",subType:"select"},function(v){v.getAxisModel(f,g.componentIndex)&&(y=v)}),y),d=p.findRepresentativeAxisProxy(c).getMinMaxSpan();null==d.minValueSpan&&null==d.maxValueSpan||(u=ga(0,u.slice(),h.scale.getExtent(),0,d.minValueSpan,d.maxValueSpan)),p&&(r[p.id]={dataZoomId:p.id,startValue:u[0],endValue:u[1]})}},t.prototype._dispatchZoomAction=function(e){var i=[];gv(e,function(r,o){i.push(de(r))}),i.length&&this.api.dispatchAction({type:"dataZoom",from:this.uid,batch:i})},t.getDefaultOption=function(e){return{show:!0,filterMode:"filter",icon:{zoom:"M0,13.5h26.9 M13.5,26.9V0 M32.1,13.5H58V58H13.5 V32.1",back:"M22,1.4L9.9,13.5l12.3,12.3 M10.3,13.5H54.9v44.6 H10.3v-26"},title:e.getLocaleModel().get(["toolbox","dataZoom","title"]),brushStyle:{borderWidth:0,color:"rgba(210,219,238,0.2)"}}},t}(ni),Cz={zoom:function(){this.api.dispatchAction({type:"takeGlobalCursor",key:"dataZoomSelect",dataZoomSelectActive:!this._isZoomActive})},back:function(){this._dispatchZoomAction(function(n){var t=uv(n),e=t[t.length-1];t.length>1&&t.pop();var i={};return uC(e,function(r,o){for(var a=t.length-1;a>=0;a--)if(r=t[a][o]){i[o]=r;break}}),i}(this.ecModel))}};function mv(n){var t={xAxisIndex:n.get("xAxisIndex",!0),yAxisIndex:n.get("yAxisIndex",!0),xAxisId:n.get("xAxisId",!0),yAxisId:n.get("yAxisId",!0)};return null==t.xAxisIndex&&null==t.xAxisId&&(t.xAxisIndex="all"),null==t.yAxisIndex&&null==t.yAxisId&&(t.yAxisIndex="all"),t}fv=function(n){var t=n.getComponent("toolbox",0),e=["feature","dataZoom"];if(t&&null!=t.get(e)){var i=t.getModel(e),r=[],o=Ol(n,mv(i));return gv(o.xAxisModels,function(s){return a(s,"xAxis","xAxisIndex")}),gv(o.yAxisModels,function(s){return a(s,"yAxis","yAxisIndex")}),r}function a(s,l,u){var h=s.componentIndex,c={type:"select",$fromToolbox:!0,filterMode:i.get("filterMode",!0)||"filter",id:"\0_ec_\0toolbox-dataZoom_"+l+h};c[u]=h,r.push(c)}},vt(null==Zf.get("dataZoom")&&fv),Zf.set("dataZoom",fv);var Az=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return G(t,n),t.type="tooltip",t.dependencies=["axisPointer"],t.defaultOption={zlevel:0,z:60,show:!0,showContent:!0,trigger:"item",triggerOn:"mousemove|click",alwaysShowContent:!1,displayMode:"single",renderMode:"auto",confine:null,showDelay:0,hideDelay:100,transitionDuration:.4,enterable:!1,backgroundColor:"#fff",shadowBlur:10,shadowColor:"rgba(0, 0, 0, .2)",shadowOffsetX:1,shadowOffsetY:2,borderRadius:4,borderWidth:1,padding:null,extraCssText:"",axisPointer:{type:"line",axis:"auto",animation:"auto",animationDurationUpdate:200,animationEasingUpdate:"exponentialOut",crossStyle:{color:"#999",width:1,type:"dashed",textStyle:{}}},textStyle:{color:"#666",fontSize:14}},t}(Pe);function vC(n){var t=n.get("confine");return null!=t?!!t:"richText"===n.get("renderMode")}function _C(n){if(ge.domSupported)for(var t=document.documentElement.style,e=0,i=n.length;e<i;e++)if(n[e]in t)return n[e]}var xC=_C(["transform","webkitTransform","OTransform","MozTransform","msTransform"]);function bC(n,t){if(!n)return t;t=Gf(t,!0);var e=n.indexOf(t);return(n=-1===e?t:"-"+n.slice(0,e)+"-"+t).toLowerCase()}var Dz=bC(_C(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),"transition"),yv=bC(xC,"transform"),kz="position:absolute;display:block;border-style:solid;white-space:nowrap;z-index:9999999;"+(ge.transform3dSupported?"will-change:transform;":"");function wC(n,t,e){var i=n.toFixed(0)+"px",r=t.toFixed(0)+"px";if(!ge.transformSupported)return e?"top:"+r+";left:"+i+";":[["top",r],["left",i]];var o=ge.transform3dSupported,a="translate"+(o?"3d":"")+"("+i+","+r+(o?",0":"")+")";return e?"top:0;left:0;"+yv+":"+a+";":[["top",0],["left",0],[xC,a]]}function SC(n,t,e,i,r){var l,h,o=t&&t.painter;if(e){var a=o&&o.getViewportRoot();a&&(l=n,h=document.body,sl(La,a,i,r,!0)&&sl(l,h,La[0],La[1]))}else{n[0]=i,n[1]=r;var s=o&&o.getViewportRootOffset();s&&(n[0]+=s.offsetLeft,n[1]+=s.offsetTop)}n[2]=n[0]/t.getWidth(),n[3]=n[1]/t.getHeight()}var Pz=function(){function n(t,e,i){if(this._show=!1,this._styleCoord=[0,0,0,0],this._enterable=!0,this._firstShow=!0,this._longHide=!0,ge.wxa)return null;var r=document.createElement("div");r.domBelongToZr=!0,this.el=r;var o=this._zr=e.getZr(),a=this._appendToBody=i&&i.appendToBody;SC(this._styleCoord,o,a,e.getWidth()/2,e.getHeight()/2),a?document.body.appendChild(r):t.appendChild(r),this._container=t;var s=this;r.onmouseenter=function(){s._enterable&&(clearTimeout(s._hideTimeout),s._show=!0),s._inContent=!0},r.onmousemove=function(l){if(l=l||window.event,!s._enterable){var u=o.handler;xn(o.painter.getViewportRoot(),l,!0),u.dispatch("mousemove",l)}},r.onmouseleave=function(){s._inContent=!1,s._enterable&&s._show&&s.hideLater(s._hideDelay)}}return n.prototype.update=function(t){var e,r,o=this._container,a=("position",(r=(e=o).currentStyle||document.defaultView&&document.defaultView.getComputedStyle(e))?r.position:null),s=o.style;"absolute"!==s.position&&"absolute"!==a&&(s.position="relative"),t.get("alwaysShowContent")&&this._moveIfResized(),this.el.className=t.get("className")||""},n.prototype.show=function(t,e){clearTimeout(this._hideTimeout),clearTimeout(this._longHideTimeout);var i=this.el,r=i.style,o=this._styleCoord;i.innerHTML?r.cssText=kz+function(n,t,e){var d,m,y,i=[],r=n.get("transitionDuration"),o=n.get("backgroundColor"),a=n.get("shadowBlur"),s=n.get("shadowColor"),l=n.get("shadowOffsetX"),u=n.get("shadowOffsetY"),h=n.getModel("textStyle"),c=ux(n,"html");return i.push("box-shadow:"+l+"px "+u+"px "+a+"px "+s),t&&r&&i.push((y="opacity"+(m=" "+(d=r)/2+"s "+"cubic-bezier(0.23,1,0.32,1)")+",visibility"+m,e||(m=" "+d+"s cubic-bezier(0.23,1,0.32,1)",y+=ge.transformSupported?","+yv+m:",left"+m+",top"+m),Dz+":"+y)),o&&(ge.canvasSupported?i.push("background-color:"+o):(i.push("background-color:#"+Ai(o)),i.push("filter:alpha(opacity=70)"))),k(["width","color","radius"],function(d){var f="border-"+d,g=Gf(f),m=n.get(g);null!=m&&i.push(f+":"+m+("color"===d?"":"px"))}),i.push(function(d){var f=[],g=d.get("fontSize"),m=d.getTextColor();m&&f.push("color:"+m),f.push("font:"+d.getFont()),g&&f.push("line-height:"+Math.round(3*g/2)+"px");var y=d.get("textShadowColor"),v=d.get("textShadowBlur")||0,_=d.get("textShadowOffsetX")||0,x=d.get("textShadowOffsetY")||0;return y&&v&&f.push("text-shadow:"+_+"px "+x+"px "+v+"px "+y),k(["decoration","align"],function(b){var w=d.get(b);w&&f.push("text-"+b+":"+w)}),f.join(";")}(h)),null!=c&&i.push("padding:"+Qo(c).join("px ")+"px"),i.join(";")+";"}(t,!this._firstShow,this._longHide)+wC(o[0],o[1],!0)+"border-color:"+Jo(e)+";"+(t.get("extraCssText")||"")+";pointer-events:"+(this._enterable?"auto":"none"):r.display="none",this._show=!0,this._firstShow=!1,this._longHide=!1},n.prototype.setContent=function(t,e,i,r,o){var a=this.el;if(null!=t){var s="";if(Ce(o)&&"item"===i.get("trigger")&&!vC(i)&&(s=function(h,c,p){if(!Ce(p)||"inside"===p)return"";var d=h.get("backgroundColor"),f=h.get("borderWidth");c=Jo(c);var g,m,y="left"===(g=p)?"right":"right"===g?"left":"top"===g?"bottom":"top",v=Math.max(1.5*Math.round(f),6),_="",x=yv+":";Ie(["left","right"],y)>-1?(_+="top:50%",x+="translateY(-50%) rotate("+(m="left"===y?-225:-45)+"deg)"):(_+="left:50%",x+="translateX(-50%) rotate("+(m="top"===y?225:45)+"deg)");var b=m*Math.PI/180,w=v+f,S=w*Math.abs(Math.cos(b))+w*Math.abs(Math.sin(b)),M=c+" solid "+f+"px;";return'<div style="'+["position:absolute;width:"+v+"px;height:"+v+"px;",(_+=";"+y+":-"+Math.round(100*((S-Math.SQRT2*f)/2+Math.SQRT2*f-(S-w)/2))/100+"px")+";"+x+";","border-bottom:"+M,"border-right:"+M,"background-color:"+d+";"].join("")+'"></div>'}(i,r,o)),Ce(t))a.innerHTML=t+s;else if(t){a.innerHTML="",Z(t)||(t=[t]);for(var l=0;l<t.length;l++)Me(t[l])&&t[l].parentNode!==a&&a.appendChild(t[l]);if(s&&a.childNodes.length){var u=document.createElement("div");u.innerHTML=s,a.appendChild(u)}}}else a.innerHTML=""},n.prototype.setEnterable=function(t){this._enterable=t},n.prototype.getSize=function(){var t=this.el;return[t.offsetWidth,t.offsetHeight]},n.prototype.moveTo=function(t,e){var i=this._styleCoord;if(SC(i,this._zr,this._appendToBody,t,e),null!=i[0]&&null!=i[1]){var r=this.el.style;k(wC(i[0],i[1]),function(o){r[o[0]]=o[1]})}},n.prototype._moveIfResized=function(){var e=this._styleCoord[3];this.moveTo(this._styleCoord[2]*this._zr.getWidth(),e*this._zr.getHeight())},n.prototype.hide=function(){var t=this,e=this.el.style;e.visibility="hidden",e.opacity="0",ge.transform3dSupported&&(e.willChange=""),this._show=!1,this._longHideTimeout=setTimeout(function(){return t._longHide=!0},500)},n.prototype.hideLater=function(t){!this._show||this._inContent&&this._enterable||(t?(this._hideDelay=t,this._show=!1,this._hideTimeout=setTimeout(re(this.hide,this),t)):this.hide())},n.prototype.isShow=function(){return this._show},n.prototype.dispose=function(){this.el.parentNode.removeChild(this.el)},n}(),Oz=function(){function n(t){this._show=!1,this._styleCoord=[0,0,0,0],this._enterable=!0,this._zr=t.getZr(),IC(this._styleCoord,this._zr,t.getWidth()/2,t.getHeight()/2)}return n.prototype.update=function(t){t.get("alwaysShowContent")&&this._moveIfResized()},n.prototype.show=function(){this._hideTimeout&&clearTimeout(this._hideTimeout),this.el.show(),this._show=!0},n.prototype.setContent=function(t,e,i,r,o){pe(t)&&Xe(""),this.el&&this._zr.remove(this.el);var a=i.getModel("textStyle");this.el=new Re({style:{rich:e.richTextStyles,text:t,lineHeight:22,backgroundColor:i.get("backgroundColor"),borderRadius:i.get("borderRadius"),borderWidth:1,borderColor:r,shadowColor:i.get("shadowColor"),shadowBlur:i.get("shadowBlur"),shadowOffsetX:i.get("shadowOffsetX"),shadowOffsetY:i.get("shadowOffsetY"),textShadowColor:a.get("textShadowColor"),textShadowBlur:a.get("textShadowBlur")||0,textShadowOffsetX:a.get("textShadowOffsetX")||0,textShadowOffsetY:a.get("textShadowOffsetY")||0,fill:i.get(["textStyle","color"]),padding:ux(i,"richText"),verticalAlign:"top",align:"left"},z:i.get("z")}),this._zr.add(this.el);var s=this;this.el.on("mouseover",function(){s._enterable&&(clearTimeout(s._hideTimeout),s._show=!0),s._inContent=!0}),this.el.on("mouseout",function(){s._enterable&&s._show&&s.hideLater(s._hideDelay),s._inContent=!1})},n.prototype.setEnterable=function(t){this._enterable=t},n.prototype.getSize=function(){var t=this.el,e=this.el.getBoundingRect(),i=MC(t.style);return[e.width+i.left+i.right,e.height+i.top+i.bottom]},n.prototype.moveTo=function(t,e){var i=this.el;if(i){var r=this._styleCoord;IC(r,this._zr,t,e),t=r[0],e=r[1];var o=i.style,a=co(o.borderWidth||0),s=MC(o);i.x=t+a+s.left,i.y=e+a+s.top,i.markRedraw()}},n.prototype._moveIfResized=function(){var e=this._styleCoord[3];this.moveTo(this._styleCoord[2]*this._zr.getWidth(),e*this._zr.getHeight())},n.prototype.hide=function(){this.el&&this.el.hide(),this._show=!1},n.prototype.hideLater=function(t){!this._show||this._inContent&&this._enterable||(t?(this._hideDelay=t,this._show=!1,this._hideTimeout=setTimeout(re(this.hide,this),t)):this.hide())},n.prototype.isShow=function(){return this._show},n.prototype.dispose=function(){this._zr.remove(this.el)},n}();function co(n){return Math.max(0,n)}function MC(n){var t=co(n.shadowBlur||0),e=co(n.shadowOffsetX||0),i=co(n.shadowOffsetY||0);return{left:co(t-e),right:co(t+e),top:co(t-i),bottom:co(t+i)}}function IC(n,t,e,i){n[0]=e,n[1]=i,n[2]=n[0]/t.getWidth(),n[3]=n[1]/t.getHeight()}var vv=re,lh=k,TC=ie,Ez=new Ee({shape:{x:-1,y:-1,width:2,height:2}}),Nz=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return G(t,n),t.prototype.init=function(e,i){if(!ge.node){var r,o=e.getComponent("tooltip"),a=o.get("renderMode");this._renderMode="auto"===(r=a)?ge.domSupported?"html":"richText":r||"html",this._tooltipContent="richText"===this._renderMode?new Oz(i):new Pz(i.getDom(),i,{appendToBody:o.get("appendToBody",!0)})}},t.prototype.render=function(e,i,r){if(!ge.node){this.group.removeAll(),this._tooltipModel=e,this._ecModel=i,this._api=r,this._alwaysShowContent=e.get("alwaysShowContent");var o=this._tooltipContent;o.update(e),o.setEnterable(e.get("enterable")),this._initGlobalListener(),this._keepShow(),this._updatePosition="html"===this._renderMode?cu(vv(this._doUpdatePosition,this),50):this._doUpdatePosition}},t.prototype._initGlobalListener=function(){var e=this._tooltipModel.get("triggerOn");PT("itemTooltip",this._api,vv(function(i,r,o){"none"!==e&&(e.indexOf(i)>=0?this._tryShow(r,o):"leave"===i&&this._hide(o))},this))},t.prototype._keepShow=function(){var e=this._tooltipModel,i=this._ecModel,r=this._api;if(null!=this._lastX&&null!=this._lastY&&"none"!==e.get("triggerOn")){var o=this;clearTimeout(this._refreshUpdateTimeout),this._refreshUpdateTimeout=setTimeout(function(){!r.isDisposed()&&o.manuallyShowTip(e,i,r,{x:o._lastX,y:o._lastY,dataByCoordSys:o._lastDataByCoordSys})})}},t.prototype.manuallyShowTip=function(e,i,r,o){if(o.from!==this.uid&&!ge.node){var a=CC(o,r);this._ticket="";var s=o.dataByCoordSys,l=function(f,g,m){var y=Hd(f).queryOptionMap,v=y.keys()[0];if(v&&"series"!==v){var _,x=El(g,v,y.get(v),{useDefault:!1,enableAll:!1,enableNone:!1}).models[0];if(x&&(m.getViewOfComponentModel(x).group.traverse(function(b){var w=_e(b).tooltipConfig;if(w&&w.name===f.name)return _=b,!0}),_))return{componentMainType:v,componentIndex:x.componentIndex,el:_}}}(o,i,r);if(l){var u=l.el.getBoundingRect().clone();u.applyTransform(l.el.transform),this._tryShow({offsetX:u.x+u.width/2,offsetY:u.y+u.height/2,target:l.el,position:o.position,positionDefault:"bottom"},a)}else if(o.tooltip&&null!=o.x&&null!=o.y){var h=Ez;h.x=o.x,h.y=o.y,h.update(),_e(h).tooltipConfig={name:null,option:o.tooltip},this._tryShow({offsetX:o.x,offsetY:o.y,target:h},a)}else if(s)this._tryShow({offsetX:o.x,offsetY:o.y,position:o.position,dataByCoordSys:s,tooltipOption:o.tooltipOption},a);else if(null!=o.seriesIndex){if(this._manuallyAxisShowTip(e,i,r,o))return;var c=ET(o,i),p=c.point[0],d=c.point[1];null!=p&&null!=d&&this._tryShow({offsetX:p,offsetY:d,target:c.el,position:o.position,positionDefault:"bottom"},a)}else null!=o.x&&null!=o.y&&(r.dispatchAction({type:"updateAxisPointer",x:o.x,y:o.y}),this._tryShow({offsetX:o.x,offsetY:o.y,position:o.position,target:r.getZr().findHover(o.x,o.y).target},a))}},t.prototype.manuallyHideTip=function(e,i,r,o){!this._alwaysShowContent&&this._tooltipModel&&this._tooltipContent.hideLater(this._tooltipModel.get("hideDelay")),this._lastX=this._lastY=this._lastDataByCoordSys=null,o.from!==this.uid&&this._hide(CC(o,r))},t.prototype._manuallyAxisShowTip=function(e,i,r,o){var a=o.seriesIndex,s=o.dataIndex,l=i.getComponent("axisPointer").coordSysAxesInfo;if(null!=a&&null!=s&&null!=l){var u=i.getSeriesByIndex(a);if(u&&"axis"===id([u.getData().getItemModel(s),u,(u.coordinateSystem||{}).model],this._tooltipModel).get("trigger"))return r.dispatchAction({type:"updateAxisPointer",seriesIndex:a,dataIndex:s,position:o.position}),!0}},t.prototype._tryShow=function(e,i){var r=e.target;if(this._tooltipModel){this._lastX=e.offsetX,this._lastY=e.offsetY;var o=e.dataByCoordSys;if(o&&o.length)this._showAxisTooltip(o,e);else if(r){var a,s;this._lastDataByCoordSys=null,Ss(r,function(l){return null!=_e(l).dataIndex?(a=l,!0):null!=_e(l).tooltipConfig?(s=l,!0):void 0},!0),a?this._showSeriesItemTooltip(e,a,i):s?this._showComponentItemTooltip(e,s,i):this._hide(i)}else this._lastDataByCoordSys=null,this._hide(i)}},t.prototype._showOrMove=function(e,i){var r=e.get("showDelay");i=re(i,this),clearTimeout(this._showTimout),r>0?this._showTimout=setTimeout(i,r):i()},t.prototype._showAxisTooltip=function(e,i){var r=this._ecModel,a=[i.offsetX,i.offsetY],s=id([i.tooltipOption],this._tooltipModel),l=this._renderMode,u=[],h=Bt("section",{blocks:[],noHeader:!0}),c=[],p=new cg;lh(e,function(v){lh(v.dataByAxis,function(_){var x=r.getComponent(_.axisDim+"Axis",_.axisIndex),b=_.value;if(x&&null!=b){var w=TT(b,x.axis,r,_.seriesDataIndices,_.valueLabelOpt),S=Bt("section",{header:w,noHeader:!Dn(w),sortBlocks:!0,blocks:[]});h.blocks.push(S),k(_.seriesDataIndices,function(M){var T=r.getSeriesByIndex(M.seriesIndex),C=M.dataIndexInside,A=T.getDataParams(C);if(!(A.dataIndex<0)){A.axisDim=_.axisDim,A.axisIndex=_.axisIndex,A.axisType=_.axisType,A.axisId=_.axisId,A.axisValue=em(x.axis,{value:b}),A.axisValueLabel=w,A.marker=p.makeTooltipMarker("item",Jo(A.color),l);var D=U1(T.formatTooltip(C,!0,null));D.markupFragment&&S.blocks.push(D.markupFragment),D.markupText&&c.push(D.markupText),u.push(A)}})}})}),h.blocks.reverse(),c.reverse();var d=i.position,f=s.get("order"),g=ox(h,p,l,f,r.get("useUTC"),s.get("textStyle"));g&&c.unshift(g);var y=c.join("richText"===l?"\n\n":"<br/>");this._showOrMove(s,function(){this._updateContentNotChangedOnAxis(e,u)?this._updatePosition(s,d,a[0],a[1],this._tooltipContent,u):this._showTooltipContent(s,y,u,Math.random()+"",a[0],a[1],d,null,p)})},t.prototype._showSeriesItemTooltip=function(e,i,r){var o=this._ecModel,a=_e(i),s=a.seriesIndex,l=o.getSeriesByIndex(s),u=a.dataModel||l,h=a.dataIndex,c=a.dataType,p=u.getData(c),d=this._renderMode,f=e.positionDefault,g=id([p.getItemModel(h),u,l&&(l.coordinateSystem||{}).model],this._tooltipModel,f?{position:f}:null),m=g.get("trigger");if(null==m||"item"===m){var y=u.getDataParams(h,c),v=new cg;y.marker=v.makeTooltipMarker("item",Jo(y.color),d);var _=U1(u.formatTooltip(h,!1,c)),x=g.get("order"),b=_.markupFragment?ox(_.markupFragment,v,d,x,o.get("useUTC"),g.get("textStyle")):_.markupText,w="item_"+u.name+"_"+h;this._showOrMove(g,function(){this._showTooltipContent(g,b,y,w,e.offsetX,e.offsetY,e.position,e.target,v)}),r({type:"showTip",dataIndexInside:h,dataIndex:p.getRawIndex(h),seriesIndex:s,from:this.uid})}},t.prototype._showComponentItemTooltip=function(e,i,r){var o=_e(i),a=o.tooltipConfig.option||{};Ce(a)&&(a={content:a,formatter:a});var s=[a],l=this._ecModel.getComponent(o.componentMainType,o.componentIndex);l&&s.push(l),s.push({formatter:a.content});var u=e.positionDefault,h=id(s,this._tooltipModel,u?{position:u}:null),c=h.get("content"),p=Math.random()+"",d=new cg;this._showOrMove(h,function(){var f=de(h.get("formatterParams")||{});this._showTooltipContent(h,c,f,p,e.offsetX,e.offsetY,e.position,i,d)}),r({type:"showTip",from:this.uid})},t.prototype._showTooltipContent=function(e,i,r,o,a,s,l,u,h){if(this._ticket="",e.get("showContent")&&e.get("show")){var c=this._tooltipContent,p=e.get("formatter");l=l||e.get("position");var d=i,f=this._getNearestPoint([a,s],r,e.get("trigger"),e.get("borderColor")).color;if(p)if(Ce(p)){var g=e.ecModel.get("useUTC"),m=Z(r)?r[0]:r;d=p,m&&m.axisType&&m.axisType.indexOf("time")>=0&&(d=nu(m.axisValue,d,g)),d=Hf(d,r,!0)}else if(Be(p)){var y=vv(function(v,_){v===this._ticket&&(c.setContent(_,h,e,f,l),this._updatePosition(e,l,a,s,c,r,u))},this);this._ticket=o,d=p(r,o,y)}else d=p;c.setContent(d,h,e,f,l),c.show(e,f),this._updatePosition(e,l,a,s,c,r,u)}},t.prototype._getNearestPoint=function(e,i,r,o){return"axis"===r||Z(i)?{color:o||("html"===this._renderMode?"#fff":"none")}:Z(i)?void 0:{color:o||i.color||i.borderColor}},t.prototype._doUpdatePosition=function(e,i,r,o,a,s,l){var u=this._api.getWidth(),h=this._api.getHeight();i=i||e.get("position");var v,_,b,w,S,M,T,C,A,c=a.getSize(),p=e.get("align"),d=e.get("verticalAlign"),f=l&&l.getBoundingRect().clone();if(l&&f.applyTransform(l.transform),Be(i)&&(i=i([r,o],s,a.el,f,{viewSize:[u,h],contentSize:c.slice()})),Z(i))r=TC(i[0],u),o=TC(i[1],h);else if(pe(i)){var g=i;g.width=c[0],g.height=c[1];var m=Tt(g,{width:u,height:h});r=m.x,o=m.y,p=null,d=null}else if(Ce(i)&&l){var y=function(v,_,x,b){var w=x[0],S=x[1],M=Math.ceil(Math.SQRT2*b)+8,T=0,C=0,A=_.width,D=_.height;switch(v){case"inside":T=_.x+A/2-w/2,C=_.y+D/2-S/2;break;case"top":T=_.x+A/2-w/2,C=_.y-S-M;break;case"bottom":T=_.x+A/2-w/2,C=_.y+D+M;break;case"left":T=_.x-w-M,C=_.y+D/2-S/2;break;case"right":T=_.x+A+M,C=_.y+D/2-S/2}return[T,C]}(i,f,c,e.get("borderWidth"));r=y[0],o=y[1]}else v=r,_=o,b=u,w=h,S=p?null:20,M=d?null:20,C=(T=a.getSize())[0],A=T[1],null!=S&&(v+C+S+2>b?v-=C+S:v+=S),null!=M&&(_+A+M>w?_-=A+M:_+=M),r=(y=[v,_])[0],o=y[1];p&&(r-=AC(p)?c[0]/2:"right"===p?c[0]:0),d&&(o-=AC(d)?c[1]/2:"bottom"===d?c[1]:0),vC(e)&&(y=function(v,_,x,b,w){var S=x.getSize(),M=S[0],T=S[1];return v=Math.min(v+M,b)-M,_=Math.min(_+T,w)-T,[v=Math.max(v,0),_=Math.max(_,0)]}(r,o,a,u,h),r=y[0],o=y[1]),a.moveTo(r,o)},t.prototype._updateContentNotChangedOnAxis=function(e,i){var r=this._lastDataByCoordSys,o=this._cbParamsList,a=!!r&&r.length===e.length;return a&&lh(r,function(s,l){var u=s.dataByAxis||[],h=(e[l]||{}).dataByAxis||[];(a=a&&u.length===h.length)&&lh(u,function(c,p){var d=h[p]||{},f=c.seriesDataIndices||[],g=d.seriesDataIndices||[];(a=a&&c.value===d.value&&c.axisType===d.axisType&&c.axisId===d.axisId&&f.length===g.length)&&lh(f,function(m,y){var v=g[y];a=a&&m.seriesIndex===v.seriesIndex&&m.dataIndex===v.dataIndex}),o&&k(c.seriesDataIndices,function(m){var y=m.seriesIndex,v=i[y],_=o[y];v&&_&&_.data!==v.data&&(a=!1)})})}),this._lastDataByCoordSys=e,this._cbParamsList=i,!!a},t.prototype._hide=function(e){this._lastDataByCoordSys=null,e({type:"hideTip",from:this.uid})},t.prototype.dispose=function(e,i){ge.node||(this._tooltipContent.dispose(),Qy("itemTooltip",i))},t.type="tooltip",t}(it);function id(n,t,e){var i,r=t.ecModel;e?(i=new Fe(e,r,r),i=new Fe(t.option,i,r)):i=t;for(var o=n.length-1;o>=0;o--){var a=n[o];a&&(a instanceof Fe&&(a=a.get("tooltip",!0)),Ce(a)&&(a={formatter:a}),a&&(i=new Fe(a,i,r)))}return i}function CC(n,t){return n.dispatchAction||re(t.dispatchAction,t)}function AC(n){return"center"===n||"middle"===n}var Rz=["rect","polygon","keep","clear"];function zz(n,t){var l,u,e=Je(n?n.brush:[]);if(e.length){var i=[];k(e,function(l){var u=l.hasOwnProperty("toolbox")?l.toolbox:[];u instanceof Array&&(i=i.concat(u))});var r=n&&n.toolbox;Z(r)&&(r=r[0]),r||(n.toolbox=[r={feature:{}}]);var o=r.feature||(r.feature={}),a=o.brush||(o.brush={}),s=a.type||(a.type=[]);s.push.apply(s,i),u={},k(l=s,function(h){u[h]=1}),l.length=0,k(u,function(h,c){l.push(c)}),t&&!s.length&&s.push.apply(s,Rz)}}var DC=k;function kC(n){if(n)for(var t in n)if(n.hasOwnProperty(t))return!0}function _v(n,t,e){var i={};return DC(t,function(r){var o,a=i[r]=((o=function(){}).prototype.__hidden=o.prototype,new o);DC(n[r],function(s,l){if(Vt.isValidType(l)){var u={type:l,visual:s};e&&e(u,r),a[l]=new Vt(u),"opacity"===l&&((u=de(u)).type="colorAlpha",a.__hidden.__alphaForOpacity=new Vt(u))}})}),i}function LC(n,t,e){var i;k(e,function(r){t.hasOwnProperty(r)&&kC(t[r])&&(i=!0)}),i&&k(e,function(r){t.hasOwnProperty(r)&&kC(t[r])?n[r]=de(t[r]):delete n[r]})}var PC={lineX:OC(0),lineY:OC(1),rect:{point:function(n,t,e){return n&&e.boundingRect.contain(n[0],n[1])},rect:function(n,t,e){return n&&e.boundingRect.intersect(n)}},polygon:{point:function(n,t,e){return n&&e.boundingRect.contain(n[0],n[1])&&ia(e.range,n[0],n[1])},rect:function(n,t,e){var i=e.range;if(!n||i.length<=1)return!1;var r=n.x,o=n.y,a=n.width,s=n.height,l=i[0];return!!(ia(i,r,o)||ia(i,r+a,o)||ia(i,r,o+s)||ia(i,r+a,o+s)||De.create(n).contain(l[0],l[1])||Ql(r,o,r+a,o,i)||Ql(r,o,r,o+s,i)||Ql(r+a,o,r+a,o+s,i)||Ql(r,o+s,r+a,o+s,i))||void 0}}};function OC(n){var t=["x","y"],e=["width","height"];return{point:function(i,r,o){if(i)return uh(i[n],o.range)},rect:function(i,r,o){if(i){var a=o.range,s=[i[t[n]],i[t[n]]+i[e[n]]];return s[1]<s[0]&&s.reverse(),uh(s[0],a)||uh(s[1],a)||uh(a[0],s)||uh(a[1],s)}}}}function uh(n,t){return t[0]<=n&&n<=t[1]}var EC=["inBrush","outOfBrush"],xv="__ecInBrushSelectEvent";function NC(n){n.eachComponent({mainType:"brush"},function(t){(t.brushTargetManager=new hv(t.option,n)).setInputRanges(t.areas,n)})}function Vz(n,t,e){var i,r,o=[];n.eachComponent({mainType:"brush"},function(a){e&&"takeGlobalCursor"===e.type&&a.setBrushOption("brush"===e.key?e.brushOption:{brushType:!1})}),NC(n),n.eachComponent({mainType:"brush"},function(a,s){var l={brushId:a.id,brushIndex:s,brushName:a.name,areas:de(a.areas),selected:[]};o.push(l);var u=a.option,h=u.brushLink,c=[],p=[],d=[],f=!1;s||(i=u.throttleType,r=u.throttleDelay);var g=J(a.areas,function(_){var w,S,M,x=Fz[_.brushType],b=ce({boundingRect:x?x(_):void 0},_);return b.selectors=(S=(w=b).brushType,M={point:function(T){return PC[S].point(T,M,w)},rect:function(T){return PC[S].rect(T,M,w)}}),b}),m=_v(a.option,EC,function(_){_.mappingMethod="fixed"});function y(_){return"all"===h||!!c[_]}function v(_){return!!_.length}Z(h)&&k(h,function(_){c[_]=1}),n.eachSeries(function(_,x){var w,S,M,b=d[x]=[];"parallel"===_.subType?(S=x,M=(w=_).coordinateSystem,f=f||M.hasAxisBrushed(),y(S)&&M.eachActiveState(w.getData(),function(T,C){"active"===T&&(p[C]=1)})):function(w,S,M){if(w.brushSelector&&(A=S,null==(D=a.option.seriesIndex)||"all"===D||!(Z(D)?Ie(D,A)<0:A!==D))&&(k(g,function(C){a.brushTargetManager.controlSeries(C,w,n)&&M.push(C),f=f||v(M)}),y(S)&&v(M))){var T=w.getData();T.each(function(C){RC(w,M,T,C)&&(p[C]=1)})}var A,D}(_,x,b)}),n.eachSeries(function(_,x){var b={seriesId:_.id,seriesIndex:x,seriesName:_.name,dataIndex:[]};l.selected.push(b);var w=d[x],S=_.getData(),M=y(x)?function(T){return p[T]?(b.dataIndex.push(S.getRawIndex(T)),"inBrush"):"outOfBrush"}:function(T){return RC(_,w,S,T)?(b.dataIndex.push(S.getRawIndex(T)),"inBrush"):"outOfBrush"};(y(x)?f:v(w))&&function(T,C,A,D,L,P){var E,N={};function R(V){return dg(A,E,V)}function z(V,W){Lx(A,E,V,W)}k(T,function(V){var W=Vt.prepareVisualTypes(C[V]);N[V]=W}),A.each(function(V,W){var Y=A.getRawDataItem(E=V);if(!Y||!1!==Y.visualMap)for(var Q=D.call(void 0,V),U=C[Q],j=N[Q],ne=0,ee=j.length;ne<ee;ne++){var te=j[ne];U[te]&&U[te].applyVisual(V,R,z)}})}(EC,m,S,M)})}),function(a,s,l,u,h){if(h){var c=a.getZr();c[xv]||(c.__ecBrushSelect||(c.__ecBrushSelect=Gz),pu(c,"__ecBrushSelect",l,s)(a,u))}}(t,i,r,o,e)}function Gz(n,t){if(!n.isDisposed()){var e=n.getZr();e[xv]=!0,n.dispatchAction({type:"brushSelect",batch:t}),e[xv]=!1}}function RC(n,t,e,i){for(var r=0,o=t.length;r<o;r++){var a=t[r];if(n.brushSelector(i,e,a.selectors,a))return!0}}var Fz={rect:function(n){return zC(n.range)},polygon:function(n){for(var t,e=n.range,i=0,r=e.length;i<r;i++){var o=e[i];o[0]<(t=t||[[1/0,-1/0],[1/0,-1/0]])[0][0]&&(t[0][0]=o[0]),o[0]>t[0][1]&&(t[0][1]=o[0]),o[1]<t[1][0]&&(t[1][0]=o[1]),o[1]>t[1][1]&&(t[1][1]=o[1])}return t&&zC(t)}};function zC(n){return new De(n[0][0],n[1][0],n[0][1]-n[0][0],n[1][1]-n[1][0])}var Hz=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return G(t,n),t.prototype.init=function(e,i){this.ecModel=e,this.api=i,(this._brushController=new fy(i.getZr())).on("brush",re(this._onBrush,this)).mount()},t.prototype.render=function(e,i,r,o){this.model=e,this._updateController(e,i,r,o)},t.prototype.updateTransform=function(e,i,r,o){NC(i),this._updateController(e,i,r,o)},t.prototype.updateVisual=function(e,i,r,o){this.updateTransform(e,i,r,o)},t.prototype.updateView=function(e,i,r,o){this._updateController(e,i,r,o)},t.prototype._updateController=function(e,i,r,o){(!o||o.$from!==e.id)&&this._brushController.setPanels(e.brushTargetManager.makePanelOpts(r)).enableBrush(e.brushOption).updateCovers(e.areas.slice())},t.prototype.dispose=function(){this._brushController.dispose()},t.prototype._onBrush=function(e){var i=this.model.id,r=this.model.brushTargetManager.setOutputRanges(e.areas,this.ecModel);(!e.isEnd||e.removeOnClick)&&this.api.dispatchAction({type:"brush",brushId:i,areas:de(r),$from:i}),e.isEnd&&this.api.dispatchAction({type:"brushEnd",brushId:i,areas:de(r),$from:i})},t.type="brush",t}(it),Wz=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e.areas=[],e.brushOption={},e}return G(t,n),t.prototype.optionUpdated=function(e,i){var r=this.option;!i&&LC(r,e,["inBrush","outOfBrush"]);var o=r.inBrush=r.inBrush||{};r.outOfBrush=r.outOfBrush||{color:"#ddd"},o.hasOwnProperty("liftZ")||(o.liftZ=5)},t.prototype.setAreas=function(e){e&&(this.areas=J(e,function(i){return BC(this.option,i)},this))},t.prototype.setBrushOption=function(e){this.brushOption=BC(this.option,e),this.brushType=this.brushOption.brushType},t.type="brush",t.dependencies=["geo","grid","xAxis","yAxis","parallel","series"],t.defaultOption={seriesIndex:"all",brushType:"rect",brushMode:"single",transformable:!0,brushStyle:{borderWidth:1,color:"rgba(210,219,238,0.3)",borderColor:"#D2DBEE"},throttleType:"fixRate",throttleDelay:0,removeOnClick:!0,z:1e4},t}(Pe);function BC(n,t){return we({brushType:n.brushType,brushMode:n.brushMode,transformable:n.transformable,brushStyle:new Fe(n.brushStyle).getItemStyle(),removeOnClick:n.removeOnClick,z:n.z},t,!0)}var Uz=["rect","polygon","lineX","lineY","keep","clear"],Xz=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return G(t,n),t.prototype.render=function(e,i,r){var o,a,s;i.eachComponent({mainType:"brush"},function(l){o=l.brushType,a=l.brushOption.brushMode||"single",s=s||!!l.areas.length}),this._brushType=o,this._brushMode=a,k(e.get("type",!0),function(l){e.setIconStatus(l,("keep"===l?"multiple"===a:"clear"===l?s:l===o)?"emphasis":"normal")})},t.prototype.updateView=function(e,i,r){this.render(e,i,r)},t.prototype.getIcons=function(){var e=this.model,i=e.get("icon",!0),r={};return k(e.get("type",!0),function(o){i[o]&&(r[o]=i[o])}),r},t.prototype.onclick=function(e,i,r){var o=this._brushType,a=this._brushMode;"clear"===r?(i.dispatchAction({type:"axisAreaSelect",intervals:[]}),i.dispatchAction({type:"brush",command:"clear",areas:[]})):i.dispatchAction({type:"takeGlobalCursor",key:"brush",brushOption:{brushType:"keep"===r?o:o!==r&&r,brushMode:"keep"===r?"multiple"===a?"single":"multiple":a}})},t.getDefaultOption=function(e){return{show:!0,type:Uz.slice(),icon:{rect:"M7.3,34.7 M0.4,10V-0.2h9.8 M89.6,10V-0.2h-9.8 M0.4,60v10.2h9.8 M89.6,60v10.2h-9.8 M12.3,22.4V10.5h13.1 M33.6,10.5h7.8 M49.1,10.5h7.8 M77.5,22.4V10.5h-13 M12.3,31.1v8.2 M77.7,31.1v8.2 M12.3,47.6v11.9h13.1 M33.6,59.5h7.6 M49.1,59.5 h7.7 M77.5,47.6v11.9h-13",polygon:"M55.2,34.9c1.7,0,3.1,1.4,3.1,3.1s-1.4,3.1-3.1,3.1 s-3.1-1.4-3.1-3.1S53.5,34.9,55.2,34.9z M50.4,51c1.7,0,3.1,1.4,3.1,3.1c0,1.7-1.4,3.1-3.1,3.1c-1.7,0-3.1-1.4-3.1-3.1 C47.3,52.4,48.7,51,50.4,51z M55.6,37.1l1.5-7.8 M60.1,13.5l1.6-8.7l-7.8,4 M59,19l-1,5.3 M24,16.1l6.4,4.9l6.4-3.3 M48.5,11.6 l-5.9,3.1 M19.1,12.8L9.7,5.1l1.1,7.7 M13.4,29.8l1,7.3l6.6,1.6 M11.6,18.4l1,6.1 M32.8,41.9 M26.6,40.4 M27.3,40.2l6.1,1.6 M49.9,52.1l-5.6-7.6l-4.9-1.2",lineX:"M15.2,30 M19.7,15.6V1.9H29 M34.8,1.9H40.4 M55.3,15.6V1.9H45.9 M19.7,44.4V58.1H29 M34.8,58.1H40.4 M55.3,44.4 V58.1H45.9 M12.5,20.3l-9.4,9.6l9.6,9.8 M3.1,29.9h16.5 M62.5,20.3l9.4,9.6L62.3,39.7 M71.9,29.9H55.4",lineY:"M38.8,7.7 M52.7,12h13.2v9 M65.9,26.6V32 M52.7,46.3h13.2v-9 M24.9,12H11.8v9 M11.8,26.6V32 M24.9,46.3H11.8v-9 M48.2,5.1l-9.3-9l-9.4,9.2 M38.9-3.9V12 M48.2,53.3l-9.3,9l-9.4-9.2 M38.9,62.3V46.4",keep:"M4,10.5V1h10.3 M20.7,1h6.1 M33,1h6.1 M55.4,10.5V1H45.2 M4,17.3v6.6 M55.6,17.3v6.6 M4,30.5V40h10.3 M20.7,40 h6.1 M33,40h6.1 M55.4,30.5V40H45.2 M21,18.9h62.9v48.6H21V18.9z",clear:"M22,14.7l30.9,31 M52.9,14.7L22,45.7 M4.7,16.8V4.2h13.1 M26,4.2h7.8 M41.6,4.2h7.8 M70.3,16.8V4.2H57.2 M4.7,25.9v8.6 M70.3,25.9v8.6 M4.7,43.2v12.6h13.1 M26,55.8h7.8 M41.6,55.8h7.8 M70.3,43.2v12.6H57.2"},title:e.getLocaleModel().get(["toolbox","brush","title"])}},t}(ni),Yz=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e.layoutMode={type:"box",ignoreSize:!0},e}return G(t,n),t.type="title",t.defaultOption={zlevel:0,z:6,show:!0,text:"",target:"blank",subtext:"",subtarget:"blank",left:0,top:0,backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,padding:5,itemGap:10,textStyle:{fontSize:18,fontWeight:"bold",color:"#464646"},subtextStyle:{fontSize:12,color:"#6E7079"}},t}(Pe),Zz=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return G(t,n),t.prototype.render=function(e,i,r){if(this.group.removeAll(),e.get("show")){var o=this.group,a=e.getModel("textStyle"),s=e.getModel("subtextStyle"),l=e.get("textAlign"),u=Te(e.get("textBaseline"),e.get("textVerticalAlign")),h=new Re({style:yt(a,{text:e.get("text"),fill:a.getTextColor()},{disableBox:!0}),z2:10}),c=h.getBoundingRect(),p=e.get("subtext"),d=new Re({style:yt(s,{text:p,fill:s.getTextColor(),y:c.height+e.get("itemGap"),verticalAlign:"top"},{disableBox:!0}),z2:10}),f=e.get("link"),g=e.get("sublink"),m=e.get("triggerEvent",!0);h.silent=!f&&!m,d.silent=!g&&!m,f&&h.on("click",function(){Tc(f,"_"+e.get("target"))}),g&&d.on("click",function(){Tc(g,"_"+e.get("subtarget"))}),_e(h).eventData=_e(d).eventData=m?{componentType:"title",componentIndex:e.componentIndex}:null,o.add(h),p&&o.add(d);var y=o.getBoundingRect(),v=e.getBoxLayoutParams();v.width=y.width,v.height=y.height;var _=Tt(v,{width:r.getWidth(),height:r.getHeight()},e.get("padding"));l||("middle"===(l=e.get("left")||e.get("right"))&&(l="center"),"right"===l?_.x+=_.width:"center"===l&&(_.x+=_.width/2)),u||("center"===(u=e.get("top")||e.get("bottom"))&&(u="middle"),"bottom"===u?_.y+=_.height:"middle"===u&&(_.y+=_.height/2),u=u||"top"),o.x=_.x,o.y=_.y,o.markRedraw();var x={align:l,verticalAlign:u};h.setStyle(x),d.setStyle(x),y=o.getBoundingRect();var b=_.margin,w=e.getItemStyle(["color","opacity"]);w.fill=e.get("backgroundColor");var S=new Ee({shape:{x:y.x-b[3],y:y.y-b[0],width:y.width+b[1]+b[3],height:y.height+b[0]+b[2],r:e.get("borderRadius")},style:w,subPixelOptimize:!0,silent:!0});o.add(S)}},t.type="title",t}(it),VC=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e.layoutMode="box",e}return G(t,n),t.prototype.init=function(e,i,r){this.mergeDefaultAndTheme(e,r),this._initData()},t.prototype.mergeOption=function(e){n.prototype.mergeOption.apply(this,arguments),this._initData()},t.prototype.setCurrentIndex=function(e){null==e&&(e=this.option.currentIndex);var i=this._data.count();this.option.loop?e=(e%i+i)%i:(e>=i&&(e=i-1),e<0&&(e=0)),this.option.currentIndex=e},t.prototype.getCurrentIndex=function(){return this.option.currentIndex},t.prototype.isIndexMax=function(){return this.getCurrentIndex()>=this._data.count()-1},t.prototype.setPlayState=function(e){this.option.autoPlay=!!e},t.prototype.getPlayState=function(){return!!this.option.autoPlay},t.prototype._initData=function(){var e,i=this.option,r=i.data||[],o=i.axisType,a=this._names=[];"category"===o?(e=[],k(r,function(l,u){var h,c=Ot(qa(l),"");pe(l)?(h=de(l)).value=u:h=u,e.push(h),a.push(c)})):e=r,(this._data=new tn([{name:"value",type:{category:"ordinal",time:"time",value:"number"}[o]||"number"}],this)).initData(e,a)},t.prototype.getData=function(){return this._data},t.prototype.getCategories=function(){if("category"===this.get("axisType"))return this._names.slice()},t.type="timeline",t.defaultOption={zlevel:0,z:4,show:!0,axisType:"time",realtime:!0,left:"20%",top:null,right:"20%",bottom:0,width:null,height:40,padding:5,controlPosition:"left",autoPlay:!1,rewind:!1,loop:!0,playInterval:2e3,currentIndex:0,itemStyle:{},label:{color:"#000"},data:[]},t}(Pe),GC=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return G(t,n),t.type="timeline.slider",t.defaultOption=Ur(VC.defaultOption,{backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,orient:"horizontal",inverse:!1,tooltip:{trigger:"item"},symbol:"circle",symbolSize:12,lineStyle:{show:!0,width:2,color:"#DAE1F5"},label:{position:"auto",show:!0,interval:"auto",rotate:0,color:"#A4B1D7"},itemStyle:{color:"#A4B1D7",borderWidth:1},checkpointStyle:{symbol:"circle",symbolSize:15,color:"#316bf3",borderColor:"#fff",borderWidth:2,shadowBlur:2,shadowOffsetX:1,shadowOffsetY:1,shadowColor:"rgba(0, 0, 0, 0.3)",animation:!0,animationDuration:300,animationEasing:"quinticInOut"},controlStyle:{show:!0,showPlayBtn:!0,showPrevBtn:!0,showNextBtn:!0,itemSize:24,itemGap:12,position:"left",playIcon:"path://M31.6,53C17.5,53,6,41.5,6,27.4S17.5,1.8,31.6,1.8C45.7,1.8,57.2,13.3,57.2,27.4S45.7,53,31.6,53z M31.6,3.3 C18.4,3.3,7.5,14.1,7.5,27.4c0,13.3,10.8,24.1,24.1,24.1C44.9,51.5,55.7,40.7,55.7,27.4C55.7,14.1,44.9,3.3,31.6,3.3z M24.9,21.3 c0-2.2,1.6-3.1,3.5-2l10.5,6.1c1.899,1.1,1.899,2.9,0,4l-10.5,6.1c-1.9,1.1-3.5,0.2-3.5-2V21.3z",stopIcon:"path://M30.9,53.2C16.8,53.2,5.3,41.7,5.3,27.6S16.8,2,30.9,2C45,2,56.4,13.5,56.4,27.6S45,53.2,30.9,53.2z M30.9,3.5C17.6,3.5,6.8,14.4,6.8,27.6c0,13.3,10.8,24.1,24.101,24.1C44.2,51.7,55,40.9,55,27.6C54.9,14.4,44.1,3.5,30.9,3.5z M36.9,35.8c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H36c0.5,0,0.9,0.4,0.9,1V35.8z M27.8,35.8 c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H27c0.5,0,0.9,0.4,0.9,1L27.8,35.8L27.8,35.8z",nextIcon:"M2,18.5A1.52,1.52,0,0,1,.92,18a1.49,1.49,0,0,1,0-2.12L7.81,9.36,1,3.11A1.5,1.5,0,1,1,3,.89l8,7.34a1.48,1.48,0,0,1,.49,1.09,1.51,1.51,0,0,1-.46,1.1L3,18.08A1.5,1.5,0,0,1,2,18.5Z",prevIcon:"M10,.5A1.52,1.52,0,0,1,11.08,1a1.49,1.49,0,0,1,0,2.12L4.19,9.64,11,15.89a1.5,1.5,0,1,1-2,2.22L1,10.77A1.48,1.48,0,0,1,.5,9.68,1.51,1.51,0,0,1,1,8.58L9,.92A1.5,1.5,0,0,1,10,.5Z",prevBtnSize:18,nextBtnSize:18,color:"#A4B1D7",borderColor:"#A4B1D7",borderWidth:1},emphasis:{label:{show:!0,color:"#6f778d"},itemStyle:{color:"#316BF3"},controlStyle:{color:"#316BF3",borderColor:"#316BF3",borderWidth:2}},progress:{lineStyle:{color:"#316BF3"},itemStyle:{color:"#316BF3"},label:{color:"#6f778d"}},data:[]}),t}(VC);ht(GC,og.prototype);var jz=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return G(t,n),t.type="timeline",t}(it),qz=function(n){function t(e,i,r,o){var a=n.call(this,e,i,r)||this;return a.type=o||"value",a}return G(t,n),t.prototype.getLabelModel=function(){return this.model.getModel("label")},t.prototype.isHorizontal=function(){return"horizontal"===this.model.get("orient")},t}(Qn),bv=Math.PI,FC=We(),Kz=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return G(t,n),t.prototype.init=function(e,i){this.api=i},t.prototype.render=function(e,i,r){if(this.model=e,this.api=r,this.ecModel=i,this.group.removeAll(),e.get("show",!0)){var o=this._layout(e,r),a=this._createGroup("_mainGroup"),s=this._createGroup("_labelGroup"),l=this._axis=this._createAxis(o,e);e.formatTooltip=function(u){return Bt("nameValue",{noName:!0,value:l.scale.getLabel({value:u})})},k(["AxisLine","AxisTick","Control","CurrentPointer"],function(u){this["_render"+u](o,a,l,e)},this),this._renderAxisLabel(o,s,l,e),this._position(o,e)}this._doPlayStop(),this._updateTicksStatus()},t.prototype.remove=function(){this._clearTimer(),this.group.removeAll()},t.prototype.dispose=function(){this._clearTimer()},t.prototype._layout=function(e,i){var r,o,a,s,D,L,l=e.get(["label","position"]),u=e.get("orient"),h=(L=i,Tt((D=e).getBoxLayoutParams(),{width:L.getWidth(),height:L.getHeight()},D.get("padding"))),c={horizontal:"center",vertical:(r=null==l||"auto"===l?"horizontal"===u?h.y+h.height/2<i.getHeight()/2?"-":"+":h.x+h.width/2<i.getWidth()/2?"+":"-":Ce(l)?{horizontal:{top:"-",bottom:"+"},vertical:{left:"-",right:"+"}}[u][l]:l)>=0||"+"===r?"left":"right"},p={horizontal:r>=0||"+"===r?"top":"bottom",vertical:"middle"},d={horizontal:0,vertical:bv/2},f="vertical"===u?h.height:h.width,g=e.getModel("controlStyle"),m=g.get("show",!0),y=m?g.get("itemSize"):0,v=m?g.get("itemGap"):0,_=y+v,x=e.get(["label","rotate"])||0;x=x*bv/180;var b=g.get("position",!0),w=m&&g.get("showPlayBtn",!0),S=m&&g.get("showPrevBtn",!0),M=m&&g.get("showNextBtn",!0),T=0,C=f;"left"===b||"bottom"===b?(w&&(o=[0,0],T+=_),S&&(a=[T,0],T+=_),M&&(s=[C-y,0],C-=_)):(w&&(o=[C-y,0],C-=_),S&&(a=[0,0],T+=_),M&&(s=[C-y,0],C-=_));var A=[T,C];return e.get("inverse")&&A.reverse(),{viewRect:h,mainLength:f,orient:u,rotation:d[u],labelRotation:x,labelPosOpt:r,labelAlign:e.get(["label","align"])||c[u],labelBaseline:e.get(["label","verticalAlign"])||e.get(["label","baseline"])||p[u],playPosition:o,prevBtnPosition:a,nextBtnPosition:s,axisExtent:A,controlSize:y,controlGap:v}},t.prototype._position=function(e,i){var r=this._mainGroup,o=this._labelGroup,a=e.viewRect;if("vertical"===e.orient){var s=[1,0,0,1,0,0],l=a.x,u=a.y+a.height;ui(s,s,[-l,-u]),Or(s,s,-bv/2),ui(s,s,[l,u]),(a=a.clone()).applyTransform(s)}var h=v(a),c=v(r.getBoundingRect()),p=v(o.getBoundingRect()),d=[r.x,r.y],f=[o.x,o.y];f[0]=d[0]=h[0][0];var g,m=e.labelPosOpt;function y(x){x.originX=h[0][0]-x.x,x.originY=h[1][0]-x.y}function v(x){return[[x.x,x.x+x.width],[x.y,x.y+x.height]]}function _(x,b,w,S,M){x[S]+=w[S][M]-b[S][M]}null==m||Ce(m)?(_(d,c,h,1,g="+"===m?0:1),_(f,p,h,1,1-g)):(_(d,c,h,1,g=m>=0?0:1),f[1]=d[1]+m),r.setPosition(d),o.setPosition(f),r.rotation=o.rotation=e.rotation,y(r),y(o)},t.prototype._createAxis=function(e,i){var r=i.getData(),o=i.get("axisType"),a=function(u,h){if(h=h||u.get("type"))switch(h){case"category":return new sp({ordinalMeta:u.getCategories(),extent:[1/0,-1/0]});case"time":return new Qg({locale:u.ecModel.getLocaleModel(),useUTC:u.ecModel.get("useUTC")});default:return new la}}(i,o);a.getTicks=function(){return r.mapArray(["value"],function(u){return{value:u}})};var s=r.getDataExtent("value");a.setExtent(s[0],s[1]),a.niceTicks();var l=new qz("value",a,e.axisExtent,o);return l.model=i,l},t.prototype._createGroup=function(e){var i=this[e]=new me;return this.group.add(i),i},t.prototype._renderAxisLine=function(e,i,r,o){var a=r.getExtent();if(o.get(["lineStyle","show"])){var s=new Et({shape:{x1:a[0],y1:0,x2:a[1],y2:0},style:K({lineCap:"round"},o.getModel("lineStyle").getLineStyle()),silent:!0,z2:1});i.add(s);var l=this._progressLine=new Et({shape:{x1:a[0],x2:this._currentPointer?this._currentPointer.x:a[0],y1:0,y2:0},style:ce({lineCap:"round",lineWidth:s.style.lineWidth},o.getModel(["progress","lineStyle"]).getLineStyle()),silent:!0,z2:1});i.add(l)}},t.prototype._renderAxisTick=function(e,i,r,o){var a=this,s=o.getData(),l=r.scale.getTicks();this._tickSymbols=[],k(l,function(u){var h=r.dataToCoord(u.value),c=s.getItemModel(u.value),p=c.getModel("itemStyle"),d=c.getModel(["emphasis","itemStyle"]),f=c.getModel(["progress","itemStyle"]),g={x:h,y:0,onclick:re(a._changeTimeline,a,u.value)},m=HC(c,p,i,g);m.ensureState("emphasis").style=d.getItemStyle(),m.ensureState("progress").style=f.getItemStyle(),nt(m);var y=_e(m);c.get("tooltip")?(y.dataIndex=u.value,y.dataModel=o):y.dataIndex=y.dataModel=null,a._tickSymbols.push(m)})},t.prototype._renderAxisLabel=function(e,i,r,o){var a=this;if(r.getLabelModel().get("show")){var s=o.getData(),l=r.getViewLabels();this._tickLabels=[],k(l,function(u){var h=u.tickValue,c=s.getItemModel(h),p=c.getModel("label"),d=c.getModel(["emphasis","label"]),f=c.getModel(["progress","label"]),g=r.dataToCoord(u.tickValue),m=new Re({x:g,y:0,rotation:e.labelRotation-e.rotation,onclick:re(a._changeTimeline,a,h),silent:!1,style:yt(p,{text:u.formattedLabel,align:e.labelAlign,verticalAlign:e.labelBaseline})});m.ensureState("emphasis").style=yt(d),m.ensureState("progress").style=yt(f),i.add(m),nt(m),FC(m).dataIndex=h,a._tickLabels.push(m)})}},t.prototype._renderControl=function(e,i,r,o){var a=e.controlSize,s=e.rotation,l=o.getModel("controlStyle").getItemStyle(),u=o.getModel(["emphasis","controlStyle"]).getItemStyle(),h=o.getPlayState(),c=o.get("inverse",!0);function p(d,f,g,m){if(d){var y=Wn(Te(o.get(["controlStyle",f+"BtnSize"]),a),a),v=(b=[0,-y/2,y,y],S=(w={x:d[0],y:d[1],originX:a/2,originY:0,rotation:m?-s:0,rectHover:!0,style:l,onclick:g}).style,M=as(o.get(["controlStyle",f+"Icon"]),w||{},new De(b[0],b[1],b[2],b[3])),S&&M.setStyle(S),M);v.ensureState("emphasis").style=u,i.add(v),nt(v)}var b,w,S,M}p(e.nextBtnPosition,"next",re(this._changeTimeline,this,c?"-":"+")),p(e.prevBtnPosition,"prev",re(this._changeTimeline,this,c?"+":"-")),p(e.playPosition,h?"stop":"play",re(this._handlePlayClick,this,!h),!0)},t.prototype._renderCurrentPointer=function(e,i,r,o){var a=o.getData(),s=o.getCurrentIndex(),l=a.getItemModel(s).getModel("checkpointStyle"),u=this;this._currentPointer=HC(l,l,this._mainGroup,{},this._currentPointer,{onCreate:function(c){c.draggable=!0,c.drift=re(u._handlePointerDrag,u),c.ondragend=re(u._handlePointerDragend,u),WC(c,u._progressLine,s,r,o,!0)},onUpdate:function(c){WC(c,u._progressLine,s,r,o)}})},t.prototype._handlePlayClick=function(e){this._clearTimer(),this.api.dispatchAction({type:"timelinePlayChange",playState:e,from:this.uid})},t.prototype._handlePointerDrag=function(e,i,r){this._clearTimer(),this._pointerChangeTimeline([r.offsetX,r.offsetY])},t.prototype._handlePointerDragend=function(e){this._pointerChangeTimeline([e.offsetX,e.offsetY],!0)},t.prototype._pointerChangeTimeline=function(e,i){var r=this._toAxisCoord(e)[0],o=On(this._axis.getExtent().slice());r>o[1]&&(r=o[1]),r<o[0]&&(r=o[0]),this._currentPointer.x=r,this._currentPointer.markRedraw(),this._progressLine.shape.x2=r,this._progressLine.dirty();var a=this._findNearestTick(r),s=this.model;(i||a!==s.getCurrentIndex()&&s.get("realtime"))&&this._changeTimeline(a)},t.prototype._doPlayStop=function(){var e=this;this._clearTimer(),this.model.getPlayState()&&(this._timer=setTimeout(function(){var i=e.model;e._changeTimeline(i.getCurrentIndex()+(i.get("rewind",!0)?-1:1))},this.model.get("playInterval")))},t.prototype._toAxisCoord=function(e){return fi(e,this._mainGroup.getLocalTransform(),!0)},t.prototype._findNearestTick=function(e){var i,r=this.model.getData(),o=1/0,a=this._axis;return r.each(["value"],function(s,l){var u=a.dataToCoord(s),h=Math.abs(u-e);h<o&&(o=h,i=l)}),i},t.prototype._clearTimer=function(){this._timer&&(clearTimeout(this._timer),this._timer=null)},t.prototype._changeTimeline=function(e){var i=this.model.getCurrentIndex();"+"===e?e=i+1:"-"===e&&(e=i-1),this.api.dispatchAction({type:"timelineChange",currentIndex:e,from:this.uid})},t.prototype._updateTicksStatus=function(){var e=this.model.getCurrentIndex(),i=this._tickSymbols,r=this._tickLabels;if(i)for(var o=0;o<i.length;o++)i&&i[o]&&i[o].toggleState("progress",o<e);if(r)for(o=0;o<r.length;o++)r&&r[o]&&r[o].toggleState("progress",FC(r[o]).dataIndex<=e)},t.type="timeline.slider",t}(jz);function HC(n,t,e,i,r,o){var a=t.get("color");r?(r.setColor(a),e.add(r),o&&o.onUpdate(r)):((r=xt(n.get("symbol"),-1,-1,2,2,a)).setStyle("strokeNoScale",!0),e.add(r),o&&o.onCreate(r));var s=t.getItemStyle(["color"]);r.setStyle(s),i=we({rectHover:!0,z2:100},i,!0);var l=mu(n.get("symbolSize"));i.scaleX=l[0]/2,i.scaleY=l[1]/2;var u=Ms(n.get("symbolOffset"),l);u&&(i.x=(i.x||0)+u[0],i.y=(i.y||0)+u[1]);var h=n.get("symbolRotate");return i.rotation=(h||0)*Math.PI/180||0,r.attr(i),r.updateTransform(),r}function WC(n,t,e,i,r,o){if(!n.dragging){var a=r.getModel("checkpointStyle"),s=i.dataToCoord(r.getData().get("value",e));if(o||!a.get("animation",!0))n.attr({x:s,y:0}),t&&t.attr({shape:{x2:s}});else{var l={duration:a.get("animationDuration",!0),easing:a.get("animationEasing",!0)};n.stopAnimation(null,!0),n.animateTo({x:s,y:0},l),t&&t.animateTo({shape:{x2:s}},l)}}}function $z(n){var t=n&&n.timeline;Z(t)||(t=t?[t]:[]),k(t,function(e){e&&function(i){var r=i.type,o={number:"value",time:"time"};if(o[r]&&(i.axisType=o[r],delete i.type),UC(i),xa(i,"controlPosition")){var a=i.controlStyle||(i.controlStyle={});xa(a,"position")||(a.position=i.controlPosition),"none"!==a.position||xa(a,"show")||(a.show=!1,delete a.position),delete i.controlPosition}k(i.data||[],function(s){pe(s)&&!Z(s)&&(!xa(s,"value")&&xa(s,"name")&&(s.value=s.name),UC(s))})}(e)})}function UC(n){var t=n.itemStyle||(n.itemStyle={}),e=t.emphasis||(t.emphasis={}),i=n.label||n.label||{},r=i.normal||(i.normal={}),o={normal:1,emphasis:1};k(i,function(a,s){o[s]||xa(r,s)||(r[s]=a)}),e.label&&!xa(i,"emphasis")&&(i.emphasis=e.label,delete e.label)}function xa(n,t){return n.hasOwnProperty(t)}function wv(n,t){if(!n)return!1;for(var e=Z(n)?n:[n],i=0;i<e.length;i++)if(e[i]&&e[i][t])return!0;return!1}function rd(n){Eo(n,"label",["show"])}var od=We(),vr=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e.createdBySelf=!1,e}return G(t,n),t.prototype.init=function(e,i,r){this.mergeDefaultAndTheme(e,r),this._mergeOption(e,r,!1,!0)},t.prototype.isAnimationEnabled=function(){if(ge.node)return!1;var e=this.__hostSeries;return this.getShallow("animation")&&e&&e.isAnimationEnabled()},t.prototype.mergeOption=function(e,i){this._mergeOption(e,i,!1,!1)},t.prototype._mergeOption=function(e,i,r,o){var a=this.mainType;r||i.eachSeries(function(s){var l=s.get(this.mainType,!0),u=od(s)[a];l&&l.data?(u?u._mergeOption(l,i,!0):(o&&rd(l),k(l.data,function(h){h instanceof Array?(rd(h[0]),rd(h[1])):rd(h)}),K(u=this.createMarkerModelFromSeries(l,this,i),{mainType:this.mainType,seriesIndex:s.seriesIndex,name:s.name,createdBySelf:!0}),u.__hostSeries=s),od(s)[a]=u):od(s)[a]=null},this)},t.prototype.formatTooltip=function(e,i,r){var o=this.getData(),a=this.getRawValue(e),s=o.getName(e);return Bt("section",{header:this.name,blocks:[Bt("nameValue",{name:s,value:a,noName:!s,noValue:null==a})]})},t.prototype.getData=function(){return this._data},t.prototype.setData=function(e){this._data=e},t.getMarkerModelFromSeries=function(e,i){return od(e)[i]},t.type="marker",t.dependencies=["series","grid","polar","geo"],t}(Pe);ht(vr,og.prototype);var Qz=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return G(t,n),t.prototype.createMarkerModelFromSeries=function(e,i,r){return new t(e,i,r)},t.type="markPoint",t.defaultOption={zlevel:0,z:5,symbol:"pin",symbolSize:50,tooltip:{trigger:"item"},label:{show:!0,position:"inside"},itemStyle:{borderWidth:2},emphasis:{label:{show:!0}}},t}(vr);function ad(n,t,e,i,r,o){var a=[],s=cr(t,i)?t.getCalculationInfo("stackResultDimension"):i,l=Mv(t,s,n),u=t.indicesOfNearest(s,l)[0];a[r]=t.get(e,u),a[o]=t.get(s,u);var h=t.get(i,u),c=hi(t.get(i,u));return(c=Math.min(c,20))>=0&&(a[o]=+a[o].toFixed(c)),[a,h]}var Sv={min:ye(ad,"min"),max:ye(ad,"max"),average:ye(ad,"average"),median:ye(ad,"median")};function hh(n,t){var c,e=n.getData(),i=n.coordinateSystem;if(t&&(c=t,isNaN(parseFloat(c.x))||isNaN(parseFloat(c.y)))&&!Z(t.coord)&&i){var r=i.dimensions,o=XC(t,e,i,n);if((t=de(t)).type&&Sv[t.type]&&o.baseAxis&&o.valueAxis){var a=Ie(r,o.baseAxis.dim),s=Ie(r,o.valueAxis.dim),l=Sv[t.type](e,o.baseDataDim,o.valueDataDim,a,s);t.coord=l[0],t.value=l[1]}else{for(var u=[null!=t.xAxis?t.xAxis:t.radiusAxis,null!=t.yAxis?t.yAxis:t.angleAxis],h=0;h<2;h++)Sv[u[h]]&&(u[h]=Mv(e,e.mapDimension(r[h]),u[h]));t.coord=u}}return t}function XC(n,t,e,i){var a,s,r={};return null!=n.valueIndex||null!=n.valueDim?(r.valueDataDim=null!=n.valueIndex?t.getDimension(n.valueIndex):n.valueDim,r.valueAxis=e.getAxis((a=r.valueDataDim,(s=i.getData().getDimensionInfo(a))&&s.coordDim)),r.baseAxis=e.getOtherAxis(r.valueAxis),r.baseDataDim=t.mapDimension(r.baseAxis.dim)):(r.baseAxis=i.getBaseAxis(),r.valueAxis=e.getOtherAxis(r.baseAxis),r.baseDataDim=t.mapDimension(r.baseAxis.dim),r.valueDataDim=t.mapDimension(r.valueAxis.dim)),r}function ch(n,t){return!(n&&n.containData&&t.coord&&(e=t,isNaN(parseFloat(e.x))&&isNaN(parseFloat(e.y))))||n.containData(t.coord);var e}function YC(n,t){return n?function(e,i,r,o){return jr(o<2?e.coord&&e.coord[o]:e.value,t[o])}:function(e,i,r,o){return jr(e.value,t[o])}}function Mv(n,t,e){if("average"===e){var i=0,r=0;return n.each(t,function(o,a){isNaN(o)||(i+=o,r++)}),i/r}return"median"===e?n.getMedian(t):n.getDataExtent(t)["max"===e?1:0]}var Iv=We(),Tv=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return G(t,n),t.prototype.init=function(){this.markerGroupMap=ue()},t.prototype.render=function(e,i,r){var o=this,a=this.markerGroupMap;a.each(function(s){Iv(s).keep=!1}),i.eachSeries(function(s){var l=vr.getMarkerModelFromSeries(s,o.type);l&&o.renderSeries(s,l,i,r)}),a.each(function(s){!Iv(s).keep&&o.group.remove(s.group)})},t.prototype.markKeep=function(e){Iv(e).keep=!0},t.prototype.blurSeries=function(e){var i=this;k(e,function(r){var o=vr.getMarkerModelFromSeries(r,i.type);o&&o.getData().eachItemGraphicEl(function(a){a&&r_(a)})})},t.type="marker",t}(it);function ZC(n,t,e){var i=t.coordinateSystem;n.each(function(r){var o,a=n.getItemModel(r),s=ie(a.get("x"),e.getWidth()),l=ie(a.get("y"),e.getHeight());if(isNaN(s)||isNaN(l)){if(t.getMarkerPosition)o=t.getMarkerPosition(n.getValues(n.dimensions,r));else if(i){var u=n.get(i.dimensions[0],r),h=n.get(i.dimensions[1],r);o=i.dataToPoint([u,h])}}else o=[s,l];isNaN(s)||(o[0]=s),isNaN(l)||(o[1]=l),n.setItemLayout(r,o)})}var Jz=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return G(t,n),t.prototype.updateTransform=function(e,i,r){i.eachSeries(function(o){var a=vr.getMarkerModelFromSeries(o,"markPoint");a&&(ZC(a.getData(),o,r),this.markerGroupMap.get(o.id).updateLayout())},this)},t.prototype.renderSeries=function(e,i,r,o){var a=e.coordinateSystem,s=e.id,l=e.getData(),u=this.markerGroupMap,h=u.get(s)||u.set(s,new Vu),c=function(p,d,f){var g;g=p?J(p&&p.dimensions,function(_){return K(K({},d.getData().getDimensionInfo(d.getData().mapDimension(_))||{}),{name:_,ordinalMeta:null})}):[{name:"value",type:"float"}];var m=new tn(g,f),y=J(f.get("data"),ye(hh,d));p&&(y=Ke(y,ye(ch,p)));var v=YC(!!p,g);return m.initData(y,null,v),m}(a,e,i);i.setData(c),ZC(i.getData(),e,o),c.each(function(p){var d=c.getItemModel(p),f=d.getShallow("symbol"),g=d.getShallow("symbolSize"),m=d.getShallow("symbolRotate"),y=d.getShallow("symbolOffset"),v=d.getShallow("symbolKeepAspect");if(Be(f)||Be(g)||Be(m)||Be(y)){var _=i.getRawValue(p),x=i.getDataParams(p);Be(f)&&(f=f(_,x)),Be(g)&&(g=g(_,x)),Be(m)&&(m=m(_,x)),Be(y)&&(y=y(_,x))}var b=d.getModel("itemStyle").getItemStyle(),w=gu(l,"color");b.fill||(b.fill=w),c.setItemVisual(p,{symbol:f,symbolSize:g,symbolRotate:m,symbolOffset:y,symbolKeepAspect:v,style:b})}),h.updateData(c),this.group.add(h.group),c.eachItemGraphicEl(function(p){p.traverse(function(d){_e(d).dataModel=i})}),this.markKeep(h),h.group.silent=i.get("silent")||e.get("silent")},t.type="markPoint",t}(Tv),e5=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return G(t,n),t.prototype.createMarkerModelFromSeries=function(e,i,r){return new t(e,i,r)},t.type="markLine",t.defaultOption={zlevel:0,z:5,symbol:["circle","arrow"],symbolSize:[8,16],symbolOffset:0,precision:2,tooltip:{trigger:"item"},label:{show:!0,position:"end",distance:5},lineStyle:{type:"dashed"},emphasis:{label:{show:!0},lineStyle:{width:3}},animationEasing:"linear"},t}(vr),sd=We(),t5=function(n,t,e,i){var r,o=n.getData();if(Z(i))r=i;else{var a=i.type;if("min"===a||"max"===a||"average"===a||"median"===a||null!=i.xAxis||null!=i.yAxis){var s=void 0,l=void 0;if(null!=i.yAxis||null!=i.xAxis)s=t.getAxis(null!=i.yAxis?"y":"x"),l=st(i.yAxis,i.xAxis);else{var u=XC(i,o,t,n);s=u.valueAxis,l=Mv(o,Xg(o,u.valueDataDim),a)}var h="x"===s.dim?0:1,c=1-h,p=de(i),d={coord:[]};p.type=null,p.coord=[],p.coord[c]=-1/0,d.coord[c]=1/0;var f=e.get("precision");f>=0&&"number"==typeof l&&(l=+l.toFixed(Math.min(f,20))),p.coord[h]=d.coord[h]=l,r=[p,d,{type:a,valueIndex:i.valueIndex,value:l}]}else r=[]}var g=[hh(n,r[0]),hh(n,r[1]),K({},r[2])];return g[2].type=g[2].type||null,we(g[2],g[0]),we(g[2],g[1]),g};function ld(n){return!isNaN(n)&&!isFinite(n)}function jC(n,t,e,i){var r=1-n,o=i.dimensions[n];return ld(t[r])&&ld(e[r])&&t[n]===e[n]&&i.getAxis(o).containData(t[n])}function n5(n,t){if("cartesian2d"===n.type){var e=t[0].coord,i=t[1].coord;if(e&&i&&(jC(1,e,i,n)||jC(0,e,i,n)))return!0}return ch(n,t[0])&&ch(n,t[1])}function Cv(n,t,e,i,r){var o,a=i.coordinateSystem,s=n.getItemModel(t),l=ie(s.get("x"),r.getWidth()),u=ie(s.get("y"),r.getHeight());if(isNaN(l)||isNaN(u)){if(i.getMarkerPosition)o=i.getMarkerPosition(n.getValues(n.dimensions,t));else{var h=a.dimensions,c=n.get(h[0],t),p=n.get(h[1],t);o=a.dataToPoint([c,p])}if(fr(a,"cartesian2d")){var d=a.getAxis("x"),f=a.getAxis("y");ld(n.get((h=a.dimensions)[0],t))?o[0]=d.toGlobalCoord(d.getExtent()[e?0:1]):ld(n.get(h[1],t))&&(o[1]=f.toGlobalCoord(f.getExtent()[e?0:1]))}isNaN(l)||(o[0]=l),isNaN(u)||(o[1]=u)}else o=[l,u];n.setItemLayout(t,o)}var i5=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return G(t,n),t.prototype.updateTransform=function(e,i,r){i.eachSeries(function(o){var a=vr.getMarkerModelFromSeries(o,"markLine");if(a){var s=a.getData(),l=sd(a).from,u=sd(a).to;l.each(function(h){Cv(l,h,!0,o,r),Cv(u,h,!1,o,r)}),s.each(function(h){s.setItemLayout(h,[l.getItemLayout(h),u.getItemLayout(h)])}),this.markerGroupMap.get(o.id).updateLayout()}},this)},t.prototype.renderSeries=function(e,i,r,o){var a=e.coordinateSystem,s=e.id,l=e.getData(),u=this.markerGroupMap,h=u.get(s)||u.set(s,new ty);this.group.add(h.group);var c=function(x,b,w){var S;S=x?J(x&&x.dimensions,function(L){return K(K({},b.getData().getDimensionInfo(b.getData().mapDimension(L))||{}),{name:L,ordinalMeta:null})}):[{name:"value",type:"float"}];var M=new tn(S,w),T=new tn(S,w),C=new tn([],w),A=J(w.get("data"),ye(t5,b,x,w));x&&(A=Ke(A,ye(n5,x)));var D=YC(!!x,S);return M.initData(J(A,function(L){return L[0]}),null,D),T.initData(J(A,function(L){return L[1]}),null,D),C.initData(J(A,function(L){return L[2]})),C.hasItemOption=!0,{from:M,to:T,line:C}}(a,e,i),p=c.from,d=c.to,f=c.line;sd(i).from=p,sd(i).to=d,i.setData(f);var g=i.get("symbol"),m=i.get("symbolSize"),y=i.get("symbolRotate"),v=i.get("symbolOffset");function _(x,b,w){var S=x.getItemModel(b);Cv(x,b,w,e,o);var M=S.getModel("itemStyle").getItemStyle();null==M.fill&&(M.fill=gu(l,"color")),x.setItemVisual(b,{symbolKeepAspect:S.get("symbolKeepAspect"),symbolOffset:Te(S.get("symbolOffset",!0),v[w?0:1]),symbolRotate:Te(S.get("symbolRotate",!0),y[w?0:1]),symbolSize:Te(S.get("symbolSize"),m[w?0:1]),symbol:Te(S.get("symbol",!0),g[w?0:1]),style:M})}Z(g)||(g=[g,g]),Z(m)||(m=[m,m]),Z(y)||(y=[y,y]),Z(v)||(v=[v,v]),c.from.each(function(x){_(p,x,!0),_(d,x,!1)}),f.each(function(x){var b=f.getItemModel(x).getModel("lineStyle").getLineStyle();f.setItemLayout(x,[p.getItemLayout(x),d.getItemLayout(x)]),null==b.stroke&&(b.stroke=p.getItemVisual(x,"style").fill),f.setItemVisual(x,{fromSymbolKeepAspect:p.getItemVisual(x,"symbolKeepAspect"),fromSymbolOffset:p.getItemVisual(x,"symbolOffset"),fromSymbolRotate:p.getItemVisual(x,"symbolRotate"),fromSymbolSize:p.getItemVisual(x,"symbolSize"),fromSymbol:p.getItemVisual(x,"symbol"),toSymbolKeepAspect:d.getItemVisual(x,"symbolKeepAspect"),toSymbolOffset:d.getItemVisual(x,"symbolOffset"),toSymbolRotate:d.getItemVisual(x,"symbolRotate"),toSymbolSize:d.getItemVisual(x,"symbolSize"),toSymbol:d.getItemVisual(x,"symbol"),style:b})}),h.updateData(f),c.line.eachItemGraphicEl(function(x,b){x.traverse(function(w){_e(w).dataModel=i})}),this.markKeep(h),h.group.silent=i.get("silent")||e.get("silent")},t.type="markLine",t}(Tv),r5=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return G(t,n),t.prototype.createMarkerModelFromSeries=function(e,i,r){return new t(e,i,r)},t.type="markArea",t.defaultOption={zlevel:0,z:1,tooltip:{trigger:"item"},animation:!1,label:{show:!0,position:"top"},itemStyle:{borderWidth:0},emphasis:{label:{show:!0,position:"top"}}},t}(vr),ud=We(),o5=function(n,t,e,i){var r=hh(n,i[0]),o=hh(n,i[1]),a=r.coord,s=o.coord;a[0]=st(a[0],-1/0),a[1]=st(a[1],-1/0),s[0]=st(s[0],1/0),s[1]=st(s[1],1/0);var l=Ta([{},r,o]);return l.coord=[r.coord,o.coord],l.x0=r.x,l.y0=r.y,l.x1=o.x,l.y1=o.y,l};function hd(n){return!isNaN(n)&&!isFinite(n)}function qC(n,t,e,i){var r=1-n;return hd(t[r])&&hd(e[r])}function a5(n,t){var e=t.coord[0],i=t.coord[1];return!!(fr(n,"cartesian2d")&&e&&i&&(qC(1,e,i)||qC(0,e,i)))||ch(n,{coord:e,x:t.x0,y:t.y0})||ch(n,{coord:i,x:t.x1,y:t.y1})}function KC(n,t,e,i,r){var o,a=i.coordinateSystem,s=n.getItemModel(t),l=ie(s.get(e[0]),r.getWidth()),u=ie(s.get(e[1]),r.getHeight());if(isNaN(l)||isNaN(u)){if(i.getMarkerPosition)o=i.getMarkerPosition(n.getValues(e,t));else{var h=[d=n.get(e[0],t),f=n.get(e[1],t)];a.clampData&&a.clampData(h,h),o=a.dataToPoint(h,!0)}if(fr(a,"cartesian2d")){var c=a.getAxis("x"),p=a.getAxis("y"),d=n.get(e[0],t),f=n.get(e[1],t);hd(d)?o[0]=c.toGlobalCoord(c.getExtent()["x0"===e[0]?0:1]):hd(f)&&(o[1]=p.toGlobalCoord(p.getExtent()["y0"===e[1]?0:1]))}isNaN(l)||(o[0]=l),isNaN(u)||(o[1]=u)}else o=[l,u];return o}var $C=[["x0","y0"],["x1","y0"],["x1","y1"],["x0","y1"]],s5=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return G(t,n),t.prototype.updateTransform=function(e,i,r){i.eachSeries(function(o){var a=vr.getMarkerModelFromSeries(o,"markArea");if(a){var s=a.getData();s.each(function(l){var u=J($C,function(h){return KC(s,l,h,o,r)});s.setItemLayout(l,u),s.getItemGraphicEl(l).setShape("points",u)})}},this)},t.prototype.renderSeries=function(e,i,r,o){var a=e.coordinateSystem,s=e.id,l=e.getData(),u=this.markerGroupMap,h=u.get(s)||u.set(s,{group:new me});this.group.add(h.group),this.markKeep(h);var c=function(p,d,f){var g,m;if(p){var v=J(p&&p.dimensions,function(b){var w=d.getData();return K(K({},w.getDimensionInfo(w.mapDimension(b))||{}),{name:b,ordinalMeta:null})});m=J(["x0","y0","x1","y1"],function(b,w){return{name:b,type:v[w%2].type}}),g=new tn(m,f)}else g=new tn(m=[{name:"value",type:"float"}],f);var _=J(f.get("data"),ye(o5,d,p,f));return p&&(_=Ke(_,ye(a5,p))),g.initData(_,null,p?function(b,w,S,M){return jr(b.coord[Math.floor(M/2)][M%2],m[M])}:function(b,w,S,M){return jr(b.value,m[M])}),g.hasItemOption=!0,g}(a,e,i);i.setData(c),c.each(function(p){var d=J($C,function(S){return KC(c,p,S,e,o)}),f=a.getAxis("x").scale,g=a.getAxis("y").scale,m=f.getExtent(),y=g.getExtent(),v=[f.parse(c.get("x0",p)),f.parse(c.get("x1",p))],_=[g.parse(c.get("y0",p)),g.parse(c.get("y1",p))];On(v),On(_),c.setItemLayout(p,{points:d,allClipped:m[0]>v[1]||m[1]<v[0]||y[0]>_[1]||y[1]<_[0]});var b=c.getItemModel(p).getModel("itemStyle").getItemStyle(),w=gu(l,"color");b.fill||(b.fill=w,"string"==typeof b.fill&&(b.fill=Ar(b.fill,.4))),b.stroke||(b.stroke=w),c.setItemVisual(p,"style",b)}),c.diff(ud(h).data).add(function(p){var d=c.getItemLayout(p);if(!d.allClipped){var f=new Zt({shape:{points:d.points}});c.setItemGraphicEl(p,f),h.group.add(f)}}).update(function(p,d){var f=ud(h).data.getItemGraphicEl(d),g=c.getItemLayout(p);g.allClipped?f&&h.group.remove(f):(f?ze(f,{shape:{points:g.points}},i,p):f=new Zt({shape:{points:g.points}}),c.setItemGraphicEl(p,f),h.group.add(f))}).remove(function(p){var d=ud(h).data.getItemGraphicEl(p);h.group.remove(d)}).execute(),c.eachItemGraphicEl(function(p,d){var f=c.getItemModel(d),g=c.getItemVisual(d,"style");p.useStyle(c.getItemVisual(d,"style")),Jt(p,Ut(f),{labelFetcher:i,labelDataIndex:d,defaultText:c.getName(d)||"",inheritColor:"string"==typeof g.fill?Ar(g.fill,1):"#000"}),Yt(p,f),nt(p),_e(p).dataModel=i}),ud(h).data=c,h.group.silent=i.get("silent")||e.get("silent")},t.type="markArea",t}(Tv),Av=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e.layoutMode={type:"box",ignoreSize:!0},e}return G(t,n),t.prototype.init=function(e,i,r){this.mergeDefaultAndTheme(e,r),e.selected=e.selected||{},this._updateSelector(e)},t.prototype.mergeOption=function(e,i){n.prototype.mergeOption.call(this,e,i),this._updateSelector(e)},t.prototype._updateSelector=function(e){var i=e.selector,r=this.ecModel;!0===i&&(i=e.selector=["all","inverse"]),Z(i)&&k(i,function(o,a){var s,l;Ce(o)&&(o={type:o}),i[a]=we(o,(s=r,"all"===(l=o.type)?{type:"all",title:s.getLocaleModel().get(["legend","selector","all"])}:"inverse"===l?{type:"inverse",title:s.getLocaleModel().get(["legend","selector","inverse"])}:void 0))})},t.prototype.optionUpdated=function(){this._updateData(this.ecModel);var e=this._data;if(e[0]&&"single"===this.get("selectedMode")){for(var i=!1,r=0;r<e.length;r++){var o=e[r].get("name");if(this.isSelected(o)){this.select(o),i=!0;break}}!i&&this.select(e[0].get("name"))}},t.prototype._updateData=function(e){var i=[],r=[];e.eachRawSeries(function(a){var s;if(r.push(a.name),a.legendVisualProvider){var u=a.legendVisualProvider.getAllNames();e.isSeriesFiltered(a)||(r=r.concat(u)),u.length?i=i.concat(u):s=!0}else s=!0;s&&Fd(a)&&i.push(a.name)}),this._availableNames=r;var o=J(this.get("data")||i,function(a){return"string"!=typeof a&&"number"!=typeof a||(a={name:a}),new Fe(a,this,this.ecModel)},this);this._data=o},t.prototype.getData=function(){return this._data},t.prototype.select=function(e){var i=this.option.selected;"single"===this.get("selectedMode")&&k(this._data,function(r){i[r.get("name")]=!1}),i[e]=!0},t.prototype.unSelect=function(e){"single"!==this.get("selectedMode")&&(this.option.selected[e]=!1)},t.prototype.toggleSelected=function(e){var i=this.option.selected;i.hasOwnProperty(e)||(i[e]=!0),this[i[e]?"unSelect":"select"](e)},t.prototype.allSelect=function(){var i=this.option.selected;k(this._data,function(r){i[r.get("name",!0)]=!0})},t.prototype.inverseSelect=function(){var i=this.option.selected;k(this._data,function(r){var o=r.get("name",!0);i.hasOwnProperty(o)||(i[o]=!0),i[o]=!i[o]})},t.prototype.isSelected=function(e){var i=this.option.selected;return!(i.hasOwnProperty(e)&&!i[e])&&Ie(this._availableNames,e)>=0},t.prototype.getOrient=function(){return"vertical"===this.get("orient")?{index:1,name:"vertical"}:{index:0,name:"horizontal"}},t.type="legend.plain",t.dependencies=["series"],t.defaultOption={zlevel:0,z:4,show:!0,orient:"horizontal",left:"center",top:0,align:"auto",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemGap:10,itemWidth:25,itemHeight:14,symbolRotate:"inherit",symbolKeepAspect:!0,inactiveColor:"#ccc",inactiveBorderColor:"#ccc",inactiveBorderWidth:"auto",itemStyle:{color:"inherit",opacity:"inherit",borderColor:"inherit",borderWidth:"auto",borderCap:"inherit",borderJoin:"inherit",borderDashOffset:"inherit",borderMiterLimit:"inherit"},lineStyle:{width:"auto",color:"inherit",inactiveColor:"#ccc",inactiveWidth:2,opacity:"inherit",type:"inherit",cap:"inherit",join:"inherit",dashOffset:"inherit",miterLimit:"inherit"},textStyle:{color:"#333"},selectedMode:!0,selector:!1,selectorLabel:{show:!0,borderRadius:10,padding:[3,5,3,5],fontSize:12,fontFamily:"sans-serif",color:"#666",borderWidth:1,borderColor:"#666"},emphasis:{selectorLabel:{show:!0,color:"#eee",backgroundColor:"#666"}},selectorPosition:"auto",selectorItemGap:7,selectorButtonGap:10,tooltip:{show:!1}},t}(Pe),Ys=ye,Dv=k,cd=me,QC=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e.newlineDisabled=!1,e}return G(t,n),t.prototype.init=function(){this.group.add(this._contentGroup=new cd),this.group.add(this._selectorGroup=new cd),this._isFirstRender=!0},t.prototype.getContentGroup=function(){return this._contentGroup},t.prototype.getSelectorGroup=function(){return this._selectorGroup},t.prototype.render=function(e,i,r){var o=this._isFirstRender;if(this._isFirstRender=!1,this.resetInner(),e.get("show",!0)){var a=e.get("align"),s=e.get("orient");a&&"auto"!==a||(a="right"===e.get("left")&&"vertical"===s?"right":"left");var l=e.get("selector",!0),u=e.get("selectorPosition",!0);!l||u&&"auto"!==u||(u="horizontal"===s?"end":"start"),this.renderInner(a,e,i,r,l,s,u);var h=e.getBoxLayoutParams(),c={width:r.getWidth(),height:r.getHeight()},p=e.get("padding"),d=Tt(h,c,p),f=this.layoutInner(e,a,d,o,l,u),g=Tt(ce({width:f.width,height:f.height},h),c,p);this.group.x=g.x-f.x,this.group.y=g.y-f.y,this.group.markRedraw(),this.group.add(this._backgroundEl=oC(f,e))}},t.prototype.resetInner=function(){this.getContentGroup().removeAll(),this._backgroundEl&&this.group.remove(this._backgroundEl),this.getSelectorGroup().removeAll()},t.prototype.renderInner=function(e,i,r,o,a,s,l){var u=this.getContentGroup(),h=ue(),c=i.get("selectedMode"),p=[];r.eachRawSeries(function(d){!d.get("legendHoverLink")&&p.push(d.id)}),Dv(i.getData(),function(d,f){var g=d.get("name");if(!this.newlineDisabled&&(""===g||"\n"===g)){var m=new cd;return m.newline=!0,void u.add(m)}var y=r.getSeriesByName(g)[0];if(!h.get(g))if(y){var v=y.getData(),_=v.getVisual("legendLineStyle")||{},x=v.getVisual("legendIcon"),b=v.getVisual("style");this._createItem(y,g,f,d,i,e,_,b,x,c).on("click",Ys(JC,g,null,o,p)).on("mouseover",Ys(kv,y.name,null,o,p)).on("mouseout",Ys(Lv,y.name,null,o,p)),h.set(g,!0)}else r.eachRawSeries(function(w){if(!h.get(g)&&w.legendVisualProvider){var S=w.legendVisualProvider;if(!S.containName(g))return;var M=S.indexOfName(g),T=S.getItemVisual(M,"style"),C=S.getItemVisual(M,"legendIcon"),A=Rt(T.fill);A&&0===A[3]&&(A[3]=.2,T.fill=bn(A,"rgba")),this._createItem(w,g,f,d,i,e,{},T,C,c).on("click",Ys(JC,null,g,o,p)).on("mouseover",Ys(kv,null,g,o,p)).on("mouseout",Ys(Lv,null,g,o,p)),h.set(g,!0)}},this)},this),a&&this._createSelector(a,i,o,s,l)},t.prototype._createSelector=function(e,i,r,o,a){var s=this.getSelectorGroup();Dv(e,function(l){var u=l.type,h=new Re({style:{x:0,y:0,align:"center",verticalAlign:"middle"},onclick:function(){r.dispatchAction({type:"all"===u?"legendAllSelect":"legendInverseSelect"})}});s.add(h),Jt(h,{normal:i.getModel("selectorLabel"),emphasis:i.getModel(["emphasis","selectorLabel"])},{defaultText:l.title}),nt(h)})},t.prototype._createItem=function(e,i,r,o,a,s,l,u,h,c){var P,E,N,p=e.visualDrawType,d=a.get("itemWidth"),f=a.get("itemHeight"),g=a.isSelected(i),m=o.get("symbolRotate"),y=o.get("symbolKeepAspect"),v=o.get("icon"),_=function(P,E,N,R,z,B){function V(ee,te){"auto"===ee.lineWidth&&(ee.lineWidth=te.lineWidth>0?2:0),Dv(ee,function(oe,ae){"inherit"===ee[ae]&&(ee[ae]=te[ae])})}var W=E.getModel("itemStyle").getItemStyle(),Y=0===P.lastIndexOf("empty",0)?"fill":"stroke";W.decal=R.decal,"inherit"===W.fill&&(W.fill=R[z]),"inherit"===W.stroke&&(W.stroke=R[Y]),"inherit"===W.opacity&&(W.opacity=("fill"===z?R:N).opacity),V(W,R);var Q=E.getModel("lineStyle"),U=Q.getLineStyle();if(V(U,N),"auto"===W.fill&&(W.fill=R.fill),"auto"===W.stroke&&(W.stroke=R.fill),"auto"===U.stroke&&(U.stroke=R.fill),!B){var j=E.get("inactiveBorderWidth");W.lineWidth="auto"===j?R.lineWidth>0&&W[Y]?2:0:W.lineWidth,W.fill=E.get("inactiveColor"),W.stroke=E.get("inactiveBorderColor"),U.stroke=Q.get("inactiveColor"),U.lineWidth=Q.get("inactiveWidth")}return{itemStyle:W,lineStyle:U}}(h=v||h||"roundRect",o,l,u,p,g),x=new cd,b=o.getModel("textStyle");if("function"!=typeof e.getLegendIcon||v&&"inherit"!==v){var w="inherit"===v&&e.getData().getVisual("symbol")?"inherit"===m?e.getData().getVisual("symbolRotate"):m:0;x.add(((N=xt(E=(P={itemWidth:d,itemHeight:f,icon:h,iconRotate:w,itemStyle:_.itemStyle,lineStyle:_.lineStyle,symbolKeepAspect:y}).icon||"roundRect",0,0,P.itemWidth,P.itemHeight,P.itemStyle.fill,P.symbolKeepAspect)).setStyle(P.itemStyle),N.rotation=(P.iconRotate||0)*Math.PI/180,N.setOrigin([P.itemWidth/2,P.itemHeight/2]),E.indexOf("empty")>-1&&(N.style.stroke=N.style.fill,N.style.fill="#fff",N.style.lineWidth=2),N))}else x.add(e.getLegendIcon({itemWidth:d,itemHeight:f,icon:h,iconRotate:m,itemStyle:_.itemStyle,lineStyle:_.lineStyle,symbolKeepAspect:y}));var S="left"===s?d+5:-5,M=s,T=a.get("formatter"),C=i;"string"==typeof T&&T?C=T.replace("{name}",null!=i?i:""):"function"==typeof T&&(C=T(i));var A=o.get("inactiveColor");x.add(new Re({style:yt(b,{text:C,x:S,y:f/2,fill:g?b.getTextColor():A,align:M,verticalAlign:"middle"})}));var D=new Ee({shape:x.getBoundingRect(),invisible:!0}),L=o.getModel("tooltip");return L.get("show")&&ss({el:D,componentModel:a,itemName:i,itemTooltipOption:L.option}),x.add(D),x.eachChild(function(P){P.silent=!0}),D.silent=!c,this.getContentGroup().add(x),nt(x),x.__legendDataIndex=r,x},t.prototype.layoutInner=function(e,i,r,o,a,s){var l=this.getContentGroup(),u=this.getSelectorGroup();ta(e.get("orient"),l,e.get("itemGap"),r.width,r.height);var h=l.getBoundingRect(),c=[-h.x,-h.y];if(u.markRedraw(),l.markRedraw(),a){ta("horizontal",u,e.get("selectorItemGap",!0));var p=u.getBoundingRect(),d=[-p.x,-p.y],f=e.get("selectorButtonGap",!0),g=e.getOrient().index,m=0===g?"width":"height",y=0===g?"height":"width",v=0===g?"y":"x";"end"===s?d[g]+=h[m]+f:c[g]+=p[m]+f,d[1-g]+=h[y]/2-p[y]/2,u.x=d[0],u.y=d[1],l.x=c[0],l.y=c[1];var _={x:0,y:0};return _[m]=h[m]+f+p[m],_[y]=Math.max(h[y],p[y]),_[v]=Math.min(0,p[v]+d[1-g]),_}return l.x=c[0],l.y=c[1],this.group.getBoundingRect()},t.prototype.remove=function(){this.getContentGroup().removeAll(),this._isFirstRender=!0},t.type="legend.plain",t}(it);function JC(n,t,e,i){Lv(n,t,e,i),e.dispatchAction({type:"legendToggleSelect",name:null!=n?n:t}),kv(n,t,e,i)}function e2(n){for(var t,e=n.getZr().storage.getDisplayList(),i=0,r=e.length;i<r&&!(t=e[i].states.emphasis);)i++;return t&&t.hoverLayer}function kv(n,t,e,i){e2(e)||e.dispatchAction({type:"highlight",seriesName:n,name:t,excludeSeriesId:i})}function Lv(n,t,e,i){e2(e)||e.dispatchAction({type:"downplay",seriesName:n,name:t,excludeSeriesId:i})}function l5(n){var t=n.findComponents({mainType:"legend"});t&&t.length&&n.filterSeries(function(e){for(var i=0;i<t.length;i++)if(!t[i].isSelected(e.name))return!1;return!0})}function ph(n,t,e){var i,r={},o="toggleSelected"===n;return e.eachComponent("legend",function(a){o&&null!=i?a[i?"select":"unSelect"](t.name):"allSelect"===n||"inverseSelect"===n?a[n]():(a[n](t.name),i=a.isSelected(t.name)),k(a.getData(),function(s){var l=s.get("name");if("\n"!==l&&""!==l){var u=a.isSelected(l);r[l]=r.hasOwnProperty(l)?r[l]&&u:u}})}),"allSelect"===n||"inverseSelect"===n?{selected:r}:{name:t.name,selected:r}}function t2(n){n.registerComponentModel(Av),n.registerComponentView(QC),n.registerProcessor(n.PRIORITY.PROCESSOR.SERIES_FILTER,l5),n.registerSubTypeDefaulter("legend",function(){return"plain"}),function(t){t.registerAction("legendToggleSelect","legendselectchanged",ye(ph,"toggleSelected")),t.registerAction("legendAllSelect","legendselectall",ye(ph,"allSelect")),t.registerAction("legendInverseSelect","legendinverseselect",ye(ph,"inverseSelect")),t.registerAction("legendSelect","legendselected",ye(ph,"select")),t.registerAction("legendUnSelect","legendunselected",ye(ph,"unSelect"))}(n)}var u5=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return G(t,n),t.prototype.setScrollDataIndex=function(e){this.option.scrollDataIndex=e},t.prototype.init=function(e,i,r){var o=ps(e);n.prototype.init.call(this,e,i,r),n2(this,e,o)},t.prototype.mergeOption=function(e,i){n.prototype.mergeOption.call(this,e,i),n2(this,this.option,e)},t.type="legend.scroll",t.defaultOption=Ur(Av.defaultOption,{scrollDataIndex:0,pageButtonItemGap:5,pageButtonGap:null,pageButtonPosition:"end",pageFormatter:"{current}/{total}",pageIcons:{horizontal:["M0,0L12,-10L12,10z","M0,0L-12,-10L-12,10z"],vertical:["M0,0L20,0L10,-20z","M0,0L20,0L10,20z"]},pageIconColor:"#2f4554",pageIconInactiveColor:"#aaa",pageIconSize:15,pageTextStyle:{color:"#333"},animationDurationUpdate:800}),t}(Av);function n2(n,t,e){var i=[1,1];i[n.getOrient().index]=0,Xr(t,e,{type:"box",ignoreSize:!!i})}var i2=me,Pv=["width","height"],Ov=["x","y"],h5=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e.newlineDisabled=!0,e._currentIndex=0,e}return G(t,n),t.prototype.init=function(){n.prototype.init.call(this),this.group.add(this._containerGroup=new i2),this._containerGroup.add(this.getContentGroup()),this.group.add(this._controllerGroup=new i2)},t.prototype.resetInner=function(){n.prototype.resetInner.call(this),this._controllerGroup.removeAll(),this._containerGroup.removeClipPath(),this._containerGroup.__rectSize=null},t.prototype.renderInner=function(e,i,r,o,a,s,l){var u=this;n.prototype.renderInner.call(this,e,i,r,o,a,s,l);var h=this._controllerGroup,c=i.get("pageIconSize",!0),p=Z(c)?c:[c,c];f("pagePrev",0);var d=i.getModel("pageTextStyle");function f(g,m){var y=g+"DataIndex",v=as(i.get("pageIcons",!0)[i.getOrient().name][m],{onclick:re(u._pageGo,u,y,i,o)},{x:-p[0]/2,y:-p[1]/2,width:p[0],height:p[1]});v.name=g,h.add(v)}h.add(new Re({name:"pageText",style:{text:"xx/xx",fill:d.getTextColor(),font:d.getFont(),verticalAlign:"middle",align:"center"},silent:!0})),f("pageNext",1)},t.prototype.layoutInner=function(e,i,r,o,a,s){var l=this.getSelectorGroup(),u=e.getOrient().index,h=Pv[u],c=Ov[u],p=Pv[1-u],d=Ov[1-u];a&&ta("horizontal",l,e.get("selectorItemGap",!0));var f=e.get("selectorButtonGap",!0),g=l.getBoundingRect(),m=[-g.x,-g.y],y=de(r);a&&(y[h]=r[h]-g[h]-f);var v=this._layoutContentAndController(e,o,y,u,h,p,d,c);if(a){if("end"===s)m[u]+=v[h]+f;else{var _=g[h]+f;m[u]-=_,v[c]-=_}v[h]+=g[h]+f,m[1-u]+=v[d]+v[p]/2-g[p]/2,v[p]=Math.max(v[p],g[p]),v[d]=Math.min(v[d],g[d]+m[1-u]),l.x=m[0],l.y=m[1],l.markRedraw()}return v},t.prototype._layoutContentAndController=function(e,i,r,o,a,s,l,u){var h=this.getContentGroup(),c=this._containerGroup,p=this._controllerGroup;ta(e.get("orient"),h,e.get("itemGap"),o?r.width:null,o?null:r.height),ta("horizontal",p,e.get("pageButtonItemGap",!0));var d=h.getBoundingRect(),f=p.getBoundingRect(),g=this._showController=d[a]>r[a],m=[-d.x,-d.y];i||(m[o]=h[u]);var y=[0,0],v=[-f.x,-f.y],_=Te(e.get("pageButtonGap",!0),e.get("itemGap",!0));g&&("end"===e.get("pageButtonPosition",!0)?v[o]+=r[a]-f[a]:y[o]+=f[a]+_),v[1-o]+=d[s]/2-f[s]/2,h.setPosition(m),c.setPosition(y),p.setPosition(v);var x={x:0,y:0};if(x[a]=g?r[a]:d[a],x[s]=Math.max(d[s],f[s]),x[l]=Math.min(0,f[l]+v[1-o]),c.__rectSize=r[a],g){var b={x:0,y:0};b[a]=Math.max(r[a]-f[a]-_,0),b[s]=x[s],c.setClipPath(new Ee({shape:b})),c.__rectSize=b[a]}else p.eachChild(function(S){S.attr({invisible:!0,silent:!0})});var w=this._getPageInfo(e);return null!=w.pageIndex&&ze(h,{x:w.contentPosition[0],y:w.contentPosition[1]},g?e:null),this._updatePageInfoView(e,w),x},t.prototype._pageGo=function(e,i,r){var o=this._getPageInfo(i)[e];null!=o&&r.dispatchAction({type:"legendScroll",scrollDataIndex:o,legendId:i.id})},t.prototype._updatePageInfoView=function(e,i){var r=this._controllerGroup;k(["pagePrev","pageNext"],function(h){var c=null!=i[h+"DataIndex"],p=r.childOfName(h);p&&(p.setStyle("fill",e.get(c?"pageIconColor":"pageIconInactiveColor",!0)),p.cursor=c?"pointer":"default")});var o=r.childOfName("pageText"),a=e.get("pageFormatter"),s=i.pageIndex,l=null!=s?s+1:0,u=i.pageCount;o&&a&&o.setStyle("text",Ce(a)?a.replace("{current}",null==l?"":l+"").replace("{total}",null==u?"":u+""):a({current:l,total:u}))},t.prototype._getPageInfo=function(e){var i=e.get("scrollDataIndex",!0),r=this.getContentGroup(),o=this._containerGroup.__rectSize,a=e.getOrient().index,s=Pv[a],l=Ov[a],u=this._findTargetItemIndex(i),h=r.children(),c=h[u],p=h.length,d=p?1:0,f={contentPosition:[r.x,r.y],pageCount:d,pageIndex:d-1,pagePrevDataIndex:null,pageNextDataIndex:null};if(!c)return f;var g=x(c);f.contentPosition[a]=-g.s;for(var m=u+1,y=g,v=g,_=null;m<=p;++m)(!(_=x(h[m]))&&v.e>y.s+o||_&&!b(_,y.s))&&(y=v.i>y.i?v:_)&&(null==f.pageNextDataIndex&&(f.pageNextDataIndex=y.i),++f.pageCount),v=_;for(m=u-1,y=g,v=g,_=null;m>=-1;--m)(_=x(h[m]))&&b(v,_.s)||!(y.i<v.i)||(v=y,null==f.pagePrevDataIndex&&(f.pagePrevDataIndex=y.i),++f.pageCount,++f.pageIndex),y=_;return f;function x(w){if(w){var S=w.getBoundingRect(),M=S[l]+w[l];return{s:M,e:M+S[s],i:w.__legendDataIndex}}}function b(w,S){return w.e>=S&&w.s<=S+o}},t.prototype._findTargetItemIndex=function(e){return this._showController?(this.getContentGroup().eachChild(function(o,a){var s=o.__legendDataIndex;null==r&&null!=s&&(r=a),s===e&&(i=a)}),null!=i?i:r):0;var i,r},t.type="legend.scroll",t}(QC);function c5(n){Ae(t2),n.registerComponentModel(u5),n.registerComponentView(h5),function(t){t.registerAction("legendScroll","legendscroll",function(e,i){var r=e.scrollDataIndex;null!=r&&i.eachComponent({mainType:"legend",subType:"scroll",query:e},function(o){o.setScrollDataIndex(r)})})}(n)}var p5=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return G(t,n),t.type="dataZoom.inside",t.defaultOption=Ur(ah.defaultOption,{disabled:!1,zoomLock:!1,zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!1,preventDefaultMouseMove:!0}),t}(ah),Ev=We();function d5(n,t,e){Ev(n).coordSysRecordMap.each(function(i){var r=i.dataZoomInfoMap.get(t.uid);r&&(r.getRange=e)})}function r2(n,t){if(t){n.removeKey(t.model.uid);var e=t.controller;e&&e.dispose()}}function f5(n,t){n.dispatchAction({type:"dataZoom",animation:{easing:"cubicOut",duration:100},batch:t})}function g5(n,t,e,i){return n.coordinateSystem.containPoint([e,i])}var y5=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type="dataZoom.inside",e}return G(t,n),t.prototype.render=function(e,i,r){n.prototype.render.apply(this,arguments),e.noTarget()?this._clear():(this.range=e.getPercentRange(),d5(r,e,{pan:re(Nv.pan,this),zoom:re(Nv.zoom,this),scrollMove:re(Nv.scrollMove,this)}))},t.prototype.dispose=function(){this._clear(),n.prototype.dispose.apply(this,arguments)},t.prototype._clear=function(){(function(e,i){for(var r=Ev(e).coordSysRecordMap,o=r.keys(),a=0;a<o.length;a++){var l=r.get(o[a]),u=l.dataZoomInfoMap;if(u){var h=i.uid;u.get(h)&&(u.removeKey(h),u.keys().length||r2(r,l))}}})(this.api,this.dataZoomModel),this.range=null},t.type="dataZoom.inside",t}(av),Nv={zoom:function(n,t,e,i){var r=this.range,o=r.slice(),a=n.axisModels[0];if(a){var s=Rv[t](null,[i.originX,i.originY],a,e,n),l=(s.signal>0?s.pixelStart+s.pixelLength-s.pixel:s.pixel-s.pixelStart)/s.pixelLength*(o[1]-o[0])+o[0],u=Math.max(1/i.scale,0);o[0]=(o[0]-l)*u+l,o[1]=(o[1]-l)*u+l;var h=this.dataZoomModel.findRepresentativeAxisProxy().getMinMaxSpan();return ga(0,o,[0,100],0,h.minSpan,h.maxSpan),this.range=o,r[0]!==o[0]||r[1]!==o[1]?o:void 0}},pan:o2(function(n,t,e,i,r,o){var a=Rv[i]([o.oldX,o.oldY],[o.newX,o.newY],t,r,e);return a.signal*(n[1]-n[0])*a.pixel/a.pixelLength}),scrollMove:o2(function(n,t,e,i,r,o){return Rv[i]([0,0],[o.scrollDelta,o.scrollDelta],t,r,e).signal*(n[1]-n[0])*o.scrollDelta})};function o2(n){return function(t,e,i,r){var o=this.range,a=o.slice(),s=t.axisModels[0];if(s)return ga(n(a,s,t,e,i,r),a,[0,100],"all"),this.range=a,o[0]!==a[0]||o[1]!==a[1]?a:void 0}}var Rv={grid:function(n,t,e,i,r){var o=e.axis,a={},s=r.model.coordinateSystem.getRect();return n=n||[0,0],"x"===o.dim?(a.pixel=t[0]-n[0],a.pixelLength=s.width,a.pixelStart=s.x,a.signal=o.inverse?1:-1):(a.pixel=t[1]-n[1],a.pixelLength=s.height,a.pixelStart=s.y,a.signal=o.inverse?-1:1),a},polar:function(n,t,e,i,r){var o=e.axis,a={},s=r.model.coordinateSystem,l=s.getRadiusAxis().getExtent(),u=s.getAngleAxis().getExtent();return n=n?s.pointToCoord(n):[0,0],t=s.pointToCoord(t),"radiusAxis"===e.mainType?(a.pixel=t[0]-n[0],a.pixelLength=l[1]-l[0],a.pixelStart=l[0],a.signal=o.inverse?1:-1):(a.pixel=t[1]-n[1],a.pixelLength=u[1]-u[0],a.pixelStart=u[0],a.signal=o.inverse?-1:1),a},singleAxis:function(n,t,e,i,r){var o=e.axis,a=r.model.coordinateSystem.getRect(),s={};return n=n||[0,0],"horizontal"===o.orient?(s.pixel=t[0]-n[0],s.pixelLength=a.width,s.pixelStart=a.x,s.signal=o.inverse?1:-1):(s.pixel=t[1]-n[1],s.pixelLength=a.height,s.pixelStart=a.y,s.signal=o.inverse?-1:1),s}};function a2(n){sv(n),n.registerComponentModel(p5),n.registerComponentView(y5),function(n){n.registerProcessor(n.PRIORITY.PROCESSOR.FILTER,function(t,e){var i=Ev(e),r=i.coordSysRecordMap||(i.coordSysRecordMap=ue());r.each(function(o){o.dataZoomInfoMap=null}),t.eachComponent({mainType:"dataZoom",subType:"inside"},function(o){k(JT(o).infoList,function(a){var u,h,c,p,s=a.model.uid,l=r.get(s)||r.set(s,(u=e,c={model:h=a.model,containsPoint:ye(g5,h),dispatchAction:ye(f5,u),dataZoomInfoMap:null,controller:null},p=c.controller=new Yu(u.getZr()),k(["pan","zoom","scrollMove"],function(d){p.on(d,function(f){var g=[];c.dataZoomInfoMap.each(function(m){if(f.isAvailableBehavior(m.model.option)){var y=(m.getRange||{})[d],v=y&&y(m.dzReferCoordSysInfo,c.model.mainType,c.controller,f);!m.model.get("disabled",!0)&&v&&g.push({dataZoomId:m.model.id,start:v[0],end:v[1]})}}),g.length&&c.dispatchAction(g)})}),c));(l.dataZoomInfoMap||(l.dataZoomInfoMap=ue())).set(o.uid,{dzReferCoordSysInfo:a,model:o,getRange:null})})}),r.each(function(o){var a,p,d,f,g,s=o.controller,l=o.dataZoomInfoMap;if(l){var u=l.keys()[0];null!=u&&(a=l.get(u))}if(a){var h=(d="type_",f={type_true:2,type_move:1,type_false:0,type_undefined:-1},g=!0,l.each(function(m){var y=m.model,v=!y.get("disabled",!0)&&(!y.get("zoomLock",!0)||"move");f[d+v]>f[d+p]&&(p=v),g=g&&y.get("preventDefaultMouseMove",!0)}),{controlType:p,opt:{zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!0,preventDefaultMouseMove:!!g}});s.enable(h.controlType,h.opt),s.setPointerChecker(o.containsPoint),pu(o,"dispatchAction",a.model.get("throttle",!0),"fixRate")}else r2(r,o)})})}(n)}var v5=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return G(t,n),t.type="dataZoom.slider",t.layoutMode="box",t.defaultOption=Ur(ah.defaultOption,{show:!0,right:"ph",top:"ph",width:"ph",height:"ph",left:null,bottom:null,borderColor:"#d2dbee",borderRadius:3,backgroundColor:"rgba(47,69,84,0)",dataBackground:{lineStyle:{color:"#d2dbee",width:.5},areaStyle:{color:"#d2dbee",opacity:.2}},selectedDataBackground:{lineStyle:{color:"#8fb0f7",width:.5},areaStyle:{color:"#8fb0f7",opacity:.2}},fillerColor:"rgba(135,175,274,0.2)",handleIcon:"path://M-9.35,34.56V42m0-40V9.5m-2,0h4a2,2,0,0,1,2,2v21a2,2,0,0,1-2,2h-4a2,2,0,0,1-2-2v-21A2,2,0,0,1-11.35,9.5Z",handleSize:"100%",handleStyle:{color:"#fff",borderColor:"#ACB8D1"},moveHandleSize:7,moveHandleIcon:"path://M-320.9-50L-320.9-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-348-41-339-50-320.9-50z M-212.3-50L-212.3-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-239.4-41-230.4-50-212.3-50z M-103.7-50L-103.7-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-130.9-41-121.8-50-103.7-50z",moveHandleStyle:{color:"#D2DBEE",opacity:.7},showDetail:!0,showDataShadow:"auto",realtime:!0,zoomLock:!1,textStyle:{color:"#6E7079"},brushSelect:!0,brushStyle:{color:"rgba(135,175,274,0.15)"},emphasis:{handleStyle:{borderColor:"#8FB0F7"},moveHandleStyle:{color:"#8FB0F7"}}}),t}(ah),dh=Ee,fh="horizontal",s2="vertical",_5=["line","bar","candlestick","scatter"],x5={easing:"cubicOut",duration:100,delay:0},b5=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e._displayables={},e}return G(t,n),t.prototype.init=function(e,i){this.api=i,this._onBrush=re(this._onBrush,this),this._onBrushEnd=re(this._onBrushEnd,this)},t.prototype.render=function(e,i,r,o){if(n.prototype.render.apply(this,arguments),pu(this,"_dispatchZoomAction",e.get("throttle"),"fixRate"),this._orient=e.getOrient(),!1!==e.get("show")){if(e.noTarget())return this._clear(),void this.group.removeAll();o&&"dataZoom"===o.type&&o.from===this.uid||this._buildView(),this._updateView()}else this.group.removeAll()},t.prototype.dispose=function(){this._clear(),n.prototype.dispose.apply(this,arguments)},t.prototype._clear=function(){var r;(r=this._dispatchZoomAction)&&r[Nc]&&(this._dispatchZoomAction=r[Nc]);var o=this.api.getZr();o.off("mousemove",this._onBrush),o.off("mouseup",this._onBrushEnd)},t.prototype._buildView=function(){var e=this.group;e.removeAll(),this._brushing=!1,this._displayables.brushRect=null,this._resetLocation(),this._resetInterval();var i=this._displayables.sliderGroup=new me;this._renderBackground(),this._renderHandle(),this._renderDataShadow(),e.add(i),this._positionGroup()},t.prototype._resetLocation=function(){var e=this.dataZoomModel,i=this.api,r=e.get("brushSelect")?7:0,o=this._findCoordRect(),a={width:i.getWidth(),height:i.getHeight()},s=this._orient===fh?{right:a.width-o.x-o.width,top:a.height-30-7-r,width:o.width,height:30}:{right:7,top:o.y,width:30,height:o.height},l=ps(e.option);k(["right","top","width","height"],function(h){"ph"===l[h]&&(l[h]=s[h])});var u=Tt(l,a);this._location={x:u.x,y:u.y},this._size=[u.width,u.height],this._orient===s2&&this._size.reverse()},t.prototype._positionGroup=function(){var e=this.group,i=this._location,r=this._orient,o=this.dataZoomModel.getFirstTargetAxisModel(),a=o&&o.get("inverse"),s=this._displayables.sliderGroup,l=(this._dataShadowInfo||{}).otherAxisInverse;s.attr(r!==fh||a?r===fh&&a?{scaleY:l?1:-1,scaleX:-1}:r!==s2||a?{scaleY:l?-1:1,scaleX:-1,rotation:Math.PI/2}:{scaleY:l?-1:1,scaleX:1,rotation:Math.PI/2}:{scaleY:l?1:-1,scaleX:1});var u=e.getBoundingRect([s]);e.x=i.x-u.x,e.y=i.y-u.y,e.markRedraw()},t.prototype._getViewExtent=function(){return[0,this._size[0]]},t.prototype._renderBackground=function(){var e=this.dataZoomModel,i=this._size,r=this._displayables.sliderGroup,o=e.get("brushSelect");r.add(new dh({silent:!0,shape:{x:0,y:0,width:i[0],height:i[1]},style:{fill:e.get("backgroundColor")},z2:-40}));var a=new dh({shape:{x:0,y:0,width:i[0],height:i[1]},style:{fill:"transparent"},z2:0,onclick:re(this._onClickPanel,this)}),s=this.api.getZr();o?(a.on("mousedown",this._onBrushStart,this),a.cursor="crosshair",s.on("mousemove",this._onBrush),s.on("mouseup",this._onBrushEnd)):(s.off("mousemove",this._onBrush),s.off("mouseup",this._onBrushEnd)),r.add(a)},t.prototype._renderDataShadow=function(){var w,S,M,T,e=this._dataShadowInfo=this._prepareDataShadowInfo();if(this._displayables.dataShadowSegs=[],e){var i=this._size,r=e.series,o=r.getRawData(),a=r.getShadowDim?r.getShadowDim():e.otherDim;if(null!=a){var s=o.getDataExtent(a),l=.3*(s[1]-s[0]);s=[s[0]-l,s[1]+l];var u,h=[0,i[1]],p=[[i[0],0],[0,0]],d=[],f=i[0]/(o.count()-1),g=0,m=Math.round(o.count()/i[0]);o.each([a],function(b,w){if(m>0&&w%m)g+=f;else{var S=null==b||isNaN(b)||""===b,M=S?0:Ze(b,s,h,!0);S&&!u&&w?(p.push([p[p.length-1][0],0]),d.push([d[d.length-1][0],0])):!S&&u&&(p.push([g,0]),d.push([g,0])),p.push([g,M]),d.push([g,M]),g+=f,u=S}});for(var y=this.dataZoomModel,v=0;v<3;v++){var _=(w=void 0,S=void 0,void 0,void 0,w=y.getModel(1===v?"selectedDataBackground":"dataBackground"),S=new me,M=new Zt({shape:{points:p},segmentIgnoreThreshold:1,style:w.getModel("areaStyle").getAreaStyle(),silent:!0,z2:-20}),T=new pn({shape:{points:d},segmentIgnoreThreshold:1,style:w.getModel("lineStyle").getLineStyle(),silent:!0,z2:-19}),S.add(M),S.add(T),S);this._displayables.sliderGroup.add(_),this._displayables.dataShadowSegs.push(_)}}}},t.prototype._prepareDataShadowInfo=function(){var e=this.dataZoomModel,i=e.get("showDataShadow");if(!1!==i){var r,o=this.ecModel;return e.eachTargetAxis(function(a,s){k(e.getAxisProxy(a,s).getTargetSeriesModels(),function(l){if(!(r||!0!==i&&Ie(_5,l.get("type"))<0)){var u,h=o.getComponent(ho(a),s).axis,c={x:"y",y:"x",radius:"angle",angle:"radius"}[a],p=l.coordinateSystem;null!=c&&p.getOtherAxis&&(u=p.getOtherAxis(h).inverse),c=l.getData().mapDimension(c),r={thisAxis:h,series:l,thisDim:a,otherDim:c,otherAxisInverse:u}}},this)},this),r}},t.prototype._renderHandle=function(){var e=this.group,i=this._displayables,r=i.handles=[null,null],o=i.handleLabels=[null,null],a=this._displayables.sliderGroup,s=this._size,l=this.dataZoomModel,u=this.api,h=l.get("borderRadius")||0,c=l.get("brushSelect"),p=i.filler=new dh({silent:c,style:{fill:l.get("fillerColor")},textConfig:{position:"inside"}});a.add(p),a.add(new dh({silent:!0,subPixelOptimize:!0,shape:{x:0,y:0,width:s[0],height:s[1],r:h},style:{stroke:l.get("dataBackgroundColor")||l.get("borderColor"),lineWidth:1,fill:"rgba(0,0,0,0)"}})),k([0,1],function(_){var x=l.get("handleIcon");!Vc[x]&&x.indexOf("path://")<0&&x.indexOf("image://")<0&&(x="path://"+x);var b=xt(x,-1,0,2,2,null,!0);b.attr({cursor:l2(this._orient),draggable:!0,drift:re(this._onDragMove,this,_),ondragend:re(this._onDragEnd,this),onmouseover:re(this._showDataInfo,this,!0),onmouseout:re(this._showDataInfo,this,!1),z2:5});var w=b.getBoundingRect(),S=l.get("handleSize");this._handleHeight=ie(S,this._size[1]),this._handleWidth=w.width/w.height*this._handleHeight,b.setStyle(l.getModel("handleStyle").getItemStyle()),b.style.strokeNoScale=!0,b.rectHover=!0,b.ensureState("emphasis").style=l.getModel(["emphasis","handleStyle"]).getItemStyle(),nt(b);var M=l.get("handleColor");null!=M&&(b.style.fill=M),a.add(r[_]=b);var T=l.getModel("textStyle");e.add(o[_]=new Re({silent:!0,invisible:!0,style:yt(T,{x:0,y:0,text:"",verticalAlign:"middle",align:"center",fill:T.getTextColor(),font:T.getFont()}),z2:10}))},this);var d=p;if(c){var f=ie(l.get("moveHandleSize"),s[1]),g=i.moveHandle=new Ee({style:l.getModel("moveHandleStyle").getItemStyle(),silent:!0,shape:{r:[0,0,2,2],y:s[1]-.5,height:f}}),m=.8*f,y=i.moveHandleIcon=xt(l.get("moveHandleIcon"),-m/2,-m/2,m,m,"#fff",!0);y.silent=!0,y.y=s[1]+f/2-.5,g.ensureState("emphasis").style=l.getModel(["emphasis","moveHandleStyle"]).getItemStyle();var v=Math.min(s[1]/2,Math.max(f,10));(d=i.moveZone=new Ee({invisible:!0,shape:{y:s[1]-v,height:f+v}})).on("mouseover",function(){u.enterEmphasis(g)}).on("mouseout",function(){u.leaveEmphasis(g)}),a.add(g),a.add(y),a.add(d)}d.attr({draggable:!0,cursor:l2(this._orient),drift:re(this._onDragMove,this,"all"),ondragstart:re(this._showDataInfo,this,!0),ondragend:re(this._onDragEnd,this),onmouseover:re(this._showDataInfo,this,!0),onmouseout:re(this._showDataInfo,this,!1)})},t.prototype._resetInterval=function(){var e=this._range=this.dataZoomModel.getPercentRange(),i=this._getViewExtent();this._handleEnds=[Ze(e[0],[0,100],i,!0),Ze(e[1],[0,100],i,!0)]},t.prototype._updateInterval=function(e,i){var r=this.dataZoomModel,o=this._handleEnds,a=this._getViewExtent(),s=r.findRepresentativeAxisProxy().getMinMaxSpan(),l=[0,100];ga(i,o,a,r.get("zoomLock")?"all":e,null!=s.minSpan?Ze(s.minSpan,l,a,!0):null,null!=s.maxSpan?Ze(s.maxSpan,l,a,!0):null);var u=this._range,h=this._range=On([Ze(o[0],a,l,!0),Ze(o[1],a,l,!0)]);return!u||u[0]!==h[0]||u[1]!==h[1]},t.prototype._updateView=function(e){var i=this._displayables,r=this._handleEnds,o=On(r.slice()),a=this._size;k([0,1],function(d){var g=this._handleHeight;i.handles[d].attr({scaleX:g/2,scaleY:g/2,x:r[d]+(d?-1:1),y:a[1]/2-g/2})},this),i.filler.setShape({x:o[0],y:0,width:o[1]-o[0],height:a[1]});var s={x:o[0],width:o[1]-o[0]};i.moveHandle&&(i.moveHandle.setShape(s),i.moveZone.setShape(s),i.moveZone.getBoundingRect(),i.moveHandleIcon&&i.moveHandleIcon.attr("x",s.x+s.width/2));for(var l=i.dataShadowSegs,u=[0,o[0],o[1],a[0]],h=0;h<l.length;h++){var c=l[h],p=c.getClipPath();p||(p=new Ee,c.setClipPath(p)),p.setShape({x:u[h],y:0,width:u[h+1]-u[h],height:a[1]})}this._updateDataInfo(e)},t.prototype._updateDataInfo=function(e){var i=this.dataZoomModel,r=this._displayables,o=r.handleLabels,a=this._orient,s=["",""];if(i.get("showDetail")){var l=i.findRepresentativeAxisProxy();if(l){var u=l.getAxisModel().axis,h=this._range,c=e?l.calculateDataWindow({start:h[0],end:h[1]}).valueWindow:l.getDataValueWindow();s=[this._formatLabel(c[0],u),this._formatLabel(c[1],u)]}}var p=On(this._handleEnds.slice());function d(f){var g=Wr(r.handles[f].parent,this.group),m=mc(0===f?"right":"left",g),y=this._handleWidth/2+5,v=fi([p[f]+(0===f?-y:y),this._size[1]/2],g);o[f].setStyle({x:v[0],y:v[1],verticalAlign:a===fh?"middle":m,align:a===fh?m:"center",text:s[f]})}d.call(this,0),d.call(this,1)},t.prototype._formatLabel=function(e,i){var r=this.dataZoomModel,o=r.get("labelFormatter"),a=r.get("labelPrecision");null!=a&&"auto"!==a||(a=i.getPixelPrecision());var s=null==e||isNaN(e)?"":"category"===i.type||"time"===i.type?i.scale.getLabel({value:Math.round(e)}):e.toFixed(Math.min(a,20));return Be(o)?o(e,s):Ce(o)?o.replace("{value}",s):s},t.prototype._showDataInfo=function(e){var i=this._displayables,r=i.handleLabels;r[0].attr("invisible",!(e=this._dragging||e)),r[1].attr("invisible",!e),i.moveHandle&&this.api[e?"enterEmphasis":"leaveEmphasis"](i.moveHandle,1)},t.prototype._onDragMove=function(e,i,r,o){this._dragging=!0,Gn(o.event);var a=fi([i,r],this._displayables.sliderGroup.getLocalTransform(),!0),s=this._updateInterval(e,a[0]),l=this.dataZoomModel.get("realtime");this._updateView(!l),s&&l&&this._dispatchZoomAction(!0)},t.prototype._onDragEnd=function(){this._dragging=!1,this._showDataInfo(!1),!this.dataZoomModel.get("realtime")&&this._dispatchZoomAction(!1)},t.prototype._onClickPanel=function(e){var i=this._size,r=this._displayables.sliderGroup.transformCoordToLocal(e.offsetX,e.offsetY);if(!(r[0]<0||r[0]>i[0]||r[1]<0||r[1]>i[1])){var o=this._handleEnds,s=this._updateInterval("all",r[0]-(o[0]+o[1])/2);this._updateView(),s&&this._dispatchZoomAction(!1)}},t.prototype._onBrushStart=function(e){this._brushStart=new Se(e.offsetX,e.offsetY),this._brushing=!0,this._brushStartTime=+new Date},t.prototype._onBrushEnd=function(e){if(this._brushing){var i=this._displayables.brushRect;if(this._brushing=!1,i){i.attr("ignore",!0);var r=i.shape;if(!(+new Date-this._brushStartTime<200&&Math.abs(r.width)<5)){var o=this._getViewExtent(),a=[0,100];this._range=On([Ze(r.x,o,a,!0),Ze(r.x+r.width,o,a,!0)]),this._handleEnds=[r.x,r.x+r.width],this._updateView(),this._dispatchZoomAction(!1)}}}},t.prototype._onBrush=function(e){this._brushing&&(Gn(e.event),this._updateBrushRect(e.offsetX,e.offsetY))},t.prototype._updateBrushRect=function(e,i){var r=this._displayables,a=r.brushRect;a||(a=r.brushRect=new dh({silent:!0,style:this.dataZoomModel.getModel("brushStyle").getItemStyle()}),r.sliderGroup.add(a)),a.attr("ignore",!1);var s=this._brushStart,l=this._displayables.sliderGroup,u=l.transformCoordToLocal(e,i),h=l.transformCoordToLocal(s.x,s.y),c=this._size;u[0]=Math.max(Math.min(c[0],u[0]),0),a.setShape({x:h[0],y:0,width:u[0]-h[0],height:c[1]})},t.prototype._dispatchZoomAction=function(e){var i=this._range;this.api.dispatchAction({type:"dataZoom",from:this.uid,dataZoomId:this.dataZoomModel.id,animation:e?x5:null,start:i[0],end:i[1]})},t.prototype._findCoordRect=function(){var e,i=JT(this.dataZoomModel).infoList;if(!e&&i.length){var r=i[0].model.coordinateSystem;e=r.getRect&&r.getRect()}if(!e){var o=this.api.getWidth(),a=this.api.getHeight();e={x:.2*o,y:.2*a,width:.6*o,height:.6*a}}return e},t.type="dataZoom.slider",t}(av);function l2(n){return"vertical"===n?"ns-resize":"ew-resize"}function u2(n){n.registerComponentModel(v5),n.registerComponentView(b5),sv(n)}var h2=function(n,t,e){var i=de((w5[n]||{})[t]);return e&&Z(i)?i[i.length-1]:i},w5={color:{active:["#006edd","#e0ffff"],inactive:["rgba(0,0,0,0)"]},colorHue:{active:[0,360],inactive:[0,0]},colorSaturation:{active:[.3,1],inactive:[0,0]},colorLightness:{active:[.9,.5],inactive:[0,0]},colorAlpha:{active:[.3,1],inactive:[0,0]},opacity:{active:[.3,1],inactive:[0,0]},symbol:{active:["circle","roundRect","diamond"],inactive:["none"]},symbolSize:{active:[10,50],inactive:[0,0]}},c2=Vt.mapVisual,S5=Vt.eachVisual,M5=Z,p2=k,I5=On,T5=Ze,pd=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e.stateList=["inRange","outOfRange"],e.replacableOptionKeys=["inRange","outOfRange","target","controller","color"],e.layoutMode={type:"box",ignoreSize:!0},e.dataBound=[-1/0,1/0],e.targetVisuals={},e.controllerVisuals={},e}return G(t,n),t.prototype.init=function(e,i,r){this.mergeDefaultAndTheme(e,r)},t.prototype.optionUpdated=function(e,i){var r=this.option;ge.canvasSupported||(r.realtime=!1),!i&&LC(r,e,this.replacableOptionKeys),this.textStyleModel=this.getModel("textStyle"),this.resetItemSize(),this.completeVisualOption()},t.prototype.resetVisual=function(e){var i=this.stateList;e=re(e,this),this.controllerVisuals=_v(this.option.controller,i,e),this.targetVisuals=_v(this.option.target,i,e)},t.prototype.getItemSymbol=function(){return null},t.prototype.getTargetSeriesIndices=function(){var e=this.option.seriesIndex,i=[];return null==e||"all"===e?this.ecModel.eachSeries(function(r,o){i.push(o)}):i=Je(e),i},t.prototype.eachTargetSeries=function(e,i){k(this.getTargetSeriesIndices(),function(r){var o=this.ecModel.getSeriesByIndex(r);o&&e.call(i,o)},this)},t.prototype.isTargetSeries=function(e){var i=!1;return this.eachTargetSeries(function(r){r===e&&(i=!0)}),i},t.prototype.formatValueText=function(e,i,r){var o,a=this.option,s=a.precision,l=this.dataBound,u=a.formatter;r=r||["<",">"],Z(e)&&(e=e.slice(),o=!0);var h=i?e:o?[c(e[0]),c(e[1])]:c(e);return Ce(u)?u.replace("{value}",o?h[0]:h).replace("{value2}",o?h[1]:h):Be(u)?o?u(e[0],e[1]):u(e):o?e[0]===l[0]?r[0]+" "+h[1]:e[1]===l[1]?r[1]+" "+h[0]:h[0]+" - "+h[1]:h;function c(p){return p===l[0]?"min":p===l[1]?"max":(+p).toFixed(Math.min(s,20))}},t.prototype.resetExtent=function(){var e=this.option,i=I5([e.min,e.max]);this._dataExtent=i},t.prototype.getDataDimensionIndex=function(e){var i=this.option.dimension;if(null!=i)return e.getDimensionIndex(i);for(var r=e.dimensions,o=r.length-1;o>=0;o--){var s=e.getDimensionInfo(r[o]);if(!s.isCalculationCoord)return s.storeDimIndex}},t.prototype.getExtent=function(){return this._dataExtent.slice()},t.prototype.completeVisualOption=function(){var e=this.ecModel,i=this.option,r={inRange:i.inRange,outOfRange:i.outOfRange},o=i.target||(i.target={}),a=i.controller||(i.controller={});we(o,r),we(a,r);var s=this.isCategory();function l(u){M5(i.color)&&!u.inRange&&(u.inRange={color:i.color.slice().reverse()}),u.inRange=u.inRange||{color:e.get("gradientColor")}}l.call(this,o),l.call(this,a),function(u,h,c){var p=u[h],d=u[c];p&&!d&&(d=u[c]={},p2(p,function(f,g){if(Vt.isValidType(g)){var m=h2(g,"inactive",s);null!=m&&(d[g]=m,"color"!==g||d.hasOwnProperty("opacity")||d.hasOwnProperty("colorAlpha")||(d.opacity=[0,0]))}}))}.call(this,o,"inRange","outOfRange"),function(u){var h=(u.inRange||{}).symbol||(u.outOfRange||{}).symbol,c=(u.inRange||{}).symbolSize||(u.outOfRange||{}).symbolSize,p=this.get("inactiveColor"),d=this.getItemSymbol()||"roundRect";p2(this.stateList,function(f){var g=this.itemSize,m=u[f];m||(m=u[f]={color:s?p:[p]}),null==m.symbol&&(m.symbol=h&&de(h)||(s?d:[d])),null==m.symbolSize&&(m.symbolSize=c&&de(c)||(s?g[0]:[g[0],g[0]])),m.symbol=c2(m.symbol,function(_){return"none"===_?d:_});var y=m.symbolSize;if(null!=y){var v=-1/0;S5(y,function(_){_>v&&(v=_)}),m.symbolSize=c2(y,function(_){return T5(_,[0,v],[0,g[0]],!0)})}},this)}.call(this,a)},t.prototype.resetItemSize=function(){this.itemSize=[parseFloat(this.get("itemWidth")),parseFloat(this.get("itemHeight"))]},t.prototype.isCategory=function(){return!!this.option.categories},t.prototype.setSelected=function(e){},t.prototype.getSelected=function(){return null},t.prototype.getValueState=function(e){return null},t.prototype.getVisualMeta=function(e){return null},t.type="visualMap",t.dependencies=["series"],t.defaultOption={show:!0,zlevel:0,z:4,seriesIndex:"all",min:0,max:200,left:0,right:null,top:null,bottom:0,itemWidth:null,itemHeight:null,inverse:!1,orient:"vertical",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",contentColor:"#5793f3",inactiveColor:"#aaa",borderWidth:0,padding:5,textGap:10,precision:0,textStyle:{color:"#333"}},t}(Pe),d2=[20,140],C5=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return G(t,n),t.prototype.optionUpdated=function(e,i){n.prototype.optionUpdated.apply(this,arguments),this.resetExtent(),this.resetVisual(function(r){r.mappingMethod="linear",r.dataExtent=this.getExtent()}),this._resetRange()},t.prototype.resetItemSize=function(){n.prototype.resetItemSize.apply(this,arguments);var e=this.itemSize;(null==e[0]||isNaN(e[0]))&&(e[0]=d2[0]),(null==e[1]||isNaN(e[1]))&&(e[1]=d2[1])},t.prototype._resetRange=function(){var e=this.getExtent(),i=this.option.range;!i||i.auto?(e.auto=1,this.option.range=e):Z(i)&&(i[0]>i[1]&&i.reverse(),i[0]=Math.max(i[0],e[0]),i[1]=Math.min(i[1],e[1]))},t.prototype.completeVisualOption=function(){n.prototype.completeVisualOption.apply(this,arguments),k(this.stateList,function(e){var i=this.option.controller[e].symbolSize;i&&i[0]!==i[1]&&(i[0]=i[1]/3)},this)},t.prototype.setSelected=function(e){this.option.range=e.slice(),this._resetRange()},t.prototype.getSelected=function(){var e=this.getExtent(),i=On((this.get("range")||[]).slice());return i[0]>e[1]&&(i[0]=e[1]),i[1]>e[1]&&(i[1]=e[1]),i[0]<e[0]&&(i[0]=e[0]),i[1]<e[0]&&(i[1]=e[0]),i},t.prototype.getValueState=function(e){var i=this.option.range,r=this.getExtent();return(i[0]<=r[0]||i[0]<=e)&&(i[1]>=r[1]||e<=i[1])?"inRange":"outOfRange"},t.prototype.findTargetDataIndices=function(e){var i=[];return this.eachTargetSeries(function(r){var o=[],a=r.getData();a.each(this.getDataDimensionIndex(a),function(s,l){e[0]<=s&&s<=e[1]&&o.push(l)},this),i.push({seriesId:r.id,dataIndex:o})},this),i},t.prototype.getVisualMeta=function(e){var i=f2(0,0,this.getExtent()),r=f2(0,0,this.option.range.slice()),o=[];function a(d,f){o.push({value:d,color:e(d,f)})}for(var s=0,l=0,u=r.length,h=i.length;l<h&&(!r.length||i[l]<=r[0]);l++)i[l]<r[s]&&a(i[l],"outOfRange");for(var c=1;s<u;s++,c=0)c&&o.length&&a(r[s],"outOfRange"),a(r[s],"inRange");for(c=1;l<h;l++)(!r.length||r[r.length-1]<i[l])&&(c&&(o.length&&a(o[o.length-1].value,"outOfRange"),c=0),a(i[l],"outOfRange"));var p=o.length;return{stops:o,outerColors:[p?o[0].color:"transparent",p?o[p-1].color:"transparent"]}},t.type="visualMap.continuous",t.defaultOption=Ur(pd.defaultOption,{align:"auto",calculable:!1,hoverLink:!0,realtime:!0,handleIcon:"path://M-11.39,9.77h0a3.5,3.5,0,0,1-3.5,3.5h-22a3.5,3.5,0,0,1-3.5-3.5h0a3.5,3.5,0,0,1,3.5-3.5h22A3.5,3.5,0,0,1-11.39,9.77Z",handleSize:"120%",handleStyle:{borderColor:"#fff",borderWidth:1},indicatorIcon:"circle",indicatorSize:"50%",indicatorStyle:{borderColor:"#fff",borderWidth:2,shadowBlur:2,shadowOffsetX:1,shadowOffsetY:1,shadowColor:"rgba(0,0,0,0.2)"}}),t}(pd);function f2(n,t,e){if(e[0]===e[1])return e.slice();for(var i=(e[1]-e[0])/200,r=e[0],o=[],a=0;a<=200&&r<e[1];a++)o.push(r),r+=i;return o.push(e[1]),o}var g2=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e.autoPositionValues={left:1,right:1,top:1,bottom:1},e}return G(t,n),t.prototype.init=function(e,i){this.ecModel=e,this.api=i},t.prototype.render=function(e,i,r,o){this.visualMapModel=e,!1!==e.get("show")?this.doRender(e,i,r,o):this.group.removeAll()},t.prototype.renderBackground=function(e){var i=this.visualMapModel,r=Qo(i.get("padding")||0),o=e.getBoundingRect();e.add(new Ee({z2:-1,silent:!0,shape:{x:o.x-r[3],y:o.y-r[0],width:o.width+r[3]+r[1],height:o.height+r[0]+r[2]},style:{fill:i.get("backgroundColor"),stroke:i.get("borderColor"),lineWidth:i.get("borderWidth")}}))},t.prototype.getControllerVisual=function(e,i,r){var o=(r=r||{}).forceState,a=this.visualMapModel,s={};if("color"===i){var l=a.get("contentColor");s.color=l}function u(p){return s[p]}function h(p,d){s[p]=d}var c=a.controllerVisuals[o||a.getValueState(e)];return k(Vt.prepareVisualTypes(c),function(p){var d=c[p];r.convertOpacityToAlpha&&"opacity"===p&&(p="colorAlpha",d=c.__alphaForOpacity),Vt.dependsOn(p,i)&&d&&d.applyVisual(e,u,h)}),s[i]},t.prototype.positionGroup=function(e){var r=this.api;Ac(e,this.visualMapModel.getBoxLayoutParams(),{width:r.getWidth(),height:r.getHeight()})},t.prototype.doRender=function(e,i,r,o){},t.type="visualMap",t}(it),m2=[["left","right","width"],["top","bottom","height"]];function y2(n,t,e){var i=n.option,r=i.align;if(null!=r&&"auto"!==r)return r;for(var o={width:t.getWidth(),height:t.getHeight()},a="horizontal"===i.orient?1:0,s=m2[a],l=[0,null,10],u={},h=0;h<3;h++)u[m2[1-a][h]]=l[h],u[s[h]]=2===h?e[0]:i[s[h]];var c=[["x","width",3],["y","height",0]][a],p=Tt(u,o,i.padding);return s[(p.margin[c[2]]||0)+p[c[0]]+.5*p[c[1]]<.5*o[c[1]]?0:1]}function dd(n,t){return k(n||[],function(e){null!=e.dataIndex&&(e.dataIndexInside=e.dataIndex,e.dataIndex=null),e.highlightKey="visualMap"+(t?t.componentIndex:"")}),n}var Wi=Ze,A5=k,v2=Math.min,zv=Math.max,D5=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e._shapes={},e._dataInterval=[],e._handleEnds=[],e._hoverLinkDataIndices=[],e}return G(t,n),t.prototype.doRender=function(e,i,r,o){this._api=r,o&&"selectDataRange"===o.type&&o.from===this.uid||this._buildView()},t.prototype._buildView=function(){this.group.removeAll();var e=this.visualMapModel,i=this.group;this._orient=e.get("orient"),this._useHandle=e.get("calculable"),this._resetInterval(),this._renderBar(i);var r=e.get("text");this._renderEndsText(i,r,0),this._renderEndsText(i,r,1),this._updateView(!0),this.renderBackground(i),this._updateView(),this._enableHoverLinkToSeries(),this._enableHoverLinkFromSeries(),this.positionGroup(i)},t.prototype._renderEndsText=function(e,i,r){if(i){var o=i[1-r];o=null!=o?o+"":"";var a=this.visualMapModel,s=a.get("textGap"),l=a.itemSize,u=this._shapes.mainGroup,h=this._applyTransform([l[0]/2,0===r?-s:l[1]+s],u),c=this._applyTransform(0===r?"bottom":"top",u),p=this._orient,d=this.visualMapModel.textStyleModel;this.group.add(new Re({style:{x:h[0],y:h[1],verticalAlign:"horizontal"===p?"middle":c,align:"horizontal"===p?c:"center",text:o,font:d.getFont(),fill:d.getTextColor()}}))}},t.prototype._renderBar=function(e){var i=this.visualMapModel,r=this._shapes,o=i.itemSize,a=this._orient,s=this._useHandle,l=y2(i,this.api,o),u=r.mainGroup=this._createBarGroup(l),h=new me;u.add(h),h.add(r.outOfRange=_2()),h.add(r.inRange=_2(null,s?b2(this._orient):null,re(this._dragHandle,this,"all",!1),re(this._dragHandle,this,"all",!0))),h.setClipPath(new Ee({shape:{x:0,y:0,width:o[0],height:o[1],r:3}}));var c=i.textStyleModel.getTextRect("\u56fd"),p=zv(c.width,c.height);s&&(r.handleThumbs=[],r.handleLabels=[],r.handleLabelPoints=[],this._createHandle(i,u,0,o,p,a),this._createHandle(i,u,1,o,p,a)),this._createIndicator(i,u,o,p,a),e.add(u)},t.prototype._createHandle=function(e,i,r,o,a,s){var l=re(this._dragHandle,this,r,!1),u=re(this._dragHandle,this,r,!0),h=Wn(e.get("handleSize"),o[0]),c=xt(e.get("handleIcon"),-h/2,-h/2,h,h,null,!0),p=b2(this._orient);c.attr({cursor:p,draggable:!0,drift:l,ondragend:u,onmousemove:function(y){Gn(y.event)}}),c.x=o[0]/2,c.useStyle(e.getModel("handleStyle").getItemStyle()),c.setStyle({strokeNoScale:!0,strokeFirst:!0}),c.style.lineWidth*=2,c.ensureState("emphasis").style=e.getModel(["emphasis","handleStyle"]).getItemStyle(),Ja(c,!0),i.add(c);var d=this.visualMapModel.textStyleModel,f=new Re({cursor:p,draggable:!0,drift:l,onmousemove:function(y){Gn(y.event)},ondragend:u,style:{x:0,y:0,text:"",font:d.getFont(),fill:d.getTextColor()}});f.ensureState("blur").style={opacity:.1},f.stateTransition={duration:200},this.group.add(f);var g=[h,0],m=this._shapes;m.handleThumbs[r]=c,m.handleLabelPoints[r]=g,m.handleLabels[r]=f},t.prototype._createIndicator=function(e,i,r,o,a){var s=Wn(e.get("indicatorSize"),r[0]),l=xt(e.get("indicatorIcon"),-s/2,-s/2,s,s,null,!0);l.attr({cursor:"move",invisible:!0,silent:!0,x:r[0]/2});var u=e.getModel("indicatorStyle").getItemStyle();if(l instanceof It){var h=l.style;l.useStyle(K({image:h.image,x:h.x,y:h.y,width:h.width,height:h.height},u))}else l.useStyle(u);i.add(l);var c=this.visualMapModel.textStyleModel,p=new Re({silent:!0,invisible:!0,style:{x:0,y:0,text:"",font:c.getFont(),fill:c.getTextColor()}});this.group.add(p);var d=[("horizontal"===a?o/2:6)+r[0]/2,0],f=this._shapes;f.indicator=l,f.indicatorLabel=p,f.indicatorLabelPoint=d,this._firstShowIndicator=!0},t.prototype._dragHandle=function(e,i,r,o){if(this._useHandle){if(this._dragging=!i,!i){var a=this._applyTransform([r,o],this._shapes.mainGroup,!0);this._updateInterval(e,a[1]),this._hideIndicator(),this._updateView()}i===!this.visualMapModel.get("realtime")&&this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:this._dataInterval.slice()}),i?!this._hovering&&this._clearHoverLinkToSeries():x2(this.visualMapModel)&&this._doHoverLinkToSeries(this._handleEnds[e],!1)}},t.prototype._resetInterval=function(){var e=this.visualMapModel,i=this._dataInterval=e.getSelected(),r=e.getExtent(),o=[0,e.itemSize[1]];this._handleEnds=[Wi(i[0],r,o,!0),Wi(i[1],r,o,!0)]},t.prototype._updateInterval=function(e,i){var r=this.visualMapModel,o=this._handleEnds,a=[0,r.itemSize[1]];ga(i=i||0,o,a,e,0);var s=r.getExtent();this._dataInterval=[Wi(o[0],a,s,!0),Wi(o[1],a,s,!0)]},t.prototype._updateView=function(e){var i=this.visualMapModel,r=i.getExtent(),o=this._shapes,a=[0,i.itemSize[1]],s=e?a:this._handleEnds,l=this._createBarVisual(this._dataInterval,r,s,"inRange"),u=this._createBarVisual(r,r,a,"outOfRange");o.inRange.setStyle({fill:l.barColor}).setShape("points",l.barPoints),o.outOfRange.setStyle({fill:u.barColor}).setShape("points",u.barPoints),this._updateHandle(s,l)},t.prototype._createBarVisual=function(e,i,r,o){var a={forceState:o,convertOpacityToAlpha:!0},s=this._makeColorGradient(e,a),l=[this.getControllerVisual(e[0],"symbolSize",a),this.getControllerVisual(e[1],"symbolSize",a)],u=this._createBarPoints(r,l);return{barColor:new rs(0,0,0,1,s),barPoints:u,handlesColor:[s[0].color,s[s.length-1].color]}},t.prototype._makeColorGradient=function(e,i){var r=[],o=(e[1]-e[0])/100;r.push({color:this.getControllerVisual(e[0],"color",i),offset:0});for(var a=1;a<100;a++){var s=e[0]+o*a;if(s>e[1])break;r.push({color:this.getControllerVisual(s,"color",i),offset:a/100})}return r.push({color:this.getControllerVisual(e[1],"color",i),offset:1}),r},t.prototype._createBarPoints=function(e,i){var r=this.visualMapModel.itemSize;return[[r[0]-i[0],e[0]],[r[0],e[0]],[r[0],e[1]],[r[0]-i[1],e[1]]]},t.prototype._createBarGroup=function(e){var i=this._orient,r=this.visualMapModel.get("inverse");return new me("horizontal"!==i||r?"horizontal"===i&&r?{scaleX:"bottom"===e?-1:1,rotation:-Math.PI/2}:"vertical"!==i||r?{scaleX:"left"===e?1:-1}:{scaleX:"left"===e?1:-1,scaleY:-1}:{scaleX:"bottom"===e?1:-1,rotation:Math.PI/2})},t.prototype._updateHandle=function(e,i){if(this._useHandle){var r=this._shapes,o=this.visualMapModel,a=r.handleThumbs,s=r.handleLabels,l=o.itemSize,u=o.getExtent();A5([0,1],function(h){var c=a[h];c.setStyle("fill",i.handlesColor[h]),c.y=e[h];var p=Wi(e[h],[0,l[1]],u,!0),d=this.getControllerVisual(p,"symbolSize");c.scaleX=c.scaleY=d/l[0],c.x=l[0]-d/2;var f=fi(r.handleLabelPoints[h],Wr(c,this.group));s[h].setStyle({x:f[0],y:f[1],text:o.formatValueText(this._dataInterval[h]),verticalAlign:"middle",align:"vertical"===this._orient?this._applyTransform("left",r.mainGroup):"center"})},this)}},t.prototype._showIndicator=function(e,i,r,o){var a=this.visualMapModel,s=a.getExtent(),l=a.itemSize,u=[0,l[1]],h=this._shapes,c=h.indicator;if(c){c.attr("invisible",!1);var p=this.getControllerVisual(e,"color",{convertOpacityToAlpha:!0}),d=this.getControllerVisual(e,"symbolSize"),f=Wi(e,s,u,!0),g=l[0]-d/2,m={x:c.x,y:c.y};c.y=f,c.x=g;var y=fi(h.indicatorLabelPoint,Wr(c,this.group)),v=h.indicatorLabel;v.attr("invisible",!1);var _=this._applyTransform("left",h.mainGroup),x="horizontal"===this._orient;v.setStyle({text:(r||"")+a.formatValueText(i),verticalAlign:x?_:"middle",align:x?"center":_});var b={x:g,y:f,style:{fill:p}},w={style:{x:y[0],y:y[1]}};if(a.ecModel.isAnimationEnabled()&&!this._firstShowIndicator){var S={duration:100,easing:"cubicInOut",additive:!0};c.x=m.x,c.y=m.y,c.animateTo(b,S),v.animateTo(w,S)}else c.attr(b),v.attr(w);this._firstShowIndicator=!1;var M=this._shapes.handleLabels;if(M)for(var T=0;T<M.length;T++)this._api.enterBlur(M[T])}},t.prototype._enableHoverLinkToSeries=function(){var e=this;this._shapes.mainGroup.on("mousemove",function(i){if(e._hovering=!0,!e._dragging){var r=e.visualMapModel.itemSize,o=e._applyTransform([i.offsetX,i.offsetY],e._shapes.mainGroup,!0,!0);o[1]=v2(zv(0,o[1]),r[1]),e._doHoverLinkToSeries(o[1],0<=o[0]&&o[0]<=r[0])}}).on("mouseout",function(){e._hovering=!1,!e._dragging&&e._clearHoverLinkToSeries()})},t.prototype._enableHoverLinkFromSeries=function(){var e=this.api.getZr();this.visualMapModel.option.hoverLink?(e.on("mouseover",this._hoverLinkFromSeriesMouseOver,this),e.on("mouseout",this._hideIndicator,this)):this._clearHoverLinkFromSeries()},t.prototype._doHoverLinkToSeries=function(e,i){var m,y,v,_,r=this.visualMapModel;if(r.option.hoverLink){var a=[0,r.itemSize[1]],s=r.getExtent();e=v2(zv(a[0],e),a[1]);var l=(m=s,y=a,v=6,(_=r.get("hoverLinkDataSize"))&&(v=Wi(_,m,y,!0)/2),v),u=[e-l,e+l],h=Wi(e,a,s,!0),c=[Wi(u[0],a,s,!0),Wi(u[1],a,s,!0)];u[0]<a[0]&&(c[0]=-1/0),u[1]>a[1]&&(c[1]=1/0),i&&(c[0]===-1/0?this._showIndicator(h,c[1],"< ",l):c[1]===1/0?this._showIndicator(h,c[0],"> ",l):this._showIndicator(h,h,"\u2248 ",l));var p=this._hoverLinkDataIndices,d=[];(i||x2(r))&&(d=this._hoverLinkDataIndices=r.findTargetDataIndices(c));var f=function(g,m){var y={},v={};return _(g||[],y),_(m||[],v,y),[x(y),x(v)];function _(b,w,S){for(var M=0,T=b.length;M<T;M++){var C=Ot(b[M].seriesId,null);if(null==C)return;for(var A=Je(b[M].dataIndex),D=S&&S[C],L=0,P=A.length;L<P;L++){var E=A[L];D&&D[E]?D[E]=null:(w[C]||(w[C]={}))[E]=1}}}function x(b,w){var S=[];for(var M in b)if(b.hasOwnProperty(M)&&null!=b[M])if(w)S.push(+M);else{var T=x(b[M],!0);T.length&&S.push({seriesId:M,dataIndex:T})}return S}}(p,d);this._dispatchHighDown("downplay",dd(f[0],r)),this._dispatchHighDown("highlight",dd(f[1],r))}},t.prototype._hoverLinkFromSeriesMouseOver=function(e){var i=e.target,r=this.visualMapModel;if(i&&null!=_e(i).dataIndex){var o=_e(i),a=this.ecModel.getSeriesByIndex(o.seriesIndex);if(r.isTargetSeries(a)){var s=a.getData(o.dataType),l=s.getStore().get(r.getDataDimensionIndex(s),o.dataIndex);isNaN(l)||this._showIndicator(l,l)}}},t.prototype._hideIndicator=function(){var e=this._shapes;e.indicator&&e.indicator.attr("invisible",!0),e.indicatorLabel&&e.indicatorLabel.attr("invisible",!0);var i=this._shapes.handleLabels;if(i)for(var r=0;r<i.length;r++)this._api.leaveBlur(i[r])},t.prototype._clearHoverLinkToSeries=function(){this._hideIndicator();var e=this._hoverLinkDataIndices;this._dispatchHighDown("downplay",dd(e,this.visualMapModel)),e.length=0},t.prototype._clearHoverLinkFromSeries=function(){this._hideIndicator();var e=this.api.getZr();e.off("mouseover",this._hoverLinkFromSeriesMouseOver),e.off("mouseout",this._hideIndicator)},t.prototype._applyTransform=function(e,i,r,o){var a=Wr(i,o?null:this.group);return Z(e)?fi(e,a,r):mc(e,a,r)},t.prototype._dispatchHighDown=function(e,i){i&&i.length&&this.api.dispatchAction({type:e,batch:i})},t.prototype.dispose=function(){this._clearHoverLinkFromSeries(),this._clearHoverLinkToSeries()},t.prototype.remove=function(){this._clearHoverLinkFromSeries(),this._clearHoverLinkToSeries()},t.type="visualMap.continuous",t}(g2);function _2(n,t,e,i){return new Zt({shape:{points:n},draggable:!!e,cursor:t,drift:e,onmousemove:function(r){Gn(r.event)},ondragend:i})}function x2(n){var t=n.get("hoverLinkOnHandle");return!!(null==t?n.get("realtime"):t)}function b2(n){return"vertical"===n?"ns-resize":"ew-resize"}var k5={type:"selectDataRange",event:"dataRangeSelected",update:"update"},L5=function(n,t){t.eachComponent({mainType:"visualMap",query:n},function(e){e.setSelected(n.selected)})},P5=[{createOnAllSeries:!0,reset:function(n,t){var e=[];return t.eachComponent("visualMap",function(i){var r,o,a,s,l,u=n.pipelineContext;!i.isTargetSeries(n)||u&&u.large||e.push((r=i.stateList,o=i.targetVisuals,a=re(i.getValueState,i),s=i.getDataDimensionIndex(n.getData()),l={},k(r,function(h){var c=Vt.prepareVisualTypes(o[h]);l[h]=c}),{progress:function(h,c){var p,d;function f(T){return dg(c,d,T)}function g(T,C){Lx(c,d,T,C)}null!=s&&(p=c.getDimensionIndex(s));for(var m=c.getStore();null!=(d=h.next());){var y=c.getRawDataItem(d);if(!y||!1!==y.visualMap)for(var v=null!=s?m.get(p,d):d,_=a(v),x=o[_],b=l[_],w=0,S=b.length;w<S;w++){var M=b[w];x[M]&&x[M].applyVisual(v,f,g)}}}}))}),e}},{createOnAllSeries:!0,reset:function(n,t){var e=n.getData(),i=[];t.eachComponent("visualMap",function(r){if(r.isTargetSeries(n)){var o=r.getVisualMeta(re(O5,null,n,r))||{stops:[],outerColors:[]},a=r.getDataDimensionIndex(e);a>=0&&(o.dimension=a,i.push(o))}}),n.getData().setVisual("visualMeta",i)}}];function O5(n,t,e,i){for(var r=t.targetVisuals[i],o=Vt.prepareVisualTypes(r),a={color:gu(n.getData(),"color")},s=0,l=o.length;s<l;s++){var u=o[s],h=r["opacity"===u?"__alphaForOpacity":u];h&&h.applyVisual(e,c,p)}return a.color;function c(d){return a[d]}function p(d,f){a[d]=f}}var w2=k;function E5(n){var t=n&&n.visualMap;Z(t)||(t=t?[t]:[]),w2(t,function(e){if(e){Zs(e,"splitList")&&!Zs(e,"pieces")&&(e.pieces=e.splitList,delete e.splitList);var i=e.pieces;i&&Z(i)&&w2(i,function(r){pe(r)&&(Zs(r,"start")&&!Zs(r,"min")&&(r.min=r.start),Zs(r,"end")&&!Zs(r,"max")&&(r.max=r.end))})}})}function Zs(n,t){return n&&n.hasOwnProperty&&n.hasOwnProperty(t)}var S2=!1;function M2(n){S2||(S2=!0,n.registerSubTypeDefaulter("visualMap",function(t){return t.categories||(t.pieces?t.pieces.length>0:t.splitNumber>0)&&!t.calculable?"piecewise":"continuous"}),n.registerAction(k5,L5),k(P5,function(t){n.registerVisual(n.PRIORITY.VISUAL.COMPONENT,t)}),n.registerPreprocessor(E5))}function I2(n){n.registerComponentModel(C5),n.registerComponentView(D5),M2(n)}var N5=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e._pieceList=[],e}return G(t,n),t.prototype.optionUpdated=function(e,i){n.prototype.optionUpdated.apply(this,arguments),this.resetExtent();var r=this._mode=this._determineMode();this._pieceList=[],R5[this._mode].call(this,this._pieceList),this._resetSelected(e,i);var o=this.option.categories;this.resetVisual(function(a,s){"categories"===r?(a.mappingMethod="category",a.categories=de(o)):(a.dataExtent=this.getExtent(),a.mappingMethod="piecewise",a.pieceList=J(this._pieceList,function(l){return l=de(l),"inRange"!==s&&(l.visual=null),l}))})},t.prototype.completeVisualOption=function(){var e=this.option,i={},r=Vt.listVisualTypes(),o=this.isCategory();function a(s,l,u){return s&&s[l]&&s[l].hasOwnProperty(u)}k(e.pieces,function(s){k(r,function(l){s.hasOwnProperty(l)&&(i[l]=1)})}),k(i,function(s,l){var u=!1;k(this.stateList,function(h){u=u||a(e,h,l)||a(e.target,h,l)},this),!u&&k(this.stateList,function(h){(e[h]||(e[h]={}))[l]=h2(l,"inRange"===h?"active":"inactive",o)})},this),n.prototype.completeVisualOption.apply(this,arguments)},t.prototype._resetSelected=function(e,i){var r=this.option,o=this._pieceList,a=(i?r:e).selected||{};if(r.selected=a,k(o,function(l,u){var h=this.getSelectedMapKey(l);a.hasOwnProperty(h)||(a[h]=!0)},this),"single"===r.selectedMode){var s=!1;k(o,function(l,u){var h=this.getSelectedMapKey(l);a[h]&&(s?a[h]=!1:s=!0)},this)}},t.prototype.getItemSymbol=function(){return this.get("itemSymbol")},t.prototype.getSelectedMapKey=function(e){return"categories"===this._mode?e.value+"":e.index+""},t.prototype.getPieceList=function(){return this._pieceList},t.prototype._determineMode=function(){var e=this.option;return e.pieces&&e.pieces.length>0?"pieces":this.option.categories?"categories":"splitNumber"},t.prototype.setSelected=function(e){this.option.selected=de(e)},t.prototype.getValueState=function(e){var i=Vt.findPieceIndex(e,this._pieceList);return null!=i&&this.option.selected[this.getSelectedMapKey(this._pieceList[i])]?"inRange":"outOfRange"},t.prototype.findTargetDataIndices=function(e){var i=[],r=this._pieceList;return this.eachTargetSeries(function(o){var a=[],s=o.getData();s.each(this.getDataDimensionIndex(s),function(l,u){Vt.findPieceIndex(l,r)===e&&a.push(u)},this),i.push({seriesId:o.id,dataIndex:a})},this),i},t.prototype.getRepresentValue=function(e){var i;if(this.isCategory())i=e.value;else if(null!=e.value)i=e.value;else{var r=e.interval||[];i=r[0]===-1/0&&r[1]===1/0?0:(r[0]+r[1])/2}return i},t.prototype.getVisualMeta=function(e){if(!this.isCategory()){var i=[],r=["",""],o=this,a=this._pieceList.slice();if(a.length){var s=a[0].interval[0];s!==-1/0&&a.unshift({interval:[-1/0,s]}),(s=a[a.length-1].interval[1])!==1/0&&a.push({interval:[s,1/0]})}else a.push({interval:[-1/0,1/0]});var l=-1/0;return k(a,function(h){var c=h.interval;c&&(c[0]>l&&u([l,c[0]],"outOfRange"),u(c.slice()),l=c[1])},this),{stops:i,outerColors:r}}function u(h,c){var p=o.getRepresentValue({interval:h});c||(c=o.getValueState(p));var d=e(p,c);h[0]===-1/0?r[0]=d:h[1]===1/0?r[1]=d:i.push({value:h[0],color:d},{value:h[1],color:d})}},t.type="visualMap.piecewise",t.defaultOption=Ur(pd.defaultOption,{selected:null,minOpen:!1,maxOpen:!1,align:"auto",itemWidth:20,itemHeight:14,itemSymbol:"roundRect",pieces:null,categories:null,splitNumber:5,selectedMode:"multiple",itemGap:10,hoverLink:!0}),t}(pd),R5={splitNumber:function(n){var t=this.option,e=Math.min(t.precision,20),i=this.getExtent(),r=t.splitNumber;r=Math.max(parseInt(r,10),1),t.splitNumber=r;for(var o=(i[1]-i[0])/r;+o.toFixed(e)!==o&&e<5;)e++;t.precision=e,o=+o.toFixed(e),t.minOpen&&n.push({interval:[-1/0,i[0]],close:[0,0]});for(var a=0,s=i[0];a<r;s+=o,a++)n.push({interval:[s,a===r-1?i[1]:s+o],close:[1,1]});t.maxOpen&&n.push({interval:[i[1],1/0],close:[0,0]}),Vd(n),k(n,function(u,h){u.index=h,u.text=this.formatValueText(u.interval)},this)},categories:function(n){var t=this.option;k(t.categories,function(e){n.push({text:this.formatValueText(e,!0),value:e})},this),T2(t,n)},pieces:function(n){var t=this.option;k(t.pieces,function(e,i){pe(e)||(e={value:e});var r={text:"",index:i};if(null!=e.label&&(r.text=e.label),e.hasOwnProperty("value")){var o=r.value=e.value;r.interval=[o,o],r.close=[1,1]}else{for(var a=r.interval=[],s=r.close=[0,0],l=[1,0,1],u=[-1/0,1/0],h=[],c=0;c<2;c++){for(var p=[["gte","gt","min"],["lte","lt","max"]][c],d=0;d<3&&null==a[c];d++)a[c]=e[p[d]],s[c]=l[d],h[c]=2===d;null==a[c]&&(a[c]=u[c])}h[0]&&a[1]===1/0&&(s[0]=0),h[1]&&a[0]===-1/0&&(s[1]=0),a[0]===a[1]&&s[0]&&s[1]&&(r.value=a[0])}r.visual=Vt.retrieveVisuals(e),n.push(r)},this),T2(t,n),Vd(n),k(n,function(e){var i=e.close;e.text=e.text||this.formatValueText(null!=e.value?e.value:e.interval,!1,[["<","\u2264"][i[1]],[">","\u2265"][i[0]]])},this)}};function T2(n,t){var e=n.inverse;("vertical"===n.orient?!e:e)&&t.reverse()}var z5=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return G(t,n),t.prototype.doRender=function(){var e=this.group;e.removeAll();var i=this.visualMapModel,r=i.get("textGap"),o=i.textStyleModel,a=o.getFont(),s=o.getTextColor(),l=this._getItemAlign(),u=i.itemSize,h=this._getViewData(),c=h.endsText,p=st(i.get("showLabel",!0),!c);c&&this._renderEndsText(e,c[0],u,p,l),k(h.viewPieceList,function(d){var f=d.piece,g=new me;g.onclick=re(this._onItemClick,this,f),this._enableHoverLink(g,d.indexInModelPieceList);var m=i.getRepresentValue(f);if(this._createItemSymbol(g,m,[0,0,u[0],u[1]]),p){var y=this.visualMapModel.getValueState(m);g.add(new Re({style:{x:"right"===l?-r:u[0]+r,y:u[1]/2,text:f.text,verticalAlign:"middle",align:l,font:a,fill:s,opacity:"outOfRange"===y?.5:1}}))}e.add(g)},this),c&&this._renderEndsText(e,c[1],u,p,l),ta(i.get("orient"),e,i.get("itemGap")),this.renderBackground(e),this.positionGroup(e)},t.prototype._enableHoverLink=function(e,i){var r=this;e.on("mouseover",function(){return o("highlight")}).on("mouseout",function(){return o("downplay")});var o=function(a){var s=r.visualMapModel;s.option.hoverLink&&r.api.dispatchAction({type:a,batch:dd(s.findTargetDataIndices(i),s)})}},t.prototype._getItemAlign=function(){var e=this.visualMapModel,i=e.option;if("vertical"===i.orient)return y2(e,this.api,e.itemSize);var r=i.align;return r&&"auto"!==r||(r="left"),r},t.prototype._renderEndsText=function(e,i,r,o,a){if(i){var s=new me,l=this.visualMapModel.textStyleModel;s.add(new Re({style:{x:o?"right"===a?r[0]:0:r[0]/2,y:r[1]/2,verticalAlign:"middle",align:o?a:"center",text:i,font:l.getFont(),fill:l.getTextColor()}})),e.add(s)}},t.prototype._getViewData=function(){var e=this.visualMapModel,i=J(e.getPieceList(),function(s,l){return{piece:s,indexInModelPieceList:l}}),r=e.get("text"),o=e.get("orient"),a=e.get("inverse");return("horizontal"===o?a:!a)?i.reverse():r&&(r=r.slice().reverse()),{viewPieceList:i,endsText:r}},t.prototype._createItemSymbol=function(e,i,r){e.add(xt(this.getControllerVisual(i,"symbol"),r[0],r[1],r[2],r[3],this.getControllerVisual(i,"color")))},t.prototype._onItemClick=function(e){var i=this.visualMapModel,r=i.option,o=de(r.selected),a=i.getSelectedMapKey(e);"single"===r.selectedMode?(o[a]=!0,k(o,function(s,l){o[l]=l===a})):o[a]=!o[a],this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:o})},t.type="visualMap.piecewise",t}(g2);function C2(n){n.registerComponentModel(N5),n.registerComponentView(z5),M2(n)}var B5={label:{enabled:!0},decal:{show:!1}},A2=We(),V5={};function G5(n,t){var e=n.getModel("aria");if(e.get("enabled")){var i=de(B5);we(i.label,n.getLocaleModel().get("aria"),!1),we(e.option,i,!1),function(){if(e.getModel("decal").get("show")){var o=ue();n.eachSeries(function(a){if(!a.isColorBySeries()){var s=o.get(a.type);s||o.set(a.type,s={}),A2(a).scope=s}}),n.eachRawSeries(function(a){if(!n.isSeriesFiltered(a))if("function"!=typeof a.enableAriaDecal){var s=a.getData();if(a.isColorBySeries()){var l=qf(a.ecModel,a.name,V5,n.getSeriesCount()),u=s.getVisual("decal");s.setVisual("decal",f(u,l))}else{var h=a.getRawData(),c={},p=A2(a).scope;s.each(function(g){var m=s.getRawIndex(g);c[m]=g});var d=h.count();h.each(function(g){var m=c[g],y=h.getName(g)||g+"",v=qf(a.ecModel,y,p,d),_=s.getItemVisual(m,"decal");s.setItemVisual(m,"decal",f(_,v))})}}else a.enableAriaDecal();function f(g,m){var y=g?K(K({},m),g):m;return y.dirty=!0,y}})}}(),function(){var x,o=n.getLocaleModel().get("aria"),a=e.getModel("label");if(a.option=ce(a.option,o),a.get("enabled")){var s=t.getZr().dom;if(a.get("description"))return void s.setAttribute("aria-label",a.get("description"));var l,u=n.getSeriesCount(),h=a.get(["data","maxCount"])||10,c=a.get(["series","maxCount"])||10,p=Math.min(u,c);if(!(u<1)){var d=((x=n.get("title"))&&x.length&&(x=x[0]),x&&x.text);l=d?r(a.get(["general","withTitle"]),{title:d}):a.get(["general","withoutTitle"]);var g=[];l+=r(a.get(u>1?["series","multiple","prefix"]:["series","single","prefix"]),{seriesCount:u}),n.eachSeries(function(x,b){if(b<p){var w=void 0,S=x.get("name")?"withName":"withoutName";w=r(w=a.get(u>1?["series","multiple",S]:["series","single",S]),{seriesId:x.seriesIndex,seriesName:x.get("name"),seriesType:(N=x.subType,n.getLocaleModel().get(["series","typeNames"])[N]||"\u81ea\u5b9a\u4e49\u56fe")});var M=x.getData();M.count()>h?w+=r(a.get(["data","partialData"]),{displayCnt:h}):w+=a.get(["data","allData"]);for(var T=a.get(["data","separator","middle"]),C=a.get(["data","separator","end"]),A=[],D=0;D<M.count();D++)if(D<h){var L=M.getName(D),P=M.getValues(D),E=a.get(["data",L?"withName":"withoutName"]);A.push(r(E,{name:L,value:P.join(T)}))}w+=A.join(T)+C,g.push(w)}var N});var y=a.getModel(["series","multiple","separator"]),v=y.get("middle"),_=y.get("end");l+=g.join(v)+_,s.setAttribute("aria-label",l)}}}()}function r(o,a){if("string"!=typeof o)return o;var s=o;return k(a,function(l,u){s=s.replace(new RegExp("\\{\\s*"+u+"\\s*\\}","g"),l)}),s}}function F5(n){if(n&&n.aria){var t=n.aria;null!=t.show&&(t.enabled=t.show),t.label=t.label||{},k(["description","general","series","data"],function(e){null!=t[e]&&(t.label[e]=t[e])})}}var D2={value:"eq","<":"lt","<=":"lte",">":"gt",">=":"gte","=":"eq","!=":"ne","<>":"ne"},H5=function(){function n(t){null==(this._condVal=Ce(t)?new RegExp(t):yh(t)?t:null)&&Xe("")}return n.prototype.evaluate=function(t){var e=typeof t;return"string"===e?this._condVal.test(t):"number"===e&&this._condVal.test(t+"")},n}(),W5=function(){function n(){}return n.prototype.evaluate=function(){return this.value},n}(),U5=function(){function n(){}return n.prototype.evaluate=function(){for(var t=this.children,e=0;e<t.length;e++)if(!t[e].evaluate())return!1;return!0},n}(),X5=function(){function n(){}return n.prototype.evaluate=function(){for(var t=this.children,e=0;e<t.length;e++)if(t[e].evaluate())return!0;return!1},n}(),Y5=function(){function n(){}return n.prototype.evaluate=function(){return!this.child.evaluate()},n}(),Z5=function(){function n(){}return n.prototype.evaluate=function(){for(var t=!!this.valueParser,e=(0,this.getValue)(this.valueGetterParam),i=t?this.valueParser(e):null,r=0;r<this.subCondList.length;r++)if(!this.subCondList[r].evaluate(t?i:e))return!1;return!0},n}();function Bv(n,t){if(!0===n||!1===n){var e=new W5;return e.value=n,e}return L2(n)||Xe(""),n.and?k2("and",n,t):n.or?k2("or",n,t):n.not?function(r,o){var a=r.not;L2(a)||Xe("");var l=new Y5;return l.child=Bv(a,o),l.child||Xe(""),l}(n,t):function(r,o){for(var s=o.prepareGetValue(r),l=[],u=q(r),h=r.parser,c=h?Y1(h):null,p=0;p<u.length;p++){var d=u[p];if("parser"!==d&&!o.valueGetterAttrMap.get(d)){var f=se(D2,d)?D2[d]:d,g=r[d],m=c?c(g):g,y=ek(f,m)||"reg"===f&&new H5(m);y||Xe(""),l.push(y)}}l.length||Xe("");var v=new Z5;return v.valueGetterParam=s,v.valueParser=c,v.getValue=o.getValue,v.subCondList=l,v}(n,t)}function k2(n,t,e){var i=t[n];Z(i)||Xe(""),i.length||Xe("");var o="and"===n?new U5:new X5;return o.children=J(i,function(a){return Bv(a,e)}),o.children.length||Xe(""),o}function L2(n){return pe(n)&&!Ft(n)}var j5=function(){function n(t,e){this._cond=Bv(t,e)}return n.prototype.evaluate=function(){return this._cond.evaluate()},n}(),q5={type:"echarts:filter",transform:function(n){for(var t,e,i,r=n.upstream,o=(e=n.config,i={valueGetterAttrMap:ue({dimension:!0}),prepareGetValue:function(u){var c=u.dimension;se(u,"dimension")||Xe("");var p=r.getDimensionInfo(c);return p||Xe(""),{dimIdx:p.index}},getValue:function(u){return r.retrieveValueFromItem(t,u.dimIdx)}},new j5(e,i)),a=[],s=0,l=r.count();s<l;s++)t=r.getRawDataItem(s),o.evaluate()&&a.push(t);return{data:a}}},K5={type:"echarts:sort",transform:function(n){var t=n.upstream,i="",r=Je(n.config);r.length||Xe(i);var o=[];k(r,function(h){var c=h.dimension,p=h.order,d=h.parser,f=h.incomparable;null==c&&Xe(i),"asc"!==p&&"desc"!==p&&Xe(i),f&&"min"!==f&&"max"!==f&&Xe(""),"asc"!==p&&"desc"!==p&&Xe("");var y=t.getDimensionInfo(c);y||Xe(i);var v=d?Y1(d):null;d&&!v&&Xe(i),o.push({dimIdx:y.index,parser:v,comparator:new j1(p,f)})});var a=t.sourceFormat;a!==lr&&a!==Zr&&Xe(i);for(var s=[],l=0,u=t.count();l<u;l++)s.push(t.getRawDataItem(l));return s.sort(function(h,c){for(var p=0;p<o.length;p++){var d=o[p],f=t.retrieveValueFromItem(h,d.dimIdx),g=t.retrieveValueFromItem(c,d.dimIdx);d.parser&&(f=d.parser(f),g=d.parser(g));var m=d.comparator.evaluate(f,g);if(0!==m)return m}return 0}),{data:s}}},$5=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type="dataset",e}return G(t,n),t.prototype.init=function(e,i,r){n.prototype.init.call(this,e,i,r),this._sourceManager=new ex(this),tx(this)},t.prototype.mergeOption=function(e,i){n.prototype.mergeOption.call(this,e,i),tx(this)},t.prototype.optionUpdated=function(){this._sourceManager.dirty()},t.prototype.getSourceManager=function(){return this._sourceManager},t.type="dataset",t.defaultOption={seriesLayoutBy:na},t}(Pe),Q5=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type="dataset",e}return G(t,n),t.type="dataset",t}(it),Ui=or.CMD;function js(n,t){return Math.abs(n-t)<1e-5}function Vv(n){var t,e,i,r,o,D,L,P,E,N,R,z,B,V,W,Y,Q,U,ee,te,oe,ae,a=n.data,s=n.len(),l=[],u=0,h=0,c=0,p=0;function d(D,L){t&&t.length>2&&l.push(t),t=[D,L]}function f(D,L,P,E){js(D,P)&&js(L,E)||t.push(D,L,P,E,P,E)}for(var m=0;m<s;){var y=a[m++],v=1===m;switch(v&&(c=u=a[m],p=h=a[m+1],y!==Ui.L&&y!==Ui.C&&y!==Ui.Q||(t=[c,p])),y){case Ui.M:u=c=a[m++],h=p=a[m++],d(c,p);break;case Ui.L:f(u,h,e=a[m++],i=a[m++]),u=e,h=i;break;case Ui.C:t.push(a[m++],a[m++],a[m++],a[m++],u=a[m++],h=a[m++]);break;case Ui.Q:e=a[m++],i=a[m++],r=a[m++],o=a[m++],t.push(u+2/3*(e-u),h+2/3*(i-h),r+2/3*(e-r),o+2/3*(i-o),r,o),u=r,h=o;break;case Ui.A:var _=a[m++],x=a[m++],b=a[m++],w=a[m++],S=a[m++],M=a[m++]+S;m+=1;var T=!a[m++];e=Math.cos(S)*b+_,i=Math.sin(S)*w+x,v?d(c=e,p=i):f(u,h,e,i),u=Math.cos(M)*b+_,h=Math.sin(M)*w+x;for(var C=(T?-1:1)*Math.PI/2,A=S;T?A>M:A<M;A+=C)D=A,L=T?Math.max(A+C,M):Math.min(A+C,M),P=_,E=x,N=b,R=w,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,z=Math.abs(L-D),B=4*Math.tan(z/4)/3,V=L<D?-1:1,W=Math.cos(D),Y=Math.sin(D),Q=Math.cos(L),U=Math.sin(L),t.push(W*N+P-(oe=N*B*V)*Y,Y*R+E+(ae=R*B*V)*W,(ee=Q*N+P)+oe*U,(te=U*R+E)-ae*Q,ee,te);break;case Ui.R:c=u=a[m++],p=h=a[m++],e=c+a[m++],i=p+a[m++],d(e,p),f(e,p,e,i),f(e,i,c,i),f(c,i,c,p),f(c,p,e,p);break;case Ui.Z:t&&f(u,h,c,p),u=c,h=p}}return t&&t.length>2&&l.push(t),l}function Gv(n,t,e,i,r,o,a,s,l,u){if(js(n,e)&&js(t,i)&&js(r,a)&&js(o,s))l.push(a,s);else{var h=2/u,c=h*h,p=a-n,d=s-t,f=Math.sqrt(p*p+d*d);p/=f,d/=f;var g=e-n,m=i-t,y=r-a,v=o-s,_=g*g+m*m,x=y*y+v*v;if(_<c&&x<c)l.push(a,s);else{var b=p*g+d*m,w=-p*y-d*v;if(_-b*b<c&&b>=0&&x-w*w<c&&w>=0)l.push(a,s);else{var S=[],M=[];Rr(n,e,r,a,.5,S),Rr(t,i,o,s,.5,M),Gv(S[0],M[0],S[1],M[1],S[2],M[2],S[3],M[3],l,u),Gv(S[4],M[4],S[5],M[5],S[6],M[6],S[7],M[7],l,u)}}}}function P2(n,t,e){var o=Math.abs(n[t]/n[1-t]),a=Math.ceil(Math.sqrt(o*e)),s=Math.floor(e/a);0===s&&(s=1,a=e);for(var l=[],u=0;u<a;u++)l.push(s);var h=e-a*s;if(h>0)for(u=0;u<h;u++)l[u%a]+=1;return l}function O2(n,t,e){for(var i=n.r0,r=n.r,o=n.startAngle,s=Math.abs(n.endAngle-o),l=s*r,u=r-i,h=l>Math.abs(u),c=P2([l,u],h?0:1,t),p=(h?s:u)/c.length,d=0;d<c.length;d++)for(var f=(h?u:s)/c[d],g=0;g<c[d];g++){var m={};h?(m.startAngle=o+p*d,m.endAngle=o+p*(d+1),m.r0=i+f*g,m.r=i+f*(g+1)):(m.startAngle=o+f*g,m.endAngle=o+f*(g+1),m.r0=i+p*d,m.r=i+p*(d+1)),m.clockwise=n.clockwise,m.cx=n.cx,m.cy=n.cy,e.push(m)}}function E2(n,t,e,i){return n*i-e*t}function J5(n,t,e,i,r,o,a,s){var l=e-n,u=i-t,h=a-r,c=s-o,p=E2(h,c,l,u);if(Math.abs(p)<1e-6)return null;var d=E2(n-r,t-o,h,c)/p;return d<0||d>1?null:new Se(d*l+n,d*u+t)}function eB(n,t,e){var i=new Se;Se.sub(i,e,t),i.normalize();var r=new Se;return Se.sub(r,n,t),r.dot(i)}function qs(n,t){var e=n[n.length-1];e&&e[0]===t[0]&&e[1]===t[1]||n.push(t)}function N2(n){var t=n.points,e=[],i=[];Rl(t,e,i);var r=new De(e[0],e[1],i[0]-e[0],i[1]-e[1]),o=r.width,a=r.height,s=r.x,l=r.y,u=new Se,h=new Se;return o>a?(u.x=h.x=s+o/2,u.y=l,h.y=l+a):(u.y=h.y=l+a/2,u.x=s,h.x=s+o),function(c,p,d){for(var f=c.length,g=[],m=0;m<f;m++){var y=c[m],v=c[(m+1)%f],_=J5(y[0],y[1],v[0],v[1],p.x,p.y,d.x,d.y);_&&g.push({projPt:eB(_,p,d),pt:_,idx:m})}if(g.length<2)return[{points:c},{points:c}];g.sort(function(A,D){return A.projPt-D.projPt});var x=g[0],b=g[g.length-1];if(b.idx<x.idx){var w=x;x=b,b=w}var S=[x.pt.x,x.pt.y],M=[b.pt.x,b.pt.y],T=[S],C=[M];for(m=x.idx+1;m<=b.idx;m++)qs(T,c[m].slice());for(qs(T,M),qs(T,S),m=b.idx+1;m<=x.idx+f;m++)qs(C,c[m%f].slice());return qs(C,S),qs(C,M),[{points:T},{points:C}]}(t,u,h)}function fd(n,t,e,i){if(1===e)i.push(t);else{var r=Math.floor(e/2),o=n(t);fd(n,o[0],r,i),fd(n,o[1],e-r,i)}return i}function tB(n,t){t.setStyle(n.style),t.z=n.z,t.z2=n.z2,t.zlevel=n.zlevel}function iB(n,t){var e=n.length,i=t.length;if(e===i)return[n,t];for(var r=[],o=[],a=e<i?n:t,s=Math.min(e,i),l=Math.abs(i-e)/6,h=Math.ceil(l/((s-2)/6))+1,c=[a[0],a[1]],p=l,d=2;d<s;){var f=a[d-2],g=a[d-1],m=a[d++],y=a[d++],v=a[d++],_=a[d++],x=a[d++],b=a[d++];if(p<=0)c.push(m,y,v,_,x,b);else{for(var w=Math.min(p,h-1)+1,S=1;S<=w;S++){var M=S/w;Rr(f,m,v,x,M,r),Rr(g,y,_,b,M,o),c.push(r[1],o[1],r[2],o[2],f=r[3],g=o[3]),m=r[5],y=o[5],v=r[6],_=o[6]}p-=w-1}}return a===n?[c,t]:[n,c]}function R2(n,t){for(var e=n.length,i=n[e-2],r=n[e-1],o=[],a=0;a<t.length;)o[a++]=i,o[a++]=r;return o}function z2(n){for(var t=0,e=0,i=0,r=n.length,o=0,a=r-2;o<r;a=o,o+=2){var s=n[a],l=n[a+1],u=n[o],h=n[o+1],c=s*h-u*l;t+=c,e+=(s+u)*c,i+=(l+h)*c}return 0===t?[n[0]||0,n[1]||0]:[e/t/3,i/t/3,t]}function rB(n,t,e,i){for(var r=(n.length-2)/6,o=1/0,a=0,s=n.length,l=s-2,u=0;u<r;u++){for(var h=6*u,c=0,p=0;p<s;p+=2){var d=0===p?h:(h+p-2)%l+2,m=t[p]-i[0]-(n[d]-e[0]),y=t[p+1]-i[1]-(n[d+1]-e[1]);c+=m*m+y*y}c<o&&(o=c,a=u)}return a}function oB(n){for(var t=[],e=n.length,i=0;i<e;i+=2)t[i]=n[e-i-2],t[i+1]=n[e-i-1];return t}function gd(n){return n.__isCombineMorphing}var B2="__mOriginal_";function md(n,t,e){var i=B2+t,r=n[i]||n[t];n[i]||(n[i]=n[t]);var o=e.replace,a=e.after,s=e.before;n[t]=function(){var l,u=arguments;return s&&s.apply(this,u),l=o?o.apply(this,u):r.apply(this,u),a&&a.apply(this,u),l}}function gh(n,t){var e=B2+t;n[e]&&(n[t]=n[e],n[e]=null)}function V2(n,t){for(var e=0;e<n.length;e++)for(var i=n[e],r=0;r<i.length;){var o=i[r],a=i[r+1];i[r++]=t[0]*o+t[2]*a+t[4],i[r++]=t[1]*o+t[3]*a+t[5]}}function G2(n,t){var e=n.getUpdatedPathProxy(),i=t.getUpdatedPathProxy(),r=function(c,p){for(var d,f,g,m=[],y=[],v=0;v<Math.max(c.length,p.length);v++){var _=c[v],x=p[v],b=void 0,w=void 0;_?x?(f=b=(d=iB(_,x))[0],g=w=d[1]):(w=R2(g||_,_),b=_):(b=R2(f||x,x),w=x),m.push(b),y.push(w)}return[m,y]}(Vv(e),Vv(i)),o=r[0],a=r[1],s=n.getComputedTransform(),l=t.getComputedTransform();s&&V2(o,s),l&&V2(a,l),md(t,"updateTransform",{replace:function(){this.transform=null}}),t.transform=null;var u=function(c,p,d,f){for(var g,m=[],y=0;y<c.length;y++){var v=c[y],_=p[y],x=z2(v),b=z2(_);null==g&&(g=x[2]<0!=b[2]<0);var w=[],S=[],M=0,T=1/0,C=[],A=v.length;g&&(v=oB(v));for(var D=6*rB(v,_,x,b),L=A-2,P=0;P<L;P+=2){var E=(D+P)%L+2;w[P+2]=v[E]-x[0],w[P+3]=v[E+1]-x[1]}w[0]=v[D]-x[0],w[1]=v[D+1]-x[1];for(var N=f/10,R=-f/2;R<=f/2;R+=N){var z=Math.sin(R),B=Math.cos(R),V=0;for(P=0;P<v.length;P+=2){var W=w[P],Y=w[P+1],Q=_[P]-b[0],U=_[P+1]-b[1],j=Q*B-U*z,ne=Q*z+U*B;C[P]=j,C[P+1]=ne;var ee=j-W,te=ne-Y;V+=ee*ee+te*te}if(V<T){T=V,M=R;for(var oe=0;oe<C.length;oe++)S[oe]=C[oe]}}m.push({from:w,to:S,fromCp:x,toCp:b,rotation:-M})}return m}(o,a,0,Math.PI),h=[];md(t,"buildPath",{replace:function(c){for(var p=t.__morphT,d=1-p,f=[],g=0;g<u.length;g++){var m=u[g],y=m.from,v=m.to,_=m.rotation*p,x=m.fromCp,b=m.toCp,w=Math.sin(_),S=Math.cos(_);wo(f,x,b,p);for(var M=0;M<y.length;M+=2){var A=y[M]*d+(E=v[M])*p,D=y[M+1]*d+(N=v[M+1])*p;h[M]=A*S-D*w+f[0],h[M+1]=A*w+D*S+f[1]}var L=h[0],P=h[1];for(c.moveTo(L,P),M=2;M<y.length;){var E=h[M++],N=h[M++],R=h[M++],z=h[M++],B=h[M++],V=h[M++];L===E&&P===N&&R===B&&z===V?c.lineTo(B,V):c.bezierCurveTo(E,N,R,z,B,V),L=B,P=V}}}})}function Fv(n,t,e){if(!n||!t)return t;var i=e.done,r=e.during;return G2(n,t),t.__morphT=0,t.animateTo({__morphT:1},ce({during:function(o){t.dirtyShape(),r&&r(o)},done:function(){gh(t,"buildPath"),gh(t,"updateTransform"),t.__morphT=-1,t.createPathProxy(),t.dirtyShape(),i&&i()}},e)),t}function aB(n,t,e,i,r,o){n=r===e?0:Math.round(32767*(n-e)/(r-e)),t=o===i?0:Math.round(32767*(t-i)/(o-i));for(var a,s=0,l=32768;l>0;l/=2){var u=0,h=0;(n&l)>0&&(u=1),(t&l)>0&&(h=1),s+=l*l*(3*u^h),0===h&&(1===u&&(n=l-1-n,t=l-1-t),a=n,n=t,t=a)}return s}function yd(n){var t=1/0,e=1/0,i=-1/0,r=-1/0,o=J(n,function(a){var s=a.getBoundingRect(),l=a.getComputedTransform(),u=s.x+s.width/2+(l?l[4]:0),h=s.y+s.height/2+(l?l[5]:0);return t=Math.min(u,t),e=Math.min(h,e),i=Math.max(u,i),r=Math.max(h,r),[u,h]});return J(o,function(a,s){return{cp:a,z:aB(a[0],a[1],t,e,i,r),path:n[s]}}).sort(function(a,s){return a.z-s.z}).map(function(a){return a.path})}function F2(n){return function(n,t){var e,i=[],r=n.shape;switch(n.type){case"rect":(function(y,v,_){for(var x=y.width,b=y.height,w=x>b,S=P2([x,b],w?0:1,v),M=w?"width":"height",T=w?"height":"width",C=w?"x":"y",A=w?"y":"x",D=y[M]/S.length,L=0;L<S.length;L++)for(var P=y[T]/S[L],E=0;E<S[L];E++){var N={};N[C]=L*D,N[A]=E*P,N[M]=D,N[T]=P,N.x+=y.x,N.y+=y.y,_.push(N)}})(r,t,i),e=Ee;break;case"sector":O2(r,t,i),e=Qt;break;case"circle":O2({r0:0,r:r.r,startAngle:0,endAngle:2*Math.PI,cx:r.cx,cy:r.cy},t,i),e=Qt;break;default:var o=n.getComputedTransform(),a=o?Math.sqrt(Math.max(o[0]*o[0]+o[1]*o[1],o[2]*o[2]+o[3]*o[3])):1,s=J(function(y,v){var _=Vv(y),x=[];v=v||1;for(var b=0;b<_.length;b++){var w=_[b],S=[],M=w[0],T=w[1];S.push(M,T);for(var C=2;C<w.length;){var A=w[C++],D=w[C++],L=w[C++],P=w[C++],E=w[C++],N=w[C++];Gv(M,T,A,D,L,P,E,N,S,v),M=E,T=N}x.push(S)}return x}(n.getUpdatedPathProxy(),a),function(y){return function(v){for(var _=[],x=0;x<v.length;)_.push([v[x++],v[x++]]);return _}(y)}),l=s.length;if(0===l)fd(N2,{points:s[0]},t,i);else if(l===t)for(var u=0;u<l;u++)i.push({points:s[u]});else{var h=0,c=J(s,function(y){var v=[],_=[];Rl(y,v,_);var x=(_[1]-v[1])*(_[0]-v[0]);return h+=x,{poly:y,area:x}});c.sort(function(y,v){return v.area-y.area});var p=t;for(u=0;u<l;u++){var d=c[u];if(p<=0)break;var f=u===l-1?p:Math.ceil(d.area/h*t);f<0||(fd(N2,{points:d.poly},f,i),p-=f)}}e=Zt}if(!e)return function(y,v){for(var _=[],x=0;x<v;x++)_.push(_f(y));return _}(n,t);var g=[];for(u=0;u<i.length;u++){var m=new e;m.setShape(i[u]),tB(n,m),g.push(m)}return g}(n.path,n.count)}function H2(n){return Z(n[0])}function W2(n,t){for(var e=[],i=n.length,r=0;r<i;r++)e.push({one:n[r],many:[]});for(r=0;r<t.length;r++){var o=t[r].length,a=void 0;for(a=0;a<o;a++)e[a%i].many.push(t[r][a])}var s=0;for(r=i-1;r>=0;r--)if(!e[r].many.length){var l=e[s].many;if(l.length<=1){if(!s)return e;s=0}o=l.length;var u=Math.ceil(o/2);e[r].many=l.slice(u,o),e[s].many=l.slice(0,u),s++}return e}var sB={clone:function(n){for(var t=[],e=1-Math.pow(1-n.path.style.opacity,1/n.count),i=0;i<n.count;i++){var r=_f(n.path);r.setStyle("opacity",e),t.push(r)}return t},split:null};function Hv(n,t,e,i,r,o){if(n.length&&t.length){var a=cc("update",i,r);if(a&&a.duration>0){var s,l,u=i.getModel("universalTransition").get("delay"),h=Object.assign({setToFinal:!0},a);H2(n)&&(s=n,l=t),H2(t)&&(s=t,l=n);for(var c=s?s===n:n.length>t.length,p=s?W2(l,s):W2(c?t:n,[c?n:t]),d=0,f=0;f<p.length;f++)d+=p[f].many.length;var g=0;for(f=0;f<p.length;f++)m(p[f],c,g,d),g+=p[f].many.length}}function m(y,v,_,x,b){var w=y.many,S=y.one;if(1!==w.length||b)for(var M=ce({dividePath:sB[e],individualDelay:u&&function(R,z,B,V){return u(R+_,x)}},h),T=v?function(R,z,B){var V=[];!function Ve(Ne){for(var ft=0;ft<Ne.length;ft++){var ot=Ne[ft];gd(ot)?Ve(ot.childrenRef()):ot instanceof Le&&V.push(ot)}}(R);var W=V.length;if(!W)return{fromIndividuals:[],toIndividuals:[],count:0};var Y=(B.dividePath||F2)({path:z,count:W});if(Y.length!==W)return console.error("Invalid morphing: unmatched splitted path"),{fromIndividuals:[],toIndividuals:[],count:0};V=yd(V),Y=yd(Y);for(var Q=B.done,U=B.during,j=B.individualDelay,ne=new ir,ee=0;ee<W;ee++){var te=V[ee],oe=Y[ee];oe.parent=z,oe.copyTransform(ne),j||G2(te,oe)}function ae(Ve){for(var Ne=0;Ne<Y.length;Ne++)Y[Ne].addSelfToZr(Ve)}function fe(){z.__isCombineMorphing=!1,z.__morphT=-1,z.childrenRef=null,gh(z,"addSelfToZr"),gh(z,"removeSelfFromZr")}z.__isCombineMorphing=!0,z.childrenRef=function(){return Y},md(z,"addSelfToZr",{after:function(Ve){ae(Ve)}}),md(z,"removeSelfFromZr",{after:function(Ve){for(var Ne=0;Ne<Y.length;Ne++)Y[Ne].removeSelfFromZr(Ve)}});var ve=Y.length;if(j){var xe=ve,ct=function(){0==--xe&&(fe(),Q&&Q())};for(ee=0;ee<ve;ee++){var ut=j?ce({delay:(B.delay||0)+j(ee,ve,V[ee],Y[ee]),done:ct},B):B;Fv(V[ee],Y[ee],ut)}}else z.__morphT=0,z.animateTo({__morphT:1},ce({during:function(Ve){for(var Ne=0;Ne<ve;Ne++){var ft=Y[Ne];ft.__morphT=z.__morphT,ft.dirtyShape()}U&&U(Ve)},done:function(){fe();for(var Ve=0;Ve<R.length;Ve++)gh(R[Ve],"updateTransform");Q&&Q()}},B));return z.__zr&&ae(z.__zr),{fromIndividuals:V,toIndividuals:Y,count:ve}}(w,S,M):function(R,z,B){var V=z.length,W=[],Y=B.dividePath||F2;if(gd(R)){!function oe(ae){for(var fe=0;fe<ae.length;fe++){var ve=ae[fe];gd(ve)?oe(ve.childrenRef()):ve instanceof Le&&W.push(ve)}}(R.childrenRef());var Q=W.length;if(Q<V)for(var U=0,j=Q;j<V;j++)W.push(_f(W[U++%Q]));W.length=V}else{W=Y({path:R,count:V});var ne=R.getComputedTransform();for(j=0;j<W.length;j++)W[j].setLocalTransform(ne);if(W.length!==V)return console.error("Invalid morphing: unmatched splitted path"),{fromIndividuals:[],toIndividuals:[],count:0}}W=yd(W),z=yd(z);var ee=B.individualDelay;for(j=0;j<V;j++){var te=ee?ce({delay:(B.delay||0)+ee(j,V,W[j],z[j])},B):B;Fv(W[j],z[j],te)}return{fromIndividuals:W,toIndividuals:z,count:z.length}}(S,w,M),C=T.fromIndividuals,A=T.toIndividuals,D=C.length,L=0;L<D;L++)P=u?ce({delay:u(L,D)},h):h,o(C[L],A[L],v?w[L]:y.one,v?y.one:w[L],P);else{var P,E=v?w[0]:S,N=v?S:w[0];gd(E)?m({many:[E],one:N},!0,_,x,!0):(Fv(E,N,P=u?ce({delay:u(_,x)},h):h),o(E,N,E,N,P))}}}function ba(n){if(!n)return[];if(Z(n)){for(var t=[],e=0;e<n.length;e++)t.push(ba(n[e]));return t}var i=[];return n.traverse(function(r){r instanceof Le&&!r.disableMorphing&&!r.invisible&&!r.ignore&&i.push(r)}),i}var lB=We();function U2(n){var t=[];return k(n,function(e){var i=e.data;if(!(i.count()>1e4))for(var r=i.getIndices(),o=function(s){for(var l=s.dimensions,u=0;u<l.length;u++){var h=s.getDimensionInfo(l[u]);if(h&&0===h.otherDims.itemGroupId)return l[u]}}(i),a=0;a<r.length;a++)t.push({data:i,dim:e.dim||o,divide:e.divide,dataIndex:a})}),t}function Wv(n,t,e){n.traverse(function(i){i instanceof Le&&lt(i,{style:{opacity:0}},t,{dataIndex:e,isFrom:!0})})}function Uv(n){if(n.parent){var t=n.getComputedTransform();n.setLocalTransform(t),n.parent.remove(n)}}function Ks(n){n.stopAnimation(),n.isGroup&&n.traverse(function(t){t.stopAnimation()})}function X2(n,t,e){var i=U2(n),r=U2(t);function o(y,v,_,x,b){(_||y)&&v.animateFrom({style:(_||y).style},b)}function a(y){for(var v=0;v<y.length;v++)if(y[v].dim)return y[v].dim}var s=a(i),l=a(r),u=!1;function h(y,v){return function(_){var x=_.data,b=_.dataIndex;if(v)return x.getId(b);var w=x.hostModel&&x.hostModel.get("dataGroupId"),S=y?s||l:l||s,M=S&&x.getDimensionInfo(S),T=M&&M.ordinalMeta;if(M){var C=x.get(M.name,b);return T&&T.categories[C]||C+""}var A=x.getRawDataItem(b);return A&&A.groupId?A.groupId+"":w||x.getId(b)}}var c=function(y,v){var _=y.length;if(_!==v.length)return!1;for(var x=0;x<_;x++){var b=y[x],w=v[x];if(b.data.getId(b.dataIndex)!==w.data.getId(w.dataIndex))return!1}return!0}(i,r),p={};if(!c)for(var d=0;d<r.length;d++){var f=r[d],g=f.data.getItemGraphicEl(f.dataIndex);g&&(p[g.id]=!0)}function m(y,v){var _=i[v],x=r[y],b=x.data.hostModel,w=_.data.getItemGraphicEl(_.dataIndex),S=x.data.getItemGraphicEl(x.dataIndex);w!==S?w&&p[w.id]||S&&(Ks(S),w?(Ks(w),Uv(w),u=!0,Hv(ba(w),ba(S),x.divide,b,y,o)):Wv(S,b,y)):S&&function(n,t,e){var i=cc("update",e,t);i&&n.traverse(function(r){if(r instanceof ci){var o=C_(r).oldStyle;o&&r.animateFrom({style:o},i)}})}(S,x.dataIndex,b)}new hr(i,r,h(!0,c),h(!1,c),null,"multiple").update(m).updateManyToOne(function(y,v){var _=r[y],x=_.data,b=x.hostModel,w=x.getItemGraphicEl(_.dataIndex),S=Ke(J(v,function(M){return i[M].data.getItemGraphicEl(i[M].dataIndex)}),function(M){return M&&M!==w&&!p[M.id]});w&&(Ks(w),S.length?(k(S,function(M){Ks(M),Uv(M)}),u=!0,Hv(ba(S),ba(w),_.divide,b,y,o)):Wv(w,b,_.dataIndex))}).updateOneToMany(function(y,v){var _=i[v],x=_.data.getItemGraphicEl(_.dataIndex);if(!x||!p[x.id]){var b=Ke(J(y,function(S){return r[S].data.getItemGraphicEl(r[S].dataIndex)}),function(S){return S&&S!==x}),w=r[y[0]].data.hostModel;b.length&&(k(b,function(S){return Ks(S)}),x?(Ks(x),Uv(x),u=!0,Hv(ba(x),ba(b),_.divide,w,y[0],o)):k(b,function(S){return Wv(S,w,y[0])}))}}).updateManyToMany(function(y,v){new hr(v,y,function(_){return i[_].data.getId(i[_].dataIndex)},function(_){return r[_].data.getId(r[_].dataIndex)}).update(function(_,x){m(y[_],v[x])}).execute()}).execute(),u&&k(t,function(y){var v=y.data.hostModel,_=v&&e.getViewOfSeriesModel(v),x=cc("update",v,0);_&&v.isAnimationEnabled()&&x&&x.duration>0&&_.group.traverse(function(b){b instanceof Le&&!b.animators.length&&b.animateFrom({style:{opacity:0}},x)})})}function Y2(n){return n.getModel("universalTransition").get("seriesKey")||n.id}function Z2(n){return Z(n)?n.sort().join(","):n}function po(n){if(n.hostModel)return n.hostModel.getModel("universalTransition").get("divideShape")}function j2(n,t){for(var e=0;e<n.length;e++)if(null!=t.seriesIndex&&t.seriesIndex===n[e].seriesIndex||null!=t.seriesId&&t.seriesId===n[e].id)return e}Ae([function(n){n.registerPainter("canvas",gP)}]),Ae([function(n){n.registerPainter("svg",dP)}]),Ae([function(n){n.registerChartView(SP),n.registerSeriesModel(mP),n.registerLayout(Gu("line",!0)),n.registerVisual({seriesType:"line",reset:function(t){var e=t.getData(),i=t.getModel("lineStyle").getLineStyle();i&&!i.stroke&&(i.stroke=e.getVisual("style").fill),e.setVisual("legendLineStyle",i)}}),n.registerProcessor(n.PRIORITY.PROCESSOR.STATISTIC,tS("line"))},function(n){n.registerChartView(AP),n.registerSeriesModel(TP),n.registerLayout(n.PRIORITY.VISUAL.LAYOUT,ye(Zb,"bar")),n.registerLayout(n.PRIORITY.VISUAL.PROGRESSIVE_LAYOUT,ML),n.registerProcessor(n.PRIORITY.PROCESSOR.STATISTIC,tS("bar")),n.registerAction({type:"changeAxisOrder",event:"changeAxisOrder",update:"update"},function(t,e){e.eachComponent({mainType:t.componentType||"series",query:t},function(r){t.sortInfo&&r.axis.setCategorySortInfo(t.sortInfo)})})},function(n){n.registerChartView(RP),n.registerSeriesModel(zP),Px("pie",n.registerAction),n.registerLayout(ye(PP,"pie")),n.registerProcessor(Hu("pie")),n.registerProcessor({seriesType:"pie",reset:function(e,i){var r=e.getData();r.filterSelf(function(o){var a=r.mapDimension("value"),s=r.get(a,o);return!("number"==typeof s&&!isNaN(s)&&s<0)})}})},function(n){Ae(RS),n.registerSeriesModel(BP),n.registerChartView(FP),n.registerLayout(Gu("scatter"))},function(n){Ae(cO),n.registerChartView(rO),n.registerSeriesModel(oO),n.registerLayout(nO),n.registerProcessor(Hu("radar")),n.registerPreprocessor(iO)},function(n){Ae(tM),n.registerChartView(mO),n.registerSeriesModel(yO),n.registerLayout(_O),n.registerProcessor(n.PRIORITY.PROCESSOR.STATISTIC,vO),Px("map",n.registerAction)},function(n){n.registerChartView(kO),n.registerSeriesModel(zO),n.registerLayout(BO),n.registerVisual(VO),function(t){t.registerAction({type:"treeExpandAndCollapse",event:"treeExpandAndCollapse",update:"update"},function(e,i){i.eachComponent({mainType:"series",subType:"tree",query:e},function(r){var o=e.dataIndex,a=r.getData().tree.getNodeByDataIndex(o);a.isExpand=!a.isExpand})}),t.registerAction({type:"treeRoam",event:"treeRoam",update:"none"},function(e,i){i.eachComponent({mainType:"series",subType:"tree",query:e},function(r){var o=Lm(r.coordinateSystem,e);r.setCenter&&r.setCenter(o.center),r.setZoom&&r.setZoom(o.zoom)})})}(n)},function(n){n.registerSeriesModel(FO),n.registerChartView(YO),n.registerVisual(qO),n.registerLayout(JO),function(t){for(var e=0;e<cM.length;e++)t.registerAction({type:cM[e],update:"updateView"},GO);t.registerAction({type:"treemapRootToNode",update:"updateView"},function(i,r){r.eachComponent({mainType:"series",subType:"treemap",query:i},function(o,a){var s=ju(i,["treemapZoomToNode","treemapRootToNode"],o);if(s){var l=o.getViewRoot();l&&(i.direction=zm(l,s.node)?"rollUp":"drillDown"),o.resetViewRoot(s.node)}})})}(n)},function(n){n.registerChartView(hE),n.registerSeriesModel(pE),n.registerProcessor(tE),n.registerVisual(nE),n.registerVisual(iE),n.registerLayout(rE),n.registerLayout(n.PRIORITY.VISUAL.POST_CHART_LAYOUT,aE),n.registerLayout(sE),n.registerCoordinateSystem("graphView",{dimensions:Rs.dimensions,create:lE}),n.registerAction({type:"focusNodeAdjacency",event:"focusNodeAdjacency",update:"series:focusNodeAdjacency"},function(){}),n.registerAction({type:"unfocusNodeAdjacency",event:"unfocusNodeAdjacency",update:"series:unfocusNodeAdjacency"},function(){}),n.registerAction(dE,function(t,e){e.eachComponent({mainType:"series",query:t},function(i){var r=Lm(i.coordinateSystem,t);i.setCenter&&i.setCenter(r.center),i.setZoom&&i.setZoom(r.zoom)})})},function(n){n.registerChartView(mE),n.registerSeriesModel(yE)},function(n){n.registerChartView(xE),n.registerSeriesModel(bE),n.registerLayout(wE),n.registerProcessor(Hu("funnel"))},function(n){Ae(xI),n.registerChartView(SE),n.registerSeriesModel(ME),n.registerVisual(n.PRIORITY.VISUAL.BRUSH,CE)},function(n){n.registerChartView($E),n.registerSeriesModel(QE),n.registerLayout(JE),n.registerVisual(aN),n.registerAction({type:"dragNode",event:"dragnode",update:"update"},function(t,e){e.eachComponent({mainType:"series",subType:"sankey",query:t},function(i){i.setNodePosition(t.dataIndex,[t.localX,t.localY])})})},function(n){n.registerSeriesModel(SI),n.registerChartView(sN),n.registerVisual(cN),n.registerLayout(pN),n.registerTransform(dN)},function(n){n.registerChartView(gN),n.registerSeriesModel(kI),n.registerPreprocessor(xN),n.registerVisual(IN),n.registerLayout(CN)},function(n){n.registerChartView(DN),n.registerSeriesModel(kN),n.registerLayout(Gu("effectScatter"))},function(n){n.registerChartView(EN),n.registerSeriesModel(zN),n.registerLayout(RI),n.registerVisual(BN)},function(n){n.registerChartView(GN),n.registerSeriesModel(FN)},function(n){n.registerChartView(WN),n.registerSeriesModel(YN),n.registerLayout(ye(Zb,"pictorialBar"))},function(n){n.registerChartView(ZN),n.registerSeriesModel(jN),n.registerLayout(qN),n.registerProcessor(Hu("themeRiver"))},function(n){n.registerChartView(KN),n.registerSeriesModel($N),n.registerLayout(ye(QN,"sunburst")),n.registerProcessor(ye(Hu,"sunburst")),n.registerVisual(JN),function(t){t.registerAction({type:Py,update:"updateView"},function(e,i){i.eachComponent({mainType:"series",subType:"sunburst",query:e},function(r,o){var a=ju(e,[Py],r);if(a){var s=r.getViewRoot();s&&(e.direction=zm(s,a.node)?"rollUp":"drillDown"),r.resetViewRoot(a.node)}})}),t.registerAction({type:eT,update:"none"},function(e,i,r){e=K({},e),i.eachComponent({mainType:"series",subType:"sunburst",query:e},function(o){var a=ju(e,[eT],o);a&&(e.dataIndex=a.node.dataIndex)}),r.dispatchAction(K(e,{type:"highlight"}))}),t.registerAction({type:"sunburstUnhighlight",update:"updateView"},function(e,i,r){e=K({},e),r.dispatchAction(K(e,{type:"downplay"}))})}(n)},function(n){n.registerChartView(hR),n.registerSeriesModel(nR)}]),Ae(function(n){Ae(RS),Ae(oh)}),Ae(function(n){Ae(oh),ca.registerAxisPointerClass("PolarAxisPointer",IR),n.registerCoordinateSystem("polar",OR),n.registerComponentModel(CR),n.registerComponentView(UR),Ns(n,"angle",AR,HR),Ns(n,"radius",DR,WR),n.registerComponentView(NR),n.registerComponentView(VR),n.registerLayout(ye(FR,"bar"))}),Ae(tM),Ae(function(n){Ae(oh),ca.registerAxisPointerClass("SingleAxisPointer",JR),n.registerComponentView(tz),n.registerComponentView(ZR),n.registerComponentModel(Qp),Ns(n,"single",Qp,Qp.defaultOption),n.registerCoordinateSystem("single",$R)}),Ae(xI),Ae(function(n){n.registerComponentModel(nz),n.registerComponentView(iz),n.registerCoordinateSystem("calendar",rz)}),Ae(function(n){n.registerComponentModel(az),n.registerComponentView(sz),n.registerPreprocessor(oz)}),Ae(function(n){n.registerComponentModel(gz),n.registerComponentView(mz),Xs("saveAsImage",aC),Xs("magicType",vz),Xs("dataView",xz),Xs("dataZoom",Tz),Xs("restore",wz),Ae(fz)}),Ae(function(n){Ae(oh),n.registerComponentModel(Az),n.registerComponentView(Nz),n.registerAction({type:"showTip",event:"showTip",update:"tooltip:manuallyShowTip"},function(){}),n.registerAction({type:"hideTip",event:"hideTip",update:"tooltip:manuallyHideTip"},function(){})}),Ae(oh),Ae(function(n){n.registerComponentView(Hz),n.registerComponentModel(Wz),n.registerPreprocessor(zz),n.registerVisual(n.PRIORITY.VISUAL.BRUSH,Vz),n.registerAction({type:"brush",event:"brush",update:"updateVisual"},function(t,e){e.eachComponent({mainType:"brush",query:t},function(i){i.setAreas(t.areas)})}),n.registerAction({type:"brushSelect",event:"brushSelected",update:"none"},function(){}),n.registerAction({type:"brushEnd",event:"brushEnd",update:"none"},function(){}),Xs("brush",Xz)}),Ae(function(n){n.registerComponentModel(Yz),n.registerComponentView(Zz)}),Ae(function(n){n.registerComponentModel(GC),n.registerComponentView(Kz),n.registerSubTypeDefaulter("timeline",function(){return"slider"}),function(t){t.registerAction({type:"timelineChange",event:"timelineChanged",update:"prepareAndUpdate"},function(e,i,r){var o=i.getComponent("timeline");return o&&null!=e.currentIndex&&(o.setCurrentIndex(e.currentIndex),!o.get("loop",!0)&&o.isIndexMax()&&o.getPlayState()&&(o.setPlayState(!1),r.dispatchAction({type:"timelinePlayChange",playState:!1,from:e.from}))),i.resetOption("timeline",{replaceMerge:o.get("replaceMerge",!0)}),ce({currentIndex:o.option.currentIndex},e)}),t.registerAction({type:"timelinePlayChange",event:"timelinePlayChanged",update:"update"},function(e,i){var r=i.getComponent("timeline");r&&null!=e.playState&&r.setPlayState(e.playState)})}(n),n.registerPreprocessor($z)}),Ae(function(n){n.registerComponentModel(Qz),n.registerComponentView(Jz),n.registerPreprocessor(function(t){wv(t.series,"markPoint")&&(t.markPoint=t.markPoint||{})})}),Ae(function(n){n.registerComponentModel(e5),n.registerComponentView(i5),n.registerPreprocessor(function(t){wv(t.series,"markLine")&&(t.markLine=t.markLine||{})})}),Ae(function(n){n.registerComponentModel(r5),n.registerComponentView(s5),n.registerPreprocessor(function(t){wv(t.series,"markArea")&&(t.markArea=t.markArea||{})})}),Ae(function(n){Ae(t2),Ae(c5)}),Ae(function(n){Ae(a2),Ae(u2)}),Ae(a2),Ae(u2),Ae(function(n){Ae(I2),Ae(C2)}),Ae(I2),Ae(C2),Ae(function(n){n.registerPreprocessor(F5),n.registerVisual(n.PRIORITY.VISUAL.ARIA,G5)}),Ae(function(n){n.registerTransform(q5),n.registerTransform(K5)}),Ae(function(n){n.registerComponentModel($5),n.registerComponentView(Q5)}),Ae(function(n){n.registerUpdateLifecycle("series:beforeupdate",function(t,e,i){k(Je(i.seriesTransition),function(r){k(Je(r.to),function(o){for(var a=i.updatedSeries,s=0;s<a.length;s++)(null!=o.seriesIndex&&o.seriesIndex===a[s].seriesIndex||null!=o.seriesId&&o.seriesId===a[s].id)&&(a[s].__universalTransitionEnabled=!0)})})}),n.registerUpdateLifecycle("series:transition",function(t,e,i){var p,d,f,g,m,r=lB(e);if(r.oldSeries&&i.updatedSeries&&i.optionChanged){var o=i.seriesTransition;if(o)k(Je(o),function(p){var d,f,g,m,y,v;f=r,g=i,m=e,y=[],v=[],k(Je((d=p).from),function(_){var x=j2(f.oldSeries,_);x>=0&&y.push({data:f.oldData[x],divide:po(f.oldData[x]),dim:_.dimension})}),k(Je(d.to),function(_){var x=j2(g.updatedSeries,_);if(x>=0){var b=g.updatedSeries[x].getData();v.push({data:b,divide:po(b),dim:_.dimension})}}),y.length>0&&v.length>0&&X2(y,v,m)});else{var a=(p=r,d=i,f=ue(),g=ue(),m=ue(),k(p.oldSeries,function(y,v){var _=p.oldData[v],x=Y2(y),b=Z2(x);g.set(b,_),Z(x)&&k(x,function(w){m.set(w,{data:_,key:b})})}),k(d.updatedSeries,function(y){if(y.isUniversalTransitionEnabled()&&y.isAnimationEnabled()){var v=y.getData(),_=Y2(y),x=Z2(_),b=g.get(x);if(b)f.set(x,{oldSeries:[{divide:po(b),data:b}],newSeries:[{divide:po(v),data:v}]});else if(Z(_)){var w=[];k(_,function(T){var C=g.get(T);C&&w.push({divide:po(C),data:C})}),w.length&&f.set(x,{oldSeries:w,newSeries:[{data:v,divide:po(v)}]})}else{var S=m.get(_);if(S){var M=f.get(S.key);M||(M={oldSeries:[{data:S.data,divide:po(S.data)}],newSeries:[]},f.set(S.key,M)),M.newSeries.push({data:v,divide:po(v)})}}}}),f);k(a.keys(),function(p){var d=a.get(p);X2(d.oldSeries,d.newSeries,e)})}k(i.updatedSeries,function(p){p.__universalTransitionEnabled&&(p.__universalTransitionEnabled=!1)})}for(var s=t.getSeries(),l=r.oldSeries=[],u=r.oldData=[],h=0;h<s.length;h++){var c=s[h].getData();c.count()<1e4&&(l.push(s[h]),u.push(c))}})}),Ae(function(n){n.registerUpdateLifecycle("series:beforeupdate",function(t,e,i){var r=om(e).labelManager;r||(r=om(e).labelManager=new nP),r.clearLabels()}),n.registerUpdateLifecycle("series:layoutlabels",function(t,e,i){var r=om(e).labelManager;i.updatedSeries.forEach(function(o){r.addLabelsOfSeries(e.getViewOfSeriesModel(o))}),r.updateLayoutConfig(e),r.layout(e),r.processLabelsOverall()})}),he.Axis=Qn,he.ChartView=je,he.ComponentModel=Pe,he.ComponentView=it,he.List=tn,he.Model=Fe,he.PRIORITY=hb,he.SeriesModel=et,he.color=Mo,he.connect=function(n){if(Z(n)){var t=n;n=null,k(t,function(e){null!=e.group&&(n=e.group)}),n=n||"g_"+uL++,k(t,function(e){e.group=n})}return Qc[n]=!0,n},he.dataTool={},he.dependencies={zrender:"5.2.1"},he.disConnect=Mb,he.disconnect=hL,he.dispose=function(n){"string"==typeof n?n=aa[n]:n instanceof qc||(n=Rg(n)),n instanceof qc&&!n.isDisposed()&&n.dispose()},he.env=ge,he.extendChartView=function(n){var t=je.extend(n);return je.registerClass(t),t},he.extendComponentModel=function(n){var t=Pe.extend(n);return Pe.registerClass(t),t},he.extendComponentView=function(n){var t=it.extend(n);return it.registerClass(t),t},he.extendSeriesModel=function(n){var t=et.extend(n);return et.registerClass(t),t},he.format=HL,he.getCoordinateSystemDimensions=function(n){var t=ms.get(n);if(t)return t.getDimensionsInfo?t.getDimensionsInfo():t.dimensions.slice()},he.getInstanceByDom=Rg,he.getInstanceById=function(n){return aa[n]},he.getMap=function(n){return function(n){var t=_u.get(n);return t&&"geoJSON"===t.type&&t.getMapForUser()}(n)},he.graphic=FL,he.helper=BL,he.init=function(n,t,e){var i=Rg(n);if(i)return i;var r=new qc(n,t,e);return r.id="ec_"+lL++,aa[r.id]=r,p0(n,Ng,r.id),_b(r),yi.trigger("afterinit",r),r},he.innerDrawElementOnCanvas=yg,he.matrix=iA,he.number=VL,he.parseGeoJSON=bg,he.parseGeoJson=bg,he.registerAction=vi,he.registerCoordinateSystem=Cb,he.registerLayout=Ab,he.registerLoading=Fg,he.registerLocale=Nf,he.registerMap=kb,he.registerPostInit=Ib,he.registerPostUpdate=Tb,he.registerPreprocessor=Bg,he.registerProcessor=Vg,he.registerTheme=zg,he.registerTransform=Lb,he.registerUpdateLifecycle=Jc,he.registerVisual=Qr,he.setCanvasCreator=function(n){sn("createCanvas",n)},he.throttle=cu,he.time=GL,he.use=Ae,he.util=WL,he.vector=bh,he.version="5.2.2",he.zrUtil=il,he.zrender=cA,Object.defineProperty(he,"__esModule",{value:!0})});